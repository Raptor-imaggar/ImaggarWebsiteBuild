/*! For license information please see main.c36f64e0.js.LICENSE.txt */
(()=>{var e={1694:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var s=typeof i;if("string"===s||"number"===s)e.push(i);else if(Array.isArray(i)){if(i.length){var r=o.apply(null,i);r&&e.push(r)}}else if("object"===s){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},2244:(e,t,i)=>{var n=i(7447),o=i(8051).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var i=this;this.listener=function(e){i.mql=e.currentTarget||e,i.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,(function(i,n){if(i.equals(e))return i.destroy(),!t.splice(n,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,(function(t){t[e]()}))}},e.exports=s},4e3:(e,t,i)=>{var n=i(2244),o=i(8051),s=o.each,r=o.isFunction,a=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,i){var o=this.queries,l=i&&this.browserIsIncapable;return o[e]||(o[e]=new n(e,l)),r(t)&&(t={match:t}),a(t)||(t=[t]),s(t,(function(t){r(t)&&(t={match:t}),o[e].addHandler(t)})),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},e.exports=l},7447:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},8051:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var i=0,n=e.length;i<n&&!1!==t(e[i],i);i++);}}},8153:(e,t,i)=>{var n=i(4e3);e.exports=new n},2110:(e,t,i)=>{"use strict";var n=i(8309),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?r:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=r;var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,i,n){if("string"!==typeof i){if(p){var o=g(i);o&&o!==p&&e(t,o,n)}var r=d(i);h&&(r=r.concat(h(i)));for(var a=l(t),f=l(i),m=0;m<r.length;++m){var v=r[m];if(!s[v]&&(!n||!n[v])&&(!f||!f[v])&&(!a||!a[v])){var b=u(i,v);try{c(t,v,b)}catch(_){}}}}return t}},746:(e,t)=>{"use strict";var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,u=i?Symbol.for("react.forward_ref"):60112,g=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,_=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case h:case s:case a:case r:case g:return e;default:switch(e=e&&e.$$typeof){case c:case u:case m:case f:case l:return e;default:return t}}case o:return t}}}function C(e){return y(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=u,t.Fragment=s,t.Lazy=m,t.Memo=f,t.Portal=o,t.Profiler=a,t.StrictMode=r,t.Suspense=g,t.isAsyncMode=function(e){return C(e)||y(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return y(e)===u},t.isFragment=function(e){return y(e)===s},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===f},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===a},t.isStrictMode=function(e){return y(e)===r},t.isSuspense=function(e){return y(e)===g},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===a||e===r||e===g||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===v)},t.typeOf=y},8309:(e,t,i)=>{"use strict";e.exports=i(746)},5477:(e,t,i)=>{var n=i(2806),o=function(e){var t="",i=Object.keys(e);return i.forEach((function(o,s){var r=e[o];(function(e){return/[height|width]$/.test(e)})(o=n(o))&&"number"===typeof r&&(r+="px"),t+=!0===r?o:!1===r?"not "+o:"("+o+": "+r+")",s<i.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(i,n){t+=o(i),n<e.length-1&&(t+=", ")})),t):o(e)}},5095:(e,t,i)=>{var n=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,h="object"==typeof self&&self&&self.Object===Object&&self,u=d||h||Function("return this")(),g=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return u.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&g.call(e)==o}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=a.test(e);return i||l.test(e)?c(e.slice(2),i?2:8):r.test(e)?n:+e}e.exports=function(e,t,i){var n,o,s,r,a,l,c=0,d=!1,h=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var i=n,s=o;return n=o=void 0,c=t,r=e.apply(s,i)}function _(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-c>=s}function w(){var e=m();if(_(e))return y(e);a=setTimeout(w,function(e){var i=t-(e-l);return h?f(i,s-(e-c)):i}(e))}function y(e){return a=void 0,u&&n?g(e):(n=o=void 0,r)}function C(){var e=m(),i=_(e);if(n=arguments,o=this,l=e,i){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),d?g(e):r}(l);if(h)return a=setTimeout(w,t),g(l)}return void 0===a&&(a=setTimeout(w,t)),r}return t=b(t)||0,v(i)&&(d=!!i.leading,s=(h="maxWait"in i)?p(b(i.maxWait)||0,t):s,u="trailing"in i?!!i.trailing:u),C.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=o=a=void 0},C.flush=function(){return void 0===a?r:y(m())},C}},4553:function(e,t,i){var n;e.exports=(n=i(2791),function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){e.exports=i(2)()},function(e,t){e.exports=n},function(e,t,i){"use strict";var n=i(3);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,s,r){if(r!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return i.PropTypes=i,i}},function(e,t,i){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),s=i(0),r=i.n(s),a=function(e){return 0!==e};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=f(e);if(t){var o=f(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return g(this,i)}}function g(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(r,e);var t,i,n,s=u(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),m(p(t=s.call(this,e)),"continueOpenCollapsible",(function(){var e=p(t).innerRef;t.setState({height:e.scrollHeight,transition:"height ".concat(t.props.transitionTime,"ms ").concat(t.props.easing),isClosed:!1,hasBeenOpened:!0,inTransition:a(e.scrollHeight),shouldOpenOnNextCycle:!1})})),m(p(t),"handleTriggerClick",(function(e){t.props.triggerDisabled||t.state.inTransition||(e.preventDefault(),t.props.handleTriggerClick?t.props.handleTriggerClick(t.props.accordionPosition):!0===t.state.isClosed?(t.openCollapsible(),t.props.onOpening(),t.props.onTriggerOpening()):(t.closeCollapsible(),t.props.onClosing(),t.props.onTriggerClosing()))})),m(p(t),"handleTransitionEnd",(function(e){e.target===t.innerRef&&(t.state.isClosed?(t.setState({inTransition:!1}),t.props.onClose()):(t.setState({height:"auto",overflow:t.props.overflowWhenOpen,inTransition:!1}),t.props.onOpen()))})),m(p(t),"setInnerRef",(function(e){return t.innerRef=e})),t.timeout=void 0,t.contentId=e.contentElementId||"collapsible-content-".concat(Date.now()),t.triggerId=e.triggerElementProps.id||"collapsible-trigger-".concat(Date.now()),e.open?t.state={isClosed:!1,shouldSwitchAutoOnNextCycle:!1,height:"auto",transition:"none",hasBeenOpened:!0,overflow:e.overflowWhenOpen,inTransition:!1}:t.state={isClosed:!0,shouldSwitchAutoOnNextCycle:!1,height:0,transition:"height ".concat(e.transitionTime,"ms ").concat(e.easing),hasBeenOpened:!1,overflow:"hidden",inTransition:!1},t}return t=r,(i=[{key:"componentDidUpdate",value:function(e,t){var i=this;this.state.shouldOpenOnNextCycle&&this.continueOpenCollapsible(),"auto"!==t.height&&0!==t.height||!0!==this.state.shouldSwitchAutoOnNextCycle||(window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){i.setState({height:0,overflow:"hidden",isClosed:!0,shouldSwitchAutoOnNextCycle:!1})}),50)),e.open!==this.props.open&&(!0===this.props.open?(this.openCollapsible(),this.props.onOpening()):(this.closeCollapsible(),this.props.onClosing()))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timeout)}},{key:"closeCollapsible",value:function(){var e=this.innerRef;this.setState({shouldSwitchAutoOnNextCycle:!0,height:e.scrollHeight,transition:"height ".concat(this.props.transitionCloseTime?this.props.transitionCloseTime:this.props.transitionTime,"ms ").concat(this.props.easing),inTransition:a(e.scrollHeight)})}},{key:"openCollapsible",value:function(){this.setState({inTransition:a(this.innerRef.scrollHeight),shouldOpenOnNextCycle:!0})}},{key:"renderNonClickableTriggerElement",value:function(){var e=this.props,t=e.triggerSibling,i=e.classParentString;if(!t)return null;switch(c(t)){case"string":return o.a.createElement("span",{className:"".concat(i,"__trigger-sibling")},t);case"function":return t();case"object":return t;default:return null}}},{key:"render",value:function(){var e=this,t={height:this.state.height,WebkitTransition:this.state.transition,msTransition:this.state.transition,transition:this.state.transition,overflow:this.state.overflow},i=this.state.isClosed?"is-closed":"is-open",n=this.props.triggerDisabled?"is-disabled":"",s=!1===this.state.isClosed&&void 0!==this.props.triggerWhenOpen?this.props.triggerWhenOpen:this.props.trigger,r=this.props.contentContainerTagName,a=this.props.triggerTagName,c=this.props.lazyRender&&!this.state.hasBeenOpened&&this.state.isClosed&&!this.state.inTransition?null:this.props.children,d=this.props,h=d.classParentString,u=d.contentOuterClassName,g=d.contentInnerClassName,p="".concat(h,"__trigger ").concat(i," ").concat(n," ").concat(this.state.isClosed?this.props.triggerClassName:this.props.triggerOpenedClassName),f="".concat(h," ").concat(this.state.isClosed?this.props.className:this.props.openedClassName),m="".concat(h,"__contentOuter ").concat(u),v="".concat(h,"__contentInner ").concat(g);return o.a.createElement(r,l({className:f.trim()},this.props.containerElementProps),o.a.createElement(a,l({id:this.triggerId,className:p.trim(),onClick:this.handleTriggerClick,style:this.props.triggerStyle&&this.props.triggerStyle,onKeyPress:function(t){var i=t.key;(" "===i&&"button"!==e.props.triggerTagName.toLowerCase()||"Enter"===i)&&e.handleTriggerClick(t)},tabIndex:this.props.tabIndex&&this.props.tabIndex,"aria-expanded":!this.state.isClosed,"aria-disabled":this.props.triggerDisabled,"aria-controls":this.contentId,role:"button"},this.props.triggerElementProps),s),this.renderNonClickableTriggerElement(),o.a.createElement("div",{id:this.contentId,className:m.trim(),style:t,onTransitionEnd:this.handleTransitionEnd,ref:this.setInnerRef,hidden:this.props.contentHiddenWhenClosed&&this.state.isClosed&&!this.state.inTransition,role:"region","aria-labelledby":this.triggerId},o.a.createElement("div",{className:v.trim()},c)))}}])&&d(t.prototype,i),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(n.Component);v.propTypes={transitionTime:r.a.number,transitionCloseTime:r.a.number,triggerTagName:r.a.string,easing:r.a.string,open:r.a.bool,containerElementProps:r.a.object,triggerElementProps:r.a.object,contentElementId:r.a.string,classParentString:r.a.string,className:r.a.string,openedClassName:r.a.string,triggerStyle:r.a.object,triggerClassName:r.a.string,triggerOpenedClassName:r.a.string,contentOuterClassName:r.a.string,contentInnerClassName:r.a.string,accordionPosition:r.a.oneOfType([r.a.string,r.a.number]),handleTriggerClick:r.a.func,onOpen:r.a.func,onClose:r.a.func,onOpening:r.a.func,onClosing:r.a.func,onTriggerOpening:r.a.func,onTriggerClosing:r.a.func,trigger:r.a.oneOfType([r.a.string,r.a.element]),triggerWhenOpen:r.a.oneOfType([r.a.string,r.a.element]),triggerDisabled:r.a.bool,lazyRender:r.a.bool,overflowWhenOpen:r.a.oneOf(["hidden","visible","auto","scroll","inherit","initial","unset"]),contentHiddenWhenClosed:r.a.bool,triggerSibling:r.a.oneOfType([r.a.string,r.a.element,r.a.func]),tabIndex:r.a.number,contentContainerTagName:r.a.string,children:r.a.oneOfType([r.a.string,r.a.element])},v.defaultProps={transitionTime:400,transitionCloseTime:null,triggerTagName:"span",easing:"linear",open:!1,classParentString:"Collapsible",triggerDisabled:!1,lazyRender:!1,overflowWhenOpen:"hidden",contentHiddenWhenClosed:!1,openedClassName:"",triggerStyle:null,triggerClassName:"",triggerOpenedClassName:"",contentOuterClassName:"",contentInnerClassName:"",className:"",triggerSibling:null,onOpen:function(){},onClose:function(){},onOpening:function(){},onClosing:function(){},onTriggerOpening:function(){},onTriggerClosing:function(){},tabIndex:null,contentContainerTagName:"div",triggerElementProps:{}},t.default=v}]))},4463:(e,t,i)=>{"use strict";var n=i(2791),o=i(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function f(e,t,i,n,o,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=r}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,i,n){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,o,n)&&(i=null),n||null===o?function(e){return!!h.call(p,e)||!h.call(g,e)&&(u.test(e)?p[e]=!0:(g[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):o.mustUseProperty?e[o.propertyName]=null===i?3!==o.type&&"":i:(t=o.attributeName,n=o.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(o=o.type)||4===o&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P,F=Object.assign;function B(e){if(void 0===P)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),s=n.stack.split("\n"),r=o.length-1,a=s.length-1;1<=r&&0<=a&&o[r]!==s[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==s[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==s[a]){var l="\n"+o[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case L:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return H(e(t))}catch(i){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var o=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var i=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Q(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=U(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var i=U(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&Y(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&n&&(e[i].defaultSelected=!0)}else{for(i=""+U(i),t=null,o=0;o<e.length;o++){if(e[o].value===i)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(s(92));if(te(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:U(i)}}function se(e,t){var i=U(t.value),n=U(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function ue(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function me(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),o=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,o):e[i]=o}}Object.keys(ge).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,ke=null;function Le(e){if(e=wo(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=Co(t),Ce(e.stateNode,e.type,t))}}function xe(e){Se?ke?ke.push(e):ke=[e]:Se=e}function De(){if(Se){var e=Se,t=ke;if(ke=Se=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Ee(e,t){return e(t)}function Ne(){}var Te=!1;function Ie(e,t,i){if(Te)return e(t,i);Te=!0;try{return Ee(e,t,i)}finally{Te=!1,(null!==Se||null!==ke)&&(Ne(),De())}}function Ae(e,t){var i=e.stateNode;if(null===i)return null;var n=Co(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(s(231,t,typeof i));return i}var Me=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Me=!1}function Re(e,t,i,n,o,s,r,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(d){this.onError(d)}}var Pe=!1,Fe=null,Be=!1,Ve=null,We={onError:function(e){Pe=!0,Fe=e}};function ze(e,t,i,n,o,s,r,a,l){Pe=!1,Fe=null,Re.apply(We,arguments)}function He(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,n=t;;){var o=i.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(n=o.return)){i=n;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===i)return Ue(o),e;if(r===n)return Ue(o),t;r=r.sibling}throw Error(s(188))}if(i.return!==n.return)i=o,n=r;else{for(var a=!1,l=o.child;l;){if(l===i){a=!0,i=o,n=r;break}if(l===n){a=!0,n=o,i=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===i){a=!0,i=r,n=o;break}if(l===n){a=!0,n=r,i=o;break}l=l.sibling}if(!a)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Ze=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,$e=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,it=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,st=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,r=268435455&i;if(0!==r){var a=r&~o;0!==a?n=ht(a):0!==(s&=r)&&(n=ht(s))}else 0!==(r=i&~o)?n=ht(r):0!==s&&(n=ht(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(s=t&-t)||16===o&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(i=31-rt(t)),n|=e[i],t&=~o;return n}function gt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=i}function bt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-rt(i),o=1<<n;o&t|e[n]&t&&(e[n]|=t),i&=~o}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Ct,St,kt,Lt,xt=!1,Dt=[],Et=null,Nt=null,Tt=null,It=new Map,At=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Pt(e,t,i,n,o,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&Ct(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=_o(e.target);if(null!==t){var i=He(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=je(i)))return e.blockedOn=t,void Lt(e.priority,(function(){St(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=wo(i))&&Ct(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);we=n,i.target.dispatchEvent(n),we=null,t.shift()}return!0}function Vt(e,t,i){Bt(e)&&i.delete(t)}function Wt(){xt=!1,null!==Et&&Bt(Et)&&(Et=null),null!==Nt&&Bt(Nt)&&(Nt=null),null!==Tt&&Bt(Tt)&&(Tt=null),It.forEach(Vt),At.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Wt)))}function Ht(e){function t(t){return zt(t,e)}if(0<Dt.length){zt(Dt[0],e);for(var i=1;i<Dt.length;i++){var n=Dt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==Nt&&zt(Nt,e),null!==Tt&&zt(Tt,e),It.forEach(t),At.forEach(t),i=0;i<Mt.length;i++)(n=Mt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(i=Mt[0]).blockedOn;)Ft(i),null===i.blockedOn&&Mt.shift()}var jt=w.ReactCurrentBatchConfig,Ut=!0;function Kt(e,t,i,n){var o=_t,s=jt.transition;jt.transition=null;try{_t=1,Gt(e,t,i,n)}finally{_t=o,jt.transition=s}}function qt(e,t,i,n){var o=_t,s=jt.transition;jt.transition=null;try{_t=4,Gt(e,t,i,n)}finally{_t=o,jt.transition=s}}function Gt(e,t,i,n){if(Ut){var o=Zt(e,t,i,n);if(null===o)Un(e,t,n,Yt,i),Rt(e,n);else if(function(e,t,i,n,o){switch(t){case"focusin":return Et=Pt(Et,e,t,i,n,o),!0;case"dragenter":return Nt=Pt(Nt,e,t,i,n,o),!0;case"mouseover":return Tt=Pt(Tt,e,t,i,n,o),!0;case"pointerover":var s=o.pointerId;return It.set(s,Pt(It.get(s)||null,e,t,i,n,o)),!0;case"gotpointercapture":return s=o.pointerId,At.set(s,Pt(At.get(s)||null,e,t,i,n,o)),!0}return!1}(o,e,t,i,n))n.stopPropagation();else if(Rt(e,n),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var s=wo(o);if(null!==s&&yt(s),null===(s=Zt(e,t,i,n))&&Un(e,t,n,Yt,i),s===o)break;o=s}null!==o&&n.stopPropagation()}else Un(e,t,n,null,i)}}var Yt=null;function Zt(e,t,i,n){if(Yt=null,null!==(e=_o(e=ye(n))))if(null===(t=He(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function ei(){if($t)return $t;var e,t,i=Jt,n=i.length,o="value"in Xt?Xt.value:Xt.textContent,s=o.length;for(e=0;e<n&&i[e]===o[e];e++);var r=n-e;for(t=1;t<=r&&i[n-t]===o[s-t];t++);return $t=o.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function oi(e){function t(t,i,n,o,s){for(var r in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(o):o[r]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var si,ri,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=oi(li),di=F({},li,{view:0,detail:0}),hi=oi(di),ui=F({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(si=e.screenX-ai.screenX,ri=e.screenY-ai.screenY):ri=si=0,ai=e),si)},movementY:function(e){return"movementY"in e?e.movementY:ri}}),gi=oi(ui),pi=oi(F({},ui,{dataTransfer:0})),fi=oi(F({},di,{relatedTarget:0})),mi=oi(F({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=F({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bi=oi(vi),_i=oi(F({},li,{data:0})),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ci[e])&&!!t[e]}function ki(){return Si}var Li=F({},di,{key:function(e){if(e.key){var t=wi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xi=oi(Li),Di=oi(F({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ei=oi(F({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki})),Ni=oi(F({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ti=F({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ii=oi(Ti),Ai=[9,13,27,32],Mi=d&&"CompositionEvent"in window,Oi=null;d&&"documentMode"in document&&(Oi=document.documentMode);var Ri=d&&"TextEvent"in window&&!Oi,Pi=d&&(!Mi||Oi&&8<Oi&&11>=Oi),Fi=String.fromCharCode(32),Bi=!1;function Vi(e,t){switch(e){case"keyup":return-1!==Ai.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zi=!1;var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hi[e.type]:"textarea"===t}function Ui(e,t,i,n){xe(n),0<(t=qn(t,"onChange")).length&&(i=new ci("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Ki=null,qi=null;function Gi(e){Bn(e,0)}function Yi(e){if(G(yo(e)))return e}function Zi(e,t){if("change"===e)return t}var Qi=!1;if(d){var Xi;if(d){var Ji="oninput"in document;if(!Ji){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Ji="function"===typeof $i.oninput}Xi=Ji}else Xi=!1;Qi=Xi&&(!document.documentMode||9<document.documentMode)}function en(){Ki&&(Ki.detachEvent("onpropertychange",tn),qi=Ki=null)}function tn(e){if("value"===e.propertyName&&Yi(qi)){var t=[];Ui(t,qi,e,ye(e)),Ie(Gi,t)}}function nn(e,t,i){"focusin"===e?(en(),qi=i,(Ki=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yi(qi)}function sn(e,t){if("click"===e)return Yi(t)}function rn(e,t){if("input"===e||"change"===e)return Yi(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var o=i[n];if(!h.call(t,o)||!an(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var i,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function un(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=Y((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=un(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&hn(i.ownerDocument.documentElement,i)){if(null!==n&&gn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=i.textContent.length,s=Math.min(n.start,o);n=void 0===n.end?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=dn(i,s);var r=dn(i,n);o&&r&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,bn=null,_n=!1;function wn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;_n||null==mn||mn!==Y(n)||("selectionStart"in(n=mn)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=qn(vn,"onSelect")).length&&(t=new ci("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=mn)))}function yn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Cn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionend:yn("Transition","TransitionEnd")},Sn={},kn={};function Ln(e){if(Sn[e])return Sn[e];if(!Cn[e])return e;var t,i=Cn[e];for(t in i)if(i.hasOwnProperty(t)&&t in kn)return Sn[e]=i[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);var xn=Ln("animationend"),Dn=Ln("animationiteration"),En=Ln("animationstart"),Nn=Ln("transitionend"),Tn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Tn.set(e,t),l(t,[e])}for(var Mn=0;Mn<In.length;Mn++){var On=In[Mn];An(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}An(xn,"onAnimationEnd"),An(Dn,"onAnimationIteration"),An(En,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Nn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Fn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,o,r,a,l,c){if(ze.apply(this,arguments),Pe){if(!Pe)throw Error(s(198));var d=Fe;Pe=!1,Fe=null,Be||(Be=!0,Ve=d)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var r=n.length-1;0<=r;r--){var a=n[r],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Fn(o,a,c),s=l}else for(r=0;r<n.length;r++){if(l=(a=n[r]).instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Fn(o,a,c),s=l}}}if(Be)throw e=Ve,Be=!1,Ve=null,e}function Vn(e,t){var i=t[mo];void 0===i&&(i=t[mo]=new Set);var n=e+"__bubble";i.has(n)||(jn(t,e,2,!1),i.add(n))}function Wn(e,t,i){var n=0;t&&(n|=4),jn(i,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[zn]){e[zn]=!0,r.forEach((function(t){"selectionchange"!==t&&(Pn.has(t)||Wn(t,!1,e),Wn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Wn("selectionchange",!1,t))}}function jn(e,t,i,n){switch(Qt(t)){case 1:var o=Kt;break;case 4:o=qt;break;default:o=Gt}i=o.bind(null,t,i,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):void 0!==o?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Un(e,t,i,n,o){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var a=n.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;r=r.return}for(;null!==a;){if(null===(r=_o(a)))return;if(5===(l=r.tag)||6===l){n=s=r;continue e}a=a.parentNode}}n=n.return}Ie((function(){var n=s,o=ye(i),r=[];e:{var a=Tn.get(e);if(void 0!==a){var l=ci,c=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=xi;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ei;break;case xn:case Dn:case En:l=mi;break;case Nn:l=Ni;break;case"scroll":l=hi;break;case"wheel":l=Ii;break;case"copy":case"cut":case"paste":l=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Di}var d=0!==(4&t),h=!d&&"scroll"===e,u=d?null!==a?a+"Capture":null:a;d=[];for(var g,p=n;null!==p;){var f=(g=p).stateNode;if(5===g.tag&&null!==f&&(g=f,null!==u&&(null!=(f=Ae(p,u))&&d.push(Kn(p,f,g)))),h)break;p=p.return}0<d.length&&(a=new l(a,c,null,i,o),r.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===we||!(c=i.relatedTarget||i.fromElement)||!_o(c)&&!c[fo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?_o(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=gi,f="onMouseLeave",u="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Di,f="onPointerLeave",u="onPointerEnter",p="pointer"),h=null==l?a:yo(l),g=null==c?a:yo(c),(a=new d(f,p+"leave",l,i,o)).target=h,a.relatedTarget=g,f=null,_o(o)===n&&((d=new d(u,p+"enter",c,i,o)).target=g,d.relatedTarget=h,f=d),h=f,l&&c)e:{for(u=c,p=0,g=d=l;g;g=Gn(g))p++;for(g=0,f=u;f;f=Gn(f))g++;for(;0<p-g;)d=Gn(d),p--;for(;0<g-p;)u=Gn(u),g--;for(;p--;){if(d===u||null!==u&&d===u.alternate)break e;d=Gn(d),u=Gn(u)}d=null}else d=null;null!==l&&Yn(r,a,l,d,!1),null!==c&&null!==h&&Yn(r,h,c,d,!0)}if("select"===(l=(a=n?yo(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Zi;else if(ji(a))if(Qi)m=rn;else{m=on;var v=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sn);switch(m&&(m=m(e,n))?Ui(r,m,i,o):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=n?yo(n):window,e){case"focusin":(ji(v)||"true"===v.contentEditable)&&(mn=v,vn=n,bn=null);break;case"focusout":bn=vn=mn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,wn(r,i,o);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":wn(r,i,o)}var b;if(Mi)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zi?Vi(e,i)&&(_="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(_="onCompositionStart");_&&(Pi&&"ko"!==i.locale&&(zi||"onCompositionStart"!==_?"onCompositionEnd"===_&&zi&&(b=ei()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,zi=!0)),0<(v=qn(n,_)).length&&(_=new _i(_,e,null,i,o),r.push({event:_,listeners:v}),b?_.data=b:null!==(b=Wi(i))&&(_.data=b))),(b=Ri?function(e,t){switch(e){case"compositionend":return Wi(t);case"keypress":return 32!==t.which?null:(Bi=!0,Fi);case"textInput":return(e=t.data)===Fi&&Bi?null:e;default:return null}}(e,i):function(e,t){if(zi)return"compositionend"===e||!Mi&&Vi(e,t)?(e=ei(),$t=Jt=Xt=null,zi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=qn(n,"onBeforeInput")).length&&(o=new _i("onBeforeInput","beforeinput",null,i,o),r.push({event:o,listeners:n}),o.data=b))}Bn(r,t)}))}function Kn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function qn(e,t){for(var i=t+"Capture",n=[];null!==e;){var o=e,s=o.stateNode;5===o.tag&&null!==s&&(o=s,null!=(s=Ae(e,i))&&n.unshift(Kn(e,s,o)),null!=(s=Ae(e,t))&&n.push(Kn(e,s,o))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,i,n,o){for(var s=t._reactName,r=[];null!==i&&i!==n;){var a=i,l=a.alternate,c=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Ae(i,s))&&r.unshift(Kn(i,l,a)):o||null!=(l=Ae(i,s))&&r.push(Kn(i,l,a))),i=i.return}0!==r.length&&e.push({event:t,listeners:r})}var Zn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Zn,"\n").replace(Qn,"")}function Jn(e,t,i){if(t=Xn(t),Xn(e)!==t&&i)throw Error(s(425))}function $n(){}var eo=null,to=null;function io(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,so="function"===typeof Promise?Promise:void 0,ro="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof so?function(e){return so.resolve(null).then(e).catch(ao)}:no;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var i=t,n=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&8===o.nodeType)if("/$"===(i=o.data)){if(0===n)return e.removeChild(o),void Ht(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=o}while(i);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),go="__reactFiber$"+uo,po="__reactProps$"+uo,fo="__reactContainer$"+uo,mo="__reactEvents$"+uo,vo="__reactListeners$"+uo,bo="__reactHandles$"+uo;function _o(e){var t=e[go];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fo]||i[go]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=ho(e);null!==e;){if(i=e[go])return i;e=ho(e)}return t}i=(e=i).parentNode}return null}function wo(e){return!(e=e[go]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Co(e){return e[po]||null}var So=[],ko=-1;function Lo(e){return{current:e}}function xo(e){0>ko||(e.current=So[ko],So[ko]=null,ko--)}function Do(e,t){ko++,So[ko]=e.current,e.current=t}var Eo={},No=Lo(Eo),To=Lo(!1),Io=Eo;function Ao(e,t){var i=e.type.contextTypes;if(!i)return Eo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in i)s[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oo(){xo(To),xo(No)}function Ro(e,t,i){if(No.current!==Eo)throw Error(s(168));Do(No,t),Do(To,i)}function Po(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())if(!(o in t))throw Error(s(108,j(e)||"Unknown",o));return F({},i,n)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Io=No.current,Do(No,e),Do(To,To.current),!0}function Bo(e,t,i){var n=e.stateNode;if(!n)throw Error(s(169));i?(e=Po(e,t,Io),n.__reactInternalMemoizedMergedChildContext=e,xo(To),xo(No),Do(No,e)):xo(To),Do(To,i)}var Vo=null,Wo=!1,zo=!1;function Ho(e){null===Vo?Vo=[e]:Vo.push(e)}function jo(){if(!zo&&null!==Vo){zo=!0;var e=0,t=_t;try{var i=Vo;for(_t=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Vo=null,Wo=!1}catch(o){throw null!==Vo&&(Vo=Vo.slice(e+1)),Ge($e,jo),o}finally{_t=t,zo=!1}}return null}var Uo=[],Ko=0,qo=null,Go=0,Yo=[],Zo=0,Qo=null,Xo=1,Jo="";function $o(e,t){Uo[Ko++]=Go,Uo[Ko++]=qo,qo=e,Go=t}function es(e,t,i){Yo[Zo++]=Xo,Yo[Zo++]=Jo,Yo[Zo++]=Qo,Qo=e;var n=Xo;e=Jo;var o=32-rt(n)-1;n&=~(1<<o),i+=1;var s=32-rt(t)+o;if(30<s){var r=o-o%5;s=(n&(1<<r)-1).toString(32),n>>=r,o-=r,Xo=1<<32-rt(t)+o|i<<o|n,Jo=s+e}else Xo=1<<s|i<<o|n,Jo=e}function ts(e){null!==e.return&&($o(e,1),es(e,1,0))}function is(e){for(;e===qo;)qo=Uo[--Ko],Uo[Ko]=null,Go=Uo[--Ko],Uo[Ko]=null;for(;e===Qo;)Qo=Yo[--Zo],Yo[Zo]=null,Jo=Yo[--Zo],Yo[Zo]=null,Xo=Yo[--Zo],Yo[Zo]=null}var ns=null,os=null,ss=!1,rs=null;function as(e,t){var i=Ac(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function ls(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,os=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,os=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Qo?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Ac(18,null,null,0)).stateNode=t,i.return=e,e.child=i,ns=e,os=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=os;if(t){var i=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=co(i.nextSibling);var n=ns;t&&ls(e,t)?as(n,i):(e.flags=-4097&e.flags|2,ss=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,ns=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!ss)return hs(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!io(e.type,e.memoizedProps)),t&&(t=os)){if(cs(e))throw gs(),Error(s(418));for(;t;)as(e,t),t=co(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){os=co(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}os=null}}else os=ns?co(e.stateNode.nextSibling):null;return!0}function gs(){for(var e=os;e;)e=co(e.nextSibling)}function ps(){os=ns=null,ss=!1}function fs(e){null===rs?rs=[e]:rs.push(e)}var ms=w.ReactCurrentBatchConfig;function vs(e,t){if(e&&e.defaultProps){for(var i in t=F({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var bs=Lo(null),_s=null,ws=null,ys=null;function Cs(){ys=ws=_s=null}function Ss(e){var t=bs.current;xo(bs),e._currentValue=t}function ks(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Ls(e,t){_s=e,ys=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(ys!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===_s)throw Error(s(308));ws=e,_s.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ds=null;function Es(e){null===Ds?Ds=[e]:Ds.push(e)}function Ns(e,t,i,n){var o=t.interleaved;return null===o?(i.next=i,Es(t)):(i.next=o.next,o.next=i),t.interleaved=i,Ts(e,n)}function Ts(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Is=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Nl)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Ts(e,i)}return null===(o=n.interleaved)?(t.next=t,Es(n)):(t.next=o.next,o.next=t),n.interleaved=t,Ts(e,i)}function Ps(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,bt(e,i)}}function Fs(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var o=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?o=s=r:s=s.next=r,i=i.next}while(null!==i);null===s?o=s=t:s=s.next=t}else o=s=t;return i={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Bs(e,t,i,n){var o=e.updateQueue;Is=!1;var s=o.firstBaseUpdate,r=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==s){var h=o.baseState;for(r=0,d=c=l=null,a=s;;){var u=a.lane,g=a.eventTime;if((n&u)===u){null!==d&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,f=a;switch(u=t,g=i,f.tag){case 1:if("function"===typeof(p=f.payload)){h=p.call(g,h,u);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(u="function"===typeof(p=f.payload)?p.call(g,h,u):p)||void 0===u)break e;h=F({},h,u);break e;case 2:Is=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(u=o.effects)?o.effects=[a]:u.push(a))}else g={eventTime:g,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=g,l=h):d=d.next=g,r|=u;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(u=a).next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}if(null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{r|=o.lane,o=o.next}while(o!==t)}else null===s&&(o.shared.lanes=0);Fl|=r,e.lanes=r,e.memoizedState=h}}function Vs(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=i,"function"!==typeof o)throw Error(s(191,o));o.call(n)}}}var Ws=(new n.Component).refs;function zs(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:F({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var Hs={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=tc(),o=ic(e),s=Os(n,o);s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Rs(e,s,o))&&(nc(t,e,o,n),Ps(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=tc(),o=ic(e),s=Os(n,o);s.tag=1,s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Rs(e,s,o))&&(nc(t,e,o,n),Ps(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=tc(),n=ic(e),o=Os(i,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Rs(e,o,n))&&(nc(t,e,n,i),Ps(t,e,n))}};function js(e,t,i,n,o,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(o,s))}function Us(e,t,i){var n=!1,o=Eo,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(o=Mo(t)?Io:No.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ao(e,o):Eo),t=new t(i,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function qs(e,t,i,n){var o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs=Ws,As(e);var s=t.contextType;"object"===typeof s&&null!==s?o.context=xs(s):(s=Mo(t)?Io:No.current,o.context=Ao(e,s)),o.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,i),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Hs.enqueueReplaceState(o,o.state,null),Bs(e,i,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,e));var o=n,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=o.refs;t===Ws&&(t=o.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function Qs(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function r(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Bc(i,e.mode,n)).return=e,t):((t=o(t,i)).return=e,t)}function c(e,t,i,n){var s=i.type;return s===S?h(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&Zs(s)===t.type)?((n=o(t,i.props)).ref=Gs(e,t,i),n.return=e,n):((n=Rc(i.type,i.key,i.props,null,e.mode,n)).ref=Gs(e,t,i),n.return=e,n)}function d(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Vc(i,e.mode,n)).return=e,t):((t=o(t,i.children||[])).return=e,t)}function h(e,t,i,n,s){return null===t||7!==t.tag?((t=Pc(i,e.mode,n,s)).return=e,t):((t=o(t,i)).return=e,t)}function u(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(i=Rc(t.type,t.key,t.props,null,e.mode,i)).ref=Gs(e,null,t),i.return=e,i;case C:return(t=Vc(t,e.mode,i)).return=e,t;case A:return u(e,(0,t._init)(t._payload),i)}if(te(t)||R(t))return(t=Pc(t,e.mode,i,null)).return=e,t;Ys(e,t)}return null}function g(e,t,i,n){var o=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==o?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case y:return i.key===o?c(e,t,i,n):null;case C:return i.key===o?d(e,t,i,n):null;case A:return g(e,t,(o=i._init)(i._payload),n)}if(te(i)||R(i))return null!==o?null:h(e,t,i,n,null);Ys(e,i)}return null}function p(e,t,i,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return c(t,e=e.get(null===n.key?i:n.key)||null,n,o);case C:return d(t,e=e.get(null===n.key?i:n.key)||null,n,o);case A:return p(e,t,i,(0,n._init)(n._payload),o)}if(te(n)||R(n))return h(t,e=e.get(i)||null,n,o,null);Ys(t,n)}return null}function f(o,s,a,l){for(var c=null,d=null,h=s,f=s=0,m=null;null!==h&&f<a.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var v=g(o,h,a[f],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(o,h),s=r(v,s,f),null===d?c=v:d.sibling=v,d=v,h=m}if(f===a.length)return i(o,h),ss&&$o(o,f),c;if(null===h){for(;f<a.length;f++)null!==(h=u(o,a[f],l))&&(s=r(h,s,f),null===d?c=h:d.sibling=h,d=h);return ss&&$o(o,f),c}for(h=n(o,h);f<a.length;f++)null!==(m=p(h,o,f,a[f],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=r(m,s,f),null===d?c=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(o,e)})),ss&&$o(o,f),c}function m(o,a,l,c){var d=R(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var h=d=null,f=a,m=a=0,v=null,b=l.next();null!==f&&!b.done;m++,b=l.next()){f.index>m?(v=f,f=null):v=f.sibling;var _=g(o,f,b.value,c);if(null===_){null===f&&(f=v);break}e&&f&&null===_.alternate&&t(o,f),a=r(_,a,m),null===h?d=_:h.sibling=_,h=_,f=v}if(b.done)return i(o,f),ss&&$o(o,m),d;if(null===f){for(;!b.done;m++,b=l.next())null!==(b=u(o,b.value,c))&&(a=r(b,a,m),null===h?d=b:h.sibling=b,h=b);return ss&&$o(o,m),d}for(f=n(o,f);!b.done;m++,b=l.next())null!==(b=p(f,o,m,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),a=r(b,a,m),null===h?d=b:h.sibling=b,h=b);return e&&f.forEach((function(e){return t(o,e)})),ss&&$o(o,m),d}return function e(n,s,r,l){if("object"===typeof r&&null!==r&&r.type===S&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case y:e:{for(var c=r.key,d=s;null!==d;){if(d.key===c){if((c=r.type)===S){if(7===d.tag){i(n,d.sibling),(s=o(d,r.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Zs(c)===d.type){i(n,d.sibling),(s=o(d,r.props)).ref=Gs(n,d,r),s.return=n,n=s;break e}i(n,d);break}t(n,d),d=d.sibling}r.type===S?((s=Pc(r.props.children,n.mode,l,r.key)).return=n,n=s):((l=Rc(r.type,r.key,r.props,null,n.mode,l)).ref=Gs(n,s,r),l.return=n,n=l)}return a(n);case C:e:{for(d=r.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){i(n,s.sibling),(s=o(s,r.children||[])).return=n,n=s;break e}i(n,s);break}t(n,s),s=s.sibling}(s=Vc(r,n.mode,l)).return=n,n=s}return a(n);case A:return e(n,s,(d=r._init)(r._payload),l)}if(te(r))return f(n,s,r,l);if(R(r))return m(n,s,r,l);Ys(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(i(n,s.sibling),(s=o(s,r)).return=n,n=s):(i(n,s),(s=Bc(r,n.mode,l)).return=n,n=s),a(n)):i(n,s)}}var Xs=Qs(!0),Js=Qs(!1),$s={},er=Lo($s),tr=Lo($s),ir=Lo($s);function nr(e){if(e===$s)throw Error(s(174));return e}function or(e,t){switch(Do(ir,t),Do(tr,e),Do(er,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xo(er),Do(er,t)}function sr(){xo(er),xo(tr),xo(ir)}function rr(e){nr(ir.current);var t=nr(er.current),i=le(t,e.type);t!==i&&(Do(tr,e),Do(er,i))}function ar(e){tr.current===e&&(xo(er),xo(tr))}var lr=Lo(0);function cr(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dr=[];function hr(){for(var e=0;e<dr.length;e++)dr[e]._workInProgressVersionPrimary=null;dr.length=0}var ur=w.ReactCurrentDispatcher,gr=w.ReactCurrentBatchConfig,pr=0,fr=null,mr=null,vr=null,br=!1,_r=!1,wr=0,yr=0;function Cr(){throw Error(s(321))}function Sr(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function kr(e,t,i,n,o,r){if(pr=r,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ur.current=null===e||null===e.memoizedState?aa:la,e=i(n,o),_r){r=0;do{if(_r=!1,wr=0,25<=r)throw Error(s(301));r+=1,vr=mr=null,t.updateQueue=null,ur.current=ca,e=i(n,o)}while(_r)}if(ur.current=ra,t=null!==mr&&null!==mr.next,pr=0,vr=mr=fr=null,br=!1,t)throw Error(s(300));return e}function Lr(){var e=0!==wr;return wr=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vr?fr.memoizedState=vr=e:vr=vr.next=e,vr}function Dr(){if(null===mr){var e=fr.alternate;e=null!==e?e.memoizedState:null}else e=mr.next;var t=null===vr?fr.memoizedState:vr.next;if(null!==t)vr=t,mr=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mr=e).memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},null===vr?fr.memoizedState=vr=e:vr=vr.next=e}return vr}function Er(e,t){return"function"===typeof t?t(e):t}function Nr(e){var t=Dr(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=mr,o=n.baseQueue,r=i.pending;if(null!==r){if(null!==o){var a=o.next;o.next=r.next,r.next=a}n.baseQueue=o=r,i.pending=null}if(null!==o){r=o.next,n=n.baseState;var l=a=null,c=null,d=r;do{var h=d.lane;if((pr&h)===h)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=u,a=n):c=c.next=u,fr.lanes|=h,Fl|=h}d=d.next}while(null!==d&&d!==r);null===c?a=n:c.next=l,an(n,t.memoizedState)||(wa=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){o=e;do{r=o.lane,fr.lanes|=r,Fl|=r,o=o.next}while(o!==e)}else null===o&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Tr(e){var t=Dr(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=i.dispatch,o=i.pending,r=t.memoizedState;if(null!==o){i.pending=null;var a=o=o.next;do{r=e(r,a.action),a=a.next}while(a!==o);an(r,t.memoizedState)||(wa=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),i.lastRenderedState=r}return[r,n]}function Ir(){}function Ar(e,t){var i=fr,n=Dr(),o=t(),r=!an(n.memoizedState,o);if(r&&(n.memoizedState=o,wa=!0),n=n.queue,Ur(Rr.bind(null,i,n,e),[e]),n.getSnapshot!==t||r||null!==vr&&1&vr.memoizedState.tag){if(i.flags|=2048,Vr(9,Or.bind(null,i,n,o,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&pr)||Mr(i,t,o)}return o}function Mr(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=fr.updateQueue)?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Or(e,t,i,n){t.value=i,t.getSnapshot=n,Pr(t)&&Fr(e)}function Rr(e,t,i){return i((function(){Pr(t)&&Fr(e)}))}function Pr(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch(n){return!0}}function Fr(e){var t=Ts(e,1);null!==t&&nc(t,e,1,-1)}function Br(e){var t=xr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,fr,e),[t.memoizedState,e]}function Vr(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=fr.updateQueue)?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Wr(){return Dr().memoizedState}function zr(e,t,i,n){var o=xr();fr.flags|=e,o.memoizedState=Vr(1|t,i,void 0,void 0===n?null:n)}function Hr(e,t,i,n){var o=Dr();n=void 0===n?null:n;var s=void 0;if(null!==mr){var r=mr.memoizedState;if(s=r.destroy,null!==n&&Sr(n,r.deps))return void(o.memoizedState=Vr(t,i,s,n))}fr.flags|=e,o.memoizedState=Vr(1|t,i,s,n)}function jr(e,t){return zr(8390656,8,e,t)}function Ur(e,t){return Hr(2048,8,e,t)}function Kr(e,t){return Hr(4,2,e,t)}function qr(e,t){return Hr(4,4,e,t)}function Gr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yr(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Hr(4,4,Gr.bind(null,t,e),i)}function Zr(){}function Qr(e,t){var i=Dr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Sr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Xr(e,t){var i=Dr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Sr(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Jr(e,t,i){return 0===(21&pr)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=i):(an(i,t)||(i=ft(),fr.lanes|=i,Fl|=i,e.baseState=!0),t)}function $r(e,t){var i=_t;_t=0!==i&&4>i?i:4,e(!0);var n=gr.transition;gr.transition={};try{e(!1),t()}finally{_t=i,gr.transition=n}}function ea(){return Dr().memoizedState}function ta(e,t,i){var n=ic(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},na(e))oa(t,i);else if(null!==(i=Ns(e,t,i,n))){nc(i,e,n,tc()),sa(i,t,n)}}function ia(e,t,i){var n=ic(e),o={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(na(e))oa(t,o);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,a=s(r,i);if(o.hasEagerState=!0,o.eagerState=a,an(a,r)){var l=t.interleaved;return null===l?(o.next=o,Es(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(i=Ns(e,t,o,n))&&(nc(i,e,n,o=tc()),sa(i,t,n))}}function na(e){var t=e.alternate;return e===fr||null!==t&&t===fr}function oa(e,t){_r=br=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function sa(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,bt(e,i)}}var ra={readContext:xs,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},aa={readContext:xs,useCallback:function(e,t){return xr().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:jr,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,zr(4194308,4,Gr.bind(null,t,e),i)},useLayoutEffect:function(e,t){return zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return zr(4,2,e,t)},useMemo:function(e,t){var i=xr();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=xr();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ta.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xr().memoizedState=e},useState:Br,useDebugValue:Zr,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=Br(!1),t=e[0];return e=$r.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=fr,o=xr();if(ss){if(void 0===i)throw Error(s(407));i=i()}else{if(i=t(),null===Tl)throw Error(s(349));0!==(30&pr)||Mr(n,t,i)}o.memoizedState=i;var r={value:i,getSnapshot:t};return o.queue=r,jr(Rr.bind(null,n,r,e),[e]),n.flags|=2048,Vr(9,Or.bind(null,n,r,i,t),void 0,null),i},useId:function(){var e=xr(),t=Tl.identifierPrefix;if(ss){var i=Jo;t=":"+t+"R"+(i=(Xo&~(1<<32-rt(Xo)-1)).toString(32)+i),0<(i=wr++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=yr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:xs,useCallback:Qr,useContext:xs,useEffect:Ur,useImperativeHandle:Yr,useInsertionEffect:Kr,useLayoutEffect:qr,useMemo:Xr,useReducer:Nr,useRef:Wr,useState:function(){return Nr(Er)},useDebugValue:Zr,useDeferredValue:function(e){return Jr(Dr(),mr.memoizedState,e)},useTransition:function(){return[Nr(Er)[0],Dr().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Ar,useId:ea,unstable_isNewReconciler:!1},ca={readContext:xs,useCallback:Qr,useContext:xs,useEffect:Ur,useImperativeHandle:Yr,useInsertionEffect:Kr,useLayoutEffect:qr,useMemo:Xr,useReducer:Tr,useRef:Wr,useState:function(){return Tr(Er)},useDebugValue:Zr,useDeferredValue:function(e){var t=Dr();return null===mr?t.memoizedState=e:Jr(t,mr.memoizedState,e)},useTransition:function(){return[Tr(Er)[0],Dr().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Ar,useId:ea,unstable_isNewReconciler:!1};function da(e,t){try{var i="",n=t;do{i+=z(n),n=n.return}while(n);var o=i}catch(s){o="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:o,digest:null}}function ha(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var ga="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,i){(i=Os(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Kl||(Kl=!0,ql=n),ua(0,t)},i}function fa(e,t,i){(i=Os(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;i.payload=function(){return n(o)},i.callback=function(){ua(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){ua(0,t),"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ma(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new ga;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(i)||(o.add(i),e=xc.bind(null,e,t,i),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,i,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Os(-1,1)).tag=2,Rs(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var _a=w.ReactCurrentOwner,wa=!1;function ya(e,t,i,n){t.child=null===e?Js(t,null,i,n):Xs(t,e.child,i,n)}function Ca(e,t,i,n,o){i=i.render;var s=t.ref;return Ls(t,o),n=kr(e,t,i,n,s,o),i=Lr(),null===e||wa?(ss&&i&&ts(t),t.flags|=1,ya(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ka(e,t,o))}function Sa(e,t,i,n,o){if(null===e){var s=i.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Rc(i.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,n,o))}if(s=e.child,0===(e.lanes&o)){var r=s.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&e.ref===t.ref)return Ka(e,t,o)}return t.flags|=1,(e=Oc(s,n)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,i,n,o){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(wa=!1,t.pendingProps=n=s,0===(e.lanes&o))return t.lanes=e.lanes,Ka(e,t,o);0!==(131072&e.flags)&&(wa=!0)}}return Da(e,t,i,n,o)}function La(e,t,i){var n=t.pendingProps,o=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Do(Ol,Ml),Ml|=i;else{if(0===(1073741824&i))return e=null!==s?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Do(Ol,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,Do(Ol,Ml),Ml|=n}else null!==s?(n=s.baseLanes|i,t.memoizedState=null):n=i,Do(Ol,Ml),Ml|=n;return ya(e,t,o,i),t.child}function xa(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,i,n,o){var s=Mo(i)?Io:No.current;return s=Ao(t,s),Ls(t,o),i=kr(e,t,i,n,s,o),n=Lr(),null===e||wa?(ss&&n&&ts(t),t.flags|=1,ya(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ka(e,t,o))}function Ea(e,t,i,n,o){if(Mo(i)){var s=!0;Fo(t)}else s=!1;if(Ls(t,o),null===t.stateNode)Ua(e,t),Us(t,i,n),qs(t,i,n,o),n=!0;else if(null===e){var r=t.stateNode,a=t.memoizedProps;r.props=a;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=xs(c):c=Ao(t,c=Mo(i)?Io:No.current);var d=i.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;h||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==n||l!==c)&&Ks(t,r,n,c),Is=!1;var u=t.memoizedState;r.state=u,Bs(t,n,r,o),l=t.memoizedState,a!==n||u!==l||To.current||Is?("function"===typeof d&&(zs(t,i,d,n),l=t.memoizedState),(a=Is||js(t,i,a,n,u,l,c))?(h||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),r.props=n,r.state=l,r.context=c,n=a):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vs(t.type,a),r.props=c,h=t.pendingProps,u=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=xs(l):l=Ao(t,l=Mo(i)?Io:No.current);var g=i.getDerivedStateFromProps;(d="function"===typeof g||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==h||u!==l)&&Ks(t,r,n,l),Is=!1,u=t.memoizedState,r.state=u,Bs(t,n,r,o);var p=t.memoizedState;a!==h||u!==p||To.current||Is?("function"===typeof g&&(zs(t,i,g,n),p=t.memoizedState),(c=Is||js(t,i,c,n,u,p,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),r.props=n,r.state=p,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return Na(e,t,i,n,s,o)}function Na(e,t,i,n,o,s){xa(e,t);var r=0!==(128&t.flags);if(!n&&!r)return o&&Bo(t,i,!1),Ka(e,t,s);n=t.stateNode,_a.current=t;var a=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&r?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):ya(e,t,a,s),t.memoizedState=n.state,o&&Bo(t,i,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),or(e,t.containerInfo)}function Ia(e,t,i,n,o){return ps(),fs(o),t.flags|=256,ya(e,t,i,n),t.child}var Aa,Ma,Oa,Ra,Pa={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,i){var n,o=t.pendingProps,r=lr.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&r)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Do(lr,1&r),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,o,0,null),e=Pc(e,o,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(i),t.memoizedState=Pa,e):Va(t,l));if(null!==(r=e.memoizedState)&&null!==(n=r.dehydrated))return function(e,t,i,n,o,r,a){if(i)return 256&t.flags?(t.flags&=-257,Wa(e,t,a,n=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=n.fallback,o=t.mode,n=Fc({mode:"visible",children:n.children},o,0,null),(r=Pc(r,o,a,null)).flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Pa,r);if(0===(1&t.mode))return Wa(e,t,a,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Wa(e,t,a,n=ha(r=Error(s(419)),n,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(n=Tl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|a))?0:o)&&o!==r.retryLane&&(r.retryLane=o,Ts(e,o),nc(n,e,o,-1))}return mc(),Wa(e,t,a,n=ha(Error(s(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),o._reactRetry=t,null):(e=r.treeContext,os=co(o.nextSibling),ns=t,ss=!0,rs=null,null!==e&&(Yo[Zo++]=Xo,Yo[Zo++]=Jo,Yo[Zo++]=Qo,Xo=e.id,Jo=e.overflow,Qo=t),t=Va(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,r,i);if(a){a=o.fallback,l=t.mode,n=(r=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==r?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Oc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?a=Oc(n,a):(a=Pc(a,l,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Pa,o}return e=(a=e.child).sibling,o=Oc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=i),o.return=t,o.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Va(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wa(e,t,i,n){return null!==n&&fs(n),Xs(t,e.child,null,i),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ks(e.return,t,i)}function Ha(e,t,i,n,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=o)}function ja(e,t,i){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(ya(e,t,n.children,i),0!==(2&(n=lr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,i,t);else if(19===e.tag)za(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Do(lr,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(i=t.child,o=null;null!==i;)null!==(e=i.alternate)&&null===cr(e)&&(o=i),i=i.sibling;null===(i=o)?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Ha(t,!1,o,i,s);break;case"backwards":for(i=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===cr(e)){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Ha(t,!0,i,null,s);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=Oc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Oc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function qa(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)i|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Ya(e,t,i){var n=t.pendingProps;switch(is(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Mo(t.type)&&Oo(),Ga(t),null;case 3:return n=t.stateNode,sr(),xo(To),xo(No),hr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rs&&(ac(rs),rs=null))),Ma(e,t),Ga(t),null;case 5:ar(t);var o=nr(ir.current);if(i=t.type,null!==e&&null!=t.stateNode)Oa(e,t,i,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=nr(er.current),us(t)){n=t.stateNode,i=t.type;var r=t.memoizedProps;switch(n[go]=t,n[po]=r,e=0!==(1&t.mode),i){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(o=0;o<Rn.length;o++)Vn(Rn[o],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":Q(n,r),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Vn("invalid",n);break;case"textarea":oe(n,r),Vn("invalid",n)}for(var l in be(i,r),o=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vn("scroll",n)}switch(i){case"input":q(n),$(n,r,!0);break;case"textarea":q(n),re(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=$n)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[go]=t,e[po]=n,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(i,n),i){case"dialog":Vn("cancel",e),Vn("close",e),o=n;break;case"iframe":case"object":case"embed":Vn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Rn.length;o++)Vn(Rn[o],e);o=n;break;case"source":Vn("error",e),o=n;break;case"img":case"image":case"link":Vn("error",e),Vn("load",e),o=n;break;case"details":Vn("toggle",e),o=n;break;case"input":Q(e,n),o=Z(e,n),Vn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=F({},n,{value:void 0}),Vn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Vn("invalid",e)}for(r in be(i,o),c=o)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?me(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&he(e,d):"children"===r?"string"===typeof d?("textarea"!==i||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(a.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Vn("scroll",e):null!=d&&_(e,r,d,l))}switch(i){case"input":q(e),$(e,n,!1);break;case"textarea":q(e),re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?ie(e,!!n.multiple,r,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(i=nr(ir.current),nr(er.current),us(t)){if(n=t.stateNode,i=t.memoizedProps,n[go]=t,(r=n.nodeValue!==i)&&null!==(e=ns))switch(e.tag){case 3:Jn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,0!==(1&e.mode))}r&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[go]=t,t.stateNode=n}return Ga(t),null;case 13:if(xo(lr),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==os&&0!==(1&t.mode)&&0===(128&t.flags))gs(),ps(),t.flags|=98560,r=!1;else if(r=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[go]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),r=!1}else null!==rs&&(ac(rs),rs=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lr.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return sr(),Ma(e,t),null===e&&Hn(t.stateNode.containerInfo),Ga(t),null;case 10:return Ss(t.type._context),Ga(t),null;case 19:if(xo(lr),null===(r=t.memoizedState))return Ga(t),null;if(n=0!==(128&t.flags),null===(l=r.rendering))if(n)qa(r,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cr(e))){for(t.flags|=128,qa(r,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Do(lr,1&lr.current|2),t.child}e=e.sibling}null!==r.tail&&Xe()>jl&&(t.flags|=128,n=!0,qa(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=cr(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),qa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ss)return Ga(t),null}else 2*Xe()-r.renderingStartTime>jl&&1073741824!==i&&(t.flags|=128,n=!0,qa(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=r.last)?i.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xe(),t.sibling=null,i=lr.current,Do(lr,n?1&i|2:1&i),t):(Ga(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Za(e,t){switch(is(t),t.tag){case 1:return Mo(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sr(),xo(To),xo(No),hr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ar(t),null;case 13:if(xo(lr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xo(lr),null;case 4:return sr(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Aa=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ma=function(){},Oa=function(e,t,i,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,nr(er.current);var s,r=null;switch(i){case"input":o=Z(e,o),n=Z(e,n),r=[];break;case"select":o=F({},o,{value:void 0}),n=F({},n,{value:void 0}),r=[];break;case"textarea":o=ne(e,o),n=ne(e,n),r=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(d in be(i,n),i=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(i||(i={}),i[s]=c[s])}else i||(r||(r=[]),r.push(d,i)),i=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Vn("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}i&&(r=r||[]).push("style",i);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Ra=function(e,t,i,n){i!==n&&(t.flags|=4)};var Qa=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Lc(e,t,n)}else i.current=null}function tl(e,t,i){try{i()}catch(n){Lc(e,t,n)}}var il=!1;function nl(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,void 0!==s&&tl(t,i,s)}o=o.next}while(o!==n)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function sl(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[go],delete t[po],delete t[mo],delete t[vo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(cl(e,t,i),e=e.sibling;null!==e;)cl(e,t,i),e=e.sibling}function dl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(dl(e,t,i),e=e.sibling;null!==e;)dl(e,t,i),e=e.sibling}var hl=null,ul=!1;function gl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(ot,i)}catch(a){}switch(i.tag){case 5:Xa||el(i,t);case 6:var n=hl,o=ul;hl=null,gl(e,t,i),ul=o,null!==(hl=n)&&(ul?(e=hl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):hl.removeChild(i.stateNode));break;case 18:null!==hl&&(ul?(e=hl,i=i.stateNode,8===e.nodeType?lo(e.parentNode,i):1===e.nodeType&&lo(e,i),Ht(e)):lo(hl,i.stateNode));break;case 4:n=hl,o=ul,hl=i.stateNode.containerInfo,ul=!0,gl(e,t,i),hl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var s=o,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&tl(i,t,r),o=o.next}while(o!==n)}gl(e,t,i);break;case 1:if(!Xa&&(el(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){Lc(i,t,a)}gl(e,t,i);break;case 21:gl(e,t,i);break;case 22:1&i.mode?(Xa=(n=Xa)||null!==i.memoizedState,gl(e,t,i),Xa=n):gl(e,t,i);break;default:gl(e,t,i)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Ja),t.forEach((function(t){var n=Nc.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function ml(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var o=i[n];try{var r=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ul=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(r,a,o),hl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Lc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&n){try{nl(3,e,e.return),ol(3,e)}catch(m){Lc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Lc(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&n&&null!==i&&el(i,i.return);break;case 5:if(ml(t,e),bl(e),512&n&&null!==i&&el(i,i.return),32&e.flags){var o=e.stateNode;try{ue(o,"")}catch(m){Lc(e,e.return,m)}}if(4&n&&null!=(o=e.stateNode)){var r=e.memoizedProps,a=null!==i?i.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&X(o,r),_e(l,a);var d=_e(l,r);for(a=0;a<c.length;a+=2){var h=c[a],u=c[a+1];"style"===h?me(o,u):"dangerouslySetInnerHTML"===h?he(o,u):"children"===h?ue(o,u):_(o,h,u,d)}switch(l){case"input":J(o,r);break;case"textarea":se(o,r);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var p=r.value;null!=p?ie(o,!!r.multiple,p,!1):g!==!!r.multiple&&(null!=r.defaultValue?ie(o,!!r.multiple,r.defaultValue,!0):ie(o,!!r.multiple,r.multiple?[]:"",!1))}o[po]=r}catch(m){Lc(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&n){if(null===e.stateNode)throw Error(s(162));o=e.stateNode,r=e.memoizedProps;try{o.nodeValue=r}catch(m){Lc(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Lc(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(o=e.child).flags&&(r=null!==o.memoizedState,o.stateNode.isHidden=r,!r||null!==o.alternate&&null!==o.alternate.memoizedState||(Hl=Xe())),4&n&&fl(e);break;case 22:if(h=null!==i&&null!==i.memoizedState,1&e.mode?(Xa=(d=Xa)||h,ml(t,e),Xa=d):ml(t,e),bl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(u=$a=h;null!==$a;){switch(p=(g=$a).child,g.tag){case 0:case 11:case 14:case 15:nl(4,g,g.return);break;case 1:el(g,g.return);var f=g.stateNode;if("function"===typeof f.componentWillUnmount){n=g,i=g.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Lc(n,i,m)}}break;case 5:el(g,g.return);break;case 22:if(null!==g.memoizedState){Cl(u);continue}}null!==p?(p.return=g,$a=p):Cl(u)}h=h.sibling}e:for(h=null,u=e;;){if(5===u.tag){if(null===h){h=u;try{o=u.stateNode,d?"function"===typeof(r=o.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=u.stateNode,a=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(m){Lc(e,e.return,m)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(m){Lc(e,e.return,m)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ml(t,e),bl(e),4&n&&fl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(al(i)){var n=i;break e}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(ue(o,""),n.flags&=-33),dl(e,ll(e),o);break;case 3:case 4:var r=n.stateNode.containerInfo;cl(e,ll(e),r);break;default:throw Error(s(161))}}catch(a){Lc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,i){$a=e,wl(e,t,i)}function wl(e,t,i){for(var n=0!==(1&e.mode);null!==$a;){var o=$a,s=o.child;if(22===o.tag&&n){var r=null!==o.memoizedState||Qa;if(!r){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var c=Xa;if(Qa=r,(Xa=l)&&!c)for($a=o;null!==$a;)l=(r=$a).child,22===r.tag&&null!==r.memoizedState?Sl(o):null!==l?(l.return=r,$a=l):Sl(o);for(;null!==s;)$a=s,wl(s,t,i),s=s.sibling;$a=o,Qa=a,Xa=c}yl(e)}else 0!==(8772&o.subtreeFlags)&&null!==s?(s.return=o,$a=s):yl(e)}}function yl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ol(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xa)if(null===i)n.componentDidMount();else{var o=t.elementType===t.type?i.memoizedProps:vs(t.type,i.memoizedProps);n.componentDidUpdate(o,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Vs(t,r,n);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Vs(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var h=d.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&Ht(u)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(g){Lc(t,t.return,g)}}if(t===e){$a=null;break}if(null!==(i=t.sibling)){i.return=t.return,$a=i;break}$a=t.return}}function Cl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var i=t.sibling;if(null!==i){i.return=t.return,$a=i;break}$a=t.return}}function Sl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ol(4,t)}catch(l){Lc(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Lc(t,o,l)}}var s=t.return;try{sl(t)}catch(l){Lc(t,s,l)}break;case 5:var r=t.return;try{sl(t)}catch(l){Lc(t,r,l)}}}catch(l){Lc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var kl,Ll=Math.ceil,xl=w.ReactCurrentDispatcher,Dl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Nl=0,Tl=null,Il=null,Al=0,Ml=0,Ol=Lo(0),Rl=0,Pl=null,Fl=0,Bl=0,Vl=0,Wl=null,zl=null,Hl=0,jl=1/0,Ul=null,Kl=!1,ql=null,Gl=null,Yl=!1,Zl=null,Ql=0,Xl=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==$l?$l:$l=Xe()}function ic(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Al?Al&-Al:null!==ms.transition?(0===ec&&(ec=ft()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,i,n){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,i,n),0!==(2&Nl)&&e===Tl||(e===Tl&&(0===(2&Nl)&&(Bl|=i),4===Rl&&lc(e,Al)),oc(e,n),1===i&&0===Nl&&0===(1&t.mode)&&(jl=Xe()+500,Wo&&jo()))}function oc(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var r=31-rt(s),a=1<<r,l=o[r];-1===l?0!==(a&i)&&0===(a&n)||(o[r]=gt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var n=ut(e,e===Tl?Al:0);if(0===n)null!==i&&Ye(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Ye(i),1===t)0===e.tag?function(e){Wo=!0,Ho(e)}(cc.bind(null,e)):Ho(cc.bind(null,e)),ro((function(){0===(6&Nl)&&jo()})),i=null;else{switch(wt(n)){case 1:i=$e;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Tc(i,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function sc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(s(327));var i=e.callbackNode;if(Sc()&&e.callbackNode!==i)return null;var n=ut(e,e===Tl?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=vc(e,n);else{t=n;var o=Nl;Nl|=2;var r=fc();for(Tl===e&&Al===t||(Ul=null,jl=Xe()+500,gc(e,t));;)try{_c();break}catch(l){pc(e,l)}Cs(),xl.current=r,Nl=o,null!==Il?t=0:(Tl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(n=o,t=rc(e,o))),1===t)throw i=Pl,gc(e,0),lc(e,n),oc(e,Xe()),i;if(6===t)lc(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var o=i[n],s=o.getSnapshot;o=o.value;try{if(!an(s(),o))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=vc(e,n))&&(0!==(r=pt(e))&&(n=r,t=rc(e,r))),1===t))throw i=Pl,gc(e,0),lc(e,n),oc(e,Xe()),i;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cc(e,zl,Ul);break;case 3:if(lc(e,n),(130023424&n)===n&&10<(t=Hl+500-Xe())){if(0!==ut(e,0))break;if(((o=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(Cc.bind(null,e,zl,Ul),t);break}Cc(e,zl,Ul);break;case 4:if(lc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-rt(n);r=1<<a,(a=t[a])>o&&(o=a),n&=~r}if(n=o,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ll(n/1960))-n)){e.timeoutHandle=no(Cc.bind(null,e,zl,Ul),n);break}Cc(e,zl,Ul);break;default:throw Error(s(329))}}}return oc(e,Xe()),e.callbackNode===i?sc.bind(null,e):null}function rc(e,t){var i=Wl;return e.current.memoizedState.isDehydrated&&(gc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=i,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Vl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-rt(t),n=1<<i;e[i]=-1,t&=~n}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Sc();var t=ut(e,0);if(0===(1&t))return oc(e,Xe()),null;var i=vc(e,t);if(0!==e.tag&&2===i){var n=pt(e);0!==n&&(t=n,i=rc(e,n))}if(1===i)throw i=Pl,gc(e,0),lc(e,t),oc(e,Xe()),i;if(6===i)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,zl,Ul),oc(e,Xe()),null}function dc(e,t){var i=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=i)&&(jl=Xe()+500,Wo&&jo())}}function hc(e){null!==Zl&&0===Zl.tag&&0===(6&Nl)&&Sc();var t=Nl;Nl|=1;var i=El.transition,n=_t;try{if(El.transition=null,_t=1,e)return e()}finally{_t=n,El.transition=i,0===(6&(Nl=t))&&jo()}}function uc(){Ml=Ol.current,xo(Ol)}function gc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,oo(i)),null!==Il)for(i=Il.return;null!==i;){var n=i;switch(is(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Oo();break;case 3:sr(),xo(To),xo(No),hr();break;case 5:ar(n);break;case 4:sr();break;case 13:case 19:xo(lr);break;case 10:Ss(n.type._context);break;case 22:case 23:uc()}i=i.return}if(Tl=e,Il=e=Oc(e.current,null),Al=Ml=t,Rl=0,Pl=null,Vl=Bl=Fl=0,zl=Wl=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(n=(i=Ds[t]).interleaved)){i.interleaved=null;var o=n.next,s=i.pending;if(null!==s){var r=s.next;s.next=o,n.next=r}i.pending=n}Ds=null}return e}function pc(e,t){for(;;){var i=Il;try{if(Cs(),ur.current=ra,br){for(var n=fr.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}br=!1}if(pr=0,vr=mr=fr=null,_r=!1,wr=0,Dl.current=null,null===i||null===i.return){Rl=1,Pl=t,Il=null;break}e:{var r=e,a=i.return,l=i,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,h=l,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,t),1&p.mode&&ma(r,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){ma(r,d,t),mc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ba(v,a,l,0,t),fs(da(c,l));break e}}r=c=da(c,l),4!==Rl&&(Rl=2),null===Wl?Wl=[r]:Wl.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Fs(r,pa(0,c,t));break e;case 1:l=c;var b=r.type,_=r.stateNode;if(0===(128&r.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gl||!Gl.has(_)))){r.flags|=65536,t&=-t,r.lanes|=t,Fs(r,fa(r,l,t));break e}}r=r.return}while(null!==r)}yc(i)}catch(w){t=w,Il===i&&null!==i&&(Il=i=i.return);continue}break}}function fc(){var e=xl.current;return xl.current=ra,null===e?ra:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Fl)&&0===(268435455&Bl)||lc(Tl,Al)}function vc(e,t){var i=Nl;Nl|=2;var n=fc();for(Tl===e&&Al===t||(Ul=null,gc(e,t));;)try{bc();break}catch(o){pc(e,o)}if(Cs(),Nl=i,xl.current=n,null!==Il)throw Error(s(261));return Tl=null,Al=0,Rl}function bc(){for(;null!==Il;)wc(Il)}function _c(){for(;null!==Il&&!Ze();)wc(Il)}function wc(e){var t=kl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?yc(e):Il=t,Dl.current=null}function yc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Ya(i,t,Ml)))return void(Il=i)}else{if(null!==(i=Za(i,t)))return i.flags&=32767,void(Il=i);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function Cc(e,t,i){var n=_t,o=El.transition;try{El.transition=null,_t=1,function(e,t,i,n){do{Sc()}while(null!==Zl);if(0!==(6&Nl))throw Error(s(327));i=e.finishedWork;var o=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var o=31-rt(i),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,i&=~s}}(e,r),e===Tl&&(Il=Tl=null,Al=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Yl||(Yl=!0,Tc(tt,(function(){return Sc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=El.transition,El.transition=null;var a=_t;_t=1;var l=Nl;Nl|=4,Dl.current=null,function(e,t){if(eo=Ut,gn(e=un())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var o=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(y){i=null;break e}var a=0,l=-1,c=-1,d=0,h=0,u=e,g=null;t:for(;;){for(var p;u!==i||0!==o&&3!==u.nodeType||(l=a+o),u!==r||0!==n&&3!==u.nodeType||(c=a+n),3===u.nodeType&&(a+=u.nodeValue.length),null!==(p=u.firstChild);)g=u,u=p;for(;;){if(u===e)break t;if(g===i&&++d===o&&(l=a),g===r&&++h===n&&(c=a),null!==(p=u.nextSibling))break;g=(u=g).parentNode}u=p}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(to={focusedElem:e,selectionRange:i},Ut=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,v=f.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:vs(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(y){Lc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}f=il,il=!1}(e,i),vl(i,e),pn(to),Ut=!!eo,to=eo=null,e.current=i,_l(i,e,o),Qe(),Nl=l,_t=a,El.transition=r}else e.current=i;if(Yl&&(Yl=!1,Zl=e,Ql=o),r=e.pendingLanes,0===r&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),oc(e,Xe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)o=t[i],n(o.value,{componentStack:o.stack,digest:o.digest});if(Kl)throw Kl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),r=e.pendingLanes,0!==(1&r)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,jo()}(e,t,i,n)}finally{El.transition=o,_t=n}return null}function Sc(){if(null!==Zl){var e=wt(Ql),t=El.transition,i=_t;try{if(El.transition=null,_t=16>e?16:e,null===Zl)var n=!1;else{if(e=Zl,Zl=null,Ql=0,0!==(6&Nl))throw Error(s(331));var o=Nl;for(Nl|=4,$a=e.current;null!==$a;){var r=$a,a=r.child;if(0!==(16&$a.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for($a=d;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:nl(8,h,r)}var u=h.child;if(null!==u)u.return=h,$a=u;else for(;null!==$a;){var g=(h=$a).sibling,p=h.return;if(rl(h),h===d){$a=null;break}if(null!==g){g.return=p,$a=g;break}$a=p}}}var f=r.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$a=r}}if(0!==(2064&r.subtreeFlags)&&null!==a)a.return=r,$a=a;else e:for(;null!==$a;){if(0!==(2048&(r=$a).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var b=r.sibling;if(null!==b){b.return=r.return,$a=b;break e}$a=r.return}}var _=e.current;for($a=_;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=_;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(C){Lc(l,l.return,C)}if(l===a){$a=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,$a=y;break e}$a=l.return}}if(Nl=o,jo(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(ot,e)}catch(C){}n=!0}return n}finally{_t=i,El.transition=t}}return!1}function kc(e,t,i){e=Rs(e,t=pa(0,t=da(i,t),1),1),t=tc(),null!==e&&(vt(e,1,t),oc(e,t))}function Lc(e,t,i){if(3===e.tag)kc(e,e,i);else for(;null!==t;){if(3===t.tag){kc(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Rs(t,e=fa(t,e=da(i,e),1),1),e=tc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function xc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&i,Tl===e&&(Al&i)===i&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Xe()-Hl?gc(e,0):Vl|=i),oc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var i=tc();null!==(e=Ts(e,t))&&(vt(e,t,i),oc(e,i))}function Ec(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Dc(e,i)}function Nc(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(i=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Dc(e,i)}function Tc(e,t){return Ge(e,t)}function Ic(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,i,n){return new Ic(e,t,i,n)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var i=e.alternate;return null===i?((i=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rc(e,t,i,n,o,r){var a=2;if(n=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Pc(i.children,o,r,t);case k:a=8,o|=8;break;case L:return(e=Ac(12,i,t,2|o)).elementType=L,e.lanes=r,e;case N:return(e=Ac(13,i,t,o)).elementType=N,e.lanes=r,e;case T:return(e=Ac(19,i,t,o)).elementType=T,e.lanes=r,e;case M:return Fc(i,o,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case D:a=9;break e;case E:a=11;break e;case I:a=14;break e;case A:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(a,i,t,o)).elementType=e,t.type=n,t.lanes=r,t}function Pc(e,t,i,n){return(e=Ac(7,e,n,t)).lanes=i,e}function Fc(e,t,i,n){return(e=Ac(22,e,n,t)).elementType=M,e.lanes=i,e.stateNode={isHidden:!1},e}function Bc(e,t,i){return(e=Ac(6,e,null,t)).lanes=i,e}function Vc(e,t,i){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wc(e,t,i,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zc(e,t,i,n,o,s,r,a,l){return e=new Wc(e,t,i,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Hc(e){if(!e)return Eo;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var i=e.type;if(Mo(i))return Po(e,i,t)}return t}function jc(e,t,i,n,o,s,r,a,l){return(e=zc(i,n,!0,e,0,s,0,a,l)).context=Hc(null),i=e.current,(s=Os(n=tc(),o=ic(i))).callback=void 0!==t&&null!==t?t:null,Rs(i,s,o),e.current.lanes=o,vt(e,o,n),oc(e,n),e}function Uc(e,t,i,n){var o=t.current,s=tc(),r=ic(o);return i=Hc(i),null===t.context?t.context=i:t.pendingContext=i,(t=Os(s,r)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Rs(o,t,r))&&(nc(e,o,r,s),Ps(e,o,r)),r}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)wa=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return wa=!1,function(e,t,i){switch(t.tag){case 3:Ta(t),ps();break;case 5:rr(t);break;case 1:Mo(t.type)&&Fo(t);break;case 4:or(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Do(bs,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Do(lr,1&lr.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Ba(e,t,i):(Do(lr,1&lr.current),null!==(e=Ka(e,t,i))?e.sibling:null);Do(lr,1&lr.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return ja(e,t,i);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Do(lr,lr.current),n)break;return null;case 22:case 23:return t.lanes=0,La(e,t,i)}return Ka(e,t,i)}(e,t,i);wa=0!==(131072&e.flags)}else wa=!1,ss&&0!==(1048576&t.flags)&&es(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ua(e,t),e=t.pendingProps;var o=Ao(t,No.current);Ls(t,i),o=kr(null,t,n,e,o,i);var r=Lr();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(n)?(r=!0,Fo(t)):r=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,As(t),o.updater=Hs,t.stateNode=o,o._reactInternals=t,qs(t,n,e,i),t=Na(null,t,n,!0,r,i)):(t.tag=0,ss&&r&&ts(t),ya(null,t,o,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===I)return 14}return 2}(n),e=vs(n,e),o){case 0:t=Da(null,t,n,e,i);break e;case 1:t=Ea(null,t,n,e,i);break e;case 11:t=Ca(null,t,n,e,i);break e;case 14:t=Sa(null,t,n,vs(n.type,e),i);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Da(e,t,n,o=t.elementType===n?o:vs(n,o),i);case 1:return n=t.type,o=t.pendingProps,Ea(e,t,n,o=t.elementType===n?o:vs(n,o),i);case 3:e:{if(Ta(t),null===e)throw Error(s(387));n=t.pendingProps,o=(r=t.memoizedState).element,Ms(e,t),Bs(t,n,null,i);var a=t.memoizedState;if(n=a.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ia(e,t,n,i,o=da(Error(s(423)),t));break e}if(n!==o){t=Ia(e,t,n,i,o=da(Error(s(424)),t));break e}for(os=co(t.stateNode.containerInfo.firstChild),ns=t,ss=!0,rs=null,i=Js(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ps(),n===o){t=Ka(e,t,i);break e}ya(e,t,n,i)}t=t.child}return t;case 5:return rr(t),null===e&&ds(t),n=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,a=o.children,io(n,o)?a=null:null!==r&&io(n,r)&&(t.flags|=32),xa(e,t),ya(e,t,a,i),t.child;case 6:return null===e&&ds(t),null;case 13:return Ba(e,t,i);case 4:return or(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Xs(t,null,n,i):ya(e,t,n,i),t.child;case 11:return n=t.type,o=t.pendingProps,Ca(e,t,n,o=t.elementType===n?o:vs(n,o),i);case 7:return ya(e,t,t.pendingProps,i),t.child;case 8:case 12:return ya(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,r=t.memoizedProps,a=o.value,Do(bs,n._currentValue),n._currentValue=a,null!==r)if(an(r.value,a)){if(r.children===o.children&&!To.current){t=Ka(e,t,i);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){a=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Os(-1,i&-i)).tag=2;var d=r.updateQueue;if(null!==d){var h=(d=d.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),ks(r.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===r.tag)a=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),ks(a,i,t),a=r.sibling}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===t){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}ya(e,t,o.children,i),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ls(t,i),n=n(o=xs(o)),t.flags|=1,ya(e,t,n,i),t.child;case 14:return o=vs(n=t.type,t.pendingProps),Sa(e,t,n,o=vs(n.type,o),i);case 15:return ka(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:vs(n,o),Ua(e,t),t.tag=1,Mo(n)?(e=!0,Fo(t)):e=!1,Ls(t,i),Us(t,n,o),qs(t,n,o,i),Na(null,t,n,!0,e,i);case 19:return ja(e,t,i);case 22:return La(e,t,i)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function ed(e,t,i,n,o){var s=i._reactRootContainer;if(s){var r=s;if("function"===typeof o){var a=o;o=function(){var e=Kc(r);a.call(e)}}Uc(t,r,e,o)}else r=function(e,t,i,n,o){if(o){if("function"===typeof n){var s=n;n=function(){var e=Kc(r);s.call(e)}}var r=jc(t,n,e,0,null,!1,0,"",$c);return e._reactRootContainer=r,e[fo]=r.current,Hn(8===e.nodeType?e.parentNode:e),hc(),r}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var a=n;n=function(){var e=Kc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fo]=l.current,Hn(8===e.nodeType?e.parentNode:e),hc((function(){Uc(t,l,i,n)})),l}(i,t,e,o,n);return Kc(r)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Uc(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Uc(null,e,null,null)})),t[fo]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Mt.length&&0!==t&&t<Mt[i].priority;i++);Mt.splice(i,0,e),0===i&&Ft(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ht(t.pendingLanes);0!==i&&(bt(t,1|i),oc(t,Xe()),0===(6&Nl)&&(jl=Xe()+500,jo()))}break;case 13:hc((function(){var t=Ts(e,1);if(null!==t){var i=tc();nc(t,e,1,i)}})),Gc(e,1)}},Ct=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)nc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=ic(e),i=Ts(e,t);if(null!==i)nc(i,e,t,tc());Gc(e,t)}},kt=function(){return _t},Lt=function(e,t){var i=_t;try{return _t=e,t()}finally{_t=i}},Ce=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var o=Co(n);if(!o)throw Error(s(90));G(n),J(n,o)}}}break;case"textarea":se(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Ee=dc,Ne=hc;var td={usingClientEntryPoint:!1,Events:[wo,yo,Co,xe,De,dc]},id={findFiberByHostInstance:_o,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nd={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{ot=od.inject(nd),st=od}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var i=!1,n="",o=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zc(e,1,!1,null,0,i,0,n,o),e[fo]=t.current,Hn(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,i){if(!Jc(t))throw Error(s(200));return ed(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xc(e))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,o=!1,r="",a=Yc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(o=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=jc(t,null,e,1,null!=i?i:null,o,0,r,a),e[fo]=t.current,Hn(e),n)for(e=0;e<n.length;e++)o=(o=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,o]:t.mutableSourceEagerHydrationData.push(i,o);return new Qc(t)},t.render=function(e,t,i){if(!Jc(t))throw Error(s(200));return ed(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Jc(i))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,i,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,i)=>{"use strict";var n=i(4164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4164:(e,t,i)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(4463)},8436:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var o=a(i(2791)),s=a(i(1694)),r=i(8026);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,i){return t&&g(e.prototype,t),i&&g(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=b(e);if(t){var s=b(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var _=function(e){f(i,e);var t=v(i);function i(){return u(this,i),t.apply(this,arguments)}return p(i,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var i={key:"0","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},n={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,d(d({},i),n)):o.default.createElement("button",l({key:"0",type:"button"},i)," ","Previous")}}]),i}(o.default.PureComponent);t.PrevArrow=_;var w=function(e){f(i,e);var t=v(i);function i(){return u(this,i),t.apply(this,arguments)}return p(i,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var i={key:"1","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},n={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,d(d({},i),n)):o.default.createElement("button",l({key:"1",type:"button"},i)," ","Next")}}]),i}(o.default.PureComponent);t.NextArrow=w},5484:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i(2791))&&n.__esModule?n:{default:n};var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return o.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return o.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=s},3800:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var o=a(i(2791)),s=a(i(1694)),r=i(8026);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=g(e);if(t){var s=g(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(g,e);var t,i,n,a=u(g);function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),a.apply(this,arguments)}return t=g,i=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,i=t.onMouseEnter,n=t.onMouseOver,a=t.onMouseLeave,d=t.infinite,h=t.slidesToScroll,u=t.slidesToShow,g=t.slideCount,p=t.currentSlide,f=(e={slideCount:g,slidesToScroll:h,slidesToShow:u,infinite:d}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:i,onMouseOver:n,onMouseLeave:a},v=[],b=0;b<f;b++){var _=(b+1)*h-1,w=d?_:(0,r.clamp)(_,0,g-1),y=w-(h-1),C=d?y:(0,r.clamp)(y,0,g-1),S=(0,s.default)({"slick-active":d?p>=C&&p<=w:p===C}),k={message:"dots",index:b,slidesToScroll:h,currentSlide:p},L=this.clickHandler.bind(this,k);v=v.concat(o.default.createElement("li",{key:b,className:S},o.default.cloneElement(this.props.customPaging(b),{onClick:L})))}return o.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({className:this.props.dotsClass},m))}}],i&&d(t.prototype,i),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(o.default.PureComponent);t.Dots=p},5717:(e,t,i)=>{"use strict";var n;t.Z=void 0;var o=((n=i(3178))&&n.__esModule?n:{default:n}).default;t.Z=o},1382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=i},8293:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var n=u(i(2791)),o=u(i(1382)),s=u(i(5095)),r=u(i(1694)),a=i(8026),l=i(4931),c=i(3800),d=i(8436),h=u(i(474));function u(e){return e&&e.__esModule?e:{default:e}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(this,arguments)}function f(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=C(e);if(t){var o=C(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,i)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(C,e);var t,i,u,m=w(C);function C(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),S(y(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(y(t),"trackRefHandler",(function(e){return t.track=e})),S(y(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,a.getHeight)(e)+"px"}})),S(y(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var i=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(i,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new h.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(y(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(y(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var i=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));i.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(i)}})),t.props.onLazyLoad&&t.props.onLazyLoad(i))}t.adaptHeight();var o=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),s=t.didPropsChange(e);s&&t.updateState(o,s,(function(){t.state.currentSlide>=n.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:n.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(y(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,s.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(y(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(i,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(y(t),"updateState",(function(e,i,o){var s=(0,a.initializedState)(e);e=v(v(v({},e),s),{},{slideIndex:s.currentSlide});var r=(0,a.getTrackLeft)(e);e=v(v({},e),{},{left:r});var l=(0,a.getTrackCSS)(e);(i||n.default.Children.count(t.props.children)!==n.default.Children.count(e.children))&&(s.trackStyle=l),t.setState(s,o)})),S(y(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,i=0,o=[],s=(0,a.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),r=(0,a.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){o.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<s;l++)i+=o[o.length-1-l],e+=o[o.length-1-l];for(var c=0;c<r;c++)e+=o[c];for(var d=0;d<t.state.currentSlide;d++)i+=o[d];var h={width:e+"px",left:-i+"px"};if(t.props.centerMode){var u="".concat(o[t.state.currentSlide],"px");h.left="calc(".concat(h.left," + (100% - ").concat(u,") / 2 ) ")}return{trackStyle:h}}var g=n.default.Children.count(t.props.children),p=v(v(v({},t.props),t.state),{},{slideCount:g}),f=(0,a.getPreClones)(p)+(0,a.getPostClones)(p)+g,m=100/t.props.slidesToShow*f,b=100/f,_=-b*((0,a.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(_+=(100-b*m/100)/2),{slideWidth:b+"%",trackStyle:{width:m+"%",left:_+"%"}}})),S(y(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],i=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var o=function(){return++n&&n>=i&&t.onWindowResized()};if(e.onclick){var s=e.onclick;e.onclick=function(){s(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=o,e.onerror=function(){o(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(y(t),"progressiveLazyLoad",(function(){for(var e=[],i=v(v({},t.props),t.state),n=t.state.currentSlide;n<t.state.slideCount+(0,a.getPostClones)(i);n++)if(t.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var o=t.state.currentSlide-1;o>=-(0,a.getPreClones)(i);o--)if(t.state.lazyLoadedList.indexOf(o)<0){e.push(o);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(y(t),"slideHandler",(function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.props,o=n.asNavFor,s=n.beforeChange,r=n.onLazyLoad,l=n.speed,c=n.afterChange,d=t.state.currentSlide,h=(0,a.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!i})),u=h.state,g=h.nextState;if(u){s&&s(d,u.currentSlide);var p=u.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));r&&p.length>0&&r(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(d),delete t.animationEndCallback),t.setState(u,(function(){o&&t.asNavForIndex!==e&&(t.asNavForIndex=e,o.innerSlider.slideHandler(e)),g&&(t.animationEndCallback=setTimeout((function(){var e=g.animating,i=f(g,["animating"]);t.setState(i,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(u.currentSlide),delete t.animationEndCallback}))}),l))}))}})),S(y(t),"changeSlide",(function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=v(v({},t.props),t.state),o=(0,a.changeSlide)(n,e);if((0===o||o)&&(!0===i?t.slideHandler(o,i):t.slideHandler(o),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var s=t.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),S(y(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(y(t),"keyHandler",(function(e){var i=(0,a.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==i&&t.changeSlide({message:i})})),S(y(t),"selectHandler",(function(e){t.changeSlide(e)})),S(y(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(y(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(y(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var i=(0,a.swipeStart)(e,t.props.swipe,t.props.draggable);""!==i&&t.setState(i)})),S(y(t),"swipeMove",(function(e){var i=(0,a.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));i&&(i.swiping&&(t.clickable=!1),t.setState(i))})),S(y(t),"swipeEnd",(function(e){var i=(0,a.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(i){var n=i.triggerSlideHandler;delete i.triggerSlideHandler,t.setState(i),void 0!==n&&(t.slideHandler(n),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(y(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(y(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(y(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(y(t),"slickGoTo",(function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},i)}),0))})),S(y(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,a.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(y(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var i=t.state.autoplaying;if("update"===e){if("hovered"===i||"focused"===i||"paused"===i)return}else if("leave"===e){if("paused"===i||"focused"===i)return}else if("blur"===e&&("paused"===i||"hovered"===i))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(y(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var i=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==i&&"playing"!==i||t.setState({autoplaying:"focused"}):"playing"===i&&t.setState({autoplaying:"hovered"})})),S(y(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(y(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(y(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(y(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(y(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(y(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(y(t),"render",(function(){var e,i,o,s=(0,r.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),h=v(v({},t.props),t.state),u=(0,a.extractObject)(h,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),g=t.props.pauseOnHover;if(u=v(v({},u),{},{onMouseEnter:g?t.onTrackOver:null,onMouseLeave:g?t.onTrackLeave:null,onMouseOver:g?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var f=(0,a.extractObject)(h,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;f=v(v({},f),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=n.default.createElement(c.Dots,f)}var b=(0,a.extractObject)(h,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=t.changeSlide,t.props.arrows&&(i=n.default.createElement(d.PrevArrow,b),o=n.default.createElement(d.NextArrow,b));var _=null;t.props.vertical&&(_={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var y=v(v({},_),w),C=t.props.touchMove,S={className:"slick-list",style:y,onClick:t.clickHandler,onMouseDown:C?t.swipeStart:null,onMouseMove:t.state.dragging&&C?t.swipeMove:null,onMouseUp:C?t.swipeEnd:null,onMouseLeave:t.state.dragging&&C?t.swipeEnd:null,onTouchStart:C?t.swipeStart:null,onTouchMove:t.state.dragging&&C?t.swipeMove:null,onTouchEnd:C?t.touchEnd:null,onTouchCancel:t.state.dragging&&C?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},k={className:s,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},k={className:s}),n.default.createElement("div",k,t.props.unslick?"":i,n.default.createElement("div",p({ref:t.listRefHandler},S),n.default.createElement(l.Track,p({ref:t.trackRefHandler},u),t.props.children)),t.props.unslick?"":o,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=v(v({},o.default),{},{currentSlide:t.props.initialSlide,slideCount:n.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var i=t.ssrInit();return t.state=v(v({},t.state),i),t}return t=C,(i=[{key:"didPropsChange",value:function(e){for(var t=!1,i=0,o=Object.keys(this.props);i<o.length;i++){var s=o[i];if(!e.hasOwnProperty(s)){t=!0;break}if("object"!==g(e[s])&&"function"!==typeof e[s]&&e[s]!==this.props[s]){t=!0;break}}return t||n.default.Children.count(this.props.children)!==n.default.Children.count(e.children)}}])&&b(t.prototype,i),u&&b(t,u),Object.defineProperty(t,"prototype",{writable:!1}),C}(n.default.Component);t.InnerSlider=k},3178:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(i(2791)),s=i(8293),r=c(i(5477)),a=c(i(5484)),l=i(8026);function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d.apply(this,arguments)}function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=v(e);if(t){var s=v(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,i)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=(0,l.canUseDOM)()&&i(8153),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(h,e);var t,i,n,c=f(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),b(m(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(m(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(m(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(m(t),"slickGoTo",(function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,i)})),b(m(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(m(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=h,(i=[{key:"media",value:function(e,t){_.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(i,n){var o;o=0===n?(0,r.default)({minWidth:0,maxWidth:i}):(0,r.default)({minWidth:t[n-1]+1,maxWidth:i}),(0,l.canUseDOM)()&&e.media(o,(function(){e.setState({breakpoint:i})}))}));var i=(0,r.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(i,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){_.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,i=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===i.state.breakpoint})))[0].settings?"unslick":u(u(u({},a.default),this.props),t[0].settings):u(u({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var n=o.default.Children.toArray(this.props.children);n=n.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var r=[],l=null,c=0;c<n.length;c+=e.rows*e.slidesPerRow){for(var h=[],g=c;g<c+e.rows*e.slidesPerRow;g+=e.slidesPerRow){for(var p=[],f=g;f<g+e.slidesPerRow&&(e.variableWidth&&n[f].props.style&&(l=n[f].props.style.width),!(f>=n.length));f+=1)p.push(o.default.cloneElement(n[f],{key:100*c+10*g+f,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));h.push(o.default.createElement("div",{key:10*c+g},p))}e.variableWidth?r.push(o.default.createElement("div",{key:c,style:{width:l}},h)):r.push(o.default.createElement("div",{key:c},h))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return o.default.createElement("div",{className:m},n)}return r.length<=e.slidesToShow&&(e.unslick=!0),o.default.createElement(s.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},e),r)}}])&&g(t.prototype,i),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(o.default.Component);t.default=w},4931:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var o=a(i(2791)),s=a(i(1694)),r=i(8026);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=g(e);if(t){var s=g(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,i)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=function(e){var t,i,n,o,s;return n=(s=e.rtl?e.slideCount-1-e.index:e.index)<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),i=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":n,"slick-current":s===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},b=function(e,t){return e.key||t},_=function(e){var t,i=[],n=[],a=[],l=o.default.Children.count(e.children),c=(0,r.lazyStartIndex)(e),d=(0,r.lazyEndIndex)(e);return o.default.Children.forEach(e.children,(function(h,u){var g,p={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};g=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?h:o.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(f(f({},e),{},{index:u})),_=g.props.className||"",w=v(f(f({},e),{},{index:u}));if(i.push(o.default.cloneElement(g,{key:"original"+b(g,u),"data-index":u,className:(0,s.default)(w,_),tabIndex:"-1","aria-hidden":!w["slick-active"],style:f(f({outline:"none"},g.props.style||{}),m),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var y=l-u;y<=(0,r.getPreClones)(e)&&l!==e.slidesToShow&&((t=-y)>=c&&(g=h),w=v(f(f({},e),{},{index:t})),n.push(o.default.cloneElement(g,{key:"precloned"+b(g,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(w,_),"aria-hidden":!w["slick-active"],style:f(f({},g.props.style||{}),m),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),l!==e.slidesToShow&&((t=l+u)<d&&(g=h),w=v(f(f({},e),{},{index:t})),a.push(o.default.cloneElement(g,{key:"postcloned"+b(g,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(w,_),"aria-hidden":!w["slick-active"],style:f(f({},g.props.style||{}),m),onClick:function(t){g.props&&g.props.onClick&&g.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?n.concat(i,a).reverse():n.concat(i,a)},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(r,e);var t,i,n,s=h(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return m(u(e=s.call.apply(s,[this].concat(i))),"node",null),m(u(e),"handleRef",(function(t){e.node=t})),e}return t=r,(i=[{key:"render",value:function(){var e=_(this.props),t=this.props,i={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return o.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},i),e)}}])&&c(t.prototype,i),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.default.PureComponent);t.Track=w},8026:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=l,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var n,o=(n=i(2791))&&n.__esModule?n:{default:n};function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i){return Math.max(t,Math.min(e,i))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var d=function(e){for(var t=[],i=h(e),n=u(e),o=i;o<n;o++)e.lazyLoadedList.indexOf(o)<0&&t.push(o);return t};t.getOnDemandLazySlides=d;t.getRequiredLazySlides=function(e){for(var t=[],i=h(e),n=u(e),o=i;o<n;o++)t.push(o);return t};var h=function(e){return e.currentSlide-g(e)};t.lazyStartIndex=h;var u=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=u;var g=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=g;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var f=function(e){return e&&e.offsetWidth||0};t.getWidth=f;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var v=function(e){var t,i,n,o,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,i=e.startY-e.curY,n=Math.atan2(i,t),(o=Math.round(180*n/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===s?o>=35&&o<=135?"up":"down":"vertical"};t.getSwipeDirection=v;var b=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=b;t.extractObject=function(e,t){var i={};return t.forEach((function(t){return i[t]=e[t]})),i};t.initializedState=function(e){var t,i=o.default.Children.count(e.children),n=e.listRef,s=Math.ceil(f(n)),a=e.trackRef&&e.trackRef.node,l=Math.ceil(f(a));if(e.vertical)t=s;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=s/100),t=Math.ceil((s-c)/e.slidesToShow)}var h=n&&m(n.querySelector('[data-index="0"]')),u=h*e.slidesToShow,g=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(g=i-1-e.initialSlide);var p=e.lazyLoadedList||[],v=d(r(r({},e),{},{currentSlide:g,lazyLoadedList:p})),b={slideCount:i,slideWidth:t,listWidth:s,trackWidth:l,currentSlide:g,slideHeight:h,listHeight:u,lazyLoadedList:p=p.concat(v)};return null===e.autoplaying&&e.autoplay&&(b.autoplaying="playing"),b};t.slideHandler=function(e){var t=e.waitForAnimate,i=e.animating,n=e.fade,o=e.infinite,s=e.index,a=e.slideCount,c=e.lazyLoad,h=e.currentSlide,u=e.centerMode,g=e.slidesToScroll,p=e.slidesToShow,f=e.useCSS,m=e.lazyLoadedList;if(t&&i)return{};var v,_,w,y=s,C={},x={},D=o?s:l(s,0,a-1);if(n){if(!o&&(s<0||s>=a))return{};s<0?y=s+a:s>=a&&(y=s-a),c&&m.indexOf(y)<0&&(m=m.concat(y)),C={animating:!0,currentSlide:y,lazyLoadedList:m,targetSlide:y},x={animating:!1,targetSlide:y}}else v=y,y<0?(v=y+a,o?a%g!==0&&(v=a-a%g):v=0):!b(e)&&y>h?y=v=h:u&&y>=a?(y=o?a:a-1,v=o?0:a-1):y>=a&&(v=y-a,o?a%g!==0&&(v=0):v=a-p),!o&&y+p>=a&&(v=a-p),_=L(r(r({},e),{},{slideIndex:y})),w=L(r(r({},e),{},{slideIndex:v})),o||(_===w&&(y=v),_=w),c&&(m=m.concat(d(r(r({},e),{},{currentSlide:y})))),f?(C={animating:!0,currentSlide:v,trackStyle:k(r(r({},e),{},{left:_})),lazyLoadedList:m,targetSlide:D},x={animating:!1,currentSlide:v,trackStyle:S(r(r({},e),{},{left:w})),swipeLeft:null,targetSlide:D}):C={currentSlide:v,trackStyle:S(r(r({},e),{},{left:w})),lazyLoadedList:m,targetSlide:D};return{state:C,nextState:x}};t.changeSlide=function(e,t){var i,n,o,s,a=e.slidesToScroll,l=e.slidesToShow,c=e.slideCount,d=e.currentSlide,h=e.targetSlide,u=e.lazyLoad,g=e.infinite;if(i=c%a!==0?0:(c-d)%a,"previous"===t.message)s=d-(o=0===i?a:l-i),u&&!g&&(s=-1===(n=d-o)?c-1:n),g||(s=h-a);else if("next"===t.message)s=d+(o=0===i?a:i),u&&!g&&(s=(d+a)%c+i),g||(s=h+a);else if("dots"===t.message)s=t.index*t.slidesToScroll;else if("children"===t.message){if(s=t.index,g){var p=N(r(r({},e),{},{targetSlide:s}));s>t.currentSlide&&"left"===p?s-=c:s<t.currentSlide&&"right"===p&&(s+=c)}}else"index"===t.message&&(s=Number(t.index));return s};t.keyHandler=function(e,t,i){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?i?"next":"previous":39===e.keyCode?i?"previous":"next":""};t.swipeStart=function(e,t,i){return"IMG"===e.target.tagName&&c(e),!t||!i&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var i=t.scrolling,n=t.animating,o=t.vertical,s=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,d=t.currentSlide,h=t.edgeFriction,u=t.edgeDragged,g=t.onEdge,p=t.swiped,f=t.swiping,m=t.slideCount,_=t.slidesToScroll,w=t.infinite,y=t.touchObject,C=t.swipeEvent,k=t.listHeight,x=t.listWidth;if(!i){if(n)return c(e);o&&s&&a&&c(e);var D,E={},N=L(t);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var T=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!f&&T>10)return{scrolling:!0};a&&(y.swipeLength=T);var I=(l?-1:1)*(y.curX>y.startX?1:-1);a&&(I=y.curY>y.startY?1:-1);var A=Math.ceil(m/_),M=v(t.touchObject,a),O=y.swipeLength;return w||(0===d&&("right"===M||"down"===M)||d+1>=A&&("left"===M||"up"===M)||!b(t)&&("left"===M||"up"===M))&&(O=y.swipeLength*h,!1===u&&g&&(g(M),E.edgeDragged=!0)),!p&&C&&(C(M),E.swiped=!0),D=o?N+O*(k/x)*I:l?N-O*I:N+O*I,a&&(D=N+O*I),E=r(r({},E),{},{touchObject:y,swipeLeft:D,trackStyle:S(r(r({},t),{},{left:D}))}),Math.abs(y.curX-y.startX)<.8*Math.abs(y.curY-y.startY)?E:(y.swipeLength>10&&(E.swiping=!0,c(e)),E)}};t.swipeEnd=function(e,t){var i=t.dragging,n=t.swipe,o=t.touchObject,s=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,d=t.listHeight,h=t.swipeToSlide,u=t.scrolling,g=t.onSwipe,p=t.targetSlide,f=t.currentSlide,m=t.infinite;if(!i)return n&&c(e),{};var b=l?d/a:s/a,_=v(o,l),C={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(u)return C;if(!o.swipeLength)return C;if(o.swipeLength>b){var S,x;c(e),g&&g(_);var D=m?f:p;switch(_){case"left":case"up":x=D+y(t),S=h?w(t,x):x,C.currentDirection=0;break;case"right":case"down":x=D-y(t),S=h?w(t,x):x,C.currentDirection=1;break;default:S=D}C.triggerSlideHandler=S}else{var E=L(t);C.trackStyle=k(r(r({},t),{},{left:E}))}return C};var _=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,i=e.infinite?-1*e.slidesToShow:0,n=e.infinite?-1*e.slidesToShow:0,o=[];i<t;)o.push(i),i=n+e.slidesToScroll,n+=Math.min(e.slidesToScroll,e.slidesToShow);return o};t.getNavigableIndexes=_;var w=function(e,t){var i=_(e),n=0;if(t>i[i.length-1])t=i[i.length-1];else for(var o in i){if(t<i[o]){t=n;break}n=i[o]}return t};t.checkNavigable=w;var y=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var i,n=e.listRef,o=n.querySelectorAll&&n.querySelectorAll(".slick-slide")||[];if(Array.from(o).every((function(n){if(e.vertical){if(n.offsetTop+m(n)/2>-1*e.swipeLeft)return i=n,!1}else if(n.offsetLeft-t+f(n)/2>-1*e.swipeLeft)return i=n,!1;return!0})),!i)return 0;var s=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(i.dataset.index-s)||1}return e.slidesToScroll};t.getSlideCount=y;var C=function(e,t){return t.reduce((function(t,i){return t&&e.hasOwnProperty(i)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=C;var S=function(e){var t,i;C(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n=e.slideCount+2*e.slidesToShow;e.vertical?i=n*e.slideHeight:t=E(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=r(r({},o),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),t&&(o.width=t),i&&(o.height=i),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o};t.getTrackCSS=S;var k=function(e){C(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=k;var L=function(e){if(e.unslick)return 0;C(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,i,n=e.slideIndex,o=e.trackRef,s=e.infinite,r=e.centerMode,a=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,d=e.slideWidth,h=e.listWidth,u=e.variableWidth,g=e.slideHeight,p=e.fade,f=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(s?(m=-x(e),a%c!==0&&n+c>a&&(m=-(n>a?l-(n-a):a%c)),r&&(m+=parseInt(l/2))):(a%c!==0&&n+c>a&&(m=l-a%c),r&&(m=parseInt(l/2))),t=f?n*g*-1+m*g:n*d*-1+m*d,!0===u){var v,b=o&&o.node;if(v=n+x(e),t=(i=b&&b.childNodes[v])?-1*i.offsetLeft:0,!0===r){v=s?n+x(e):n,i=b&&b.children[v],t=0;for(var _=0;_<v;_++)t-=b&&b.children[_]&&b.children[_].offsetWidth;t-=parseInt(e.centerPadding),t+=i&&(h-i.offsetWidth)/2}}return t};t.getTrackLeft=L;var x=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=x;var D=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=D;var E=function(e){return 1===e.slideCount?1:x(e)+e.slideCount+D(e)};t.getTotalSlides=E;var N=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+T(e)?"left":"right":e.targetSlide<e.currentSlide-I(e)?"right":"left"};t.siblingDirection=N;var T=function(e){var t=e.slidesToShow,i=e.centerMode,n=e.rtl,o=e.centerPadding;if(i){var s=(t-1)/2+1;return parseInt(o)>0&&(s+=1),n&&t%2===0&&(s+=1),s}return n?0:t-1};t.slidesOnRight=T;var I=function(e){var t=e.slidesToShow,i=e.centerMode,n=e.rtl,o=e.centerPadding;if(i){var s=(t-1)/2+1;return parseInt(o)>0&&(s+=1),n||t%2!==0||(s+=1),s}return n?t-1:0};t.slidesOnLeft=I;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},6572:function(e,t,i){var n;n=function(e,t){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){e.exports=i(5)()},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t){e.exports=function(e,t,i){var n=e.direction,o=e.value;switch(n){case"top":return i.top+o<t.top&&i.bottom>t.bottom&&i.left<t.left&&i.right>t.right;case"left":return i.left+o<t.left&&i.bottom>t.bottom&&i.top<t.top&&i.right>t.right;case"bottom":return i.bottom-o>t.bottom&&i.left<t.left&&i.right>t.right&&i.top<t.top;case"right":return i.right-o>t.right&&i.left<t.left&&i.top<t.top&&i.bottom>t.bottom}}},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return v}));var n=i(1),o=i.n(n),s=i(2),r=i.n(s),a=i(0),l=i.n(a),c=i(3),d=i.n(c);function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?p(e):t}(this,g(t).call(this,e)),m(p(i),"getContainer",(function(){return i.props.containment||window})),m(p(i),"addEventListener",(function(e,t,n,o){var s;i.debounceCheck||(i.debounceCheck={});var r=function(){s=null,i.check()},a={target:e,fn:o>-1?function(){s||(s=setTimeout(r,o||0))}:function(){clearTimeout(s),s=setTimeout(r,n||0)},getLastTimeout:function(){return s}};e.addEventListener(t,a.fn),i.debounceCheck[t]=a})),m(p(i),"startWatching",(function(){i.debounceCheck||i.interval||(i.props.intervalCheck&&(i.interval=setInterval(i.check,i.props.intervalDelay)),i.props.scrollCheck&&i.addEventListener(i.getContainer(),"scroll",i.props.scrollDelay,i.props.scrollThrottle),i.props.resizeCheck&&i.addEventListener(window,"resize",i.props.resizeDelay,i.props.resizeThrottle),!i.props.delayedCall&&i.check())})),m(p(i),"stopWatching",(function(){if(i.debounceCheck)for(var e in i.debounceCheck)if(i.debounceCheck.hasOwnProperty(e)){var t=i.debounceCheck[e];clearTimeout(t.getLastTimeout()),t.target.removeEventListener(e,t.fn),i.debounceCheck[e]=null}i.debounceCheck=null,i.interval&&(i.interval=clearInterval(i.interval))})),m(p(i),"check",(function(){var e,t,n=i.node;if(!n)return i.state;if(e=function(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}(i.roundRectDown(n.getBoundingClientRect())),i.props.containment){var o=i.props.containment.getBoundingClientRect();t={top:o.top,left:o.left,bottom:o.bottom,right:o.right}}else t={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var s=i.props.offset||{};"object"===h(s)&&(t.top+=s.top||0,t.left+=s.left||0,t.bottom-=s.bottom||0,t.right-=s.right||0);var r={top:e.top>=t.top,left:e.left>=t.left,bottom:e.bottom<=t.bottom,right:e.right<=t.right},a=e.height>0&&e.width>0,l=a&&r.top&&r.left&&r.bottom&&r.right;if(a&&i.props.partialVisibility){var c=e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left;"string"===typeof i.props.partialVisibility&&(c=r[i.props.partialVisibility]),l=i.props.minTopValue?c&&e.top<=t.bottom-i.props.minTopValue:c}"string"===typeof s.direction&&"number"===typeof s.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",s.direction,s.value),l=d()(s,e,t));var u=i.state;return i.state.isVisible!==l&&(u={isVisible:l,visibilityRect:r},i.setState(u),i.props.onChange&&i.props.onChange(l)),u})),i.state={isVisible:null,visibilityRect:{}},i}var i,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),i=t,(n=[{key:"componentDidMount",value:function(){this.node=r.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(e){this.node=r.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):o.a.Children.only(this.props.children)}}])&&u(i.prototype,n),s&&u(i,s),t}(o.a.Component);m(v,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:o.a.createElement("span",null)}),m(v,"propTypes",{onChange:l.a.func,active:l.a.bool,partialVisibility:l.a.oneOfType([l.a.bool,l.a.oneOf(["top","right","bottom","left"])]),delayedCall:l.a.bool,offset:l.a.oneOfType([l.a.shape({top:l.a.number,left:l.a.number,bottom:l.a.number,right:l.a.number}),l.a.shape({direction:l.a.oneOf(["top","right","bottom","left"]),value:l.a.number})]),scrollCheck:l.a.bool,scrollDelay:l.a.number,scrollThrottle:l.a.number,resizeCheck:l.a.bool,resizeDelay:l.a.number,resizeThrottle:l.a.number,intervalCheck:l.a.bool,intervalDelay:l.a.number,containment:"undefined"!==typeof window?l.a.instanceOf(window.Element):l.a.any,children:l.a.oneOfType([l.a.element,l.a.func]),minTopValue:l.a.number})},function(e,t,i){"use strict";var n=i(6);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,s,r){if(r!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return i.PropTypes=i,i}},function(e,t,i){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=n(i(2791),i(4164))},6374:(e,t,i)=>{"use strict";var n=i(2791),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,s={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function v(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||p}function b(){}function _(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=_.prototype=new b;w.constructor=_,f(w,v.prototype),w.isPureReactComponent=!0;var y=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function L(e,t,n){var o,s={},r=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(r=""+t.key),t)C.call(t,o)&&!k.hasOwnProperty(o)&&(s[o]=t[o]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===s[o]&&(s[o]=l[o]);return{$$typeof:i,type:e,key:r,ref:a,props:s,_owner:S.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,o,s,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=e),e=""===s?"."+E(l,0):s,y(r)?(o="",null!=e&&(o=e.replace(D,"$&/")+"/"),N(r,t,o,"",(function(e){return e}))):null!=r&&(x(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,o+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(D,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=""===s?".":s+":",y(e))for(var c=0;c<e.length;c++){var d=s+E(a=e[c],c);l+=N(a,t,o,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,o,d=s+E(a,c++),r);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,i){if(null==e)return e;var n=[],o=0;return N(e,n,"","",(function(e){return t.call(i,e,o++)})),n}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},M={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,i){T(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=r,t.PureComponent=_,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),s=e.key,r=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:s,ref:r,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=L,t.createFactory=function(e){var t=L.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,i){return A.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,i){return A.current.useReducer(e,t,i)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return A.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:(e,t,i)=>{"use strict";e.exports=i(9117)},184:(e,t,i)=>{"use strict";e.exports=i(6374)},474:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s="undefined"!==typeof i.g&&i.g.Math===Math?i.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),r="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,o=0;function s(){i&&(i=!1,e()),n&&l()}function a(){r(s)}function l(){var e=Date.now();if(i){if(e-o<2)return;n=!0}else i=!0,n=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;a.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},u=b(0,0,0,0);function g(e){return parseFloat(e)||0}function p(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+g(e["border-"+i+"-width"])}),0)}function f(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return u;var n=h(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],s=e["padding-"+o];t[o]=g(s)}return t}(n),s=o.left+o.right,r=o.top+o.bottom,a=g(n.width),l=g(n.height);if("border-box"===n.boxSizing&&(Math.round(a+s)!==t&&(a-=p(n,"left","right")+s),Math.round(l+r)!==i&&(l-=p(n,"top","bottom")+r)),!function(e){return e===h(e).document.documentElement}(e)){var c=Math.round(a+s)-t,d=Math.round(l+r)-i;1!==Math.abs(c)&&(a-=c),1!==Math.abs(d)&&(l-=d)}return b(o.left,o.top,a,l)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return o?m(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):f(e):u}function b(e,t,i,n){return{x:e,y:t,width:i,height:n}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var i=function(e){var t=e.x,i=e.y,n=e.width,o=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,r=Object.create(s.prototype);return d(r,{x:t,y:i,width:n,height:o,top:i,right:t+n,bottom:o+i,left:t}),r}(t);d(this,{target:e,contentRect:i})},y=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!==typeof WeakMap?new WeakMap:new n,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=c.getInstance(),n=new y(t,i,this);C.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));const k="undefined"!==typeof s.ResizeObserver?s.ResizeObserver:S},6813:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,o=e[n];if(!(0<s(o,t)))break e;e[n]=t,e[i]=o,i=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,o=e.length,r=o>>>1;n<r;){var a=2*(n+1)-1,l=e[a],c=a+1,d=e[c];if(0>s(l,i))c<o&&0>s(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[a]=i,n=a);else{if(!(c<o&&0>s(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function s(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,u=null,g=3,p=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,i(c,t)}t=n(d)}}function y(e){if(m=!1,w(e),!f)if(null!==n(c))f=!0,M(C);else{var t=n(d);null!==t&&O(y,t.startTime-e)}}function C(e,i){f=!1,m&&(m=!1,b(x),x=-1),p=!0;var s=g;try{for(w(i),u=n(c);null!==u&&(!(u.expirationTime>i)||e&&!N());){var r=u.callback;if("function"===typeof r){u.callback=null,g=u.priorityLevel;var a=r(u.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?u.callback=a:u===n(c)&&o(c),w(i)}else o(c);u=n(c)}if(null!==u)var l=!0;else{var h=n(d);null!==h&&O(y,h.startTime-i),l=!1}return l}finally{u=null,g=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,L=null,x=-1,D=5,E=-1;function N(){return!(t.unstable_now()-E<D)}function T(){if(null!==L){var e=t.unstable_now();E=e;var i=!0;try{i=L(!0,e)}finally{i?S():(k=!1,L=null)}}else k=!1}if("function"===typeof _)S=function(){_(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){v(T,0)};function M(e){L=e,k||(k=!0,S())}function O(e,i){x=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,M(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(g){case 1:case 2:case 3:var t=3;break;default:t=g}var i=g;g=t;try{return e()}finally{g=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=g;g=e;try{return t()}finally{g=i}},t.unstable_scheduleCallback=function(e,o,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:o,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>r?(e.sortIndex=s,i(d,e),null===n(c)&&e===n(d)&&(m?(b(x),x=-1):m=!0,O(y,s-r))):(e.sortIndex=a,i(c,e),f||p||(f=!0,M(C))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=g;return function(){var i=g;g=t;try{return e.apply(this,arguments)}finally{g=i}}}},5296:(e,t,i)=>{"use strict";e.exports=i(6813)},2806:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},8637:(e,t,i)=>{"use strict";var n=i(2791);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,n,d){var h=r(null);if(null===h.current){var u={hasValue:!1,value:null};h.current=u}else u=h.current;h=l((function(){function e(e){if(!a){if(a=!0,s=e,e=n(e),void 0!==d&&u.hasValue){var t=u.value;if(d(t,e))return r=t}return r=e}if(t=r,o(s,e))return t;var i=n(e);return void 0!==d&&d(t,i)?t:(s=e,r=i)}var s,r,a=!1,l=void 0===i?null:i;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,i,n,d]);var g=s(e,h[0],h[1]);return a((function(){u.hasValue=!0,u.value=g}),[g]),c(g),g}},7995:(e,t,i)=>{"use strict";e.exports=i(8637)}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var s=Object.create(null);i.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(s,r),s}})(),i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".96860f01.chunk.js",i.miniCssF=e=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="imaggar-technologies:";i.l=(n,o,s,r)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[o];var u=(t,i)=>{a.onerror=a.onload=null,clearTimeout(g);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(i))),t)return t(i)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",(()=>{var e={179:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise(((i,n)=>o=e[t]=[i,n]));n.push(o[2]=s);var r=i.p+i.u(t),a=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,s,r=n[0],a=n[1],l=n[2],c=0;if(r.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)l(i)}for(t&&t(n);c<r.length;c++)s=r[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkimaggar_technologies=self.webpackChunkimaggar_technologies||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{hasBrowserEnv:()=>dn,hasStandardBrowserEnv:()=>hn,hasStandardBrowserWebWorkerEnv:()=>un});var t={};i.r(t),i.d(t,{CancellationTokenSource:()=>U8,Emitter:()=>K8,KeyCode:()=>q8,KeyMod:()=>G8,MarkerSeverity:()=>J8,MarkerTag:()=>$8,Position:()=>Y8,Range:()=>Z8,Selection:()=>Q8,SelectionDirection:()=>X8,Token:()=>tee,Uri:()=>eee,editor:()=>iee,languages:()=>nee});var n,o=i(2791),s=i.t(o,2),r=i(1250),a=i(4164),l=i.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(i){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,i,n){return void 0===i&&(i=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:i,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:i="",hash:n=""}=e;return i&&"?"!==i&&(t+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t,i,o){void 0===o&&(o={});let{window:s=document.defaultView,v5Compat:r=!1}=o,a=s.history,l=n.Pop,u=null,m=v();function v(){return(a.state||{idx:null}).idx}function b(){l=n.Pop;let e=v(),t=null==e?null:e-m;m=e,u&&u({action:l,location:w.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,i="string"===typeof e?e:f(e);return h(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let w={get action(){return l},get location(){return e(s,a)},listen(e){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(d,b),u=e,()=>{s.removeEventListener(d,b),u=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=n.Push;let o=p(w.location,e,t);i&&i(o,e),m=v()+1;let c=g(o,m),d=w.createHref(o);try{a.pushState(c,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}r&&u&&u({action:l,location:w.location,delta:1})},replace:function(e,t){l=n.Replace;let o=p(w.location,e,t);i&&i(o,e),m=v();let s=g(o,m),c=w.createHref(o);a.replaceState(s,"",c),r&&u&&u({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,i){void 0===i&&(i="/");let n=M(("string"===typeof t?m(t):t).pathname||"/",i);if(null==n)return null;let o=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let i=e.length===t.length&&e.slice(0,-1).every(((e,i)=>e===t[i]));return i?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let r=0;null==s&&r<o.length;++r)s=T(o[r],A(n));return s}function w(e,t,i,n){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===n&&(n="");let o=(e,o,s)=>{let r={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};r.relativePath.startsWith("/")&&(h(r.relativePath.startsWith(n),'Absolute route path "'+r.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(n.length));let a=F([n,r.relativePath]),l=i.concat(r);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var i;if(""!==e.path&&null!=(i=e.path)&&i.includes("?"))for(let n of y(e.path))o(e,t,n);else o(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[i,...n]=t,o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===n.length)return o?[s,""]:[s];let r=y(n.join("/")),a=[];return a.push(...r.map((e=>""===e?s:[s,e].join("/")))),o&&a.push(...r),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:\w+$/,S=3,k=2,L=1,x=10,D=-2,E=e=>"*"===e;function N(e,t){let i=e.split("/"),n=i.length;return i.some(E)&&(n+=D),t&&(n+=k),i.filter((e=>!E(e))).reduce(((e,t)=>e+(C.test(t)?S:""===t?L:x)),n)}function T(e,t){let{routesMeta:i}=e,n={},o="/",s=[];for(let r=0;r<i.length;++r){let e=i[r],a=r===i.length-1,l="/"===o?t:t.slice(o.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(n,c.params);let d=e.route;s.push({params:n,pathname:F([o,c.pathname]),pathnameBase:B(F([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=F([o,c.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[i,n]=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,i)=>(n.push({paramName:t,isOptional:null!=i}),i?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let s=new RegExp(o,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let s=o[0],r=s.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=n.reduce(((e,t,i)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=a[i]||"";r=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[i];return e[n]=o&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(i){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+i+")."),e}}(l||"",n),e}),{});return{params:l,pathname:s,pathnameBase:r,pattern:e}}function A(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,n=e.charAt(i);return n&&"/"!==n?null:e.slice(i)||"/"}function O(e,t,i,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t,i,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=m(e):(o=c({},e),h(!o.pathname||!o.pathname.includes("?"),O("?","pathname","search",o)),h(!o.pathname||!o.pathname.includes("#"),O("#","pathname","hash",o)),h(!o.search||!o.search.includes("#"),O("#","search","hash",o)));let s,r=""===e||""===o.pathname,a=r?"/":o.pathname;if(null==a)s=i;else if(n){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();o.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:i,search:n="",hash:o=""}="string"===typeof e?m(e):e,s=i?i.startsWith("/")?i:function(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?i.length>1&&i.pop():"."!==e&&i.push(e)})),i.length>1?i.join("/"):"/"}(i,t):t;return{pathname:s,search:V(n),hash:W(o)}}(o,s),d=a&&"/"!==a&&a.endsWith("/"),u=(r||"."===a)&&i.endsWith("/");return l.pathname.endsWith("/")||!d&&!u||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],j=(new Set(H),["get",...H]);new Set(j),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},U.apply(this,arguments)}const K=o.createContext(null);const q=o.createContext(null);const G=o.createContext(null);const Y=o.createContext(null);const Z=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=o.createContext(null);function X(){return null!=o.useContext(Y)}function J(){return X()||h(!1),o.useContext(Y).location}function $(e){o.useContext(G).static||o.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=o.useContext(Z);return e?function(){let{router:e}=ce(ae.UseNavigateStable),t=he(le.UseNavigateStable),i=o.useRef(!1);$((()=>{i.current=!0}));let n=o.useCallback((function(n,o){void 0===o&&(o={}),i.current&&("number"===typeof n?e.navigate(n):e.navigate(n,U({fromRouteId:t},o)))}),[e,t]);return n}():function(){X()||h(!1);let e=o.useContext(K),{basename:t,navigator:i}=o.useContext(G),{matches:n}=o.useContext(Z),{pathname:s}=J(),r=JSON.stringify(R(n).map((e=>e.pathnameBase))),a=o.useRef(!1);$((()=>{a.current=!0}));let l=o.useCallback((function(n,o){if(void 0===o&&(o={}),!a.current)return;if("number"===typeof n)return void i.go(n);let l=P(n,JSON.parse(r),s,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:F([t,l.pathname])),(o.replace?i.replace:i.push)(l,o.state,o)}),[t,i,r,s,e]);return l}()}function te(e,t,i){X()||h(!1);let{navigator:s}=o.useContext(G),{matches:r}=o.useContext(Z),a=r[r.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let d,u=J();if(t){var g;let e="string"===typeof t?m(t):t;"/"===c||(null==(g=e.pathname)?void 0:g.startsWith(c))||h(!1),d=e}else d=u;let p=d.pathname||"/",f=_(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});let v=re(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:F([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:F([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),r,i);return t&&v?o.createElement(Y.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:n.Pop}},v):v}function ie(){let e=function(){var e;let t=o.useContext(Q),i=de(le.UseRouteError),n=he(le.UseRouteError);if(t)return t;return null==(e=i.errors)?void 0:e[n]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),i?o.createElement("pre",{style:s},i):null,null)}const ne=o.createElement(ie,null);class oe extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?o.createElement(Z.Provider,{value:this.props.routeContext},o.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:i,children:n}=e,s=o.useContext(K);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),o.createElement(Z.Provider,{value:t},n)}function re(e,t,i){var n;if(void 0===t&&(t=[]),void 0===i&&(i=null),null==e){var s;if(null==(s=i)||!s.errors)return null;e=i.matches}let r=e,a=null==(n=i)?void 0:n.errors;if(null!=a){let e=r.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||h(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,n,s)=>{let l=n.route.id?null==a?void 0:a[n.route.id]:null,c=null;i&&(c=n.route.errorElement||ne);let d=t.concat(r.slice(0,s+1)),h=()=>{let t;return t=l?c:n.route.Component?o.createElement(n.route.Component,null):n.route.element?n.route.element:e,o.createElement(se,{match:n,routeContext:{outlet:e,matches:d,isDataRoute:null!=i},children:t})};return i&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?o.createElement(oe,{location:i.location,revalidation:i.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=o.useContext(K);return t||h(!1),t}function de(e){let t=o.useContext(q);return t||h(!1),t}function he(e){let t=function(e){let t=o.useContext(Z);return t||h(!1),t}(),i=t.matches[t.matches.length-1];return i.route.id||h(!1),i.route.id}s.startTransition;function ue(e){let{to:t,replace:i,state:n,relative:s}=e;X()||h(!1);let{matches:r}=o.useContext(Z),{pathname:a}=J(),l=ee(),c=P(t,R(r).map((e=>e.pathnameBase)),a,"path"===s),d=JSON.stringify(c);return o.useEffect((()=>l(JSON.parse(d),{replace:i,state:n,relative:s})),[l,d,s,i,n]),null}function ge(e){h(!1)}function pe(e){let{basename:t="/",children:i=null,location:s,navigationType:r=n.Pop,navigator:a,static:l=!1}=e;X()&&h(!1);let c=t.replace(/^\/*/,"/"),d=o.useMemo((()=>({basename:c,navigator:a,static:l})),[c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:u="/",search:g="",hash:p="",state:f=null,key:v="default"}=s,b=o.useMemo((()=>{let e=M(u,c);return null==e?null:{location:{pathname:e,search:g,hash:p,state:f,key:v},navigationType:r}}),[c,u,g,p,f,v,r]);return null==b?null:o.createElement(G.Provider,{value:d},o.createElement(Y.Provider,{children:i,value:b}))}function fe(e){let{children:t,location:i}=e;return te(me(t),i)}new Promise((()=>{}));o.Component;function me(e,t){void 0===t&&(t=[]);let i=[];return o.Children.forEach(e,((e,n)=>{if(!o.isValidElement(e))return;let s=[...t,n];if(e.type===o.Fragment)return void i.push.apply(i,me(e.props.children,s));e.type!==ge&&h(!1),e.props.index&&e.props.children&&h(!1);let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=me(e.props.children,s)),i.push(r)})),i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const ve=s.startTransition;l.flushSync;function be(e){let{basename:t,children:i,future:n,window:s}=e,r=o.useRef();null==r.current&&(r.current=function(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:i,search:n,hash:o}=e.location;return p("",{pathname:i,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:s,v5Compat:!0}));let a=r.current,[l,c]=o.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},h=o.useCallback((e=>{d&&ve?ve((()=>c(e))):c(e)}),[c,d]);return o.useLayoutEffect((()=>a.listen(h)),[a,h]),o.createElement(pe,{basename:t,children:i,location:l.location,navigationType:l.action,navigator:a})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var _e,we;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(we||(we={}));const ye={title:"Mechanize Your Business Using",spanText:"Transforming Small and Enterprise Operations",paragraph:"Imagger Technologies specializes in cutting-edge software solutions tailored to streamline operations for small and enterprise businesses. Our innovative tools are designed to enhance productivity, simplify workflows, and elevate your business performance.",buttonText:"Contact Us",imageUrl:"https://www.haptik.ai/hs-fs/hubfs/Homepage_main-5-10-23.webp?width=4608&height=3771&name=Homepage_main-5-10-23.webp",imageAlt:"Imagger Technologies",demoLink:"/contact",technologies:[{techTitle:"Workflow Optimization",techDescription:"Enhance efficiency by optimizing and automating workflows tailored to your business needs."},{techTitle:"Business Intelligence",techDescription:"Gain valuable insights through advanced analytics and data-driven decision-making tools."},{techTitle:"Collaboration Solutions",techDescription:"Facilitate seamless collaboration among teams with our intuitive software solutions."}]};var Ce=i(184);const Se=()=>{const{title:e,spanText:t,paragraph:i,buttonText:n,imageUrl:o,imageAlt:s,demoLink:r}=ye;return(0,Ce.jsx)("div",{className:"mobile-landing-container",children:(0,Ce.jsxs)("div",{className:"mobile-row",children:[(0,Ce.jsx)("div",{className:"mobile-col",children:(0,Ce.jsxs)("div",{className:"mobile-text-col",children:[(0,Ce.jsxs)("h1",{children:[e," ",(0,Ce.jsx)("span",{children:t})]}),(0,Ce.jsx)("p",{className:"mobile-landing-praragraph",children:i}),(0,Ce.jsx)("div",{className:"mobile-buttons-row",children:(0,Ce.jsx)("a",{className:"mobile-button-landingpage section-link",href:r,children:n})})]})}),(0,Ce.jsx)("div",{className:"mobile-col",children:(0,Ce.jsx)("div",{className:"mobile-image-col",children:(0,Ce.jsx)("img",{src:o,alt:s})})}),(0,Ce.jsx)("div",{className:"mobile-second-row",children:ye.technologies.map(((e,t)=>(0,Ce.jsxs)("div",{className:"mobile-card",children:[(0,Ce.jsx)("h2",{children:e.techTitle}),(0,Ce.jsx)("p",{children:e.techDescription})]},t)))})]})})};var ke=i(5717);const Le=[{id:1,image:i.p+"static/media/client1.3191fa1d097df31c0aee.png",alt:"Client 1"},{id:2,image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAB1CAYAAABwBK68AAAACXBIWXMAAAsSAAALEgHS3X78AAAVPUlEQVR4nO2dD3AUVZ7HX7pbAZFkcGtVBC6TTPhTi5gJgaCwmJZlcTF/GLT4s+iRAerE85Z1EPljnSXDlVeGPy5DodyiBUwoyfKnMJOQwOqhTPTAJUSYgIdCMmFygFh6p8kdJCbQ7129ntfjm5meme75P2G+VV0ThmS6pz/9+73f+733fi8DIQT6i7750MBnsAxgWJZnWAZkMCzIYBjAMBkAZGQAgBAQvy1+hQggBPHPDgRRJ0LQdT9/0NUfbkVKQr2093E9w7F6hmV/fmXZLIZlAYEKVED1/IwgPlALgtCBIHQhCO3Dn6q3J/4bq1NKQD23vUDLcCzvPjiDCJBj3fCkV3L4QG0MAlWPEMySgUpevY5GDBgK0KZ95pgj8XckuJIW6ulNozUMxxlZjjUyLJcvwhMPjobZxXCsg2FZO8OyLnxksIxj2IwPOtWc6/vG+RiwBkHII4i0CEI9gjDfFy4U8KvQgQRoQxBadQs/S0rASQe1acMoA4LQyHDsbAyQFeFxBCjbwXCcXYTIsfa8+cdj2gZeO1LKu0GLRzGBCpAgQRY6EIQWKAjWsUtOq3qQYqmkgHrWMk4DITQgAZohhNn4hklWyWKQLGdjONb68PPNCbOM/7LN1EABGhAU8HXOJlCB51WAVVAQzONecCQ82Eoo1HNv52OYJgShCUKYhS0Aul0ddqs2huMshSsuJJ2La99XjF21AQoCvvZ8ApXAFWohFMyPLE/cdScM6vntBUbRdWGYkMAUYAeE0IwgtE1+1Zk07iyYLlU9ykNBMCIBVhCoAIouWqiCAjQXrGyNu+XGHeqF94p4BAULFNyBCLFMEWbhy19Zo3GOlm2PaHu7e7QDBt+jHTQ0UzsoKxMMGHIvuGvgAABv3wa3e3vB7Z6f7H3dPa6cuZ9E5aZ/9V6hFrtfJAgVBKo7sEJoPUDAMmFVW9we0rhBvbh7ioZYZgUONtxBhxum/o/nw4Z5qfpJzZDMu7Er1Pd29+j7uruLe7t7AD4GDL4HDBqaCQJABX3dPaDv5s2uvhs37Ld6em0CRLZJayLzEF++M16L3a8I1w0VAAQ6EADGwlVtcenzxgVq655fG6AArQjCLLdlCl1QgJbxL541R/K5H1c+Zhr5d5nmIZl3Z2HXh0H2dXcDlVBB340b4FZPLxDE/iqo6u0D1mmvOyMC0GIZw+PviBDKByJX3D8GtRjuxNWxtVomlh/eXs1r2t5/3AIAqAEAZJG3GwEA+kiBbp6bawAAbKE+N1qqAAAcr3lZJ+s9Ns/N1So5T77por1gZaseALACANBF3p4NAHA0b9Dpo3zNXooZ1Mv7puMvj5/2l8hb+Iut+NU/NPHjln0RsB3bvzxXs8MoAgslS6yunahi51LZ67jc9A7vulZXZr5aM0sT6kMmvNKGrxNDbCFvZeNe3OkNOlMsLhrECmrHwRk8fiLxA0vewl9IP3bp3wKCOPWmTv/RP4vW4SKWHUrZsbh2H/EB3sfnXgcA+LG1aqoVB2bBPmTCqjZX4ao2DHY99faW05U6a1OlLuSDoVZRh3rl0JNG7L4ot7h11KL/0I9ZfFLWOps36PimSh226LPE9UXbnUYiJW6yQrTeDaMsX1dNCQqocHUbbnKeoNwx/lt7tMFGFerVmlnYEndTby3Oe+5TWTdzfts4/ZlNeXbyABRH8zoSJNzMuK4eKQsaK0xcLUbAtDvG3szRVBm9djZqUL+pK7H6tJ8FuQvtfsFG+/5izcVdRRZimf0BJi3sZdb98Plzrv85sTCQ6wYT1zhdxLU3krewO7fjJigaFxEVqNfry6zElQAClM9Z8IlfmuxK3e+ktvYl/0/pV8KQjn/773MsHR/MkHWtuD88aa0T348q8lZWtMBGDPXbhnIaqBgQZc/1H3O8/pHBTFxtPAIcWvgh2woAmEPaM/xzR5zOjR9ex8VdkwJabdFapzHaYCOC+m1DudkHKD/ymQ+9AqIfTj6r+b5xnp1Ei4r11jxl/UEFMo0sbTDdX7zfNnTyHvsvplabSJvWGPEnK5NotWc35wVsa+XAnngj/OApbKjX68uMFChsDcYRc456ZUp+PLVI6quG03ZGA2rH6Gc/82vXH5h+qDMO/VxfrWveoMNWKAtLDqzdHB7YsKBeqyvTU1Gu2IY+VN7g5XK/s8/T+/RVE6FgyfpwU3VdCn4nkPDD7apfLe9eJ78qgq0l/8T3zRbOSVRDvWIrlaxPkmFY6WEvoFfqS/Tkd5Kpz+mrcKHyEbpufE/Ovrs4N1A7a6S6O8XHXtOp9ijhWKqNgrX4wZI6r8R36194TQoABcNLGsIaxH7lYLuj6J/sGEgO5S7DkSwsMo7MUx7hpaNrdUrSph6pguo69JSFcqdVD5bUebVX53cUpgTQaGh4+WHXiDlHsVUtDvPjAjZLBCwN0np4lU5xjKEYqnP/LJ7qX2L3IJcpsiW4DY27RlWcsEbYzspq6mvi0N8K8n/YSBSPOSuC+vX7MzXUh4qR7rDSw15tUtPGUeZ+mCFSqpjMR+LNTgvVfhd/sELZyI5SSzVTSQPz8HLvwOjMn37Fq+2HpqVYRsoTmA8sD91/Dwn13K4ZesrtNo401Hs18F/+2wRNuKF3InWtoSRayY2YasYbYp5YSlxkKelfK7FU+kPkzN+aooFRSsxWxJpV6eWGZ1e/GLA7JCoo1OY/P2Gg2smt2meOeLndS9YpPJmioUYtKn8/Jhpe0qAEaizBq80/0wYV1Fq5EB8k/XEX5QJoqZ0FWEX+5rjKv4uJcuZ+khGnUzWSJmoL9Z6qqallm5yOD1botpKmMH/Pslzjoh3tsvc/oKWesEwz0sGRbr53XvfyvulmlSMuLSPL/2pU8fv9SgXuuUoFEY4QmemgKdAvBXO/0h91jH3uIy9z/6a2RBOgfQ2kriDzfe4YTVzjdJARorAyUU9vcdIDEdm7lubKGoks1I8rH/OyUplfMakMjgzDZtpSJjCJpXC2qHSjmLgP12tZKGuVNaxAliqdsOuRJce8/Pb1+nK1Vrr+l8UHUm41dqz1/O72sJZ7zNvWTltr/rtG/0jYD+rh1yfpqYhXLspSY6Ud903ZG9Gk7bRkRRuan8XLWSpthXLRlRorvWMDo1hq4XbRyqV2uWL7olyvwXQ5qNLoQO3EF7xXajsPzDKqsNJaPH0kmW5GP1NAa/WCum+l3kBBk7NSNeN6kSwrqF15oD39QATRoh3i/ZG6R15QfZMPErSuqabPvPK5n297XHP/A4OVZo+q7ucPyAYCufMb8cXEq9Pf32WTkhHbns3VLt/rDr583a8EVS5Br8ZK08FRfER7Uw8fD9Sdy8ThM8n1RgK1cWRpQ7+oHJbsWrKz3UG5YE/XhrZUz5u/Wfu5HFSlGaGoLPFPS7EkVp6mUQ6q30y5PX8YzyuMertG/d5//cwdoETO+PAElJYF7kQEDbXY95coKV0GkHKD5amu563t9D3/GaplYR7tWuWgKnW96W5IYiR5V9H4OPofWGX/cloOjNKpH4os9eKuIm3fzZvaWz/1AggRgEisAQm6bgDw4/8i0Pl/wLXMGl5u9A6Vg3haWaiBZiUomfbZMn7ZFyFHYtr3F2vJRQRro1vempfLrzzQnh7ZUSZpRoo4sia1qZIl+lnH5rm5SttTpdMktQqCrnwV7XhaFDdsDBJU6QbKgVG68irp6+D2V724xyulqpGgSpYjB0Zpe5qGmlhJSQg94+Ne5dowpVCjXjomLVXyuGDOB0YkEWfN+R2FYGDmEDBwyGAw4N7B4K5BA8XCi8KtW+B2bx+4/dNPaUyxF++V0F/wVuILEKcVtjztKhOlZfhpJZHSUPuhYlpFNK2ESJ+G2v+UlYbaD5WG2v/UyCjom6aH01JMSqCmlWLymiK6b6Ves+Ath2+qUCn0KoXzk/Q+6zTTio48Exk4n3yv3tfdvnKw3bXnD+OVnNU1ftkXIV11+/47tYBL3ORgcAUv6myBkvJJsaQ/raCSBmY6faPfQAPTSlxwepQmsZKGT10SVGniUqCUoZKx0vRMhQRp+yKvNaoeqJIlRgK1mNQmTCv+ork5pOhXghooilHaV+VDzShML5CKiSQv2YUn60mW6oFGVpJ7adHb5zsVVhVRVcI0rajJa46ZCNVU7bVbYKCJ20qsNQ01MfJaXUFHv1K3JRBUJRO1s1r/wqdLAsRRPoU8/KBKlhiJpYJ0nYe4y+MdTfvaA0LN+rjyMT+wjy3/tJMq2h9MxVfqU6NCZz+R32pFD9SlOy7Q7jVQ26h0VVt6JXkctGupWPtXWhLjYeObUZIsMVKoFd/Z56WtNfaiOXnY+BbysJEVydknLNP4qabPvNpR3byjndfry6uoXaOCyRjIYvEGfn03b+qDrHqzLbO2x3szoFSUFL+0SEU8gIyl2qi6d4ECHqU3ex3ZQUpOL5EwPNCxBS/06c80ItWeZeLKCsn1eg15+k7m7qTM2ND85yf80n7DSuscKjbbSbetsRNdp8qrWZSboyRRzwpirUphVfxw8tm0xUVZ1S+KZes8lele3OO9QNsPKllJLqUEZauWPTS7wa7CWtNtY/RlDFaZLtBsQskSs8/tmhGpteZ/3zgv7YajK8nYOnwKeYiShfqbtZ9bQ5X1zlnwiRprXXf9I0N6vDUKOrA8N1SB7aDzfj1lvb9+f2YgazWq2BLLfqXud+nx1sjlKYO/ZKfKjRF8ynqbnftn+QEZbTzpUtFmihu94o3mY/udE6Ko7/Umpw9W6MyhrBQEgzrV9Fkn5buzAwVND//jGbOKiWn5/bSMgKrvVL9aZ3h3ca6qAPLwKh1d5r4j0PYlINSyi4kvHLfSkbDr0FOBkgkGFU9rvDeaTxo1b9Dxp97U4VikhtpqTaksVMQbtJZyqM2GAGk3j1PbPfr1Oye8fMHVtHGUkVxsyujywem4SJex78YNcKunFwgQienK3j4A/rsTgB+6kG3pzvZoeBbN2c15VoXpVT8dXavjqb9tXLjdP+KlFXKB1CNLjtmpRH/xFVup7FNStLoVn2hrOBedQGnJbpKBjrN/mq+4jlQw5YcL9NhrOk2ojRB8pXTVm9d2j9fqymTd8PhlX5gUjrmmkhId2NHB0fp520KX91MEdexzH3VST0hWiCE4Y3pGvyKFnMhnN4t7kXt2l356i1NREkfx+lTd/KM2ygrzr9eXyUZvo35vlzZKv5PAhuOig1rciTfEPci9dpdW+sFqFx0bqSfspW8bymVPNLK04Y4B21o1VUmtRVU69aZO2mjYE+3iXRmVfoYqqNpnjnT6dF8s3zaUyz6l9/MH+j3YqzWztDEqL2+hxkqrZlU6VZ1DdXmAkYZ6B9VPErNE1+vLZMEOnbynX4Jteoc3XKsrw5Z0OYJS67KzM0+9qaO7Pi3h7O8TVs2H4eWHrVT3Rey/flNXIhsl3jdlrwQ2rO0lk02b54qZoJowdnimtV4uvXrqTZ2RAipuTzrjDafqmsdhF/IYVnrYRIHCrsJ+tcY/P4z1y+IDncNm2vAFrwj3fGEqFpPf1GaCaOFAM6d0o9P8/G7vAtVNlSLQ3eSfIlDerB4oiLQ6y4MldUY6IhZHYg49GbBfN7L8r/jpfCLC3X7VKFRKMl59UOxGn5i4xmmY/KrTL+qVAzr1NeWBka+iUXKH7peKYDsOzghoIWTVmz5eSYpLe6cF69vFejUBBrR4zJLT+oJX2mTbUDmgk18NHyhQmPsNqgdL6jqv15dJSxiLpZGYy/um8zkLPpG9uDFLmsQo+symPANpW2KZ5F93pb5k3YAh94K7Bg4A8PZtcLu3F9zuiXmZWrHdzH76WEAXerrSKyiKClAQreJYw0oPdz5U3kAHQ+6x0+rgi6UmrGqzEatdH68xyTgI34OcX0ytNj/42xpZoM0bdJrTG3S2WAAF0a54NmLOUaMP2N1t7z8eNLU1cY2zs2itmP7SpniEjKf25Ix46rDxvsfeD5gtat6YJ1XAkaJnHF/wRWujAxTEoozdyGc+xGAXU2+ta93za/vF3VOCBiV4A/aZ/ypuwJ6Do2QF+6cmg2V3kQexoGhNKz+24mTQ1N8XG/OMBKiUWMCxiD6aQEE02lQ5Zc89Zr28b7qLSnXhttb19c5HjWOX/i3oWOB89yiEklkB9gj7ikrle8O7yPeyjZhzVNHaojOb8jTInXmir7dq0lpnTAK1mEAFZLZhezWvpQIoDLfmwntFtQgKxnEKNiYKIUscoG59eb93f/KVg+2qukFnNovBoJXK44rJ+UlrnDHbFy+mVURzF9o78577lCdJB8ldYhCu89sLItneGt9cO3HzsXLDVUt3tod9jS2WMdqzb42ykeyTBBS3u/qJMQSKlYHw/I046OLuKVoEoRVCWIygAKAAAYKwBUJo0v/xfNiVSi9VP6kdknm3AQqCobe7p7ivuxv0dveIx4DB94BBQzPBoKxMINel6evuAX03bwJqOksXQsDW2wes0153hnVNX74zXgOhYEKCsE78jvj+ItCFADAXrmqLy2qFuEGVdOG9IiOCggUKMAtBCCAU4TZCCM2FL38VcRnar3dO1vR29+gJVM2goZl6BVAdt3p6XRNWtYUdsHz1XqEGCiJME4RCFt66hUCtBQiYJqxqi1u11rhDxfrPHfgGQBOCcB2B6oYriHAtRWtaU2Yf1ktVj2rdMKERCgQmFPB+PI1QgOaCla1xr5ecEKiSzr2dr8UWiiCsIFAly+1gONbKcJy1cMWFpKxH7Kyehl2+EUE4GwqC+9rFV6EDQsH8yPILCdvxOaFQJZ21jMNw3U87dLtlhmMBw3GA5dhahuVsDMfaHn6+OaFbb7oOzdDjyB1fJ4IwS4QIJZiwEQqCZdwLjoR7maSAKql50xgNhNCAIDQxHJtPoAKG5QhktpHhODvDsvbRz34ac7d27UgpDu54chjccYDbKgnMLgShDcMcu+R00qw8SCqotE5vGq1nOM7IcqyBYblsAlW0XoYlP7MYMutgWPFw4deHnrSFZc3f2edicBoEkR5BKB3ZiLT5boj4VYRaS2DaRv39yaTbuDdpodI6t71Az2C4HMszHFdMQf35lRwZLINfWxiW6cxgWJDBMIBhMuwgI0OsFoLwLAz8Ks7Gh/i9YulnNzwEaJDk6EAQ2qEA7QgKtpy5x5N6B+aUgOqrS3sf50XALIth6xmWzfaBChiWARRUQEEFPlCBDNRGBKGDHPYRpUdSavOIlIQqp6tHyjBcTQbLiK8Eqj6DYTQBoDoQgp30zxjiA9MPpfY+6ACA/wdDe9KlWFR8uQAAAABJRU5ErkJggg==",alt:"Client 2"},{id:3,image:i.p+"static/media/client3.6f0151b1b37ec71715a7.jpg",alt:"Client 3"},{id:4,image:i.p+"static/media/client4.6ef2c7318b6a0b27d803.png",alt:"Client 4"},{id:5,image:i.p+"static/media/client5.185c1b98aa5b05c6dcc7.png",alt:"Client 5"},{id:6,image:i.p+"static/media/client6.0aad6d42b0fd5e0f4e0a.png",alt:"Client 6"},{id:7,image:i.p+"static/media/client7.b675efbba45d69b40438.png",alt:"Client 7"},{id:8,image:i.p+"static/media/client8.ac67a0975530310ad91a.png",alt:"Client 8"},{id:9,image:i.p+"static/media/client9.6855df325ff4aa7ac33b.png",alt:"Client 9"},{id:10,image:i.p+"static/media/client10.73cb79cece6f4d4a635d.png",alt:"Client 10"}],xe=()=>{const e=window.innerWidth<=768,t={dots:!1,infinite:!0,speed:5e3,slidesToShow:e?2:6,slidesToScroll:1,autoplay:!0,autoplaySpeed:0,cssEase:"linear",pauseOnHover:!1,arrows:!1,centerMode:!0,centerPadding:e?"20px":"50px",swipeToSlide:!0,draggable:!0,responsive:[{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1,centerMode:!1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,centerMode:!1}}]};return(0,Ce.jsxs)("div",{className:"mobile-client-slider ".concat(e?"visible":"hidden"),children:[(0,Ce.jsx)("h2",{children:"Trusted by 10+ Leading Brands"}),(0,Ce.jsx)(ke.Z,{...t,children:Le.map((e=>(0,Ce.jsx)("div",{children:(0,Ce.jsx)("img",{src:e.image,alt:e.alt})},e.id)))})]})};var De=i(4553),Ee=i.n(De),Ne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Te=o.createContext&&o.createContext(Ne),Ie=function(){return Ie=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ie.apply(this,arguments)},Ae=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function Me(e){return e&&e.map((function(e,t){return o.createElement(e.tag,Ie({key:t},e.attr),Me(e.child))}))}function Oe(e){return function(t){return o.createElement(Re,Ie({attr:Ie({},e.attr)},t),Me(e.child))}}function Re(e){var t=function(t){var i,n=e.attr,s=e.size,r=e.title,a=Ae(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),o.createElement("svg",Ie({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:i,style:Ie(Ie({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&o.createElement("title",null,r),e.children)};return void 0!==Te?o.createElement(Te.Consumer,null,(function(e){return t(e)})):t(Ne)}function Pe(e){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(e)}function Fe(e){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"}}]})(e)}const Be=i.p+"static/media/Maas.07667ebab42c628f99a2.png",Ve=i.p+"static/media/baas.eb8a6b2271c5042f8f7c.png",We=i.p+"static/media/sdaas.b64731b442198ef83491.png",ze=i.p+"static/media/vmaas.42a0fe40d60035c1d6ac.png",He=i.p+"static/media/erp.60ced93a8b448ee2c1b0.png",je=i.p+"static/media/crm.9ae7e92f373740141506.png",Ue=i.p+"static/media/cms.8c9a6a7ea3eac8890f5b.png",Ke=i.p+"static/media/chatbot.e582a74fb50013f7784a.png",qe={topics:[{topicName:"Services",subtopics:[{id:"1",title:"MaaS","sub-title":"Marketing as a Service",description:"Elevate your brand with Imaggar's Marketing as a Service. Reach your audience effectively through innovative marketing strategies tailored to your business. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/services/maas",image:Be},{id:"2",title:"BaaS","sub-title":"Branding as a Service",description:"Establish a unique brand identity with Imaggar's Branding as a Service. Our experts craft compelling brand stories and visuals to make your business stand out. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/services/baas",image:Ve},{id:"3",title:"SDaaS","sub-title":"Software Development as a Service",description:"Accelerate your digital transformation with Imaggar's Software Development as a Service. Our skilled developers create tailored software solutions to meet your business needs. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/services/sdaas",image:We},{id:"4",title:"VMaaS","sub-title":"Vulnerability Management as a Service",description:"Ensure the security of your digital assets with Imaggar's Vulnerability Management as a Service. Proactively identify and address potential vulnerabilities. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/services/vmaas",image:ze}]},{topicName:"Products",subtopics:[{id:"1",title:"S.I.T.E","sub-title":"Simplified Interface for Transformation and Enhancement",description:"Transform your digital presence with Imaggar's S.I.T.E product. Simplify user interactions and enhance user experience through an intuitive and streamlined interface. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/products/s.i.t.e",image:Ue},{id:"2",title:"C.O.R.E","sub-title":"Comprehensive Operations and Resource Engine",description:"Optimize your operations with Imaggar's C.O.R.E product. Streamline resource utilization and enhance operational efficiency with our comprehensive engine. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/products/c.o.r.e",image:He},{id:"3",title:"T.R.A.D.E","sub-title":"Transaction and Revenue Administration for Digital Exchange",description:"Facilitate seamless transactions and revenue administration with Imaggar's T.R.A.D.E product. Ensure secure and efficient digital exchanges. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/products/t.r.a.d.e",image:i.p+"static/media/trade.85c864055240679aeb31.png"},{id:"4",title:"V.O.I.C.E","sub-title":"Virtual Operations and Interactive Communication Engine",description:"Optimize your communication channels with Imaggar's V.O.I.C.E product. Enable interactive and seamless communication for enhanced collaboration and productivity. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"/products/v.o.i.c.e",image:Ke},{id:"5",title:"C.A.R.E","sub-title":"Customer Analytics and Relationship Enhancement",description:"Deepen customer relationships with Imaggar's C.A.R.E product. Gain insights through analytics and enhance customer satisfaction. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",link:"//products/c.a.r.e",image:je}]}]},Ge=()=>{const[e,t]=(0,o.useState)("Services"),[i,n]=(0,o.useState)(null),s=e=>{n(e)},r=(e,t,i)=>(0,Ce.jsxs)("div",{className:"collapsible-trigger ".concat(i?"selected":""),onClick:()=>s(t),children:[e,(0,Ce.jsx)("span",{className:"collapsible-icon",children:i?(0,Ce.jsx)(Fe,{}):(0,Ce.jsx)(Pe,{})})]});return(0,Ce.jsxs)("div",{className:"mobile-service-container",children:[(0,Ce.jsx)("div",{className:"mobile-service-heading-container",children:qe.topics.map((i=>(0,Ce.jsx)("div",{className:"mobile-service-heading ".concat(e===i.topicName?"selected":""),onClick:()=>{return e=i.topicName,t(e),void n(null);var e},children:i.topicName},i.topicName)))}),(0,Ce.jsx)("div",{className:"collapsible-container",children:qe.topics.map((t=>(0,Ce.jsx)("div",{style:{display:e===t.topicName?"block":"none"},children:t.subtopics.map((e=>(0,Ce.jsx)(Ee(),{trigger:r(e.title,e.id),triggerWhenOpen:r(e.title,e.id,!0),onOpening:()=>s(e.id),open:i===e.id,children:(0,Ce.jsxs)("div",{className:"collapsible-content",children:[(0,Ce.jsxs)("div",{className:"mobile-service-content",children:[(0,Ce.jsx)("div",{className:"mobile-service-title",children:e.title}),(0,Ce.jsx)("div",{className:"mobile-service-subtitle",children:e["sub-title"]}),(0,Ce.jsx)("div",{className:"mobile-service-description",children:e.description}),(0,Ce.jsx)("a",{href:e.link,className:"mobile-service-link",children:(0,Ce.jsx)("button",{className:"mobile-service-button",children:"Know More .."})})]}),(0,Ce.jsx)("div",{className:"mobile-service-image",children:(0,Ce.jsx)("img",{src:e.image,alt:e.title})})]})},e.id)))},t.topicName)))})]})};var Ye=i(6572),Ze=i.n(Ye);const Qe=()=>{const[e,t]=(0,o.useState)(0),[i,n]=(0,o.useState)(0),[s,r]=(0,o.useState)(0),[a,l]=(0,o.useState)(0),[c,d]=(0,o.useState)(!1),[h,u]=(0,o.useState)(!1),g=4.5,p=500;return(0,o.useEffect)((()=>{if(c){const o=setInterval((()=>{e<10&&t(e+1)}),100),c=setInterval((()=>{i<10&&n(i+1)}),100),d=setInterval((()=>{s<g&&r(s+.1)}),100),h=setInterval((()=>{a<p&&l(a+10)}),100);return()=>{clearInterval(o),clearInterval(c),clearInterval(d),clearInterval(h)}}}),[e,i,s,a,10,10,g,p,c]),(0,Ce.jsx)(Ze(),{onChange:e=>{d(e),e&&u(!0)},children:(0,Ce.jsxs)("div",{className:"mobile-counter-container",children:[(0,Ce.jsxs)("div",{className:"mobile-counter-item",children:[(0,Ce.jsxs)("div",{className:"mobile-counter-number ".concat(h?"animated-counter-number":""),children:[e>=10?10:e,"+"]}),(0,Ce.jsx)("div",{className:"mobile-counter-text",children:"Brands"})]}),(0,Ce.jsxs)("div",{className:"mobile-counter-item",children:[(0,Ce.jsxs)("div",{className:"mobile-counter-number ".concat(h?"animated-counter-number":""),children:[i>=10?10:i,"+"]}),(0,Ce.jsx)("div",{className:"mobile-counter-text",children:"Tools"})]}),(0,Ce.jsxs)("div",{className:"mobile-counter-item",children:[(0,Ce.jsxs)("div",{className:"mobile-counter-number ".concat(h?"animated-counter-number":""),children:[s>=g?g.toFixed(1):s.toFixed(1),"/5"]}),(0,Ce.jsx)("div",{className:"mobile-counter-text",children:"Ratings"})]}),(0,Ce.jsxs)("div",{className:"mobile-counter-item",children:[(0,Ce.jsxs)("div",{className:"mobile-counter-number ".concat(h?"animated-counter-number":""),children:[a>=p?p:a,"+"]}),(0,Ce.jsx)("div",{className:"mobile-counter-text",children:"Projects"})]})]})})},Xe=(i.p,i.p+"static/media/person.8ab288697591d8b3207c.png"),Je=()=>(0,Ce.jsx)("div",{className:"mobile-contactBar-container",children:(0,Ce.jsxs)("div",{className:"mobile-contact-bar",children:[(0,Ce.jsx)("div",{className:"mobile-sub-div left-div",children:(0,Ce.jsx)("p",{children:"Shape the New Era of Customer Service with Generative AI"})}),(0,Ce.jsx)("div",{className:"mobile-sub-div right-div",children:(0,Ce.jsx)("button",{className:"mobile-getademo-button",children:"Get A Demo"})})]})});const $e=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Se,{}),(0,Ce.jsx)(xe,{}),(0,Ce.jsx)(Ge,{}),(0,Ce.jsx)(Qe,{}),(0,Ce.jsx)(Je,{})]})};function et(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function tt(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function it(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"}}]})(e)}function nt(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function ot(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function st(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function rt(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}}]})(e)}function at(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"}},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"}},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"}},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"}},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"}},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"}}]})(e)}function lt(e){return Oe({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M15.345 12.506l2.37 3.131c.198.261.211.69.025.961l-.119.177c-.181.27-.55.645-.814.831l-.285.201c-.266.195-.697.195-.956-.016l-3.135-2.369c-.255-.195-.681-.195-.94 0l-3.136 2.369c-.258.211-.689.211-.956.03l-.207-.135c-.27-.181-.641-.556-.825-.81l-.181-.256c-.186-.27-.18-.689.018-.96l2.377-3.149c.195-.256.195-.675 0-.945L6.197 8.43c-.194-.263-.203-.69-.013-.957l.2-.285c.187-.264.56-.629.828-.814l.175-.119c.27-.196.703-.182.961.014l3.135 2.37c.26.195.684.195.942 0l3.135-2.385c.258-.195.698-.226.979-.061l.33.195c.28.165.639.524.795.81l.12.21c.154.285.123.721-.075.99l-2.37 3.135c-.194.255-.194.676 0 .945l.006.028zM12 0C5.37 0 0 5.373 0 12s5.37 12 12 12c6.627 0 12-5.373 12-12S18.627 0 12 0z"}}]})(e)}var ct=i(7995),dt=o,ht=Symbol.for("react-redux-context"),ut="undefined"!==typeof globalThis?globalThis:{};function gt(){var e;if(!dt.createContext)return{};const t=null!==(e=ut[ht])&&void 0!==e?e:ut[ht]=new Map;let i=t.get(dt.createContext);return i||(i=dt.createContext(null),t.set(dt.createContext,i)),i}var pt=gt(),ft=()=>{throw new Error("uSES not initialized!")};var mt=Symbol.for("react.element"),vt=Symbol.for("react.portal"),bt=Symbol.for("react.fragment"),_t=Symbol.for("react.strict_mode"),wt=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),Ct=Symbol.for("react.context"),St=Symbol.for("react.server_context"),kt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Nt=(Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),kt),Tt=Dt;function It(e){if("object"===typeof e&&null!==e){const t=e.$$typeof;switch(t){case mt:{const i=e.type;switch(i){case bt:case wt:case _t:case Lt:case xt:return i;default:{const e=i&&i.$$typeof;switch(e){case St:case Ct:case kt:case Et:case Dt:case yt:return e;default:return t}}}}case vt:return t}}}function At(e,t,i,n,o){let s,r,a,l,c,{areStatesEqual:d,areOwnPropsEqual:h,areStatePropsEqual:u}=o,g=!1;function p(o,g){const p=!h(g,r),f=!d(o,s,g,r);return s=o,r=g,p&&f?(a=e(s,r),t.dependsOnOwnProps&&(l=t(n,r)),c=i(a,l,r),c):p?(e.dependsOnOwnProps&&(a=e(s,r)),t.dependsOnOwnProps&&(l=t(n,r)),c=i(a,l,r),c):f?function(){const t=e(s,r),n=!u(t,a);return a=t,n&&(c=i(a,l,r)),c}():c}return function(o,d){return g?p(o,d):(s=o,r=d,a=e(s,r),l=t(n,r),c=i(a,l,r),g=!0,c)}}function Mt(e){return function(t){const i=e(t);function n(){return i}return n.dependsOnOwnProps=!1,n}}function Ot(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Rt(e,t){return function(t,i){let{displayName:n}=i;const o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,i){o.mapToProps=e,o.dependsOnOwnProps=Ot(e);let n=o(t,i);return"function"===typeof n&&(o.mapToProps=n,o.dependsOnOwnProps=Ot(n),n=o(t,i)),n},o}}function Pt(e,t){return(i,n)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(n.wrappedComponentName,"."))}}function Ft(e,t,i){return{...i,...e,...t}}function Bt(e){e()}var Vt={notify(){},get:()=>[]};function Wt(e,t){let i,n=Vt,o=0,s=!1;function r(){c.onStateChange&&c.onStateChange()}function a(){o++,i||(i=t?t.addNestedSub(r):e.subscribe(r),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Bt((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){let t=[],i=e;for(;i;)t.push(i),i=i.next;return t},subscribe(i){let n=!0,o=t={callback:i,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){n&&null!==e&&(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,i&&0===o&&(i(),i=void 0,n.clear(),n=Vt)}const c={addNestedSub:function(e){a();const t=n.subscribe(e);let i=!1;return()=>{i||(i=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:r,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>n};return c}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?dt.useLayoutEffect:dt.useEffect;function Ht(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function jt(e,t){if(Ht(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(t,i[o])||!Ht(e[i[o]],t[i[o]]))return!1;return!0}var Ut={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gt={[Nt]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[Tt]:qt};function Yt(e){return It(e)===Dt?qt:Gt[e.$$typeof]||Ut}var Zt=Object.defineProperty,Qt=Object.getOwnPropertyNames,Xt=Object.getOwnPropertySymbols,Jt=Object.getOwnPropertyDescriptor,$t=Object.getPrototypeOf,ei=Object.prototype;function ti(e,t){if("string"!==typeof t){if(ei){const i=$t(t);i&&i!==ei&&ti(e,i)}let n=Qt(t);Xt&&(n=n.concat(Xt(t)));const o=Yt(e),s=Yt(t);for(let r=0;r<n.length;++r){const a=n[r];if(!Kt[a]&&(!s||!s[a])&&(!o||!o[a])){const n=Jt(t,a);try{Zt(e,a,n)}catch(i){}}}}return e}var ii=ft,ni=[null,null];function oi(e,t,i,n,o,s){e.current=n,i.current=!1,o.current&&(o.current=null,s())}function si(e,t){return e===t}var ri=function(e,t,i){let{pure:n,areStatesEqual:o=si,areOwnPropsEqual:s=jt,areStatePropsEqual:r=jt,areMergedPropsEqual:a=jt,forwardRef:l=!1,context:c=pt}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=c,h=function(e){return e?"function"===typeof e?Rt(e):Pt(e,"mapStateToProps"):Mt((()=>({})))}(e),u=function(e){return e&&"object"===typeof e?Mt((t=>function(e,t){const i={};for(const n in e){const o=e[n];"function"===typeof o&&(i[n]=function(){return t(o(...arguments))})}return i}(e,t))):e?"function"===typeof e?Rt(e):Pt(e,"mapDispatchToProps"):Mt((e=>({dispatch:e})))}(t),g=function(e){return e?"function"===typeof e?function(e){return function(t,i){let n,{displayName:o,areMergedPropsEqual:s}=i,r=!1;return function(t,i,o){const a=e(t,i,o);return r?s(a,n)||(n=a):(r=!0,n=a),n}}}(e):Pt(e,"mergeProps"):()=>Ft}(i),p=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",i="Connect(".concat(t,")"),n={shouldHandleStateChanges:p,displayName:i,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:u,initMergeProps:g,areStatesEqual:o,areStatePropsEqual:r,areOwnPropsEqual:s,areMergedPropsEqual:a};function c(t){const[i,o,s]=dt.useMemo((()=>{const{reactReduxForwardedRef:e,...i}=t;return[t.context,e,i]}),[t]),r=dt.useMemo((()=>{let e=d;return null!==i&&void 0!==i&&i.Consumer,e}),[i,d]),a=dt.useContext(r),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(a)&&Boolean(a.store);const h=l?t.store:a.store,u=c?a.getServerState:h.getState,g=dt.useMemo((()=>function(e,t){let{initMapStateToProps:i,initMapDispatchToProps:n,initMergeProps:o,...s}=t;return At(i(e,s),n(e,s),o(e,s),e,s)}(h.dispatch,n)),[h]),[f,m]=dt.useMemo((()=>{if(!p)return ni;const e=Wt(h,l?void 0:a.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,l,a]),v=dt.useMemo((()=>l?a:{...a,subscription:f}),[l,a,f]),b=dt.useRef(),_=dt.useRef(s),w=dt.useRef(),y=dt.useRef(!1),C=(dt.useRef(!1),dt.useRef(!1)),S=dt.useRef();zt((()=>(C.current=!0,()=>{C.current=!1})),[]);const k=dt.useMemo((()=>()=>w.current&&s===_.current?w.current:g(h.getState(),s)),[h,s]),L=dt.useMemo((()=>e=>f?function(e,t,i,n,o,s,r,a,l,c,d){if(!e)return()=>{};let h=!1,u=null;const g=()=>{if(h||!a.current)return;const e=t.getState();let i,g;try{i=n(e,o.current)}catch(p){g=p,u=p}g||(u=null),i===s.current?r.current||c():(s.current=i,l.current=i,r.current=!0,d())};return i.onStateChange=g,i.trySubscribe(),g(),()=>{if(h=!0,i.tryUnsubscribe(),i.onStateChange=null,u)throw u}}(p,h,f,g,_,b,y,C,w,m,e):()=>{}),[f]);var x,D,E;let N;x=oi,D=[_,b,y,s,w,m],zt((()=>x(...D)),E);try{N=ii(L,k,u?()=>g(u(),s):k)}catch(I){throw S.current&&(I.message+="\nThe error may be correlated with this previous error:\n".concat(S.current.stack,"\n\n")),I}zt((()=>{S.current=void 0,w.current=void 0,b.current=N}));const T=dt.useMemo((()=>dt.createElement(e,{...N,ref:o})),[o,e,N]);return dt.useMemo((()=>p?dt.createElement(r.Provider,{value:v},T):T),[r,T,v])}const f=dt.memo(c);if(f.WrappedComponent=e,f.displayName=c.displayName=i,l){const t=dt.forwardRef((function(e,t){return dt.createElement(f,{...e,reactReduxForwardedRef:t})}));return t.displayName=i,t.WrappedComponent=e,ti(t,e)}return ti(f,e)}};var ai=function(e){let{store:t,context:i,children:n,serverState:o,stabilityCheck:s="once",identityFunctionCheck:r="once"}=e;const a=dt.useMemo((()=>{const e=Wt(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:s,identityFunctionCheck:r}}),[t,o,s,r]),l=dt.useMemo((()=>t.getState()),[t]);zt((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const c=i||pt;return dt.createElement(c.Provider,{value:a},n)};var li;li=ct.useSyncExternalStoreWithSelector,(e=>{ii=e})(o.useSyncExternalStore);const ci="SET_USER";function di(e,t){return function(){return e.apply(t,arguments)}}const{toString:hi}=Object.prototype,{getPrototypeOf:ui}=Object,gi=(pi=Object.create(null),e=>{const t=hi.call(e);return pi[t]||(pi[t]=t.slice(8,-1).toLowerCase())});var pi;const fi=e=>(e=e.toLowerCase(),t=>gi(t)===e),mi=e=>t=>typeof t===e,{isArray:vi}=Array,bi=mi("undefined");const _i=fi("ArrayBuffer");const wi=mi("string"),yi=mi("function"),Ci=mi("number"),Si=e=>null!==e&&"object"===typeof e,ki=e=>{if("object"!==gi(e))return!1;const t=ui(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Li=fi("Date"),xi=fi("File"),Di=fi("Blob"),Ei=fi("FileList"),Ni=fi("URLSearchParams");function Ti(e,t){let i,n,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),vi(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let r;for(i=0;i<s;i++)r=n[i],t.call(null,e[r],r,e)}}function Ii(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,o=i.length;for(;o-- >0;)if(n=i[o],t===n.toLowerCase())return n;return null}const Ai="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Mi=e=>!bi(e)&&e!==Ai;const Oi=(Ri="undefined"!==typeof Uint8Array&&ui(Uint8Array),e=>Ri&&e instanceof Ri);var Ri;const Pi=fi("HTMLFormElement"),Fi=(e=>{let{hasOwnProperty:t}=e;return(e,i)=>t.call(e,i)})(Object.prototype),Bi=fi("RegExp"),Vi=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};Ti(i,((i,o)=>{let s;!1!==(s=t(i,o,e))&&(n[o]=s||i)})),Object.defineProperties(e,n)},Wi="abcdefghijklmnopqrstuvwxyz",zi="0123456789",Hi={DIGIT:zi,ALPHA:Wi,ALPHA_DIGIT:Wi+Wi.toUpperCase()+zi};const ji=fi("AsyncFunction"),Ui={isArray:vi,isArrayBuffer:_i,isBuffer:function(e){return null!==e&&!bi(e)&&null!==e.constructor&&!bi(e.constructor)&&yi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||yi(e.append)&&("formdata"===(t=gi(e))||"object"===t&&yi(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_i(e.buffer),t},isString:wi,isNumber:Ci,isBoolean:e=>!0===e||!1===e,isObject:Si,isPlainObject:ki,isUndefined:bi,isDate:Li,isFile:xi,isBlob:Di,isRegExp:Bi,isFunction:yi,isStream:e=>Si(e)&&yi(e.pipe),isURLSearchParams:Ni,isTypedArray:Oi,isFileList:Ei,forEach:Ti,merge:function e(){const{caseless:t}=Mi(this)&&this||{},i={},n=(n,o)=>{const s=t&&Ii(i,o)||o;ki(i[s])&&ki(n)?i[s]=e(i[s],n):ki(n)?i[s]=e({},n):vi(n)?i[s]=n.slice():i[s]=n};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Ti(arguments[o],n);return i},extend:function(e,t,i){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ti(t,((t,n)=>{i&&yi(t)?e[n]=di(t,i):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let o,s,r;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)r=o[s],n&&!n(r,e,t)||a[r]||(t[r]=e[r],a[r]=!0);e=!1!==i&&ui(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:gi,kindOfTest:fi,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(vi(e))return e;let t=e.length;if(!Ci(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:Pi,hasOwnProperty:Fi,hasOwnProp:Fi,reduceDescriptors:Vi,freezeMethods:e=>{Vi(e,((t,i)=>{if(yi(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];yi(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return vi(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Ii,global:Ai,isContextDefined:Mi,ALPHABET:Hi,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi.ALPHA_DIGIT,i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&yi(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(Si(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=vi(e)?[]:{};return Ti(e,((e,t)=>{const s=i(e,n+1);!bi(s)&&(o[t]=s)})),t[n]=void 0,o}}return e};return i(e,0)},isAsyncFn:ji,isThenable:e=>e&&(Si(e)||yi(e))&&yi(e.then)&&yi(e.catch)};function Ki(e,t,i,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),o&&(this.response=o)}Ui.inherits(Ki,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ui.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qi=Ki.prototype,Gi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Gi[e]={value:e}})),Object.defineProperties(Ki,Gi),Object.defineProperty(qi,"isAxiosError",{value:!0}),Ki.from=(e,t,i,n,o,s)=>{const r=Object.create(qi);return Ui.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ki.call(r,e.message,t,i,n,o),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};const Yi=Ki;function Zi(e){return Ui.isPlainObject(e)||Ui.isArray(e)}function Qi(e){return Ui.endsWith(e,"[]")?e.slice(0,-2):e}function Xi(e,t,i){return e?e.concat(t).map((function(e,t){return e=Qi(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}const Ji=Ui.toFlatObject(Ui,{},null,(function(e){return/^is[A-Z]/.test(e)}));const $i=function(e,t,i){if(!Ui.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(i=Ui.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ui.isUndefined(t[e])}))).metaTokens,o=i.visitor||c,s=i.dots,r=i.indexes,a=(i.Blob||"undefined"!==typeof Blob&&Blob)&&Ui.isSpecCompliantForm(t);if(!Ui.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ui.isDate(e))return e.toISOString();if(!a&&Ui.isBlob(e))throw new Yi("Blob is not supported. Use a Buffer instead.");return Ui.isArrayBuffer(e)||Ui.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,o){let a=e;if(e&&!o&&"object"===typeof e)if(Ui.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(Ui.isArray(e)&&function(e){return Ui.isArray(e)&&!e.some(Zi)}(e)||(Ui.isFileList(e)||Ui.endsWith(i,"[]"))&&(a=Ui.toArray(e)))return i=Qi(i),a.forEach((function(e,n){!Ui.isUndefined(e)&&null!==e&&t.append(!0===r?Xi([i],n,s):null===r?i:i+"[]",l(e))})),!1;return!!Zi(e)||(t.append(Xi(o,i,s),l(e)),!1)}const d=[],h=Object.assign(Ji,{defaultVisitor:c,convertValue:l,isVisitable:Zi});if(!Ui.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!Ui.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+n.join("."));d.push(i),Ui.forEach(i,(function(i,s){!0===(!(Ui.isUndefined(i)||null===i)&&o.call(t,i,Ui.isString(s)?s.trim():s,n,h))&&e(i,n?n.concat(s):[s])})),d.pop()}}(e),t};function en(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function tn(e,t){this._pairs=[],e&&$i(e,this,t)}const nn=tn.prototype;nn.append=function(e,t){this._pairs.push([e,t])},nn.toString=function(e){const t=e?function(t){return e.call(this,t,en)}:en;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const on=tn;function sn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rn(e,t,i){if(!t)return e;const n=i&&i.encode||sn,o=i&&i.serialize;let s;if(s=o?o(t,i):Ui.isURLSearchParams(t)?t.toString():new on(t,i).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const an=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ui.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ln={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:on,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dn="undefined"!==typeof window&&"undefined"!==typeof document,hn=(e=>dn&&["ReactNative","NativeScript","NS"].indexOf(e)<0)("undefined"!==typeof navigator&&navigator.product),un="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,gn={...e,...cn};const pn=function(e){function t(e,i,n,o){let s=e[o++];const r=Number.isFinite(+s),a=o>=e.length;if(s=!s&&Ui.isArray(n)?n.length:s,a)return Ui.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!r;n[s]&&Ui.isObject(n[s])||(n[s]=[]);return t(e,i,n[s],o)&&Ui.isArray(n[s])&&(n[s]=function(e){const t={},i=Object.keys(e);let n;const o=i.length;let s;for(n=0;n<o;n++)s=i[n],t[s]=e[s];return t}(n[s])),!r}if(Ui.isFormData(e)&&Ui.isFunction(e.entries)){const i={};return Ui.forEachEntry(e,((e,n)=>{t(function(e){return Ui.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,i,0)})),i}return null};const fn={transitional:ln,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,o=Ui.isObject(e);o&&Ui.isHTMLForm(e)&&(e=new FormData(e));if(Ui.isFormData(e))return n&&n?JSON.stringify(pn(e)):e;if(Ui.isArrayBuffer(e)||Ui.isBuffer(e)||Ui.isStream(e)||Ui.isFile(e)||Ui.isBlob(e))return e;if(Ui.isArrayBufferView(e))return e.buffer;if(Ui.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $i(e,new gn.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return gn.isNode&&Ui.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ui.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $i(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,i){if(Ui.isString(e))try{return(t||JSON.parse)(e),Ui.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fn.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&Ui.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(o){if(i){if("SyntaxError"===o.name)throw Yi.from(o,Yi.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gn.classes.FormData,Blob:gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ui.forEach(["delete","get","head","post","put","patch"],(e=>{fn.headers[e]={}}));const mn=fn,vn=Ui.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bn=Symbol("internals");function _n(e){return e&&String(e).trim().toLowerCase()}function wn(e){return!1===e||null==e?e:Ui.isArray(e)?e.map(wn):String(e)}function yn(e,t,i,n,o){return Ui.isFunction(n)?n.call(this,t,i):(o&&(t=i),Ui.isString(t)?Ui.isString(n)?-1!==t.indexOf(n):Ui.isRegExp(n)?n.test(t):void 0:void 0)}class Cn{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function o(e,t,i){const o=_n(t);if(!o)throw new Error("header name must be a non-empty string");const s=Ui.findKey(n,o);(!s||void 0===n[s]||!0===i||void 0===i&&!1!==n[s])&&(n[s||t]=wn(e))}const s=(e,t)=>Ui.forEach(e,((e,i)=>o(e,i,t)));return Ui.isPlainObject(e)||e instanceof this.constructor?s(e,t):Ui.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let i,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),i=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!i||t[i]&&vn[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)})),t})(e),t):null!=e&&o(t,e,i),this}get(e,t){if(e=_n(e)){const i=Ui.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(Ui.isFunction(t))return t.call(this,e,i);if(Ui.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_n(e)){const i=Ui.findKey(this,e);return!(!i||void 0===this[i]||t&&!yn(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function o(e){if(e=_n(e)){const o=Ui.findKey(i,e);!o||t&&!yn(0,i[o],o,t)||(delete i[o],n=!0)}}return Ui.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const o=t[i];e&&!yn(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,i={};return Ui.forEach(this,((n,o)=>{const s=Ui.findKey(i,o);if(s)return t[s]=wn(n),void delete t[o];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(o):String(o).trim();r!==o&&delete t[o],t[r]=wn(n),i[r]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ui.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&Ui.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,i]=e;return t+": "+i})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[bn]=this[bn]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=_n(e);t[n]||(!function(e,t){const i=Ui.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,o){return this[n].call(this,t,e,i,o)},configurable:!0})}))}(i,e),t[n]=!0)}return Ui.isArray(e)?e.forEach(n):n(e),this}}Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ui.reduceDescriptors(Cn.prototype,((e,t)=>{let{value:i}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(e){this[n]=e}}})),Ui.freezeMethods(Cn);const Sn=Cn;function kn(e,t){const i=this||mn,n=t||i,o=Sn.from(n.headers);let s=n.data;return Ui.forEach(e,(function(e){s=e.call(i,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function Ln(e){return!(!e||!e.__CANCEL__)}function xn(e,t,i){Yi.call(this,null==e?"canceled":e,Yi.ERR_CANCELED,t,i),this.name="CanceledError"}Ui.inherits(xn,Yi,{__CANCEL__:!0});const Dn=xn;const En=gn.hasStandardBrowserEnv?{write(e,t,i,n,o,s){const r=[e+"="+encodeURIComponent(t)];Ui.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),Ui.isString(n)&&r.push("path="+n),Ui.isString(o)&&r.push("domain="+o),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Nn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Tn=gn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function n(i){let n=i;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return i=n(window.location.href),function(e){const t=Ui.isString(e)?n(e):e;return t.protocol===i.protocol&&t.host===i.host}}():function(){return!0};const In=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let o,s=0,r=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[r];o||(o=l),i[s]=a,n[s]=l;let d=r,h=0;for(;d!==s;)h+=i[d++],d%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),l-o<t)return;const u=c&&l-c;return u?Math.round(1e3*h/u):void 0}};function An(e,t){let i=0;const n=In(50,250);return o=>{const s=o.loaded,r=o.lengthComputable?o.total:void 0,a=s-i,l=n(a);i=s;const c={loaded:s,total:r,progress:r?s/r:void 0,bytes:a,rate:l||void 0,estimated:l&&r&&s<=r?(r-s)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const Mn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,i){let n=e.data;const o=Sn.from(e.headers).normalize();let s,r,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(Ui.isFormData(n))if(gn.hasStandardBrowserEnv||gn.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let d=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+i))}const h=Nn(e.baseURL,e.url);function u(){if(!d)return;const n=Sn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());!function(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new Yi("Request failed with status code "+i.status,[Yi.ERR_BAD_REQUEST,Yi.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}((function(e){t(e),c()}),(function(e){i(e),c()}),{data:a&&"text"!==a&&"json"!==a?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),rn(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=u:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(u)},d.onabort=function(){d&&(i(new Yi("Request aborted",Yi.ECONNABORTED,e,d)),d=null)},d.onerror=function(){i(new Yi("Network Error",Yi.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||ln;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new Yi(t,n.clarifyTimeoutError?Yi.ETIMEDOUT:Yi.ECONNABORTED,e,d)),d=null},gn.hasStandardBrowserEnv&&(l&&Ui.isFunction(l)&&(l=l(e)),l||!1!==l&&Tn(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&En.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===n&&o.setContentType(null),"setRequestHeader"in d&&Ui.forEach(o.toJSON(),(function(e,t){d.setRequestHeader(t,e)})),Ui.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),a&&"json"!==a&&(d.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",An(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",An(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{d&&(i(!t||t.type?new Dn(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);g&&-1===gn.protocols.indexOf(g)?i(new Yi("Unsupported protocol "+g+":",Yi.ERR_BAD_REQUEST,e)):d.send(n||null)}))},On={http:null,xhr:Mn};Ui.forEach(On,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(i){}Object.defineProperty(e,"adapterName",{value:t})}}));const Rn=e=>"- ".concat(e),Pn=e=>Ui.isFunction(e)||null===e||!1===e,Fn=e=>{e=Ui.isArray(e)?e:[e];const{length:t}=e;let i,n;const o={};for(let s=0;s<t;s++){let t;if(i=e[s],n=i,!Pn(i)&&(n=On[(t=String(i)).toLowerCase()],void 0===n))throw new Yi("Unknown adapter '".concat(t,"'"));if(n)break;o[t||"#"+s]=n}if(!n){const e=Object.entries(o).map((e=>{let[t,i]=e;return"adapter ".concat(t," ")+(!1===i?"is not supported by the environment":"is not available in the build")}));let i=t?e.length>1?"since :\n"+e.map(Rn).join("\n"):" "+Rn(e[0]):"as no adapter specified";throw new Yi("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n};function Bn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dn(null,e)}function Vn(e){Bn(e),e.headers=Sn.from(e.headers),e.data=kn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Fn(e.adapter||mn.adapter)(e).then((function(t){return Bn(e),t.data=kn.call(e,e.transformResponse,t),t.headers=Sn.from(t.headers),t}),(function(t){return Ln(t)||(Bn(e),t&&t.response&&(t.response.data=kn.call(e,e.transformResponse,t.response),t.response.headers=Sn.from(t.response.headers))),Promise.reject(t)}))}const Wn=e=>e instanceof Sn?e.toJSON():e;function zn(e,t){t=t||{};const i={};function n(e,t,i){return Ui.isPlainObject(e)&&Ui.isPlainObject(t)?Ui.merge.call({caseless:i},e,t):Ui.isPlainObject(t)?Ui.merge({},t):Ui.isArray(t)?t.slice():t}function o(e,t,i){return Ui.isUndefined(t)?Ui.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function s(e,t){if(!Ui.isUndefined(t))return n(void 0,t)}function r(e,t){return Ui.isUndefined(t)?Ui.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,o,s){return s in t?n(i,o):s in e?n(void 0,i):void 0}const l={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(e,t)=>o(Wn(e),Wn(t),!0)};return Ui.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||o,r=s(e[n],t[n],n);Ui.isUndefined(r)&&s!==a||(i[n]=r)})),i}const Hn="1.6.2",jn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jn[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const Un={};jn.transitional=function(e,t,i){function n(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,o,s)=>{if(!1===e)throw new Yi(n(o," has been removed"+(t?" in "+t:"")),Yi.ERR_DEPRECATED);return t&&!Un[o]&&(Un[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,o,s)}};const Kn={assertOptions:function(e,t,i){if("object"!==typeof e)throw new Yi("options must be an object",Yi.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const s=n[o],r=t[s];if(r){const t=e[s],i=void 0===t||r(t,s,e);if(!0!==i)throw new Yi("option "+s+" must be "+i,Yi.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new Yi("Unknown option "+s,Yi.ERR_BAD_OPTION)}},validators:jn},qn=Kn.validators;class Gn{constructor(e){this.defaults=e,this.interceptors={request:new an,response:new an}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zn(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:o}=t;void 0!==i&&Kn.assertOptions(i,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),null!=n&&(Ui.isFunction(n)?t.paramsSerializer={serialize:n}:Kn.assertOptions(n,{encode:qn.function,serialize:qn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&Ui.merge(o.common,o[t.method]);o&&Ui.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Sn.concat(s,o);const r=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,h=0;if(!a){const e=[Vn.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);h<d;)c=c.then(e[h++],e[h++]);return c}d=r.length;let u=t;for(h=0;h<d;){const e=r[h++],t=r[h++];try{u=e(u)}catch(g){t.call(this,g);break}}try{c=Vn.call(this,u)}catch(g){return Promise.reject(g)}for(h=0,d=l.length;h<d;)c=c.then(l[h++],l[h++]);return c}getUri(e){return rn(Nn((e=zn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ui.forEach(["delete","get","head","options"],(function(e){Gn.prototype[e]=function(t,i){return this.request(zn(i||{},{method:e,url:t,data:(i||{}).data}))}})),Ui.forEach(["post","put","patch"],(function(e){function t(t){return function(i,n,o){return this.request(zn(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}Gn.prototype[e]=t(),Gn.prototype[e+"Form"]=t(!0)}));const Yn=Gn;class Zn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,o){i.reason||(i.reason=new Dn(e,n,o),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Zn((function(t){e=t})),cancel:e}}}const Qn=Zn;const Xn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xn).forEach((e=>{let[t,i]=e;Xn[i]=t}));const Jn=Xn;const $n=function e(t){const i=new Yn(t),n=di(Yn.prototype.request,i);return Ui.extend(n,Yn.prototype,i,{allOwnKeys:!0}),Ui.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(zn(t,i))},n}(mn);$n.Axios=Yn,$n.CanceledError=Dn,$n.CancelToken=Qn,$n.isCancel=Ln,$n.VERSION=Hn,$n.toFormData=$i,$n.AxiosError=Yi,$n.Cancel=$n.CanceledError,$n.all=function(e){return Promise.all(e)},$n.spread=function(e){return function(t){return e.apply(null,t)}},$n.isAxiosError=function(e){return Ui.isObject(e)&&!0===e.isAxiosError},$n.mergeConfig=zn,$n.AxiosHeaders=Sn,$n.formToJSON=e=>pn(Ui.isHTMLForm(e)?new FormData(e):e),$n.getAdapter=Fn,$n.HttpStatusCode=Jn,$n.default=$n;const eo=$n.create({baseURL:"http://localhost:3001/api",timeout:5e3,headers:{"Content-Type":"application/json"}});eo.interceptors.request.use((e=>e),(e=>Promise.reject(e))),eo.interceptors.response.use((e=>e),(e=>Promise.reject(e)));const to=eo,io=function(e){const t=[];let i=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=63&o|128):55296===(64512&o)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=63&o|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=63&o|128)}return t},no={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<e.length;o+=3){const t=e[o],s=o+1<e.length,r=s?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,d=(3&t)<<4|r>>4;let h=(15&r)<<2|l>>6,u=63&l;a||(u=64,s||(h=64)),n.push(i[c],i[d],i[h],i[u])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(io(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let i=0,n=0;for(;i<e.length;){const o=e[i++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[i++];t[n++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const s=((7&o)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{const s=e[i++],r=e[i++];t[n++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&r)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<e.length;){const t=i[e.charAt(o++)],s=o<e.length?i[e.charAt(o)]:0;++o;const r=o<e.length?i[e.charAt(o)]:64;++o;const a=o<e.length?i[e.charAt(o)]:64;if(++o,null==t||null==s||null==r||null==a)throw new oo;const l=t<<2|s>>4;if(n.push(l),64!==r){const e=s<<4&240|r>>2;if(n.push(e),64!==a){const e=r<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const so=function(e){return function(e){const t=io(e);return no.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ro=function(e){try{return no.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const ao=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,lo=()=>{try{return ao()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const t=e&&ro(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},co=e=>{var t,i;return null===(i=null===(t=lo())||void 0===t?void 0:t.emulatorHosts)||void 0===i?void 0:i[e]},ho=()=>{var e;return null===(e=lo())||void 0===e?void 0:e.config},uo=e=>{var t;return null===(t=lo())||void 0===t?void 0:t["_".concat(e)]};class go{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,i))}}}function po(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class fo extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},i="".concat(this.service,"/").concat(e),n=this.errors[e],o=n?function(e,t){return e.replace(vo,((e,i)=>{const n=t[i];return null!=n?String(n):"<".concat(i,"?>")}))}(n,t):"Error",s="".concat(this.serviceName,": ").concat(o," (").concat(i,").");return new fo(i,s,t)}}const vo=/\{\$([^}]+)}/g;function bo(e,t){if(e===t)return!0;const i=Object.keys(e),n=Object.keys(t);for(const o of i){if(!n.includes(o))return!1;const i=e[o],s=t[o];if(_o(i)&&_o(s)){if(!bo(i,s))return!1}else if(i!==s)return!1}for(const o of n)if(!i.includes(o))return!1;return!0}function _o(e){return null!==e&&"object"===typeof e}function wo(e){const t=[];for(const[i,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function yo(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[i,n]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(n)}})),t}function Co(e){const t=e.indexOf("?");if(!t)return"";const i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}class So{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,i){let n;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");n=function(e,t){if("object"!==typeof e||null===e)return!1;for(const i of t)if(i in e&&"function"===typeof e[i])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===n.next&&(n.next=ko),void 0===n.error&&(n.error=ko),void 0===n.complete&&(n.complete=ko);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ko(){}function Lo(e){return e&&e._delegate?e._delegate:e}class xo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Do="[DEFAULT]";class Eo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new go;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch(t){}for(const[e,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});i.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(o)&&s.resolve(n)}return n}onInit(e,t){var i;const n=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(n,o);const s=this.instances.get(n);return s&&e(s,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const n of i)try{n(e,t)}catch(cf){}}getOrInitializeService(e){let{instanceIdentifier:t,options:i={}}=e,n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:No(t),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(cf){}return n||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do;return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function No(e){return e===Do?void 0:e}class To{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Eo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Io=[];var Ao;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ao||(Ao={}));const Mo={debug:Ao.DEBUG,verbose:Ao.VERBOSE,info:Ao.INFO,warn:Ao.WARN,error:Ao.ERROR,silent:Ao.SILENT},Oo=Ao.INFO,Ro={[Ao.DEBUG]:"log",[Ao.VERBOSE]:"log",[Ao.INFO]:"info",[Ao.WARN]:"warn",[Ao.ERROR]:"error"},Po=function(e,t){if(t<e.logLevel)return;const i=(new Date).toISOString(),n=Ro[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,s=new Array(o>2?o-2:0),r=2;r<o;r++)s[r-2]=arguments[r];console[n]("[".concat(i,"]  ").concat(e.name,":"),...s)};class Fo{constructor(e){this.name=e,this._logLevel=Oo,this._logHandler=Po,this._userLogHandler=null,Io.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ao))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Mo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,Ao.DEBUG,...t),this._logHandler(this,Ao.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,Ao.VERBOSE,...t),this._logHandler(this,Ao.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,Ao.INFO,...t),this._logHandler(this,Ao.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,Ao.WARN,...t),this._logHandler(this,Ao.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,Ao.ERROR,...t),this._logHandler(this,Ao.ERROR,...t)}}const Bo=(e,t)=>t.some((t=>e instanceof t));let Vo,Wo;const zo=new WeakMap,Ho=new WeakMap,jo=new WeakMap,Uo=new WeakMap,Ko=new WeakMap;let qo={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return Ho.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jo.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zo(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Go(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wo||(Wo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(Qo(this),i),Zo(zo.get(this))}:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Zo(e.apply(Qo(this),i))}:function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];const s=e.call(Qo(this),t,...n);return jo.set(s,t.sort?t.sort():[t]),Zo(s)}}function Yo(e){return"function"===typeof e?Go(e):(e instanceof IDBTransaction&&function(e){if(Ho.has(e))return;const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),n()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ho.set(e,t)}(e),Bo(e,Vo||(Vo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,qo):e)}function Zo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(Zo(e.result)),n()},s=()=>{i(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&zo.set(t,e)})).catch((()=>{})),Ko.set(t,e),t}(e);if(Uo.has(e))return Uo.get(e);const t=Yo(e);return t!==e&&(Uo.set(e,t),Ko.set(t,e)),t}const Qo=e=>Ko.get(e);const Xo=["get","getKey","getAll","getAllKeys","count"],Jo=["put","add","delete","clear"],$o=new Map;function es(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($o.get(t))return $o.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,o=Jo.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!Xo.includes(i))return;const s=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let s=t.store;for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return n&&(s=s.index(a.shift())),(await Promise.all([s[i](...a),o&&t.done]))[0]};return $o.set(t,s),s}qo=(e=>({...e,get:(t,i,n)=>es(t,i)||e.get(t,i,n),has:(t,i)=>!!es(t,i)||e.has(t,i)}))(qo);class ts{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const is="@firebase/app",ns="0.9.25",os=new Fo("@firebase/app"),ss="[DEFAULT]",rs={[is]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},as=new Map,ls=new Map;function cs(e,t){try{e.container.addComponent(t)}catch(i){os.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),i)}}function ds(e){const t=e.name;if(ls.has(t))return os.debug("There were multiple attempts to register component ".concat(t,".")),!1;ls.set(t,e);for(const i of as.values())cs(i,e);return!0}function hs(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}const us=new mo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gs{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xo("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const ps="10.7.1";function fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;if("object"!==typeof t){t={name:t}}const n=Object.assign({name:ss,automaticDataCollectionEnabled:!1},t),o=n.name;if("string"!==typeof o||!o)throw us.create("bad-app-name",{appName:String(o)});if(i||(i=ho()),!i)throw us.create("no-options");const s=as.get(o);if(s){if(bo(i,s.options)&&bo(n,s.config))return s;throw us.create("duplicate-app",{appName:o})}const r=new To(o);for(const l of ls.values())r.addComponent(l);const a=new gs(i,n,r);return as.set(o,a),a}function ms(e,t,i){var n;let o=null!==(n=rs[e])&&void 0!==n?n:e;i&&(o+="-".concat(i));const s=o.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&r&&e.push("and"),r&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void os.warn(e.join(" "))}ds(new xo("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const vs="firebase-heartbeat-database",bs=1,_s="firebase-heartbeat-store";let ws=null;function ys(){return ws||(ws=function(e,t){let{blocked:i,upgrade:n,blocking:o,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=indexedDB.open(e,t),a=Zo(r);return n&&r.addEventListener("upgradeneeded",(e=>{n(Zo(r.result),e.oldVersion,e.newVersion,Zo(r.transaction),e)})),i&&r.addEventListener("blocked",(e=>i(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(vs,bs,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(_s)}}).catch((e=>{throw us.create("idb-open",{originalErrorMessage:e.message})}))),ws}async function Cs(e,t){try{const i=(await ys()).transaction(_s,"readwrite"),n=i.objectStore(_s);await n.put(t,Ss(e)),await i.done}catch(i){if(i instanceof fo)os.warn(i.message);else{const e=us.create("idb-set",{originalErrorMessage:null===i||void 0===i?void 0:i.message});os.warn(e.message)}}}function Ss(e){return"".concat(e.name,"!").concat(e.options.appId)}class ks{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xs(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Ls();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ls(),{heartbeatsToSend:i,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const i=[];let n=e.slice();for(const o of e){const e=i.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Ds(i)>t){e.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ds(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=so(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Ls(){return(new Date).toISOString().substring(0,10)}class xs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await ys();return await t.transaction(_s).objectStore(_s).get(Ss(e))}catch(t){if(t instanceof fo)os.warn(t.message);else{const e=us.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});os.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cs(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function Ds(e){return so(JSON.stringify({version:2,heartbeats:e})).length}var Es;Es="",ds(new xo("platform-logger",(e=>new ts(e)),"PRIVATE")),ds(new xo("heartbeat",(e=>new ks(e)),"PRIVATE")),ms(is,ns,Es),ms(is,ns,"esm2017"),ms("fire-js","");function Ns(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ts(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Is=Ts,As=new mo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ms=new Fo("@firebase/auth");function Os(e){if(Ms.logLevel<=Ao.ERROR){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Ms.error("Auth (".concat(ps,"): ").concat(e),...i)}}function Rs(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];throw Vs(e,...i)}function Ps(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Vs(e,...i)}function Fs(e,t,i){const n=Object.assign(Object.assign({},Is()),{[t]:i});return new mo("auth","Firebase",n).create(t,{appName:e.name})}function Bs(e,t,i){if(!(t instanceof i))throw i.name!==t.constructor.name&&Rs(e,"argument-error"),Fs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vs(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if("string"!==typeof e){const t=i[0],n=[...i.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(t,...n)}return As.create(e,...i)}function Ws(e,t){if(!e){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];throw Vs(t,...n)}}function zs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Os(t),new Error(t)}function Hs(e,t){e||zs(t)}function js(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Us(){return"http:"===Ks()||"https:"===Ks()}function Ks(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function qs(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Us()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return qs()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ys(e,t){Hs(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?"".concat(i).concat(t.startsWith("/")?t.slice(1):t):i}class Zs{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xs=new Gs(3e4,6e4);function Js(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $s(e,t,i,n){return er(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},s={};n&&("GET"===t?s=n:o={body:JSON.stringify(n)});const r=wo(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Zs.fetch()(ir(e,e.config.apiHost,i,r),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},o))}))}async function er(e,t,i){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},Qs),t);try{const t=new or(e),o=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw sr(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const t=o.ok?s.errorMessage:s.error.message,[i,r]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw sr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw sr(e,"email-already-in-use",s);if("USER_DISABLED"===i)throw sr(e,"user-disabled",s);const a=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw Fs(e,a,r);Rs(e,a)}}catch(o){if(o instanceof fo)throw o;Rs(e,"network-request-failed",{message:String(o)})}}async function tr(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await $s(e,t,i,n,o);return"mfaPendingCredential"in s&&Rs(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ir(e,t,i,n){const o="".concat(t).concat(i,"?").concat(n);return e.config.emulator?Ys(e.config,o):"".concat(e.config.apiScheme,"://").concat(o)}function nr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class or{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ps(this.auth,"network-request-failed"))),Xs.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(e,t,i){const n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const o=Ps(e,t,n);return o.customData._tokenResponse=i,o}function rr(e){return void 0!==e&&void 0!==e.enterprise}class ar{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function lr(e,t){return $s(e,"GET","/v2/recaptchaConfig",Js(e,t))}function cr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function dr(e){return 1e3*Number(e)}function hr(e){const[t,i,n]=e.split(".");if(void 0===t||void 0===i||void 0===n)return Os("JWT malformed, contained fewer than 3 sections"),null;try{const e=ro(i);return e?JSON.parse(e):(Os("Failed to decode base64 JWT payload"),null)}catch(o){return Os("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function ur(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(i){throw i instanceof fo&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}class gr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class pr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fr(e){var t;const i=e.auth,n=await e.getIdToken(),o=await ur(e,async function(e,t){return $s(e,"POST","/v1/accounts:lookup",t)}(i,{idToken:n}));Ws(null===o||void 0===o?void 0:o.users.length,i,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const r=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,i=Ns(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})):[];const a=(l=e.providerData,c=r,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const d=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!d&&h,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pr(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,g)}class mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ws(e.idToken,"internal-error"),Ws("undefined"!==typeof e.idToken,"internal-error"),Ws("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=hr(e);return Ws(t,"internal-error"),Ws("undefined"!==typeof t.exp,"internal-error"),Ws("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ws(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:n,expiresIn:o}=await async function(e,t){const i=await er(e,{},(async()=>{const i=wo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:o}=e.config,s=ir(e,n,"/v1/token","key=".concat(o)),r=await e._getAdditionalHeaders();return r["Content-Type"]="application/x-www-form-urlencoded",Zs.fetch()(s,{method:"POST",headers:r,body:i})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}(e,t);this.updateTokensAndExpiration(i,n,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:n,expirationTime:o}=t,s=new mr;return i&&(Ws("string"===typeof i,"internal-error",{appName:e}),s.refreshToken=i),n&&(Ws("string"===typeof n,"internal-error",{appName:e}),s.accessToken=n),o&&(Ws("number"===typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mr,this.toJSON())}_performRefresh(){return zs("not implemented")}}function vr(e,t){Ws("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class br{constructor(e){var{uid:t,auth:i,stsTokenManager:n}=e,o=Ns(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pr(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ur(this,this.stsTokenManager.getToken(this.auth,e));return Ws(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Lo(e),n=await i.getIdToken(t),o=hr(n);Ws(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,r=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:n,authTime:cr(dr(o.auth_time)),issuedAtTime:cr(dr(o.iat)),expirationTime:cr(dr(o.exp)),signInProvider:r||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Lo(e);await fr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ws(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ws(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await fr(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ur(this,async function(e,t){return $s(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,n,o,s,r,a,l,c;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,u=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(r=t.tenantId)&&void 0!==r?r:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:y,stsTokenManager:C}=t;Ws(b&&C,e,"internal-error");const S=mr.fromJSON(this.name,C);Ws("string"===typeof b,e,"internal-error"),vr(d,e.name),vr(h,e.name),Ws("boolean"===typeof _,e,"internal-error"),Ws("boolean"===typeof w,e,"internal-error"),vr(u,e.name),vr(g,e.name),vr(p,e.name),vr(f,e.name),vr(m,e.name),vr(v,e.name);const k=new br({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:w,photoURL:g,phoneNumber:u,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return y&&Array.isArray(y)&&(k.providerData=y.map((e=>Object.assign({},e)))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new mr;n.updateFromServerResponse(t);const o=new br({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:i});return await fr(o),o}}const _r=new Map;function wr(e){Hs(e instanceof Function,"Expected a class definition");let t=_r.get(e);return t?(Hs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_r.set(e,t),t)}class yr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yr.type="NONE";const Cr=yr;function Sr(e,t,i){return"firebase".concat(":",e,":").concat(t,":").concat(i)}class kr{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:n,name:o}=this.auth;this.fullUserKey=Sr(this.userKey,n.apiKey,o),this.fullPersistenceKey=Sr("persistence",n.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(wr(Cr),e,i);const n=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=n[0]||wr(Cr);const s=Sr(i,e.config.apiKey,e.name);let r=null;for(const l of t)try{const t=await l._get(s);if(t){const i=br._fromJSON(e,t);l!==o&&(r=i),o=l;break}}catch(cf){}const a=n.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],r&&await o._set(s,r.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(s)}catch(cf){}}))),new kr(o,e,i)):new kr(o,e,i)}}function Lr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(Ar(t))return"Webos";if(Dr(t))return"Safari";if((t.includes("chrome/")||Er(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(t);if(2===(null===i||void 0===i?void 0:i.length))return i[1]}return"Other"}function xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/firefox\//i.test(e)}function Dr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:po()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/crios\//i.test(e)}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/iemobile/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/android/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/blackberry/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/webos/i.test(e)}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Or(){return function(){const e=po();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return Mr(e)||Tr(e)||Ar(e)||Ir(e)||/windows phone/i.test(e)||Nr(e)}function Pr(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lr(po());break;case"Worker":t="".concat(Lr(po()),"-").concat(e);break;default:t=e}const n=i.length?i.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ps,"/").concat(n)}class Fr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=t=>new Promise(((i,n)=>{try{i(e(t))}catch(o){n(o)}}));i.onAbort=t,this.queue.push(i);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const e of t)try{e()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===i||void 0===i?void 0:i.message})}}}class Br{constructor(e){var t,i,n,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,n,o,s,r;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(i=a.meetsMaxPasswordLength)||void 0===i||i),a.isValid&&(a.isValid=null===(n=a.containsLowercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(r=a.containsNonAlphanumericCharacter)||void 0===r||r),a}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)i=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,n,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Vr{constructor(e,t,i,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new Fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=As,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue((async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const i=await this.assertedPersistence.getCurrentUser();let n=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===n||void 0===n?void 0:n._redirectEventId,r=await this.tryRedirectSignIn(e);i&&i!==s||!(null===r||void 0===r?void 0:r.user)||(n=r.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=i,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ws(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Lo(e):null;return t&&Ws(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ws(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $s(e,"GET","/v2/passwordPolicy",Js(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Br(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged((()=>{i(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $s(e,"POST","/v2/accounts:revokeToken",Js(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;Ws(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,n){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let s=!1;const r=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ws(r,this,"internal-error"),r.then((()=>{s||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,i,n);return()=>{s=!0,o()}}{const i=e.addObserver(t);return()=>{s=!0,i()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ws(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ms.logLevel<=Ao.WARN){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Ms.warn("Auth (".concat(ps,"): ").concat(e),...i)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Wr(e){return Lo(e)}class zr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const i=new So(e,t);return i.subscribe.bind(i)}((e=>this.observer=e))}get next(){return Ws(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hr(e){return new Promise(((t,i)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=Ps("internal-error");t.customData=e,i(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))}function jr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ur{constructor(e){this.type="recaptcha-enterprise",this.auth=Wr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(t,i,n){const o=window.grecaptcha;rr(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{i(e)})).catch((()=>{i("NO_RECAPTCHA")}))})):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,i)=>{lr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const i=new ar(n);return null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,t(i.siteKey)}i(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{i(e)}))}))})(this.auth).then((o=>{if(!t&&rr(window.grecaptcha))i(o,e,n);else{if("undefined"===typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));Hr("https://www.google.com/recaptcha/enterprise.js?render="+o).then((()=>{i(o,e,n)})).catch((e=>{n(e)}))}})).catch((e=>{n(e)}))}))}}async function Kr(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Ur(e);let s;try{s=await o.verify(i)}catch(a){s=await o.verify(i,!0)}const r=Object.assign({},t);return n?Object.assign(r,{captchaResp:s}):Object.assign(r,{captchaResponse:s}),Object.assign(r,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(r,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),r}async function qr(e,t,i,n){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kr(e,t,i,"getOobCode"===i);return n(e,o)}return n(e,t).catch((async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(i," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await Kr(e,t,i,"getOobCode"===i);return n(e,o)}return Promise.reject(o)}))}function Gr(e,t,i){const n=Wr(e);Ws(n._canInitEmulator,n,"emulator-config-failed"),Ws(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!!(null===i||void 0===i?void 0:i.disableWarnings),s=Yr(t),{host:r,port:a}=function(e){const t=Yr(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const n=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const e=o[1];return{host:e,port:Zr(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Zr(t)}}}(t),l=null===a?"":":".concat(a);n.config.emulator={url:"".concat(s,"//").concat(r).concat(l,"/")},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:r,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Qr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,t){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function Xr(e,t){return $s(e,"POST","/v1/accounts:signUp",t)}async function Jr(e,t){return tr(e,"POST","/v1/accounts:signInWithPassword",Js(e,t))}class $r extends Qr{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",i),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new $r(e,t,"password")}static _fromEmailAndCode(e,t){return new $r(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jr);case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",Js(e,t))}(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xr);case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",Js(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ea(e,t){return tr(e,"POST","/v1/accounts:signInWithIdp",Js(e,t))}class ta extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:i,signInMethod:n}=t,o=Ns(t,["providerId","signInMethod"]);if(!i||!n)return null;const s=new ta(i,n);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return ea(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ea(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wo(t)}return e}}const ia={USER_NOT_FOUND:"user-not-found"};class na extends Qr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new na({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new na({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Js(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const i=await tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Js(e,t));if(i.temporaryProof)throw sr(e,"account-exists-with-different-credential",i);return i}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",Js(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ia)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:o}=e;return i||t||n||o?new na({verificationId:t,verificationCode:i,phoneNumber:n,temporaryProof:o}):null}}class oa{constructor(e){var t,i,n,o,s,r;const a=yo(Co(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(i=a.oobCode)&&void 0!==i?i:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);Ws(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(r=a.tenantId)&&void 0!==r?r:null}static parseLink(e){const t=function(e){const t=yo(Co(e)).link,i=t?yo(Co(t)).deep_link_id:null,n=yo(Co(e)).deep_link_id;return(n?yo(Co(n)).link:null)||n||i||t||e}(e);try{return new oa(t)}catch(cf){return null}}}class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,t){return $r._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=oa.parseLink(t);return Ws(i,"argument-error"),$r._fromEmailAndCode(e,i.code,i.tenantId)}}sa.PROVIDER_ID="password",sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ra{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class aa extends ra{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class la extends aa{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return la.credential(t.oauthAccessToken)}catch(cf){return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com",la.PROVIDER_ID="facebook.com";class ca extends aa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ta._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:i,oauthAccessToken:n}=t;if(!i&&!n)return null;try{return ca.credential(i,n)}catch(cf){return null}}}ca.GOOGLE_SIGN_IN_METHOD="google.com",ca.PROVIDER_ID="google.com";class da extends aa{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch(cf){return null}}}da.GITHUB_SIGN_IN_METHOD="github.com",da.PROVIDER_ID="github.com";class ha extends aa{constructor(){super("twitter.com")}static credential(e,t){return ta._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:n}=t;if(!i||!n)return null;try{return ha.credential(i,n)}catch(cf){return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com",ha.PROVIDER_ID="twitter.com";class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await br._fromIdTokenResponse(e,i,n),s=ga(i);return new ua({user:o,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const n=ga(i);return new ua({user:e,providerId:n,_tokenResponse:i,operationType:t})}}function ga(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pa extends fo{constructor(e,t,i,n){var o;super(t.code,t.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,pa.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,n){return new pa(e,t,i,n)}}function fa(e,t,i,n){return("reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch((i=>{if(i.code==="auth/".concat("multi-factor-auth-required"))throw pa._fromErrorAndOperation(e,i,t,n);throw i}))}async function ma(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=await ur(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return ua._forOperation(e,"link",n)}async function va(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:n}=e,o="reauthenticate";try{const s=await ur(e,fa(n,o,t,e),i);Ws(s.idToken,n,"internal-error");const r=hr(s.idToken);Ws(r,n,"internal-error");const{sub:a}=r;return Ws(e.uid===a,n,"user-mismatch"),ua._forOperation(e,o,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Rs(n,"user-mismatch"),s}}async function ba(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n="signIn",o=await fa(e,n,t),s=await ua._fromIdTokenResponse(e,n,o);return i||await e._updateCurrentUser(s.user),s}new WeakMap;const _a="__sak";class wa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(cf){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ya extends wa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=po();return Dr(e)||Mr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Rr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),n=this.localCache[t];i!==n&&e(t,n,i)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,i)=>{this.notifyListeners(e,i)}));const i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}const n=()=>{const e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},o=this.storage.getItem(i);Or()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const n of Array.from(i))n(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ya.type="LOCAL";const Ca=ya;class Sa extends wa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sa.type="SESSION";const ka=Sa;class La{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const i=new La(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:n,data:o}=t.data,s=this.handlersMap[n];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const r=Array.from(s).map((async e=>e(t.origin,o))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(r);t.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i="";for(let n=0;n<t;n++)i+=Math.floor(10*Math.random());return e+i}La.receivers=[];class Da{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,s;return new Promise(((r,a)=>{const l=xa("",20);n.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),i);s={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),r(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ea(){return window}function Na(){return"undefined"!==typeof Ea().WorkerGlobalScope&&"function"===typeof Ea().importScripts}const Ta="firebaseLocalStorageDb",Ia="firebaseLocalStorage",Aa="fbase_key";class Ma{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Oa(e,t){return e.transaction([Ia],t?"readwrite":"readonly").objectStore(Ia)}function Ra(){const e=indexedDB.open(Ta,1);return new Promise(((t,i)=>{e.addEventListener("error",(()=>{i(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ia,{keyPath:Aa})}catch(n){i(n)}})),e.addEventListener("success",(async()=>{const i=e.result;i.objectStoreNames.contains(Ia)?t(i):(i.close(),await function(){const e=indexedDB.deleteDatabase(Ta);return new Ma(e).toPromise()}(),t(await Ra()))}))}))}async function Pa(e,t,i){const n=Oa(e,!0).put({[Aa]:t,value:i});return new Ma(n).toPromise()}function Fa(e,t){const i=Oa(e,!0).delete(t);return new Ma(i).toPromise()}class Ba{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ra()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(i){if(t++>3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Na()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=La._getInstance(Na()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Da(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(cf){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ra();return await Pa(e,_a,"1"),await Fa(e,_a),!0}catch(cf){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((i=>Pa(i,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const i=Oa(e,!1).get(t),n=await new Ma(i).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Fa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Oa(e,!1).getAll();return new Ma(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],i=new Set;if(0!==e.length)for(const{fbase_key:n,value:o}of e)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),t.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!i.has(n)&&(this.notifyListeners(n,null),t.push(n));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const n of Array.from(i))n(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ba.type="LOCAL";const Va=Ba;jr("rcb"),new Gs(3e4,6e4);const Wa="recaptcha";async function za(e,t,i){var n;const o=await i.verify();try{let s;if(Ws("string"===typeof o,e,"argument-error"),Ws(i.type===Wa,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ws("enroll"===t.type,e,"internal-error");const i=await function(e,t){return $s(e,"POST","/v2/accounts/mfaEnrollment:start",Js(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});return i.phoneSessionInfo.sessionInfo}{Ws("signin"===t.type,e,"internal-error");const i=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;Ws(i,e,"missing-multi-factor-info");const r=await function(e,t){return $s(e,"POST","/v2/accounts/mfaSignIn:start",Js(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:o}});return r.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $s(e,"POST","/v1/accounts:sendVerificationCode",Js(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:o});return t}}finally{i._reset()}}class Ha{constructor(e){this.providerId=Ha.PROVIDER_ID,this.auth=Wr(e)}verifyPhoneNumber(e,t){return za(this.auth,e,Lo(t))}static credential(e,t){return na._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ha.credentialFromTaggedObject(t)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:i,temporaryProof:n}=t;return i&&n?na._fromTokenResponse(i,n):null}}function ja(e,t){return t?wr(t):(Ws(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ha.PROVIDER_ID="phone",Ha.PHONE_SIGN_IN_METHOD="phone";class Ua extends Qr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ka(e){return ba(e.auth,new Ua(e),e.bypassAuthState)}function qa(e){const{auth:t,user:i}=e;return Ws(i,t,"internal-error"),va(i,new Ua(e),e.bypassAuthState)}async function Ga(e){const{auth:t,user:i}=e;return Ws(i,t,"internal-error"),ma(i,new Ua(e),e.bypassAuthState)}class Ya{constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=i,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:n,tenantId:o,error:s,type:r}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(r)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ka;case"linkViaPopup":case"linkViaRedirect":return Ga;case"reauthViaPopup":case"reauthViaRedirect":return qa;default:Rs(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new Gs(2e3,1e4);class Qa extends Ya{constructor(e,t,i,n,o){super(e,t,n,o),this.provider=i,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ws(e,this.auth,"internal-error"),e}async onExecution(){Hs(1===this.filter.length,"Popup operations only handle one event");const e=xa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ps(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Za.get())};e()}}Qa.currentPopupAction=null;const Xa="pendingRedirect",Ja=new Map;class $a extends Ya{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ja.get(this.auth._key());if(!e){try{const t=await async function(e,t){const i=il(t),n=tl(e);if(!await n._isAvailable())return!1;const o="true"===await n._get(i);return await n._remove(i),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function el(e,t){Ja.set(e._key(),t)}function tl(e){return wr(e._redirectPersistence)}function il(e){return Sr(Xa,e.config.apiKey,e.name)}async function nl(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Wr(e),o=ja(n,t),s=new $a(n,o,i),r=await s.execute();return r&&!i&&(delete r.user._redirectEventId,await n._persistUserIfCurrent(r.user),await n._setRedirectUser(null,t)),r}class ol{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!rl(e)){const n=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ps(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sl(e))}saveEventToCache(e){this.cachedEventUids.add(sl(e)),this.lastProcessedEventTime=Date.now()}}function sl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function rl(e){let{type:t,error:i}=e;return"unknown"===t&&(null===i||void 0===i?void 0:i.code)==="auth/".concat("no-auth-event")}const al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ll=/^https?/;async function cl(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $s(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const i of t)try{if(dl(i))return}catch(cf){}Rs(e,"unauthorized-domain")}function dl(e){const t=js(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===n?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&o.hostname===n}if(!ll.test(i))return!1;if(al.test(e))return n===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const hl=new Gs(3e4,6e4);function ul(){const e=Ea().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}let gl=null;function pl(e){return gl=gl||function(e){return new Promise(((t,i)=>{var n,o,s;function r(){ul(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ul(),i(Ps(e,"network-request-failed"))},timeout:hl.get()})}if(null===(o=null===(n=Ea().gapi)||void 0===n?void 0:n.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ea().gapi)||void 0===s?void 0:s.load)){const t=jr("iframefcb");return Ea()[t]=()=>{gapi.load?r():i(Ps(e,"network-request-failed"))},Hr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>i(e)))}r()}})).catch((e=>{throw gl=null,e}))}(e),gl}const fl=new Gs(5e3,15e3),ml="__/auth/iframe",vl="emulator/auth/iframe",bl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wl(e){const t=e.config;Ws(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?Ys(t,vl):"https://".concat(e.config.authDomain,"/").concat(ml),n={apiKey:t.apiKey,appName:e.name,v:ps},o=_l.get(e.config.apiHost);o&&(n.eid=o);const s=e._getFrameworks();return s.length&&(n.fw=s.join(",")),"".concat(i,"?").concat(wo(n).slice(1))}const yl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Sl(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),r=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yl),{width:n.toString(),height:o.toString(),top:s,left:r}),c=po().toLowerCase();i&&(a=Er(c)?"_blank":i),xr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce(((e,t)=>{let[i,n]=t;return"".concat(e).concat(i,"=").concat(n,",")}),"");if(function(){var e;return Mr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:po())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const i=document.createElement("a");i.href=e,i.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}(t||"",a),new Cl(null);const h=window.open(t||"",a,d);Ws(h,e,"popup-blocked");try{h.focus()}catch(u){}return new Cl(h)}const kl="__/auth/handler",Ll="emulator/auth/handler",xl=encodeURIComponent("fac");async function Dl(e,t,i,n,o,s){Ws(e.config.authDomain,e,"auth-domain-config-required"),Ws(e.config.apiKey,e,"invalid-api-key");const r={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:ps,eventId:o};if(t instanceof ra){t.setDefaultLanguage(e.languageCode),r.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(r.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))r[e]=t}if(t instanceof aa){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(r.scopes=e.join(","))}e.tenantId&&(r.tid=e.tenantId);const a=r;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const l=await e._getAppCheckToken(),c=l?"#".concat(xl,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kl);return Ys(t,Ll)}(e),"?").concat(wo(a).slice(1)).concat(c)}const El="webStorageSupport";const Nl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=nl,this._overrideRedirectResult=el}async _openPopup(e,t,i,n){var o;Hs(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Sl(e,await Dl(e,t,i,js(),n),xa())}async _openRedirect(e,t,i,n){await this._originValidation(e);return function(e){Ea().location.href=e}(await Dl(e,t,i,js(),n)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(Hs(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch((()=>{delete this.eventManagers[t]})),i}async initAndGetManager(e){const t=await async function(e){const t=await pl(e),i=Ea().gapi;return Ws(i,e,"internal-error"),t.open({where:document.body,url:wl(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bl,dontclear:!0},(t=>new Promise((async(i,n)=>{await t.restyle({setHideOnLeave:!1});const o=Ps(e,"network-request-failed"),s=Ea().setTimeout((()=>{n(o)}),fl.get());function r(){Ea().clearTimeout(s),i(t)}t.ping(r).then(r,(()=>{n(o)}))}))))}(e),i=new ol(e);return t.register("authEvent",(t=>{Ws(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(El,{type:El},(i=>{var n;const o=null===(n=null===i||void 0===i?void 0:i[0])||void 0===n?void 0:n[El];void 0!==o&&t(!!o),Rs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rr()||Dr()||Mr()}};var Tl="@firebase/auth",Il="1.5.1";class Al{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ws(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ml=uo("authIdTokenMaxAge")||300;let Ol=null;function Rl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;const t=as.get(e);if(!t&&e===ss&&ho())return fs();if(!t)throw us.create("no-app",{appName:e});return t}();const t=hs(e,"auth");if(t.isInitialized())return t.getImmediate();const i=function(e,t){const i=hs(e,"auth");if(i.isInitialized()){const e=i.getImmediate();if(bo(i.getOptions(),null!==t&&void 0!==t?t:{}))return e;Rs(e,"already-initialized")}return i.initialize({options:t})}(e,{popupRedirectResolver:Nl,persistence:[Va,Ca,ka]}),n=uo("authTokenSyncURL");if(n){const e=(o=n,async e=>{const t=e&&await e.getIdTokenResult(),i=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ml)return;const n=null===t||void 0===t?void 0:t.token;Ol!==n&&(Ol=n,await fetch(o,{method:n?"POST":"DELETE",headers:n?{Authorization:"Bearer ".concat(n)}:{}}))});!function(e,t,i){Lo(e).beforeAuthStateChanged(t,i)}(i,e,(()=>e(i.currentUser))),function(e,t,i,n){Lo(e).onIdTokenChanged(t,i,n)}(i,(t=>e(t)))}var o;const s=co("auth");return s&&Gr(i,"http://".concat(s)),i}var Pl;Pl="Browser",ds(new xo("auth",((e,t)=>{let{options:i}=t;const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:r,authDomain:a}=n.options;Ws(r&&!r.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:r,authDomain:a,clientPlatform:Pl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(Pl)},c=new Vr(n,o,s,l);return function(e,t){const i=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(i)?i:[i]).map(wr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,i),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,i)=>{e.getProvider("auth-internal").initialize()}))),ds(new xo("auth-internal",(e=>(e=>new Al(e))(Wr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ms(Tl,Il,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Pl)),ms(Tl,Il,"esm2017");ms("firebase","10.7.1","app");const Fl=fs({apiKey:"AIzaSyDaKfMWHSbGmZbaJa9yAKm0C3itSUMNeSs",authDomain:"imaggartechnologies-133a1.firebaseapp.com",projectId:"imaggartechnologies-133a1",storageBucket:"imaggartechnologies-133a1.appspot.com",messagingSenderId:"471451477134",appId:"1:471451477134:web:ddb7b6b9103683e65b55df"});function Bl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function Vl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function Wl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function zl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Hl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function jl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"}}]})(e)}function Ul(e){return Oe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Kl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M352 288h-16v-88c0-4.42-3.58-8-8-8h-13.58c-4.74 0-9.37 1.4-13.31 4.03l-15.33 10.22a7.994 7.994 0 0 0-2.22 11.09l8.88 13.31a7.994 7.994 0 0 0 11.09 2.22l.47-.31V288h-16c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h64c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 192c-53.02 0-96-50.15-96-112 0-61.86 42.98-112 96-112s96 50.14 96 112c0 61.87-43 112-96 112zm272 32h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}ri((e=>({user:e.user.userData})),{setUser:e=>({type:ci,payload:e})})((e=>{let{setUser:t}=e;const[i,n]=(0,o.useState)("");(0,o.useEffect)((()=>{}),[]);return(0,Ce.jsxs)("div",{className:"AuthButton-main",children:[i&&(0,Ce.jsx)("div",{className:"backend-message",children:i}),(0,Ce.jsxs)("button",{className:"AuthButton GoogleConnectButton",onClick:async()=>{console.log("Google Sign-In button clicked");const e=Rl(Fl),i=new ca;i.addScope("https://www.googleapis.com/auth/user.birthday.read"),i.addScope("https://www.googleapis.com/auth/user.phonenumbers.read");try{const o=await async function(e,t,i){const n=Wr(e);Bs(e,t,ra);const o=ja(n,i);return new Qa(n,"signInViaPopup",t,o).executeNotNull()}(e,i),s=o.user;console.log("Google Sign-In Successful",s);const r={displayName:s.displayName,email:s.email,photoURL:s.photoURL,uid:s.uid,phoneNumber:s.phoneNumber,birthdate:s.birthday};console.log("User data to be sent to the backend:",r),(e=>{to.post("/login",e).then((i=>{const o=i.data;console.log("message from Backend",o),n(o),t(e)})).catch((e=>{console.error("Error sending user data to backend",e)}))})(r)}catch(o){console.error("Google Sign-In Error",o)}},children:[(0,Ce.jsx)(Bl,{className:"AuthButton-google-icon"}),"Sign In with Google"]})]})}));const ql=[{name:{en:"Home",tamil:"\u0bae\u0bc1\u0b95\u0baa\u0bcd\u0baa\u0bc1"},url:"/",icon:(0,Ce.jsx)(nt,{})},{name:{en:"About Us",tamil:"\u0b8e\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0baa\u0bb1\u0bcd\u0bb1\u0bbf"},url:"/about",icon:(0,Ce.jsx)(ot,{})},{name:{en:"Contacts",tamil:"\u0ba4\u0bc6\u0bbe\u0b9f\u0bb0\u0bcd\u0baa\u0bc1 \u0b95\u0bc6\u0bbe\u0bb3\u0bcd\u0bb3"},url:"/contact",icon:(0,Ce.jsx)(rt,{})},{name:{en:"Careers",tamil:"\u0baa\u0ba3\u0bbf\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0bb5\u0bc7\u0bb2\u0bc8\u0b95\u0bb3\u0bcd"},url:"/careers",icon:(0,Ce.jsx)(it,{}),submenu:[{name:{en:"Internship",tamil:"\u0ba4\u0bca\u0bb4\u0bbf\u0bb2\u0bcd\u0ba8\u0bc1\u0b9f\u0bcd\u0baa \u0b85\u0ba9\u0bc1\u0bae\u0ba4\u0bbf"},url:"/careers/internship",image:Xe,description:"Explore internship opportunities at Imaggar and integrate your skills with your favorite tools."},{name:{en:"Job Openings",tamil:"\u0bb5\u0bc7\u0bb2\u0bc8 \u0bb5\u0bbf\u0bb3\u0b95\u0bcd\u0b95\u0bae\u0bcd"},url:"/careers/job-openings",image:Xe,description:"Discover job openings at Imaggar and integrate your career with your favorite tools."}]},{name:{en:"Services",tamil:"\u0b9a\u0bc7\u0bb5\u0bc8\u0b95\u0bb3\u0bcd"},url:"/services",icon:(0,Ce.jsx)(at,{}),submenu:[{name:{en:"MaaS",tamil:"\u0bb5\u0bbf\u0baa\u0bb0\u0bc0\u0ba4\u0bae\u0bbe\u0ba9 \u0b9a\u0bc7\u0bb5\u0bc8"},url:"/services/maas",image:Xe,description:"Integrate Imaggar's Marketing as a Service with your favorite tools."},{name:{en:"BaaS",tamil:"\u0b89\u0bb3\u0bcd\u0bb3\u0bae\u0bc8\u0bb5\u0bc1 \u0b85\u0ba3\u0bc1\u0b95\u0bb2\u0bcd \u0b9a\u0bc7\u0bb5\u0bc8"},url:"/services/baas",image:Xe,description:"Integrate Imaggar's Branding as a Service with your favorite tools."},{name:{en:"SDaaS",tamil:"\u0bae\u0bc6\u0ba9\u0bcd\u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bcd \u0bb5\u0bb3\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b85\u0ba3\u0bc1\u0b95\u0bb2\u0bcd \u0b9a\u0bc7\u0bb5\u0bc8"},url:"/services/sdaas",image:Xe,description:"Integrate Imaggar's Software Development as a Service with your favorite tools."},{name:{en:"VMaaS",tamil:"\u0b8f\u0bb5\u0bc1\u0b95\u0bb2\u0bc1\u0bae\u0bcd \u0b85\u0ba3\u0bc1\u0b95\u0bb2\u0bcd \u0b9a\u0bc7\u0bb5\u0bc8"},url:"/services/vmaas",image:Xe,description:"Integrate Imaggar's Vulnerability Management as a Service with your favorite tools."}]},{name:{en:"Products",tamil:"\u0ba4\u0baf\u0bbe\u0bb0\u0bbf\u0baa\u0bcd\u0baa\u0bc1\u0b95\u0bb3\u0bcd"},url:"/products",icon:(0,Ce.jsx)(tt,{}),submenu:[{name:{en:"S.I.T.E",tamil:"\u0b89\u0bb3\u0bcd\u0bb3\u0bae\u0bc8\u0bb5\u0bc1 \u0b85\u0bb1\u0bbf\u0bb5\u0bbf\u0baa\u0bcd\u0baa\u0bc1 \u0b95\u0bb0\u0bc1\u0bb5\u0bbf"},url:"/products/s.i.t.e",image:Xe,description:"Integrate Imaggar's S.I.T.E product with your favorite tools."},{name:{en:"C.O.R.E",tamil:"\u0bae\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0baf \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bcd \u0bae\u0bc8\u0baf \u0b95\u0bb0\u0bc1\u0bb5\u0bbf"},url:"/products/c.o.r.e",image:Xe,description:"Integrate Imaggar's C.O.R.E product with your favorite tools."},{name:{en:"T.R.A.D.E",tamil:"\u0bb5\u0bb0\u0bc1\u0bae\u0bbe\u0ba9 \u0bb5\u0bb0\u0bbf \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bcd \u0bae\u0bc8\u0baf \u0b95\u0bb0\u0bc1\u0bb5\u0bbf"},url:"/products/t.r.a.d.e",image:Xe,description:"Integrate Imaggar's T.R.A.D.E product with your favorite tools."},{name:{en:"V.O.I.C.E",tamil:"\u0b86\u0ba4\u0bb0\u0bbf\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b95\u0bc1\u0bb0\u0bb2\u0bcd \u0bae\u0bc8\u0baf \u0b95\u0bb0\u0bc1\u0bb5\u0bbf"},url:"/products/v.o.i.c.e",image:Xe,description:"Integrate Imaggar's V.O.I.C.E product with your favorite tools."},{name:{en:"C.A.R.E",tamil:"\u0baa\u0bb0\u0bbf\u0b9a\u0bc1\u0ba4\u0bcd\u0ba4\u0bbf \u0bae\u0bc8\u0baf \u0b95\u0bb0\u0bc1\u0bb5\u0bbf"},url:"/products/c.a.r.e",image:Xe,description:"Integrate Imaggar's C.A.R.E product with your favorite tools."}]}],Gl=()=>{const[e,t]=(0,o.useState)(!1),[i,n]=(0,o.useState)(null),[s,r]=(0,o.useState)(0),a=(0,o.useRef)(),l=()=>{t(!e),n(null),r(0)},c=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return(0,o.useEffect)((()=>(e?document.addEventListener("mousedown",c):document.removeEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)})),[e]),(0,Ce.jsxs)("header",{className:"mobile-header",children:[(0,Ce.jsx)("div",{className:"mobile-logo",children:(0,Ce.jsx)("img",{src:"./logo.png",alt:"Logo"})}),e?(0,Ce.jsx)("div",{className:"mobile-close-icon",onClick:l,children:(0,Ce.jsx)(lt,{})}):(0,Ce.jsx)("div",{className:"mobile-menu-icon",onClick:l,children:(0,Ce.jsx)(st,{})}),e&&(0,Ce.jsxs)("nav",{className:"mobile-navbar ".concat(e?"open":""),ref:a,children:[(0,Ce.jsxs)("div",{className:"mobile-sidebar-header",children:[(0,Ce.jsx)("div",{className:"mobile-logo-sidebar",children:(0,Ce.jsx)("img",{src:"./logo.png",alt:"Logo"})}),s>0&&(0,Ce.jsx)("div",{className:"mobile-back-icon",onClick:()=>{r(Math.max(0,s-1))},children:(0,Ce.jsx)(et,{})})]}),0===s?(0,Ce.jsx)("ul",{className:"mobile-nav__links",children:ql.map(((e,t)=>(0,Ce.jsx)("li",{className:"mobile-nav--link",children:(0,Ce.jsxs)("a",{href:"#",onClick:()=>(e=>{n(e),r(s+1)})(e),children:[e.icon," ",e.name.en]})},t)))}):(0,Ce.jsx)("div",{className:"mobile-submenu",children:(0,Ce.jsx)("ul",{children:i.submenu.map(((e,t)=>(0,Ce.jsxs)("li",{className:"mobile-submenu-item",children:[(0,Ce.jsx)("img",{src:e.image,alt:"Submenu Item",className:"submenu-image"}),(0,Ce.jsx)("a",{href:e.url,children:e.name.en})]},t)))})})]})]})},Yl={logo:"./logo.png",socialIcons:[{icon:Vl,href:"https://linkedin.com"},{icon:function(e){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)},href:"https://instagram.com"},{icon:function(e){return Oe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"}}]})(e)},href:"https://facebook.com"},{icon:Vl,href:"https://linkedin.com"}],otherIcons:[{icon:function(e){return Oe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"}}]})(e)},href:"https://play.google.com"},{icon:function(e){return Oe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"}}]})(e)},href:"https://apple.com"}]},Zl=[{title:"Services",links:[{label:"Software Development",url:"#"},{label:"Marketing",url:"#"},{label:"Branding",url:"#"},{label:"Vulnerability Management",url:"#"}]},{title:"Products",links:[{label:"C.l.a.r.i.s",url:"#"},{label:"S.i.t.e",url:"#"},{label:"C.o.r.e",url:"#"},{label:"V.o.i.c.e",url:"#"},{label:"C.a.r.e",url:"#"}]},{title:"Company",links:[{label:"About Us",url:"#"},{label:"Our Services",url:"#"},{label:"Privacy Policy",url:"#"},{label:"Careers",url:"#"}]}];function Ql(e){return Oe({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M18 8a3 3 0 0 1 0 6"}},{tag:"path",attr:{d:"M10 8v11a1 1 0 0 1 -1 1h-1a1 1 0 0 1 -1 -1v-5"}},{tag:"path",attr:{d:"M12 8h0l4.524 -3.77a.9 .9 0 0 1 1.476 .692v12.156a.9 .9 0 0 1 -1.476 .692l-4.524 -3.77h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h8"}}]})(e)}function Xl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"}}]})(e)}function Jl(e){return Oe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})(e)}function $l(e){return Oe({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64Zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372Zm128.013 198.826c.023.007.042.018.083.059l45.02 45.019c.04.04.05.06.058.083a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082L557.254 512l127.861 127.862a.268.268 0 0 1 .05.06l.009.023a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082l-45.019 45.02c-.04.04-.06.05-.083.058a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059L512 557.254 384.14 685.115c-.042.041-.06.052-.084.059a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059l-45.02-45.019c-.04-.04-.05-.06-.058-.083a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082L466.745 512l-127.86-127.86a.268.268 0 0 1-.05-.061l-.009-.023a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082l45.019-45.02c.04-.04.06-.05.083-.058a.118.118 0 0 1 .07 0c.022.007.041.018.082.059L512 466.745l127.862-127.86c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"}}]})(e)}const ec=()=>{const[e,t]=(0,o.useState)((new Date).getFullYear()),[i,n]=(0,o.useState)(!0);(0,o.useEffect)((()=>{const e=setInterval((()=>{t((new Date).getFullYear())}),36e5);return()=>clearInterval(e)}),[]);return window.innerWidth<=767?(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("footer",{className:"mobile-second-footer ".concat(i?"":"no-margin"),children:(0,Ce.jsx)("div",{className:"mobile-second-footer-container",children:(0,Ce.jsx)("div",{className:"mobile-copyright-container",children:(0,Ce.jsxs)("p",{children:["\xa9 ",e," IMAGGAR Technology Pvt Ltd. All Rights Reserved."]})})})}),(0,Ce.jsxs)("div",{className:"mobile-announcement-bar ".concat(i?"":"fade-out"),children:[(0,Ce.jsx)("div",{className:"mobile-announcement-bar-container",children:(0,Ce.jsxs)("a",{href:"#",className:"mobile-announcement-content",children:[(0,Ce.jsx)(Ql,{className:"mobile-announcement-icon"}),(0,Ce.jsx)("p",{children:"This is an important announcement."})]})}),(0,Ce.jsx)($l,{className:"mobile-announcement-close-icon",onClick:()=>{n(!1)}})]})]}):null},tc=()=>{const{logo:e,socialIcons:t,otherIcons:i}=Yl;return(0,Ce.jsxs)("div",{className:"MobilesocialMediaFooter-main",children:[(0,Ce.jsx)("div",{className:"MobilesocialMediaFooter-left",children:(0,Ce.jsx)("a",{href:"https://your-website-url.com",target:"_blank",rel:"noopener noreferrer",children:(0,Ce.jsx)("img",{src:e,alt:"Footer Logo",className:"mobile-footer-logo"})})}),(0,Ce.jsx)("div",{className:"MobilesocialMediaFooter-right",children:t.map(((e,t)=>(0,Ce.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:o.createElement(e.icon,{className:"mobile-footersocial-icon"})},t)))})]})},ic=()=>(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("footer",{className:"mobile-footer",children:(0,Ce.jsxs)("div",{className:"mobile-footer-container mobile-footer-row",children:[Zl.map(((e,t)=>{return(0,Ce.jsxs)("div",{className:"mobile-footer-col mobile-margin-footer",children:[(0,Ce.jsx)("h4",{children:e.title}),(0,Ce.jsx)("ul",{children:(i=e.links,i.map(((e,t)=>(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:e.url,children:e.label})},t))))})]},t);var i})),(0,Ce.jsx)("div",{className:"mobile-footer-col-2 ",children:(0,Ce.jsx)("div",{className:"mobile-form-sect-tem2 mobile-margin-footer",children:(0,Ce.jsxs)("div",{className:"mobile-tem-social-i",children:[(0,Ce.jsx)("h4",{children:"Subscribe"}),(0,Ce.jsxs)("div",{className:"mobile-subscribe",children:[(0,Ce.jsx)("input",{type:"email",placeholder:"Subscribe"}),(0,Ce.jsx)("button",{children:"Subscribe"})]}),(0,Ce.jsx)("div",{className:"Mobilefooterdes mobile-followus-text",children:(0,Ce.jsx)("p",{children:"Shape the New Era of Customer Service with Generative AI"})})]})})})]})}),(0,Ce.jsx)(tc,{}),(0,Ce.jsx)(ec,{})]});function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function oc(e){var t=function(e,t){if("object"!==nc(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nc(t)?t:String(t)}function sc(e,t,i){return(t=oc(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rc(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ac(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(i),!0).forEach((function(t){sc(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rc(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function cc(e,t){if(e){if("string"===typeof e)return lc(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?lc(e,t):void 0}}function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,s,r,a=[],l=!0,c=!1;try{if(s=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=s.call(i)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}(e,t)||cc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var uc=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gc.apply(this,arguments)}function pc(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oc(n.key),n)}}function fc(e,t){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fc(e,t)}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mc(e)}function vc(e,t){if(t&&("object"===nc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=mc(e);if(t){var o=mc(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return vc(this,i)}}function _c(e){return function(e){if(Array.isArray(e))return lc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wc=function(){function e(e){var t=this;this._insertTag=function(e){var i;i=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,i),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{i.insertRule(e,i.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),yc=Math.abs,Cc=String.fromCharCode,Sc=Object.assign;function kc(e){return e.trim()}function Lc(e,t,i){return e.replace(t,i)}function xc(e,t){return e.indexOf(t)}function Dc(e,t){return 0|e.charCodeAt(t)}function Ec(e,t,i){return e.slice(t,i)}function Nc(e){return e.length}function Tc(e){return e.length}function Ic(e,t){return t.push(e),e}var Ac=1,Mc=1,Oc=0,Rc=0,Pc=0,Fc="";function Bc(e,t,i,n,o,s,r){return{value:e,root:t,parent:i,type:n,props:o,children:s,line:Ac,column:Mc,length:r,return:""}}function Vc(e,t){return Sc(Bc("",null,null,"",null,null,0),e,{length:-e.length},t)}function Wc(){return Pc=Rc>0?Dc(Fc,--Rc):0,Mc--,10===Pc&&(Mc=1,Ac--),Pc}function zc(){return Pc=Rc<Oc?Dc(Fc,Rc++):0,Mc++,10===Pc&&(Mc=1,Ac++),Pc}function Hc(){return Dc(Fc,Rc)}function jc(){return Rc}function Uc(e,t){return Ec(Fc,e,t)}function Kc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qc(e){return Ac=Mc=1,Oc=Nc(Fc=e),Rc=0,[]}function Gc(e){return Fc="",e}function Yc(e){return kc(Uc(Rc-1,Xc(91===e?e+2:40===e?e+1:e)))}function Zc(e){for(;(Pc=Hc())&&Pc<33;)zc();return Kc(e)>2||Kc(Pc)>3?"":" "}function Qc(e,t){for(;--t&&zc()&&!(Pc<48||Pc>102||Pc>57&&Pc<65||Pc>70&&Pc<97););return Uc(e,jc()+(t<6&&32==Hc()&&32==zc()))}function Xc(e){for(;zc();)switch(Pc){case e:return Rc;case 34:case 39:34!==e&&39!==e&&Xc(Pc);break;case 40:41===e&&Xc(e);break;case 92:zc()}return Rc}function Jc(e,t){for(;zc()&&e+Pc!==57&&(e+Pc!==84||47!==Hc()););return"/*"+Uc(t,Rc-1)+"*"+Cc(47===e?e:zc())}function $c(e){for(;!Kc(Hc());)zc();return Uc(e,Rc)}var ed="-ms-",td="-moz-",id="-webkit-",nd="comm",od="rule",sd="decl",rd="@keyframes";function ad(e,t){for(var i="",n=Tc(e),o=0;o<n;o++)i+=t(e[o],o,e,t)||"";return i}function ld(e,t,i,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case sd:return e.return=e.return||e.value;case nd:return"";case rd:return e.return=e.value+"{"+ad(e.children,n)+"}";case od:e.value=e.props.join(",")}return Nc(i=ad(e.children,n))?e.return=e.value+"{"+i+"}":""}function cd(e){return function(t){t.root||(t=t.return)&&e(t)}}function dd(e){return Gc(hd("",null,null,null,[""],e=qc(e),0,[0],e))}function hd(e,t,i,n,o,s,r,a,l){for(var c=0,d=0,h=r,u=0,g=0,p=0,f=1,m=1,v=1,b=0,_="",w=o,y=s,C=n,S=_;m;)switch(p=b,b=zc()){case 40:if(108!=p&&58==Dc(S,h-1)){-1!=xc(S+=Lc(Yc(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=Yc(b);break;case 9:case 10:case 13:case 32:S+=Zc(p);break;case 92:S+=Qc(jc()-1,7);continue;case 47:switch(Hc()){case 42:case 47:Ic(gd(Jc(zc(),jc()),t,i),l);break;default:S+="/"}break;case 123*f:a[c++]=Nc(S)*v;case 125*f:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+d:-1==v&&(S=Lc(S,/\f/g,"")),g>0&&Nc(S)-h&&Ic(g>32?pd(S+";",n,i,h-1):pd(Lc(S," ","")+";",n,i,h-2),l);break;case 59:S+=";";default:if(Ic(C=ud(S,t,i,c,d,o,a,_,w=[],y=[],h),s),123===b)if(0===d)hd(S,t,C,C,w,s,h,a,y);else switch(99===u&&110===Dc(S,3)?100:u){case 100:case 108:case 109:case 115:hd(e,C,C,n&&Ic(ud(e,C,C,0,0,o,a,_,o,w=[],h),y),o,y,h,a,n?w:y);break;default:hd(S,C,C,C,[""],y,0,a,y)}}c=d=g=0,f=v=1,_=S="",h=r;break;case 58:h=1+Nc(S),g=p;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==Wc())continue;switch(S+=Cc(b),b*f){case 38:v=d>0?1:(S+="\f",-1);break;case 44:a[c++]=(Nc(S)-1)*v,v=1;break;case 64:45===Hc()&&(S+=Yc(zc())),u=Hc(),d=h=Nc(_=S+=$c(jc())),b++;break;case 45:45===p&&2==Nc(S)&&(f=0)}}return s}function ud(e,t,i,n,o,s,r,a,l,c,d){for(var h=o-1,u=0===o?s:[""],g=Tc(u),p=0,f=0,m=0;p<n;++p)for(var v=0,b=Ec(e,h+1,h=yc(f=r[p])),_=e;v<g;++v)(_=kc(f>0?u[v]+" "+b:Lc(b,/&\f/g,u[v])))&&(l[m++]=_);return Bc(e,t,i,0===o?od:a,l,c,d)}function gd(e,t,i){return Bc(e,t,i,nd,Cc(Pc),Ec(e,2,-2),0)}function pd(e,t,i,n){return Bc(e,t,i,sd,Ec(e,0,n),Ec(e,n+1,-1),n)}var fd=function(e,t,i){for(var n=0,o=0;n=o,o=Hc(),38===n&&12===o&&(t[i]=1),!Kc(o);)zc();return Uc(e,Rc)},md=function(e,t){return Gc(function(e,t){var i=-1,n=44;do{switch(Kc(n)){case 0:38===n&&12===Hc()&&(t[i]=1),e[i]+=fd(Rc-1,t,i);break;case 2:e[i]+=Yc(n);break;case 4:if(44===n){e[++i]=58===Hc()?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Cc(n)}}while(n=zc());return e}(qc(e),t))},vd=new WeakMap,bd=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,i=e.parent,n=e.column===i.column&&e.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vd.get(i))&&!n){vd.set(e,!0);for(var o=[],s=md(t,o),r=i.props,a=0,l=0;a<s.length;a++)for(var c=0;c<r.length;c++,l++)e.props[l]=o[a]?s[a].replace(/&\f/g,r[c]):r[c]+" "+s[a]}}},_d=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function wd(e,t){switch(function(e,t){return 45^Dc(e,0)?(((t<<2^Dc(e,0))<<2^Dc(e,1))<<2^Dc(e,2))<<2^Dc(e,3):0}(e,t)){case 5103:return id+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return id+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return id+e+td+e+ed+e+e;case 6828:case 4268:return id+e+ed+e+e;case 6165:return id+e+ed+"flex-"+e+e;case 5187:return id+e+Lc(e,/(\w+).+(:[^]+)/,id+"box-$1$2"+ed+"flex-$1$2")+e;case 5443:return id+e+ed+"flex-item-"+Lc(e,/flex-|-self/,"")+e;case 4675:return id+e+ed+"flex-line-pack"+Lc(e,/align-content|flex-|-self/,"")+e;case 5548:return id+e+ed+Lc(e,"shrink","negative")+e;case 5292:return id+e+ed+Lc(e,"basis","preferred-size")+e;case 6060:return id+"box-"+Lc(e,"-grow","")+id+e+ed+Lc(e,"grow","positive")+e;case 4554:return id+Lc(e,/([^-])(transform)/g,"$1"+id+"$2")+e;case 6187:return Lc(Lc(Lc(e,/(zoom-|grab)/,id+"$1"),/(image-set)/,id+"$1"),e,"")+e;case 5495:case 3959:return Lc(e,/(image-set\([^]*)/,id+"$1$`$1");case 4968:return Lc(Lc(e,/(.+:)(flex-)?(.*)/,id+"box-pack:$3"+ed+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+id+e+e;case 4095:case 3583:case 4068:case 2532:return Lc(e,/(.+)-inline(.+)/,id+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nc(e)-1-t>6)switch(Dc(e,t+1)){case 109:if(45!==Dc(e,t+4))break;case 102:return Lc(e,/(.+:)(.+)-([^]+)/,"$1"+id+"$2-$3$1"+td+(108==Dc(e,t+3)?"$3":"$2-$3"))+e;case 115:return~xc(e,"stretch")?wd(Lc(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Dc(e,t+1))break;case 6444:switch(Dc(e,Nc(e)-3-(~xc(e,"!important")&&10))){case 107:return Lc(e,":",":"+id)+e;case 101:return Lc(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+id+(45===Dc(e,14)?"inline-":"")+"box$3$1"+id+"$2$3$1"+ed+"$2box$3")+e}break;case 5936:switch(Dc(e,t+11)){case 114:return id+e+ed+Lc(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return id+e+ed+Lc(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return id+e+ed+Lc(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return id+e+ed+e+e}return e}var yd=[function(e,t,i,n){if(e.length>-1&&!e.return)switch(e.type){case sd:e.return=wd(e.value,e.length);break;case rd:return ad([Vc(e,{value:Lc(e.value,"@","@"+id)})],n);case od:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ad([Vc(e,{props:[Lc(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return ad([Vc(e,{props:[Lc(t,/:(plac\w+)/,":"+id+"input-$1")]}),Vc(e,{props:[Lc(t,/:(plac\w+)/,":-moz-$1")]}),Vc(e,{props:[Lc(t,/:(plac\w+)/,ed+"input-$1")]})],n)}return""}))}}],Cd=function(e){var t=e.key;if("css"===t){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||yd;var o,s,r={},a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),i=1;i<t.length;i++)r[t[i]]=!0;a.push(e)}));var l=[bd,_d];var c,d=[ld,cd((function(e){c.insert(e)}))],h=function(e){var t=Tc(e);return function(i,n,o,s){for(var r="",a=0;a<t;a++)r+=e[a](i,n,o,s)||"";return r}}(l.concat(n,d));s=function(e,t,i,n){c=i,ad(dd(e?e+"{"+t.styles+"}":t.styles),h),n&&(u.inserted[t.name]=!0)};var u={key:t,sheet:new wc({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:s};return u.sheet.hydrate(a),u};var Sd=function(e,t,i){var n=e.key+"-"+t.name;!1===i&&void 0===e.registered[n]&&(e.registered[n]=t.styles)};var kd={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ld(e){var t=Object.create(null);return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}}var xd=/[A-Z]|^ms/g,Dd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ed=function(e){return 45===e.charCodeAt(1)},Nd=function(e){return null!=e&&"boolean"!==typeof e},Td=Ld((function(e){return Ed(e)?e:e.replace(xd,"-$&").toLowerCase()})),Id=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Dd,(function(e,t,i){return Md={name:t,styles:i,next:Md},t}))}return 1===kd[e]||Ed(e)||"number"!==typeof t||0===t?t:t+"px"};function Ad(e,t,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return Md={name:i.name,styles:i.styles,next:Md},i.name;if(void 0!==i.styles){var n=i.next;if(void 0!==n)for(;void 0!==n;)Md={name:n.name,styles:n.styles,next:Md},n=n.next;return i.styles+";"}return function(e,t,i){var n="";if(Array.isArray(i))for(var o=0;o<i.length;o++)n+=Ad(e,t,i[o])+";";else for(var s in i){var r=i[s];if("object"!==typeof r)null!=t&&void 0!==t[r]?n+=s+"{"+t[r]+"}":Nd(r)&&(n+=Td(s)+":"+Id(s,r)+";");else if(!Array.isArray(r)||"string"!==typeof r[0]||null!=t&&void 0!==t[r[0]]){var a=Ad(e,t,r);switch(s){case"animation":case"animationName":n+=Td(s)+":"+a+";";break;default:n+=s+"{"+a+"}"}}else for(var l=0;l<r.length;l++)Nd(r[l])&&(n+=Td(s)+":"+Id(s,r[l])+";")}return n}(e,t,i);case"function":if(void 0!==e){var o=Md,s=i(e);return Md=o,Ad(e,t,s)}}if(null==t)return i;var r=t[i];return void 0!==r?r:i}var Md,Od=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Rd=function(e,t,i){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";Md=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,o+=Ad(i,t,s)):o+=s[0];for(var r=1;r<e.length;r++)o+=Ad(i,t,e[r]),n&&(o+=s[r]);Od.lastIndex=0;for(var a,l="";null!==(a=Od.exec(o));)l+="-"+a[1];var c=function(e){for(var t,i=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),i=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(o){case 3:i^=(255&e.charCodeAt(n+2))<<16;case 2:i^=(255&e.charCodeAt(n+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(n)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:Md}},Pd=!!s.useInsertionEffect&&s.useInsertionEffect,Fd=Pd||function(e){return e()},Bd=(Pd||o.useLayoutEffect,{}.hasOwnProperty),Vd=o.createContext("undefined"!==typeof HTMLElement?Cd({key:"css"}):null);Vd.Provider;var Wd=function(e){return(0,o.forwardRef)((function(t,i){var n=(0,o.useContext)(Vd);return e(t,n,i)}))};var zd=o.createContext({});var Hd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",jd=function(e){var t=e.cache,i=e.serialized,n=e.isStringTag;return Sd(t,i,n),Fd((function(){return function(e,t,i){Sd(e,t,i);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,i,n)})),null},Ud=Wd((function(e,t,i){var n=e.css;"string"===typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var s=e[Hd],r=[n],a="";"string"===typeof e.className?a=function(e,t,i){var n="";return i.split(" ").forEach((function(i){void 0!==e[i]?t.push(e[i]+";"):n+=i+" "})),n}(t.registered,r,e.className):null!=e.className&&(a=e.className+" ");var l=Rd(r,void 0,o.useContext(zd));a+=t.key+"-"+l.name;var c={};for(var d in e)Bd.call(e,d)&&"css"!==d&&d!==Hd&&(c[d]=e[d]);return c.ref=i,c.className=a,o.createElement(o.Fragment,null,o.createElement(jd,{cache:t,serialized:l,isStringTag:"string"===typeof s}),o.createElement(s,c))}));var Kd=Ud,qd=(i(2110),function(e,t){var i=arguments;if(null==t||!Bd.call(t,"css"))return o.createElement.apply(void 0,i);var n=i.length,s=new Array(n);s[0]=Kd,s[1]=function(e,t){var i={};for(var n in t)Bd.call(t,n)&&(i[n]=t[n]);return i[Hd]=e,i}(e,t);for(var r=2;r<n;r++)s[r]=i[r];return o.createElement.apply(null,s)});function Gd(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Rd(t)}const Yd=Math.min,Zd=Math.max,Qd=Math.round,Xd=Math.floor,Jd=e=>({x:e,y:e});function $d(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function eh(e){return nh(e)?(e.nodeName||"").toLowerCase():"#document"}function th(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ih(e){var t;return null==(t=(nh(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function nh(e){return e instanceof Node||e instanceof th(e).Node}function oh(e){return e instanceof Element||e instanceof th(e).Element}function sh(e){return e instanceof HTMLElement||e instanceof th(e).HTMLElement}function rh(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof th(e).ShadowRoot)}function ah(e){const{overflow:t,overflowX:i,overflowY:n,display:o}=dh(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(o)}function lh(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ch(e){return["html","body","#document"].includes(eh(e))}function dh(e){return th(e).getComputedStyle(e)}function hh(e){if("html"===eh(e))return e;const t=e.assignedSlot||e.parentNode||rh(e)&&e.host||ih(e);return rh(t)?t.host:t}function uh(e){const t=hh(e);return ch(t)?e.ownerDocument?e.ownerDocument.body:e.body:sh(t)&&ah(t)?t:uh(t)}function gh(e,t,i){var n;void 0===t&&(t=[]),void 0===i&&(i=!0);const o=uh(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),r=th(o);return s?t.concat(r,r.visualViewport||[],ah(o)?o:[],r.frameElement&&i?gh(r.frameElement):[]):t.concat(o,gh(o,[],i))}function ph(e){const t=dh(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=sh(e),s=o?e.offsetWidth:i,r=o?e.offsetHeight:n,a=Qd(i)!==s||Qd(n)!==r;return a&&(i=s,n=r),{width:i,height:n,$:a}}function fh(e){return oh(e)?e:e.contextElement}function mh(e){const t=fh(e);if(!sh(t))return Jd(1);const i=t.getBoundingClientRect(),{width:n,height:o,$:s}=ph(t);let r=(s?Qd(i.width):i.width)/n,a=(s?Qd(i.height):i.height)/o;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}const vh=Jd(0);function bh(e){const t=th(e);return lh()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:vh}function _h(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1);const o=e.getBoundingClientRect(),s=fh(e);let r=Jd(1);t&&(n?oh(n)&&(r=mh(n)):r=mh(e));const a=function(e,t,i){return void 0===t&&(t=!1),!(!i||t&&i!==th(e))&&t}(s,i,n)?bh(s):Jd(0);let l=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,d=o.width/r.x,h=o.height/r.y;if(s){const e=th(s),t=n&&oh(n)?th(n):n;let i=e.frameElement;for(;i&&n&&t!==e;){const e=mh(i),t=i.getBoundingClientRect(),n=dh(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,h*=e.y,l+=o,c+=s,i=th(i).frameElement}}return $d({width:d,height:h,x:l,y:c})}function wh(e,t,i,n){void 0===n&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,c=fh(e),d=o||s?[...c?gh(c):[],...gh(t)]:[];d.forEach((e=>{o&&e.addEventListener("scroll",i,{passive:!0}),s&&e.addEventListener("resize",i)}));const h=c&&a?function(e,t){let i,n=null;const o=ih(e);function s(){clearTimeout(i),n&&n.disconnect(),n=null}return function r(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const{left:c,top:d,width:h,height:u}=e.getBoundingClientRect();if(a||t(),!h||!u)return;const g={rootMargin:-Xd(d)+"px "+-Xd(o.clientWidth-(c+h))+"px "+-Xd(o.clientHeight-(d+u))+"px "+-Xd(c)+"px",threshold:Zd(0,Yd(1,l))||1};let p=!0;function f(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return r();t?r(!1,t):i=setTimeout((()=>{r(!1,1e-7)}),100)}p=!1}try{n=new IntersectionObserver(f,{...g,root:o.ownerDocument})}catch(m){n=new IntersectionObserver(f,g)}n.observe(e)}(!0),s}(c,i):null;let u,g=-1,p=null;r&&(p=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{p&&p.observe(t)}))),i()})),c&&!l&&p.observe(c),p.observe(t));let f=l?_h(e):null;return l&&function t(){const n=_h(e);!f||n.x===f.x&&n.y===f.y&&n.width===f.width&&n.height===f.height||i();f=n,u=requestAnimationFrame(t)}(),i(),()=>{d.forEach((e=>{o&&e.removeEventListener("scroll",i),s&&e.removeEventListener("resize",i)})),h&&h(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(u)}}const yh=o.useLayoutEffect;var Ch=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Sh=function(){};function kh(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Lh(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];var s=[].concat(n);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&s.push("".concat(kh(e,r)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var xh=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===nc(e)&&null!==e?[e]:[];var t},Dh=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ac({},hc(e,Ch))},Eh=function(e,t,i){var n=e.cx,o=e.getStyles,s=e.getClassNames,r=e.className;return{css:o(t,e),className:n(null!==i&&void 0!==i?i:{},s(t,e),r)}};function Nh(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Th(e){return Nh(e)?window.pageYOffset:e.scrollTop}function Ih(e,t){Nh(e)?window.scrollTo(0,t):e.scrollTop=t}function Ah(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sh,o=Th(e),s=t-o,r=0;!function t(){var a,l=s*((a=(a=r+=10)/i-1)*a*a+1)+o;Ih(e,l),r<i?window.requestAnimationFrame(t):n(e)}()}function Mh(e,t){var i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=t.offsetHeight/3;n.bottom+o>i.bottom?Ih(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):n.top-o<i.top&&Ih(e,Math.max(t.offsetTop-o,0))}function Oh(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Rh=!1,Ph={get passive(){return Rh=!0}},Fh="undefined"!==typeof window?window:{};Fh.addEventListener&&Fh.removeEventListener&&(Fh.addEventListener("p",Sh,Ph),Fh.removeEventListener("p",Sh,!1));var Bh=Rh;function Vh(e){return null!=e}function Wh(e,t,i){return e?t:i}var zh=["children","innerProps"],Hh=["children","innerProps"];function jh(e){var t=e.maxHeight,i=e.menuEl,n=e.minHeight,o=e.placement,s=e.shouldScroll,r=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),i="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!i||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(i),c={placement:"bottom",maxHeight:t};if(!i||!i.offsetParent)return c;var d,h=l.getBoundingClientRect().height,u=i.getBoundingClientRect(),g=u.bottom,p=u.height,f=u.top,m=i.offsetParent.getBoundingClientRect().top,v=r?window.innerHeight:Nh(d=l)?window.innerHeight:d.clientHeight,b=Th(l),_=parseInt(getComputedStyle(i).marginBottom,10),w=parseInt(getComputedStyle(i).marginTop,10),y=m-w,C=v-f,S=y+b,k=h-b-f,L=g-v+b+_,x=b+f-w,D=160;switch(o){case"auto":case"bottom":if(C>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!r)return s&&Ah(l,L,D),{placement:"bottom",maxHeight:t};if(!r&&k>=n||r&&C>=n)return s&&Ah(l,L,D),{placement:"bottom",maxHeight:r?C-_:k-_};if("auto"===o||r){var E=t,N=r?y:S;return N>=n&&(E=Math.min(N-_-a,t)),{placement:"top",maxHeight:E}}if("bottom"===o)return s&&Ih(l,L),{placement:"bottom",maxHeight:t};break;case"top":if(y>=p)return{placement:"top",maxHeight:t};if(S>=p&&!r)return s&&Ah(l,x,D),{placement:"top",maxHeight:t};if(!r&&S>=n||r&&y>=n){var T=t;return(!r&&S>=n||r&&y>=n)&&(T=r?y-w:S-w),s&&Ah(l,x,D),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}var Uh,Kh=function(e){return"auto"===e?"bottom":e},qh=(0,o.createContext)(null),Gh=function(e){var t=e.children,i=e.minMenuHeight,n=e.maxMenuHeight,s=e.menuPlacement,r=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=((0,o.useContext)(qh)||{}).setPortalPlacement,d=(0,o.useRef)(null),h=dc((0,o.useState)(n),2),u=h[0],g=h[1],p=dc((0,o.useState)(null),2),f=p[0],m=p[1],v=l.spacing.controlHeight;return yh((function(){var e=d.current;if(e){var t="fixed"===r,o=jh({maxHeight:n,menuEl:e,minHeight:i,placement:s,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:v});g(o.maxHeight),m(o.placement),null===c||void 0===c||c(o.placement)}}),[n,s,r,a,i,c,v]),t({ref:d,placerProps:ac(ac({},e),{},{placement:f||Kh(s),maxHeight:u})})},Yh=function(e){var t=e.children,i=e.innerRef,n=e.innerProps;return qd("div",gc({},Eh(e,"menu",{menu:!0}),{ref:i},n),t)},Zh=function(e,t){var i=e.theme,n=i.spacing.baseUnit,o=i.colors;return ac({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},Qh=Zh,Xh=Zh,Jh=["size"],$h=["innerProps","isRtl","size"];var eu={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tu=function(e){var t=e.size,i=hc(e,Jh);return qd("svg",gc({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:eu},i))},iu=function(e){return qd(tu,gc({size:20},e),qd("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},nu=function(e){return qd(tu,gc({size:20},e),qd("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ou=function(e,t){var i=e.isFocused,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return ac({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?s.neutral60:s.neutral20,padding:2*o,":hover":{color:i?s.neutral80:s.neutral40}})},su=ou,ru=ou,au=function(){var e=Gd.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Uh||(Uh=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),lu=function(e){var t=e.delay,i=e.offset;return qd("span",{css:Gd({animation:"".concat(au," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cu=function(e){var t=e.children,i=e.isDisabled,n=e.isFocused,o=e.innerRef,s=e.innerProps,r=e.menuIsOpen;return qd("div",gc({ref:o},Eh(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":n,"control--menu-is-open":r}),s,{"aria-disabled":i||void 0}),t)},du=["data"],hu=function(e){var t=e.children,i=e.cx,n=e.getStyles,o=e.getClassNames,s=e.Heading,r=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return qd("div",gc({},Eh(e,"group",{group:!0}),a),qd(s,gc({},r,{selectProps:d,theme:c,getStyles:n,getClassNames:o,cx:i}),l),qd("div",null,t))},uu=["innerRef","isDisabled","isHidden","inputClassName"],gu={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pu={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ac({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gu)},fu=function(e){return ac({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},gu)},mu=function(e){var t=e.children,i=e.innerProps;return qd("div",i,t)};var vu=function(e){var t=e.children,i=e.components,n=e.data,o=e.innerProps,s=e.isDisabled,r=e.removeProps,a=e.selectProps,l=i.Container,c=i.Label,d=i.Remove;return qd(l,{data:n,innerProps:ac(ac({},Eh(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:a},qd(c,{data:n,innerProps:ac({},Eh(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),qd(d,{data:n,innerProps:ac(ac({},Eh(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:a}))},bu=function(e){var t=e.children,i=e.isDisabled,n=e.isFocused,o=e.isSelected,s=e.innerRef,r=e.innerProps;return qd("div",gc({},Eh(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":n,"option--is-selected":o}),{ref:s,"aria-disabled":i},r),t)},_u={ClearIndicator:function(e){var t=e.children,i=e.innerProps;return qd("div",gc({},Eh(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||qd(iu,null))},Control:cu,DropdownIndicator:function(e){var t=e.children,i=e.innerProps;return qd("div",gc({},Eh(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||qd(nu,null))},DownChevron:nu,CrossIcon:iu,Group:hu,GroupHeading:function(e){var t=Dh(e);t.data;var i=hc(t,du);return qd("div",gc({},Eh(e,"groupHeading",{"group-heading":!0}),i))},IndicatorsContainer:function(e){var t=e.children,i=e.innerProps;return qd("div",gc({},Eh(e,"indicatorsContainer",{indicators:!0}),i),t)},IndicatorSeparator:function(e){var t=e.innerProps;return qd("span",gc({},t,Eh(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,i=e.value,n=Dh(e),o=n.innerRef,s=n.isDisabled,r=n.isHidden,a=n.inputClassName,l=hc(n,uu);return qd("div",gc({},Eh(e,"input",{"input-container":!0}),{"data-value":i||""}),qd("input",gc({className:t({input:!0},a),ref:o,style:fu(r),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,i=e.isRtl,n=e.size,o=void 0===n?4:n,s=hc(e,$h);return qd("div",gc({},Eh(ac(ac({},s),{},{innerProps:t,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),qd(lu,{delay:0,offset:i}),qd(lu,{delay:160,offset:!0}),qd(lu,{delay:320,offset:!i}))},Menu:Yh,MenuList:function(e){var t=e.children,i=e.innerProps,n=e.innerRef,o=e.isMulti;return qd("div",gc({},Eh(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:n},i),t)},MenuPortal:function(e){var t=e.appendTo,i=e.children,n=e.controlElement,s=e.innerProps,r=e.menuPlacement,l=e.menuPosition,c=(0,o.useRef)(null),d=(0,o.useRef)(null),h=dc((0,o.useState)(Kh(r)),2),u=h[0],g=h[1],p=(0,o.useMemo)((function(){return{setPortalPlacement:g}}),[]),f=dc((0,o.useState)(null),2),m=f[0],v=f[1],b=(0,o.useCallback)((function(){if(n){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(n),t="fixed"===l?0:window.pageYOffset,i=e[u]+t;i===(null===m||void 0===m?void 0:m.offset)&&e.left===(null===m||void 0===m?void 0:m.rect.left)&&e.width===(null===m||void 0===m?void 0:m.rect.width)||v({offset:i,rect:e})}}),[n,l,u,null===m||void 0===m?void 0:m.offset,null===m||void 0===m?void 0:m.rect.left,null===m||void 0===m?void 0:m.rect.width]);yh((function(){b()}),[b]);var _=(0,o.useCallback)((function(){"function"===typeof d.current&&(d.current(),d.current=null),n&&c.current&&(d.current=wh(n,c.current,b,{elementResize:"ResizeObserver"in window}))}),[n,b]);yh((function(){_()}),[_]);var w=(0,o.useCallback)((function(e){c.current=e,_()}),[_]);if(!t&&"fixed"!==l||!m)return null;var y=qd("div",gc({ref:w},Eh(ac(ac({},e),{},{offset:m.offset,position:l,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),i);return qd(qh.Provider,{value:p},t?(0,a.createPortal)(y,t):y)},LoadingMessage:function(e){var t=e.children,i=void 0===t?"Loading...":t,n=e.innerProps,o=hc(e,Hh);return qd("div",gc({},Eh(ac(ac({},o),{},{children:i,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),i)},NoOptionsMessage:function(e){var t=e.children,i=void 0===t?"No options":t,n=e.innerProps,o=hc(e,zh);return qd("div",gc({},Eh(ac(ac({},o),{},{children:i,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),i)},MultiValue:vu,MultiValueContainer:mu,MultiValueLabel:mu,MultiValueRemove:function(e){var t=e.children,i=e.innerProps;return qd("div",gc({role:"button"},i),t||qd(iu,{size:14}))},Option:bu,Placeholder:function(e){var t=e.children,i=e.innerProps;return qd("div",gc({},Eh(e,"placeholder",{placeholder:!0}),i),t)},SelectContainer:function(e){var t=e.children,i=e.innerProps,n=e.isDisabled,o=e.isRtl;return qd("div",gc({},Eh(e,"container",{"--is-disabled":n,"--is-rtl":o}),i),t)},SingleValue:function(e){var t=e.children,i=e.isDisabled,n=e.innerProps;return qd("div",gc({},Eh(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),n),t)},ValueContainer:function(e){var t=e.children,i=e.innerProps,n=e.isMulti,o=e.hasValue;return qd("div",gc({},Eh(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":o}),i),t)}},wu=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function yu(e,t){return e===t||!(!wu(e)||!wu(t))}function Cu(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!yu(e[i],t[i]))return!1;return!0}for(var Su={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ku=function(e){return qd("span",gc({css:Su},e))},Lu={guidance:function(e){var t=e.isSearchable,i=e.isMulti,n=e.tabSelectsValue,o=e.context,s=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,n=void 0===i?"":i,o=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(n,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,n=e.options,o=e.label,s=void 0===o?"":o,r=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(s," focused, ").concat(d(r,i),".");if("menu"===t&&c){var h=a?" disabled":"",u="".concat(l?" selected":"").concat(h);return"".concat(s).concat(u,", ").concat(d(n,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},xu=function(e){var t=e.ariaSelection,i=e.focusedOption,n=e.focusedValue,s=e.focusableOptions,r=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,u=l.getOptionLabel,g=l.inputValue,p=l.isMulti,f=l.isOptionDisabled,m=l.isSearchable,v=l.menuIsOpen,b=l.options,_=l.screenReaderStatus,w=l.tabSelectsValue,y=l.isLoading,C=l["aria-label"],S=l["aria-live"],k=(0,o.useMemo)((function(){return ac(ac({},Lu),h||{})}),[h]),L=(0,o.useMemo)((function(){var e,i="";if(t&&k.onChange){var n=t.option,o=t.options,s=t.removedValue,r=t.removedValues,l=t.value,c=s||n||(e=l,Array.isArray(e)?null:e),d=c?u(c):"",h=o||r||void 0,g=h?h.map(u):[],p=ac({isDisabled:c&&f(c,a),label:d,labels:g},t);i=k.onChange(p)}return i}),[t,k,f,a,u]),x=(0,o.useMemo)((function(){var e="",t=i||n,o=!!(i&&a&&a.includes(i));if(t&&k.onFocus){var r={focused:t,label:u(t),isDisabled:f(t,a),isSelected:o,options:s,context:t===i?"menu":"value",selectValue:a,isAppleDevice:d};e=k.onFocus(r)}return e}),[i,n,u,f,k,s,a,d]),D=(0,o.useMemo)((function(){var e="";if(v&&b.length&&!y&&k.onFilter){var t=_({count:s.length});e=k.onFilter({inputValue:g,resultsMessage:t})}return e}),[s,g,v,k,b,_,y]),E="initial-input-focus"===(null===t||void 0===t?void 0:t.action),N=(0,o.useMemo)((function(){var e="";if(k.guidance){var t=n?"value":v?"menu":"input";e=k.guidance({"aria-label":C,context:t,isDisabled:i&&f(i,a),isMulti:p,isSearchable:m,tabSelectsValue:w,isInitialFocus:E})}return e}),[C,i,n,p,f,m,v,k,a,w,E]),T=qd(o.Fragment,null,qd("span",{id:"aria-selection"},L),qd("span",{id:"aria-focused"},x),qd("span",{id:"aria-results"},D),qd("span",{id:"aria-guidance"},N));return qd(o.Fragment,null,qd(ku,{id:c},E&&T),qd(ku,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!E&&T))},Du=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Eu=new RegExp("["+Du.map((function(e){return e.letters})).join("")+"]","g"),Nu={},Tu=0;Tu<Du.length;Tu++)for(var Iu=Du[Tu],Au=0;Au<Iu.letters.length;Au++)Nu[Iu.letters[Au]]=Iu.base;var Mu=function(e){return e.replace(Eu,(function(e){return Nu[e]}))},Ou=function(e,t){void 0===t&&(t=Cu);var i=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(i&&i.lastThis===this&&t(n,i.lastArgs))return i.lastResult;var s=e.apply(this,n);return i={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){i=null},n}(Mu),Ru=function(e){return e.replace(/^\s+|\s+$/g,"")},Pu=function(e){return"".concat(e.label," ").concat(e.value)},Fu=["innerRef"];function Bu(e){var t=e.innerRef,i=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o=Object.entries(e).filter((function(e){var t=dc(e,1)[0];return!i.includes(t)}));return o.reduce((function(e,t){var i=dc(t,2),n=i[0],o=i[1];return e[n]=o,e}),{})}(hc(e,Fu),"onExited","in","enter","exit","appear");return qd("input",gc({ref:t},i,{css:Gd({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Vu=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var Wu=["boxSizing","height","overflow","paddingRight","position"],zu={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Hu(e){e.preventDefault()}function ju(e){e.stopPropagation()}function Uu(){var e=this.scrollTop,t=this.scrollHeight,i=e+this.offsetHeight;0===e?this.scrollTop=1:i===t&&(this.scrollTop=e-1)}function Ku(){return"ontouchstart"in window||navigator.maxTouchPoints}var qu=!("undefined"===typeof window||!window.document||!window.document.createElement),Gu=0,Yu={capture:!1,passive:!1};var Zu=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Qu={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Xu(e){var t=e.children,i=e.lockEnabled,n=e.captureEnabled,s=function(e){var t=e.isEnabled,i=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,r=e.onTopLeave,a=(0,o.useRef)(!1),l=(0,o.useRef)(!1),c=(0,o.useRef)(0),d=(0,o.useRef)(null),h=(0,o.useCallback)((function(e,t){if(null!==d.current){var o=d.current,c=o.scrollTop,h=o.scrollHeight,u=o.clientHeight,g=d.current,p=t>0,f=h-u-c,m=!1;f>t&&a.current&&(n&&n(e),a.current=!1),p&&l.current&&(r&&r(e),l.current=!1),p&&t>f?(i&&!a.current&&i(e),g.scrollTop=h,m=!0,a.current=!0):!p&&-t>c&&(s&&!l.current&&s(e),g.scrollTop=0,m=!0,l.current=!0),m&&Vu(e)}}),[i,n,s,r]),u=(0,o.useCallback)((function(e){h(e,e.deltaY)}),[h]),g=(0,o.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,o.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),f=(0,o.useCallback)((function(e){if(e){var t=!!Bh&&{passive:!1};e.addEventListener("wheel",u,t),e.addEventListener("touchstart",g,t),e.addEventListener("touchmove",p,t)}}),[p,g,u]),m=(0,o.useCallback)((function(e){e&&(e.removeEventListener("wheel",u,!1),e.removeEventListener("touchstart",g,!1),e.removeEventListener("touchmove",p,!1))}),[p,g,u]);return(0,o.useEffect)((function(){if(t){var e=d.current;return f(e),function(){m(e)}}}),[t,f,m]),function(e){d.current=e}}({isEnabled:void 0===n||n,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),r=function(e){var t=e.isEnabled,i=e.accountForScrollbars,n=void 0===i||i,s=(0,o.useRef)({}),r=(0,o.useRef)(null),a=(0,o.useCallback)((function(e){if(qu){var t=document.body,i=t&&t.style;if(n&&Wu.forEach((function(e){var t=i&&i[e];s.current[e]=t})),n&&Gu<1){var o=parseInt(s.current.paddingRight,10)||0,r=document.body?document.body.clientWidth:0,a=window.innerWidth-r+o||0;Object.keys(zu).forEach((function(e){var t=zu[e];i&&(i[e]=t)})),i&&(i.paddingRight="".concat(a,"px"))}t&&Ku()&&(t.addEventListener("touchmove",Hu,Yu),e&&(e.addEventListener("touchstart",Uu,Yu),e.addEventListener("touchmove",ju,Yu))),Gu+=1}}),[n]),l=(0,o.useCallback)((function(e){if(qu){var t=document.body,i=t&&t.style;Gu=Math.max(Gu-1,0),n&&Gu<1&&Wu.forEach((function(e){var t=s.current[e];i&&(i[e]=t)})),t&&Ku()&&(t.removeEventListener("touchmove",Hu,Yu),e&&(e.removeEventListener("touchstart",Uu,Yu),e.removeEventListener("touchmove",ju,Yu)))}}),[n]);return(0,o.useEffect)((function(){if(t){var e=r.current;return a(e),function(){l(e)}}}),[t,a,l]),function(e){r.current=e}}({isEnabled:i});return qd(o.Fragment,null,i&&qd("div",{onClick:Zu,css:Qu}),t((function(e){s(e),r(e)})))}var Ju={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$u=function(e){var t=e.name,i=e.onFocus;return qd("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:Ju,value:"",onChange:function(){}})};function eg(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function tg(){return eg(/^Mac/i)}function ig(){return eg(/^iPhone/i)||eg(/^iPad/i)||tg()&&navigator.maxTouchPoints>1}var ng={clearIndicator:ru,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var i=e.isDisabled,n=e.isFocused,o=e.theme,s=o.colors,r=o.borderRadius;return ac({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?s.neutral5:s.neutral0,borderColor:i?s.neutral10:n?s.primary:s.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:n?s.primary:s.neutral30}})},dropdownIndicator:su,group:function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:2*i.baseUnit,paddingTop:2*i.baseUnit}},groupHeading:function(e,t){var i=e.theme,n=i.colors,o=i.spacing;return ac({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*o.baseUnit,paddingRight:3*o.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var i=e.isDisabled,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return ac({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?s.neutral10:s.neutral20,marginBottom:2*o,marginTop:2*o})},input:function(e,t){var i=e.isDisabled,n=e.value,o=e.theme,s=o.spacing,r=o.colors;return ac(ac({visibility:i?"hidden":"visible",transform:n?"translateZ(0)":""},pu),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var i=e.isFocused,n=e.size,o=e.theme,s=o.colors,r=o.spacing.baseUnit;return ac({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?s.neutral60:s.neutral20,padding:2*r})},loadingMessage:Xh,menu:function(e,t){var i,n=e.placement,o=e.theme,s=o.borderRadius,r=o.spacing,a=o.colors;return ac((sc(i={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),sc(i,"position","absolute"),sc(i,"width","100%"),sc(i,"zIndex",1),i),t?{}:{backgroundColor:a.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var i=e.maxHeight,n=e.theme.spacing.baseUnit;return ac({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,i=e.offset,n=e.position;return{left:t.left,position:n,top:i,width:t.width,zIndex:1}},multiValue:function(e,t){var i=e.theme,n=i.spacing,o=i.borderRadius,s=i.colors;return ac({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var i=e.theme,n=i.borderRadius,o=i.colors,s=e.cropWithEllipsis;return ac({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var i=e.theme,n=i.spacing,o=i.borderRadius,s=i.colors,r=e.isFocused;return ac({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:r?s.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:Qh,option:function(e,t){var i=e.isDisabled,n=e.isFocused,o=e.isSelected,s=e.theme,r=s.spacing,a=s.colors;return ac({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?a.primary:n?a.primary25:"transparent",color:i?a.neutral20:o?a.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:i?void 0:o?a.primary:a.primary50}})},placeholder:function(e,t){var i=e.theme,n=i.spacing,o=i.colors;return ac({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var i=e.isDisabled,n=e.theme,o=n.spacing,s=n.colors;return ac({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},valueContainer:function(e,t){var i=e.theme.spacing,n=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return ac({alignItems:"center",display:n&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(2*i.baseUnit,"px")})}};var og,sg={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},rg={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Oh(),captureMenuScroll:!Oh(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var i=ac({ignoreCase:!0,ignoreAccents:!0,stringify:Pu,trim:!0,matchFrom:"any"},og),n=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,r=i.trim,a=i.matchFrom,l=r?Ru(t):t,c=r?Ru(s(e)):s(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),o&&(l=Ou(l),c=Mu(c)),"start"===a?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ag(e,t,i,n){return{type:"option",data:t,isDisabled:fg(e,t,i),isSelected:mg(e,t,i),label:gg(e,t),value:pg(e,t),index:n}}function lg(e,t){return e.options.map((function(i,n){if("options"in i){var o=i.options.map((function(i,n){return ag(e,i,t,n)})).filter((function(t){return hg(e,t)}));return o.length>0?{type:"group",data:i,options:o,index:n}:void 0}var s=ag(e,i,t,n);return hg(e,s)?s:void 0})).filter(Vh)}function cg(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,_c(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function dg(e,t){return e.reduce((function(e,i){return"group"===i.type?e.push.apply(e,_c(i.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(i.index,"-").concat(e.index)}})))):e.push({data:i.data,id:"".concat(t,"-").concat(i.index)}),e}),[])}function hg(e,t){var i=e.inputValue,n=void 0===i?"":i,o=t.data,s=t.isSelected,r=t.label,a=t.value;return(!bg(e)||!s)&&vg(e,{label:r,value:a,data:o},n)}var ug=function(e,t){var i;return(null===(i=e.find((function(e){return e.data===t})))||void 0===i?void 0:i.id)||null},gg=function(e,t){return e.getOptionLabel(t)},pg=function(e,t){return e.getOptionValue(t)};function fg(e,t,i){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,i)}function mg(e,t,i){if(i.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,i);var n=pg(e,t);return i.some((function(t){return pg(e,t)===n}))}function vg(e,t,i){return!e.filterOption||e.filterOption(t,i)}var bg=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return void 0===t?i:t},_g=1,wg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}(r,e);var t,i,n,s=bc(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=s.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=tg()||ig(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,i){var n=t.props,o=n.onChange,s=n.name;i.name=s,t.ariaOnChange(e,i),o(e,i)},t.setValue=function(e,i,n){var o=t.props,s=o.closeMenuOnSelect,r=o.isMulti,a=o.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:a}),s&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:i,option:n})},t.selectOption=function(e){var i=t.props,n=i.blurInputOnSelect,o=i.isMulti,s=i.name,r=t.state.selectValue,a=o&&t.isOptionSelected(e,r),l=t.isOptionDisabled(e,r);if(a){var c=t.getOptionValue(e);t.setValue(r.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});o?t.setValue([].concat(_c(r),[e]),"select-option",e):t.setValue(e,"select-option")}n&&t.blurInput()},t.removeValue=function(e){var i=t.props.isMulti,n=t.state.selectValue,o=t.getOptionValue(e),s=n.filter((function(e){return t.getOptionValue(e)!==o})),r=Wh(i,s,s[0]||null);t.onChange(r,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Wh(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,i=t.state.selectValue,n=i[i.length-1],o=i.slice(0,i.length-1),s=Wh(e,o,o[0]||null);t.onChange(s,{action:"pop-value",removedValue:n})},t.getFocusedOptionId=function(e){return ug(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return dg(lg(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return Lh.apply(void 0,[t.props.classNamePrefix].concat(i))},t.getOptionLabel=function(e){return gg(t.props,e)},t.getOptionValue=function(e){return pg(t.props,e)},t.getStyles=function(e,i){var n=t.props.unstyled,o=ng[e](i,n);o.boxSizing="border-box";var s=t.props.styles[e];return s?s(o,i):o},t.getClassNames=function(e,i){var n,o;return null===(n=(o=t.props.classNames)[e])||void 0===n?void 0:n.call(o,i)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,ac(ac({},_u),e.components);var e},t.buildCategorizedOptions=function(){return lg(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return cg(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,i){t.setState({ariaSelection:ac({value:e},i)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var i=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():i&&t.openMenu("first"):(i&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var i=t.props,n=i.isMulti,o=i.menuIsOpen;t.focusInput(),o?(t.setState({inputIsHiddenAfterUpdate:!n}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Nh(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var i=e.touches,n=i&&i.item(0);n&&(t.initialTouchX=n.clientX,t.initialTouchY=n.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var i=e.touches,n=i&&i.item(0);if(n){var o=Math.abs(n.clientX-t.initialTouchX),s=Math.abs(n.clientY-t.initialTouchY);t.userIsDragging=o>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var i=t.props.inputValue,n=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(n,{action:"input-change",prevInputValue:i}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var i=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:i}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var i=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:i>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return bg(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var i=t.props,n=i.isMulti,o=i.backspaceRemovesValue,s=i.escapeClearsValue,r=i.inputValue,a=i.isClearable,l=i.isDisabled,c=i.menuIsOpen,d=i.onKeyDown,h=i.tabSelectsValue,u=i.openMenuOnFocus,g=t.state,p=g.focusedOption,f=g.focusedValue,m=g.selectValue;if(!l&&("function"!==typeof d||(d(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||r)return;t.focusValue("previous");break;case"ArrowRight":if(!n||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(f)t.removeValue(f);else{if(!o)return;n?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!h||!p||u&&t.isOptionSelected(p,m))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):a&&s&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++_g),t.state.selectValue=xh(e.value),e.menuIsOpen&&t.state.selectValue.length){var i=t.getFocusableOptionsWithIds(),n=t.buildFocusableOptions(),o=n.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=i,t.state.focusedOption=n[o],t.state.focusedOptionId=ug(i,n[o])}return t}return t=r,i=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Mh(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.isDisabled,n=t.menuIsOpen,o=this.state.isFocused;(o&&!i&&e.isDisabled||o&&n&&!e.menuIsOpen)&&this.focusInput(),o&&i&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||i||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Mh(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,i=this.state,n=i.selectValue,o=i.isFocused,s=this.buildFocusableOptions(),r="first"===e?0:s.length-1;if(!this.props.isMulti){var a=s.indexOf(n[0]);a>-1&&(r=a)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[r],focusedOptionId:this.getFocusedOptionId(s[r])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,i=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=i.indexOf(n);n||(o=-1);var s=i.length-1,r=-1;if(i.length){switch(e){case"previous":r=0===o?0:-1===o?s:o-1;break;case"next":o>-1&&o<s&&(r=o+1)}this.setState({inputIsHidden:-1!==r,focusedValue:i[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,i=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var o=0,s=n.indexOf(i);i||(s=-1),"up"===e?o=s>0?s-1:n.length-1:"down"===e?o=(s+1)%n.length:"pageup"===e?(o=s-t)<0&&(o=0):"pagedown"===e?(o=s+t)>n.length-1&&(o=n.length-1):"last"===e&&(o=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[o],focusedValue:null,focusedOptionId:this.getFocusedOptionId(n[o])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(sg):ac(ac({},sg),this.props.theme):sg}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,i=this.getStyles,n=this.getClassNames,o=this.getValue,s=this.selectOption,r=this.setValue,a=this.props,l=a.isMulti,c=a.isRtl,d=a.options;return{clearValue:e,cx:t,getStyles:i,getClassNames:n,getValue:o,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:s,selectProps:a,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,i=e.isMulti;return void 0===t?i:t}},{key:"isOptionDisabled",value:function(e,t){return fg(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return mg(this.props,e,t)}},{key:"filterOption",value:function(e,t){return vg(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var i=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:i,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,i=e.isSearchable,n=e.inputId,s=e.inputValue,r=e.tabIndex,a=e.form,l=e.menuIsOpen,c=e.required,d=this.getComponents().Input,h=this.state,u=h.inputIsHidden,g=h.ariaSelection,p=this.commonProps,f=n||this.getElementId("input"),m=ac(ac(ac({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===g||void 0===g?void 0:g.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?o.createElement(d,gc({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:f,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:a,type:"text",value:s},m)):o.createElement(Bu,gc({id:f,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sh,onFocus:this.onInputFocus,disabled:t,tabIndex:r,inputMode:"none",form:a,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),i=t.MultiValue,n=t.MultiValueContainer,s=t.MultiValueLabel,r=t.MultiValueRemove,a=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,h=d.controlShouldRenderValue,u=d.isDisabled,g=d.isMulti,p=d.inputValue,f=d.placeholder,m=this.state,v=m.selectValue,b=m.focusedValue,_=m.isFocused;if(!this.hasValue()||!h)return p?null:o.createElement(l,gc({},c,{key:"placeholder",isDisabled:u,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),f);if(g)return v.map((function(t,a){var l=t===b,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return o.createElement(i,gc({},c,{components:{Container:n,Label:s,Remove:r},isFocused:l,isDisabled:u,key:d,index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var w=v[0];return o.createElement(a,gc({},c,{data:w,isDisabled:u}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,i=this.props,n=i.isDisabled,s=i.isLoading,r=this.state.isFocused;if(!this.isClearable()||!e||n||!this.hasValue()||s)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,gc({},t,{innerProps:a,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,i=this.props,n=i.isDisabled,s=i.isLoading,r=this.state.isFocused;return e&&s?o.createElement(e,gc({},t,{innerProps:{"aria-hidden":"true"},isDisabled:n,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,i=e.IndicatorSeparator;if(!t||!i)return null;var n=this.commonProps,s=this.props.isDisabled,r=this.state.isFocused;return o.createElement(i,gc({},n,{isDisabled:s,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,i=this.props.isDisabled,n=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,gc({},t,{innerProps:s,isDisabled:i,isFocused:n}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),i=t.Group,n=t.GroupHeading,s=t.Menu,r=t.MenuList,a=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,h=this.commonProps,u=this.state.focusedOption,g=this.props,p=g.captureMenuScroll,f=g.inputValue,m=g.isLoading,v=g.loadingMessage,b=g.minMenuHeight,_=g.maxMenuHeight,w=g.menuIsOpen,y=g.menuPlacement,C=g.menuPosition,S=g.menuPortalTarget,k=g.menuShouldBlockScroll,L=g.menuShouldScrollIntoView,x=g.noOptionsMessage,D=g.onMenuScrollToTop,E=g.onMenuScrollToBottom;if(!w)return null;var N,T=function(t,i){var n=t.type,s=t.data,r=t.isDisabled,a=t.isSelected,l=t.label,c=t.value,g=u===s,p=r?void 0:function(){return e.onOptionHover(s)},f=r?void 0:function(){return e.selectOption(s)},m="".concat(e.getElementId("option"),"-").concat(i),v={id:m,onClick:f,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:a};return o.createElement(d,gc({},h,{innerProps:v,data:s,isDisabled:r,isSelected:a,key:m,label:l,type:n,value:c,isFocused:g,innerRef:g?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())N=this.getCategorizedOptions().map((function(t){if("group"===t.type){var s=t.data,r=t.options,a=t.index,l="".concat(e.getElementId("group"),"-").concat(a),c="".concat(l,"-heading");return o.createElement(i,gc({},h,{key:l,data:s,options:r,Heading:n,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(m){var I=v({inputValue:f});if(null===I)return null;N=o.createElement(l,h,I)}else{var A=x({inputValue:f});if(null===A)return null;N=o.createElement(c,h,A)}var M={minMenuHeight:b,maxMenuHeight:_,menuPlacement:y,menuPosition:C,menuShouldScrollIntoView:L},O=o.createElement(Gh,gc({},h,M),(function(t){var i=t.ref,n=t.placerProps,a=n.placement,l=n.maxHeight;return o.createElement(s,gc({},h,M,{innerRef:i,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:m,placement:a}),o.createElement(Xu,{captureEnabled:p,onTopArrive:D,onBottomArrive:E,lockEnabled:k},(function(t){return o.createElement(r,gc({},h,{innerRef:function(i){e.getMenuListRef(i),t(i)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:e.getElementId("listbox")},isLoading:m,maxHeight:l,focusedOption:u}),N)})))}));return S||"fixed"===C?o.createElement(a,gc({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:y,menuPosition:C}),O):O}},{key:"renderFormField",value:function(){var e=this,t=this.props,i=t.delimiter,n=t.isDisabled,s=t.isMulti,r=t.name,a=t.required,l=this.state.selectValue;if(a&&!this.hasValue()&&!n)return o.createElement($u,{name:r,onFocus:this.onValueInputFocus});if(r&&!n){if(s){if(i){var c=l.map((function(t){return e.getOptionValue(t)})).join(i);return o.createElement("input",{name:r,type:"hidden",value:c})}var d=l.length>0?l.map((function(t,i){return o.createElement("input",{key:"i-".concat(i),name:r,type:"hidden",value:e.getOptionValue(t)})})):o.createElement("input",{name:r,type:"hidden",value:""});return o.createElement("div",null,d)}var h=l[0]?this.getOptionValue(l[0]):"";return o.createElement("input",{name:r,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,i=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,r=t.isFocused,a=t.selectValue,l=this.getFocusableOptions();return o.createElement(xu,gc({},e,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:n,focusedValue:s,isFocused:r,selectValue:a,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,i=e.IndicatorsContainer,n=e.SelectContainer,s=e.ValueContainer,r=this.props,a=r.className,l=r.id,c=r.isDisabled,d=r.menuIsOpen,h=this.state.isFocused,u=this.commonProps=this.getCommonProps();return o.createElement(n,gc({},u,{className:a,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),o.createElement(t,gc({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:d}),o.createElement(s,gc({},u,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.createElement(i,gc({},u,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){var i=t.prevProps,n=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,r=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,h=e.menuIsOpen,u=e.inputValue,g=e.isMulti,p=xh(d),f={};if(i&&(d!==i.value||c!==i.options||h!==i.menuIsOpen||u!==i.inputValue)){var m=h?function(e,t){return cg(lg(e,t))}(e,p):[],v=h?dg(lg(e,p),"".concat(l,"-option")):[],b=n?function(e,t){var i=e.focusedValue,n=e.selectValue.indexOf(i);if(n>-1){if(t.indexOf(i)>-1)return i;if(n<t.length)return t[n]}return null}(t,p):null,_=function(e,t){var i=e.focusedOption;return i&&t.indexOf(i)>-1?i:t[0]}(t,m);f={selectValue:p,focusedOption:_,focusedOptionId:ug(v,_),focusableOptionsWithIds:v,focusedValue:b,clearFocusValueOnUpdate:!1}}var w=null!=o&&e!==i?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},y=s,C=r&&a;return r&&!C&&(y={value:Wh(g,p,p[0]||null),options:p,action:"initial-input-focus"},C=!a),"initial-input-focus"===(null===s||void 0===s?void 0:s.action)&&(y=null),ac(ac(ac({},f),w),{},{prevProps:e,ariaSelection:y,prevWasFocused:C})}}],i&&pc(t.prototype,i),n&&pc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}(o.Component);wg.defaultProps=rg;var yg=(0,o.forwardRef)((function(e,t){var i=function(e){var t=e.defaultInputValue,i=void 0===t?"":t,n=e.defaultMenuIsOpen,s=void 0!==n&&n,r=e.defaultValue,a=void 0===r?null:r,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,h=e.onInputChange,u=e.onMenuClose,g=e.onMenuOpen,p=e.value,f=hc(e,uc),m=dc((0,o.useState)(void 0!==l?l:i),2),v=m[0],b=m[1],_=dc((0,o.useState)(void 0!==c?c:s),2),w=_[0],y=_[1],C=dc((0,o.useState)(void 0!==p?p:a),2),S=C[0],k=C[1],L=(0,o.useCallback)((function(e,t){"function"===typeof d&&d(e,t),k(e)}),[d]),x=(0,o.useCallback)((function(e,t){var i;"function"===typeof h&&(i=h(e,t)),b(void 0!==i?i:e)}),[h]),D=(0,o.useCallback)((function(){"function"===typeof g&&g(),y(!0)}),[g]),E=(0,o.useCallback)((function(){"function"===typeof u&&u(),y(!1)}),[u]),N=void 0!==l?l:v,T=void 0!==c?c:w,I=void 0!==p?p:S;return ac(ac({},f),{},{inputValue:N,menuIsOpen:T,onChange:L,onInputChange:x,onMenuClose:E,onMenuOpen:D,value:I})}(e);return o.createElement(wg,gc({ref:t},i))})),Cg=yg;const Sg={mainTitle:"Empower Your Business with Imaggar Technologies",subheading:"With Imaggar Technologies, you can:",listItems:[{icon:(0,Ce.jsx)(Jl,{}),heading:"Revolutionize Customer Support with AI-Powered Assistants",description:"Leverage Gen AI-powered chat suggestions, intent detection & contextual information for efficient query resolution. Provide personalized customer experiences and increase customer satisfaction."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Enhance Customer Outcomes through Advanced Analytics",description:"Utilize Gen AI-powered insights to drive better customer outcomes and make data-driven decisions. Understand customer behavior, preferences, and trends to improve products and services."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Boost Agent Efficiency with Agent Co-pilot",description:"Empower your agents with AI-powered chat suggestions and tools for enhanced efficiency in query resolution. Streamline support processes and reduce response times for better customer service."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Drive Business Success with Analytics",description:"Utilize Gen AI-powered chat suggestions, intent detection & other contextual information for effective query resolution. Gain actionable insights into customer interactions and optimize business strategies."}],demoRequestTitle:"Request a Demo from Imaggar Technologies",formLabels:{firstName:"First Name",lastName:"Last Name",companyName:"Company Name",email:"Email",phoneNumber:"Phone Number",selectPlaceholder:"Select",submitButton:"Submit"}},kg=()=>{const[e,t]=(0,o.useState)([]),[i,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{(async()=>{try{const e=await fetch("https://restcountries.com/v2/all");if(!e.ok)throw new Error("Failed to fetch country data");const i=(await e.json()).map((e=>({label:"+".concat(e.callingCodes[0]," (").concat(e.name,")"),value:"+".concat(e.callingCodes[0])})));t(i)}catch(e){console.error("Error fetching country data:",e)}})()}),[]),(0,Ce.jsx)("div",{className:"contact-main",children:(0,Ce.jsxs)("div",{className:"contact-container",children:[(0,Ce.jsxs)("div",{className:"contact-content",children:[(0,Ce.jsx)("h2",{children:(0,Ce.jsx)("span",{className:"highlight-text",children:Sg.mainTitle})}),(0,Ce.jsx)("h4",{children:Sg.subheading}),(0,Ce.jsx)("ul",{className:"contact-ul-tag",children:Sg.listItems.map(((e,t)=>(0,Ce.jsxs)("li",{className:"list-item",children:[(0,Ce.jsx)("div",{className:"bullet-point",children:(0,Ce.jsx)(Jl,{className:"bullet-icon"})}),(0,Ce.jsxs)("div",{className:"list-content",children:[(0,Ce.jsx)("span",{className:"heading",children:e.heading})," ",(0,Ce.jsx)("br",{}),(0,Ce.jsx)("span",{className:"description",children:e.description})]})]},t)))}),(0,Ce.jsx)("div",{className:"logo-row"})]}),(0,Ce.jsxs)("div",{className:"contact-form",children:[(0,Ce.jsx)("h2",{children:Sg.demoRequestTitle}),(0,Ce.jsxs)("form",{children:[(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)("input",{className:"Nameinput FirstName",placeholder:Sg.formLabels.firstName,type:"text",id:"firstName",name:"firstName"}),(0,Ce.jsx)("div",{className:"space-between"}),(0,Ce.jsx)("input",{className:"Nameinput LastName",placeholder:Sg.formLabels.lastName,type:"text",id:"lastName",name:"lastName"})]})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.companyName,type:"text",id:"companyName",name:"companyName"})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.companyName,type:"text",id:"companyName",name:"companyName"})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.email,type:"email",id:"email",name:"email"})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)(Cg,{className:"country-select contact-input",options:e,value:i,onChange:e=>n(e),placeholder:Sg.formLabels.selectPlaceholder,menuPlacement:"auto"}),(0,Ce.jsx)("input",{className:"contact-input phone-input",placeholder:Sg.formLabels.phoneNumber,type:"text",id:"phoneNumber",name:"phoneNumber"})]})}),(0,Ce.jsx)("button",{className:"contact-submit-button",type:"submit",children:Sg.formLabels.submitButton})]})]})]})})};const Lg=function(){return(0,Ce.jsx)("div",{children:(0,Ce.jsx)(kg,{})})},xg=()=>(0,Ce.jsxs)(fe,{children:[(0,Ce.jsx)(ge,{exact:!0,path:"/",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Gl,{}),(0,Ce.jsx)($e,{}),(0,Ce.jsx)(ic,{})]})}),(0,Ce.jsx)(ge,{path:"/contact",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Gl,{}),(0,Ce.jsx)(Lg,{}),(0,Ce.jsx)(ic,{})]})}),(0,Ce.jsx)(ge,{exact:!0,path:"*",element:(0,Ce.jsx)($e,{})})]}),Dg=()=>{const{title:e,spanText:t,paragraph:i,buttonText:n,imageUrl:o,imageAlt:s,demoLink:r}=ye;return(0,Ce.jsxs)("div",{className:"row-fluid",children:[(0,Ce.jsx)("div",{className:"col",children:(0,Ce.jsx)("div",{className:"image-col",children:(0,Ce.jsx)("img",{src:o,alt:s})})}),(0,Ce.jsx)("div",{className:"col",children:(0,Ce.jsxs)("div",{className:"text-col ",children:[(0,Ce.jsx)("h1",{children:e})," ",(0,Ce.jsx)("span",{children:t})," ",(0,Ce.jsx)("br",{}),(0,Ce.jsx)("br",{}),(0,Ce.jsx)("p",{className:"landing-praragraph",children:i}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("div",{className:"buttons-row",children:[(0,Ce.jsx)("a",{className:"button-landingpage section-link",href:r,children:n}),(0,Ce.jsx)("br",{}),(0,Ce.jsx)("br",{})]}),(0,Ce.jsx)("div",{className:"second-row",children:ye.technologies.map(((e,t)=>(0,Ce.jsxs)("div",{className:"card",children:[(0,Ce.jsx)("h2",{children:e.techTitle}),(0,Ce.jsx)("p",{children:e.techDescription})]},t)))})]})})]})},Eg=[i.p+"static/media/client1.3191fa1d097df31c0aee.png","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAAB1CAYAAABwBK68AAAACXBIWXMAAAsSAAALEgHS3X78AAAVPUlEQVR4nO2dD3AUVZ7HX7pbAZFkcGtVBC6TTPhTi5gJgaCwmJZlcTF/GLT4s+iRAerE85Z1EPljnSXDlVeGPy5DodyiBUwoyfKnMJOQwOqhTPTAJUSYgIdCMmFygFh6p8kdJCbQ7129ntfjm5meme75P2G+VV0ThmS6pz/9+73f+733fi8DIQT6i7750MBnsAxgWJZnWAZkMCzIYBjAMBkAZGQAgBAQvy1+hQggBPHPDgRRJ0LQdT9/0NUfbkVKQr2093E9w7F6hmV/fmXZLIZlAYEKVED1/IwgPlALgtCBIHQhCO3Dn6q3J/4bq1NKQD23vUDLcCzvPjiDCJBj3fCkV3L4QG0MAlWPEMySgUpevY5GDBgK0KZ95pgj8XckuJIW6ulNozUMxxlZjjUyLJcvwhMPjobZxXCsg2FZO8OyLnxksIxj2IwPOtWc6/vG+RiwBkHII4i0CEI9gjDfFy4U8KvQgQRoQxBadQs/S0rASQe1acMoA4LQyHDsbAyQFeFxBCjbwXCcXYTIsfa8+cdj2gZeO1LKu0GLRzGBCpAgQRY6EIQWKAjWsUtOq3qQYqmkgHrWMk4DITQgAZohhNn4hklWyWKQLGdjONb68PPNCbOM/7LN1EABGhAU8HXOJlCB51WAVVAQzONecCQ82Eoo1HNv52OYJgShCUKYhS0Aul0ddqs2huMshSsuJJ2La99XjF21AQoCvvZ8ApXAFWohFMyPLE/cdScM6vntBUbRdWGYkMAUYAeE0IwgtE1+1Zk07iyYLlU9ykNBMCIBVhCoAIouWqiCAjQXrGyNu+XGHeqF94p4BAULFNyBCLFMEWbhy19Zo3GOlm2PaHu7e7QDBt+jHTQ0UzsoKxMMGHIvuGvgAABv3wa3e3vB7Z6f7H3dPa6cuZ9E5aZ/9V6hFrtfJAgVBKo7sEJoPUDAMmFVW9we0rhBvbh7ioZYZgUONtxBhxum/o/nw4Z5qfpJzZDMu7Er1Pd29+j7uruLe7t7AD4GDL4HDBqaCQJABX3dPaDv5s2uvhs37Ld6em0CRLZJayLzEF++M16L3a8I1w0VAAQ6EADGwlVtcenzxgVq655fG6AArQjCLLdlCl1QgJbxL541R/K5H1c+Zhr5d5nmIZl3Z2HXh0H2dXcDlVBB340b4FZPLxDE/iqo6u0D1mmvOyMC0GIZw+PviBDKByJX3D8GtRjuxNWxtVomlh/eXs1r2t5/3AIAqAEAZJG3GwEA+kiBbp6bawAAbKE+N1qqAAAcr3lZJ+s9Ns/N1So5T77por1gZaseALACANBF3p4NAHA0b9Dpo3zNXooZ1Mv7puMvj5/2l8hb+Iut+NU/NPHjln0RsB3bvzxXs8MoAgslS6yunahi51LZ67jc9A7vulZXZr5aM0sT6kMmvNKGrxNDbCFvZeNe3OkNOlMsLhrECmrHwRk8fiLxA0vewl9IP3bp3wKCOPWmTv/RP4vW4SKWHUrZsbh2H/EB3sfnXgcA+LG1aqoVB2bBPmTCqjZX4ao2DHY99faW05U6a1OlLuSDoVZRh3rl0JNG7L4ot7h11KL/0I9ZfFLWOps36PimSh226LPE9UXbnUYiJW6yQrTeDaMsX1dNCQqocHUbbnKeoNwx/lt7tMFGFerVmlnYEndTby3Oe+5TWTdzfts4/ZlNeXbyABRH8zoSJNzMuK4eKQsaK0xcLUbAtDvG3szRVBm9djZqUL+pK7H6tJ8FuQvtfsFG+/5izcVdRRZimf0BJi3sZdb98Plzrv85sTCQ6wYT1zhdxLU3krewO7fjJigaFxEVqNfry6zElQAClM9Z8IlfmuxK3e+ktvYl/0/pV8KQjn/773MsHR/MkHWtuD88aa0T348q8lZWtMBGDPXbhnIaqBgQZc/1H3O8/pHBTFxtPAIcWvgh2woAmEPaM/xzR5zOjR9ex8VdkwJabdFapzHaYCOC+m1DudkHKD/ymQ+9AqIfTj6r+b5xnp1Ei4r11jxl/UEFMo0sbTDdX7zfNnTyHvsvplabSJvWGPEnK5NotWc35wVsa+XAnngj/OApbKjX68uMFChsDcYRc456ZUp+PLVI6quG03ZGA2rH6Gc/82vXH5h+qDMO/VxfrWveoMNWKAtLDqzdHB7YsKBeqyvTU1Gu2IY+VN7g5XK/s8/T+/RVE6FgyfpwU3VdCn4nkPDD7apfLe9eJ78qgq0l/8T3zRbOSVRDvWIrlaxPkmFY6WEvoFfqS/Tkd5Kpz+mrcKHyEbpufE/Ovrs4N1A7a6S6O8XHXtOp9ijhWKqNgrX4wZI6r8R36194TQoABcNLGsIaxH7lYLuj6J/sGEgO5S7DkSwsMo7MUx7hpaNrdUrSph6pguo69JSFcqdVD5bUebVX53cUpgTQaGh4+WHXiDlHsVUtDvPjAjZLBCwN0np4lU5xjKEYqnP/LJ7qX2L3IJcpsiW4DY27RlWcsEbYzspq6mvi0N8K8n/YSBSPOSuC+vX7MzXUh4qR7rDSw15tUtPGUeZ+mCFSqpjMR+LNTgvVfhd/sELZyI5SSzVTSQPz8HLvwOjMn37Fq+2HpqVYRsoTmA8sD91/Dwn13K4ZesrtNo401Hs18F/+2wRNuKF3InWtoSRayY2YasYbYp5YSlxkKelfK7FU+kPkzN+aooFRSsxWxJpV6eWGZ1e/GLA7JCoo1OY/P2Gg2smt2meOeLndS9YpPJmioUYtKn8/Jhpe0qAEaizBq80/0wYV1Fq5EB8k/XEX5QJoqZ0FWEX+5rjKv4uJcuZ+khGnUzWSJmoL9Z6qqallm5yOD1botpKmMH/Pslzjoh3tsvc/oKWesEwz0sGRbr53XvfyvulmlSMuLSPL/2pU8fv9SgXuuUoFEY4QmemgKdAvBXO/0h91jH3uIy9z/6a2RBOgfQ2kriDzfe4YTVzjdJARorAyUU9vcdIDEdm7lubKGoks1I8rH/OyUplfMakMjgzDZtpSJjCJpXC2qHSjmLgP12tZKGuVNaxAliqdsOuRJce8/Pb1+nK1Vrr+l8UHUm41dqz1/O72sJZ7zNvWTltr/rtG/0jYD+rh1yfpqYhXLspSY6Ud903ZG9Gk7bRkRRuan8XLWSpthXLRlRorvWMDo1hq4XbRyqV2uWL7olyvwXQ5qNLoQO3EF7xXajsPzDKqsNJaPH0kmW5GP1NAa/WCum+l3kBBk7NSNeN6kSwrqF15oD39QATRoh3i/ZG6R15QfZMPErSuqabPvPK5n297XHP/A4OVZo+q7ucPyAYCufMb8cXEq9Pf32WTkhHbns3VLt/rDr583a8EVS5Br8ZK08FRfER7Uw8fD9Sdy8ThM8n1RgK1cWRpQ7+oHJbsWrKz3UG5YE/XhrZUz5u/Wfu5HFSlGaGoLPFPS7EkVp6mUQ6q30y5PX8YzyuMertG/d5//cwdoETO+PAElJYF7kQEDbXY95coKV0GkHKD5amu563t9D3/GaplYR7tWuWgKnW96W5IYiR5V9H4OPofWGX/cloOjNKpH4os9eKuIm3fzZvaWz/1AggRgEisAQm6bgDw4/8i0Pl/wLXMGl5u9A6Vg3haWaiBZiUomfbZMn7ZFyFHYtr3F2vJRQRro1vempfLrzzQnh7ZUSZpRoo4sia1qZIl+lnH5rm5SttTpdMktQqCrnwV7XhaFDdsDBJU6QbKgVG68irp6+D2V724xyulqpGgSpYjB0Zpe5qGmlhJSQg94+Ne5dowpVCjXjomLVXyuGDOB0YkEWfN+R2FYGDmEDBwyGAw4N7B4K5BA8XCi8KtW+B2bx+4/dNPaUyxF++V0F/wVuILEKcVtjztKhOlZfhpJZHSUPuhYlpFNK2ESJ+G2v+UlYbaD5WG2v/UyCjom6aH01JMSqCmlWLymiK6b6Ves+Ath2+qUCn0KoXzk/Q+6zTTio48Exk4n3yv3tfdvnKw3bXnD+OVnNU1ftkXIV11+/47tYBL3ORgcAUv6myBkvJJsaQ/raCSBmY6faPfQAPTSlxwepQmsZKGT10SVGniUqCUoZKx0vRMhQRp+yKvNaoeqJIlRgK1mNQmTCv+ork5pOhXghooilHaV+VDzShML5CKiSQv2YUn60mW6oFGVpJ7adHb5zsVVhVRVcI0rajJa46ZCNVU7bVbYKCJ20qsNQ01MfJaXUFHv1K3JRBUJRO1s1r/wqdLAsRRPoU8/KBKlhiJpYJ0nYe4y+MdTfvaA0LN+rjyMT+wjy3/tJMq2h9MxVfqU6NCZz+R32pFD9SlOy7Q7jVQ26h0VVt6JXkctGupWPtXWhLjYeObUZIsMVKoFd/Z56WtNfaiOXnY+BbysJEVydknLNP4qabPvNpR3byjndfry6uoXaOCyRjIYvEGfn03b+qDrHqzLbO2x3szoFSUFL+0SEU8gIyl2qi6d4ECHqU3ex3ZQUpOL5EwPNCxBS/06c80ItWeZeLKCsn1eg15+k7m7qTM2ND85yf80n7DSuscKjbbSbetsRNdp8qrWZSboyRRzwpirUphVfxw8tm0xUVZ1S+KZes8lele3OO9QNsPKllJLqUEZauWPTS7wa7CWtNtY/RlDFaZLtBsQskSs8/tmhGpteZ/3zgv7YajK8nYOnwKeYiShfqbtZ9bQ5X1zlnwiRprXXf9I0N6vDUKOrA8N1SB7aDzfj1lvb9+f2YgazWq2BLLfqXud+nx1sjlKYO/ZKfKjRF8ynqbnftn+QEZbTzpUtFmihu94o3mY/udE6Ko7/Umpw9W6MyhrBQEgzrV9Fkn5buzAwVND//jGbOKiWn5/bSMgKrvVL9aZ3h3ca6qAPLwKh1d5r4j0PYlINSyi4kvHLfSkbDr0FOBkgkGFU9rvDeaTxo1b9Dxp97U4VikhtpqTaksVMQbtJZyqM2GAGk3j1PbPfr1Oye8fMHVtHGUkVxsyujywem4SJex78YNcKunFwgQienK3j4A/rsTgB+6kG3pzvZoeBbN2c15VoXpVT8dXavjqb9tXLjdP+KlFXKB1CNLjtmpRH/xFVup7FNStLoVn2hrOBedQGnJbpKBjrN/mq+4jlQw5YcL9NhrOk2ojRB8pXTVm9d2j9fqymTd8PhlX5gUjrmmkhId2NHB0fp520KX91MEdexzH3VST0hWiCE4Y3pGvyKFnMhnN4t7kXt2l356i1NREkfx+lTd/KM2ygrzr9eXyUZvo35vlzZKv5PAhuOig1rciTfEPci9dpdW+sFqFx0bqSfspW8bymVPNLK04Y4B21o1VUmtRVU69aZO2mjYE+3iXRmVfoYqqNpnjnT6dF8s3zaUyz6l9/MH+j3YqzWztDEqL2+hxkqrZlU6VZ1DdXmAkYZ6B9VPErNE1+vLZMEOnbynX4Jteoc3XKsrw5Z0OYJS67KzM0+9qaO7Pi3h7O8TVs2H4eWHrVT3Rey/flNXIhsl3jdlrwQ2rO0lk02b54qZoJowdnimtV4uvXrqTZ2RAipuTzrjDafqmsdhF/IYVnrYRIHCrsJ+tcY/P4z1y+IDncNm2vAFrwj3fGEqFpPf1GaCaOFAM6d0o9P8/G7vAtVNlSLQ3eSfIlDerB4oiLQ6y4MldUY6IhZHYg49GbBfN7L8r/jpfCLC3X7VKFRKMl59UOxGn5i4xmmY/KrTL+qVAzr1NeWBka+iUXKH7peKYDsOzghoIWTVmz5eSYpLe6cF69vFejUBBrR4zJLT+oJX2mTbUDmgk18NHyhQmPsNqgdL6jqv15dJSxiLpZGYy/um8zkLPpG9uDFLmsQo+symPANpW2KZ5F93pb5k3YAh94K7Bg4A8PZtcLu3F9zuiXmZWrHdzH76WEAXerrSKyiKClAQreJYw0oPdz5U3kAHQ+6x0+rgi6UmrGqzEatdH68xyTgI34OcX0ytNj/42xpZoM0bdJrTG3S2WAAF0a54NmLOUaMP2N1t7z8eNLU1cY2zs2itmP7SpniEjKf25Ix46rDxvsfeD5gtat6YJ1XAkaJnHF/wRWujAxTEoozdyGc+xGAXU2+ta93za/vF3VOCBiV4A/aZ/ypuwJ6Do2QF+6cmg2V3kQexoGhNKz+24mTQ1N8XG/OMBKiUWMCxiD6aQEE02lQ5Zc89Zr28b7qLSnXhttb19c5HjWOX/i3oWOB89yiEklkB9gj7ikrle8O7yPeyjZhzVNHaojOb8jTInXmir7dq0lpnTAK1mEAFZLZhezWvpQIoDLfmwntFtQgKxnEKNiYKIUscoG59eb93f/KVg+2qukFnNovBoJXK44rJ+UlrnDHbFy+mVURzF9o78577lCdJB8ldYhCu89sLItneGt9cO3HzsXLDVUt3tod9jS2WMdqzb42ykeyTBBS3u/qJMQSKlYHw/I046OLuKVoEoRVCWIygAKAAAYKwBUJo0v/xfNiVSi9VP6kdknm3AQqCobe7p7ivuxv0dveIx4DB94BBQzPBoKxMINel6evuAX03bwJqOksXQsDW2wes0153hnVNX74zXgOhYEKCsE78jvj+ItCFADAXrmqLy2qFuEGVdOG9IiOCggUKMAtBCCAU4TZCCM2FL38VcRnar3dO1vR29+gJVM2goZl6BVAdt3p6XRNWtYUdsHz1XqEGCiJME4RCFt66hUCtBQiYJqxqi1u11rhDxfrPHfgGQBOCcB2B6oYriHAtRWtaU2Yf1ktVj2rdMKERCgQmFPB+PI1QgOaCla1xr5ecEKiSzr2dr8UWiiCsIFAly+1gONbKcJy1cMWFpKxH7Kyehl2+EUE4GwqC+9rFV6EDQsH8yPILCdvxOaFQJZ21jMNw3U87dLtlhmMBw3GA5dhahuVsDMfaHn6+OaFbb7oOzdDjyB1fJ4IwS4QIJZiwEQqCZdwLjoR7maSAKql50xgNhNCAIDQxHJtPoAKG5QhktpHhODvDsvbRz34ac7d27UgpDu54chjccYDbKgnMLgShDcMcu+R00qw8SCqotE5vGq1nOM7IcqyBYblsAlW0XoYlP7MYMutgWPFw4deHnrSFZc3f2edicBoEkR5BKB3ZiLT5boj4VYRaS2DaRv39yaTbuDdpodI6t71Az2C4HMszHFdMQf35lRwZLINfWxiW6cxgWJDBMIBhMuwgI0OsFoLwLAz8Ks7Gh/i9YulnNzwEaJDk6EAQ2qEA7QgKtpy5x5N6B+aUgOqrS3sf50XALIth6xmWzfaBChiWARRUQEEFPlCBDNRGBKGDHPYRpUdSavOIlIQqp6tHyjBcTQbLiK8Eqj6DYTQBoDoQgp30zxjiA9MPpfY+6ACA/wdDe9KlWFR8uQAAAABJRU5ErkJggg==",i.p+"static/media/client3.6f0151b1b37ec71715a7.jpg",i.p+"static/media/client4.6ef2c7318b6a0b27d803.png",i.p+"static/media/client5.185c1b98aa5b05c6dcc7.png",i.p+"static/media/client6.0aad6d42b0fd5e0f4e0a.png",i.p+"static/media/client7.b675efbba45d69b40438.png",i.p+"static/media/client8.ac67a0975530310ad91a.png",i.p+"static/media/client9.6855df325ff4aa7ac33b.png",i.p+"static/media/client10.73cb79cece6f4d4a635d.png"],Ng=()=>(0,Ce.jsxs)("div",{className:"client-slider",children:[(0,Ce.jsx)("h2",{children:"Trusted by 10+ Leading Brands"}),(0,Ce.jsx)(ke.Z,{dots:!1,infinite:!0,speed:5e3,slidesToShow:6,slidesToScroll:1,autoplay:!0,autoplaySpeed:0,cssEase:"linear",pauseOnHover:!1,arrows:!1,centerMode:!0,centerPadding:"50px",swipeToSlide:!0,draggable:!0,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,centerMode:!1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1440,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1600,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:1920,settings:{slidesToShow:6,slidesToScroll:1}}],children:Eg.map(((e,t)=>(0,Ce.jsx)("div",{children:(0,Ce.jsx)("img",{src:e,alt:"Client ".concat(t+1)})},t)))})]}),Tg=(i.p,i.p,()=>{const[e,t]=(0,o.useState)("1"),[i,n]=(0,o.useState)(!0),s=i?qe.topics[0].subtopics:qe.topics[1].subtopics,r=[qe.topics[0].topicName,qe.topics[1].topicName];return(0,Ce.jsxs)("div",{className:"center-container",children:[(0,Ce.jsx)("div",{className:"service-heading-container",children:r.map(((e,o)=>(0,Ce.jsx)("div",{className:"service-heading".concat(o+1," topic").concat(o+1,"-service ").concat(o===(i?0:1)?"topic-active":"topic-inactive"),onClick:()=>(e=>{n(1===e),t("1")})(o+1),children:(0,Ce.jsx)("h2",{children:e})},o+1)))}),(0,Ce.jsx)("div",{className:"service-container",children:(i||!i)&&(0,Ce.jsx)("div",{className:"service-topic".concat(i?"1":"2"," ").concat(i||!i?"slide-in":""),children:(0,Ce.jsx)("div",{className:"subservice-container",children:(0,Ce.jsxs)("div",{className:"subservice",children:[(0,Ce.jsx)("div",{className:"subservice-heading",children:s.map((i=>(0,Ce.jsx)("div",{className:"service-heading ".concat(i.id===e?"selected":""),onClick:()=>(e=>{t(e)})(i.id),children:(0,Ce.jsx)("h3",{children:i.title})},i.id)))}),(0,Ce.jsx)("div",{className:"subservice-content",children:s.map((t=>e===t.id&&(0,Ce.jsxs)("div",{className:"main-subservice ".concat(t.id,"-main ").concat(i?"slide-in":""),children:[(0,Ce.jsxs)("div",{className:"subservicemain-content",children:[(0,Ce.jsx)("h1",{children:t.title}),(0,Ce.jsx)("h3",{children:t["sub-title"]}),(0,Ce.jsx)("h6",{children:t.description}),(0,Ce.jsx)("a",{href:t.link,children:(0,Ce.jsx)("button",{children:"Know More .."})})]}),(0,Ce.jsxs)("div",{className:"subservice-image-container",children:[(0,Ce.jsx)("div",{className:"service-tem-column"}),(0,Ce.jsx)("div",{className:"service-tem-column",children:(0,Ce.jsx)("div",{className:"subservice-image",children:(0,Ce.jsx)("img",{src:t.image,alt:"Your Image"})})})]})]},t.id)))})]})})})})]})}),Ig=()=>{const[e,t]=(0,o.useState)(0),[i,n]=(0,o.useState)(0),[s,r]=(0,o.useState)(0),[a,l]=(0,o.useState)(0),[c,d]=(0,o.useState)(!1),[h,u]=(0,o.useState)(!1),g=4.5,p=500;return(0,o.useEffect)((()=>{if(c){const o=setInterval((()=>{e<10&&t(e+1)}),100),c=setInterval((()=>{i<10&&n(i+1)}),100),d=setInterval((()=>{s<g&&r(s+.1)}),100),h=setInterval((()=>{a<p&&l(a+10)}),100);return()=>{clearInterval(o),clearInterval(c),clearInterval(d),clearInterval(h)}}}),[e,i,s,a,10,10,g,p,c]),(0,Ce.jsx)(Ze(),{onChange:e=>{d(e),e&&u(!0)},children:(0,Ce.jsxs)("div",{className:"counter-container",children:[(0,Ce.jsxs)("div",{className:"counter-item",children:[(0,Ce.jsxs)("div",{className:"counter-number ".concat(h?"animated-counter-number":""),children:[e>=10?10:e,"+"]}),(0,Ce.jsx)("div",{className:"counter-text",children:"Brands"})]}),(0,Ce.jsxs)("div",{className:"counter-item",children:[(0,Ce.jsxs)("div",{className:"counter-number ".concat(h?"animated-counter-number":""),children:[i>=10?10:i,"+"]}),(0,Ce.jsx)("div",{className:"counter-text",children:"Tools"})]}),(0,Ce.jsxs)("div",{className:"counter-item",children:[(0,Ce.jsxs)("div",{className:"counter-number ".concat(h?"animated-counter-number":""),children:[s>=g?g.toFixed(1):s.toFixed(1),"/5"]}),(0,Ce.jsx)("div",{className:"counter-text",children:"Ratings"})]}),(0,Ce.jsxs)("div",{className:"counter-item",children:[(0,Ce.jsxs)("div",{className:"counter-number ".concat(h?"animated-counter-number":""),children:[a>=p?p:a,"+"]}),(0,Ce.jsx)("div",{className:"counter-text",children:"Projects"})]})]})})},Ag=()=>(0,Ce.jsx)("div",{className:"contactBar-container",children:(0,Ce.jsxs)("div",{className:"contact-bar",children:[(0,Ce.jsx)("div",{className:"sub-div left-div",children:(0,Ce.jsx)("p",{children:"Shape the New Era of Bussiness with Imaggar Technologies"})}),(0,Ce.jsx)("div",{className:"sub-div right-div",children:(0,Ce.jsxs)("a",{href:"/contact",children:[" ",(0,Ce.jsx)("button",{className:"getademo-button",children:"Contact Us"})]})})]})});const Mg=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Dg,{}),(0,Ce.jsx)(Ng,{}),(0,Ce.jsx)(Tg,{}),(0,Ce.jsx)(Ig,{}),(0,Ce.jsx)(Ag,{})]})},Og=()=>{const[e,t]=(0,o.useState)(null),[i,n]=(0,o.useState)({}),[s,r]=(0,o.useState)(!1),a=J(),l=["/car","/internship","/openings"].includes(a.pathname),c=()=>{t(null)},d=()=>{r(window.scrollY>0)};return(0,o.useEffect)((()=>(window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)})),[]),(0,Ce.jsxs)("header",{className:"header ".concat(s?"scrolled":""),children:[(0,Ce.jsx)("div",{className:"logo",children:(0,Ce.jsx)("img",{src:"./logo.png",alt:"Logo"})}),(0,Ce.jsx)("nav",{className:"navbar",children:(0,Ce.jsx)("ul",{className:"nav__links",children:ql.map(((s,r)=>(0,Ce.jsxs)("li",{"data-expand":s.name.en,className:"nav--link ".concat(e===s.name.en||i[s.name.en]?"hover":""),onMouseEnter:e=>((e,o)=>{t(o.name.en),n({...i,[o.name.en]:!0})})(0,s),onMouseLeave:c,children:[(0,Ce.jsxs)("a",{href:s.url,children:["  ",s.name.en]}),s.submenu&&e===s.name.en&&(0,Ce.jsx)("ul",{className:"submenu ".concat(e===s.name.en?"active":""),children:(0,Ce.jsx)("div",{className:"submenu-list",children:s.submenu.map(((e,t)=>(0,Ce.jsx)("div",{className:"submenu-item-container",children:(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:e.url,className:"submenu-link",children:(0,Ce.jsxs)("div",{className:"submenu-content",children:[e.icon&&o.createElement(e.icon,{className:"submenu-icon"}),(0,Ce.jsxs)("div",{className:"submenu-text-content",children:[(0,Ce.jsx)("span",{className:"submenu-name",children:e.name.en}),(0,Ce.jsx)("span",{className:"submenu-description",children:e.description})]})]})})})},t)))})})]},r)))})}),(0,Ce.jsxs)("div",{className:"buttons",children:[l&&(0,Ce.jsxs)("button",{onClick:async()=>{try{window.location.href="http://localhost:8000/auth/google/login"}catch(e){console.error("Google Sign-In Error:",e)}},className:"googleAuthButton",children:[(0,Ce.jsx)(Bl,{className:"AuthButton-google-icon"}),"Login with Google"]}),!l&&(0,Ce.jsx)("a",{href:"/get-started",className:"get-started-btn",children:"Get Started"})]})]})},Rg=()=>{const[e,t]=(0,o.useState)((new Date).getFullYear()),[i,n]=(0,o.useState)(!0);(0,o.useEffect)((()=>{const e=setInterval((()=>{t((new Date).getFullYear())}),36e5);return()=>clearInterval(e)}),[]);return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("footer",{className:"second-footer ".concat(i?"":"no-margin"),children:(0,Ce.jsx)("div",{className:"copyright-main-container",children:(0,Ce.jsx)("div",{className:"copyright-container",children:(0,Ce.jsxs)("div",{className:"copyright-content",children:[(0,Ce.jsxs)("ul",{className:"copyright-list",children:[(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:"/legal",className:"copyright-text-hover",children:"Legal"})}),(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:"/privacy-notice",className:"copyright-text-hover",children:"Privacy Notice"})}),(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:"/site-terms",className:"copyright-text-hover",children:"Site Terms"})}),(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:"/sitemap",className:"copyright-text-hover",children:"Sitemap"})})]}),(0,Ce.jsxs)("p",{className:"copyright-text copyright-text-hover",children:["\xa9 ",e," IMAGGAR Technology Pvt Ltd. All Rights Reserved."]})]})})})}),(0,Ce.jsxs)("div",{className:"announcement-bar ".concat(i?"":"fade-out"),children:[(0,Ce.jsx)("div",{className:"announcement-bar-container",children:(0,Ce.jsxs)("a",{href:"#",className:"announcement-content",children:[(0,Ce.jsx)(Ql,{className:"announcement-icon"}),(0,Ce.jsx)("p",{children:"This is an important announcement."})]})}),(0,Ce.jsx)($l,{className:"close-icon",onClick:()=>{n(!1)}})]})]})},Pg=()=>{const{logo:e,socialIcons:t,otherIcons:i}=Yl;return(0,Ce.jsxs)("div",{className:"socialMediaFooter-main",children:[(0,Ce.jsx)("div",{className:"socialMediaFooter-left",children:(0,Ce.jsx)("a",{href:"https://your-website-url.com",target:"_blank",rel:"noopener noreferrer",children:(0,Ce.jsx)("img",{src:e,alt:"Footer Logo",className:"footer-logo"})})}),(0,Ce.jsx)("div",{className:"socialMediaFooter-right",children:t.map(((e,t)=>(0,Ce.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:o.createElement(e.icon,{className:"footersocial-icon"})},t)))})]})},Fg=()=>{const[e,t]=(0,o.useState)(""),[i,n]=(0,o.useState)("");return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("footer",{className:"footer",children:(0,Ce.jsxs)("div",{className:"footer-container footer-row",children:[Zl.map(((e,t)=>{return(0,Ce.jsxs)("div",{className:"footer-col margin-footer",children:[(0,Ce.jsx)("h4",{children:e.title}),(0,Ce.jsx)("ul",{children:(i=e.links,i.map(((e,t)=>(0,Ce.jsx)("li",{children:(0,Ce.jsx)("a",{href:e.url,children:e.label})},t))))})]},t);var i})),(0,Ce.jsx)("div",{className:"footer-col-2",children:(0,Ce.jsx)("div",{className:"form-sect-tem2 margin-footer",children:(0,Ce.jsxs)("div",{className:"",children:[(0,Ce.jsx)("h4",{children:"Subscribe"}),(0,Ce.jsxs)("div",{className:"subscribe",children:[(0,Ce.jsx)("input",{type:"email",placeholder:"Subscribe",value:e,onChange:e=>t(e.target.value)}),(0,Ce.jsx)("button",{onClick:async()=>{try{(await fetch("http://13.48.9.68:8000/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).ok?n("Subscription successful!"):n("Subscription failed. Please try again.")}catch(t){console.error("Error subscribing:",t),n("An error occurred. Please try again later.")}},children:"Subscribe"})]}),(0,Ce.jsx)("div",{className:"subscription-message",children:i&&(0,Ce.jsx)("p",{children:i})}),(0,Ce.jsx)("div",{className:"footerdes",children:(0,Ce.jsx)("p",{children:"Reshape the Epoch of Customer Service through Imaggar's Pioneering  AI ."})})]})})})]})}),(0,Ce.jsx)(Pg,{}),(0,Ce.jsx)(Rg,{})]})},Bg=()=>{const[e,t]=(0,o.useState)(""),[i,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=setTimeout((()=>{n(!0)}),5e3);return()=>clearTimeout(e)}),[]);return i?(0,Ce.jsxs)("div",{className:"popup-subscribe-main",children:[(0,Ce.jsxs)("div",{className:"popup-welcome-div",children:[(0,Ce.jsx)("div",{className:"popup-welcome-text",children:"Welcome to"}),(0,Ce.jsx)("div",{className:"popup-company-text",children:"Imaggar"})]}),(0,Ce.jsxs)("div",{className:"popup-content",children:[(0,Ce.jsx)("div",{className:"popup-close",onClick:()=>{n(!1)},children:(0,Ce.jsx)($l,{})}),(0,Ce.jsx)("h2",{children:"Subscribe Now"}),(0,Ce.jsx)("p",{children:"Stay updated with our latest news and offers!"}),(0,Ce.jsx)("input",{type:"email",placeholder:"Enter your email",value:e,onChange:e=>{t(e.target.value)}}),(0,Ce.jsx)("button",{onClick:()=>{console.log("Subscribed with email:",e),n(!1)},children:"Subscribe"}),(0,Ce.jsx)("div",{className:"additional-content",children:(0,Ce.jsx)("p",{children:"More information about Imaggar and our services..."})})]})]}):null};i.p;const Vg={intro:{title:"Join Our Team",description:"At Imaggar Technologies, we foster an environment that encourages innovation, collaboration, and growth. Join us in shaping the future of technology and making a difference in people\u2019s lives.",buttonText:"View Open Positions",buttonLink:"/careers"},CareersDetailsintro:{title:"We are Engineers by Passion Not just by profession",description:"At Imaggar Technologies, we foster an environment that encourages innovation, collaboration, and growth. Join us in shaping the future of technology and making a difference in people\u2019s lives.",buttonText:"View Open Positions",buttonLink:"/careers"},CareersDetails:[{title:"Work Culture",heading:"The Culture of Imaggar Family",paragraph:"At Imaggar, our culture is centered around collaboration, innovation, and inclusivity. We foster an environment where diversity is celebrated, ideas are valued, and every team member feels empowered.",imageUrl:"https://media.istockphoto.com/id/1373322416/photo/positive-businesspeople-having-a-meeting-in-a-boardroom.webp?b=1&s=170667a&w=0&k=20&c=78oDqrHrPqhTFdhImJerEJTV5bmPUTcSblOAJx0suwk=",imageAlt:"Work Culture Image"},{title:"Perks and Benefits",heading:"Enjoy Perks and Benefits",paragraph:"We offer competitive compensation packages, comprehensive health benefits, flexible work schedules, professional development opportunities, and a supportive work environment that promotes employee well-being and growth.",imageUrl:"https://plus.unsplash.com/premium_photo-1663134377392-50c34664d632?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8c3RhZmZ8ZW58MHx8MHx8fDA%3D",imageAlt:"Perks and Benefits Image"},{title:"Work Environment",heading:"Our Work Environment",paragraph:"Our work environment encourages creativity, collaboration, and continuous learning. We prioritize teamwork, provide opportunities for skill development, and strive for a positive and supportive workplace.",imageUrl:"https://media.istockphoto.com/id/1185622398/photo/young-business-people-in-office.webp?b=1&s=170667a&w=0&k=20&c=OiREND-1KbNJuwNrxaM3kPNjNuGsj5SpOuliCCbaKso=",imageAlt:"Work Environment Image"},{title:"Life in Imaggar",heading:"Life at Imaggar",paragraph:"Life at Imaggar is vibrant and dynamic. From team events to learning initiatives, we ensure a well-balanced work-life experience. We believe in celebrating achievements and fostering a sense of community.",imageUrl:"https://media.istockphoto.com/id/1185622398/photo/young-business-people-in-office.webp?b=1&s=170667a&w=0&k=20&c=OiREND-1KbNJuwNrxaM3kPNjNuGsj5SpOuliCCbaKso=",imageAlt:"Life at Imaggar Image"}]},Wg=()=>{const{title:e,description:t,buttonText:i}=Vg.intro;return(0,Ce.jsx)("div",{className:"Landing-row-fluid",children:(0,Ce.jsx)("div",{className:"Landing-container",children:(0,Ce.jsx)("div",{className:"Landing-col",children:(0,Ce.jsxs)("div",{className:"Landing-text-col",children:[(0,Ce.jsx)("h1",{className:"Landing-heading",children:e}),(0,Ce.jsx)("p",{className:"Landing-paragraph",children:t}),(0,Ce.jsx)("div",{className:"Landing-buttons-row",children:(0,Ce.jsx)("a",{className:"Landing-button section-link",href:"/careers/job-openings",children:i})})]})})})})},zg=()=>(0,Ce.jsxs)("div",{className:"ProSerDetails-main",children:[(0,Ce.jsxs)("div",{className:"ProSerDetailsContentIntro-container",children:[(0,Ce.jsx)("h1",{className:"ProSerDetailsContentIntro-heading",children:Vg.CareersDetailsintro.title}),(0,Ce.jsx)("p",{className:"ProSerDetailsContentIntro-paragraph ProSer-details-text",children:Vg.CareersDetailsintro.description})]}),Vg.CareersDetails.map(((e,t)=>(0,Ce.jsx)("div",{className:"ProSer-details-row-fluid ".concat(t%2===0?"ProSer-details-odd":"ProSer-details-even"),children:t%2===0?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsx)("div",{className:"ProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})}),(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsxs)("div",{className:"ProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"ProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.paragraph})]})})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsxs)("div",{className:"ProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"ProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.paragraph})]})}),(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsx)("div",{className:"ProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})})]})},t)))]});const Hg=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Wg,{}),(0,Ce.jsx)(zg,{})]})};ri((e=>({userData:e.userReducer.userData})))((e=>{let{userData:t}=e;return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h2",{children:"User Data"}),t?(0,Ce.jsxs)("div",{children:[(0,Ce.jsxs)("p",{children:["Username: ",t.username]}),(0,Ce.jsxs)("p",{children:["Email: ",t.email]})]}):(0,Ce.jsx)("p",{children:"No user data available"})]})}));const jg=()=>{const[e,t]=(0,o.useState)([]),[i,n]=(0,o.useState)(null),[s,r]=(0,o.useState)({firstName:"",lastName:"",companyName:"",email:"",phoneNumber:"",message:""});(0,o.useEffect)((()=>{(async()=>{try{const e=await fetch("https://restcountries.com/v2/all");if(!e.ok)throw new Error("Failed to fetch country data");const i=(await e.json()).map((e=>({label:"+".concat(e.callingCodes[0]," (").concat(e.name,")"),value:"+".concat(e.callingCodes[0])})));t(i)}catch(e){console.error("Error fetching country data:",e)}})()}),[]);const a=e=>{r({...s,[e.target.name]:e.target.value})};return(0,Ce.jsx)("div",{className:"contact-main",children:(0,Ce.jsxs)("div",{className:"contact-container",children:[(0,Ce.jsxs)("div",{className:"contact-content",children:[(0,Ce.jsx)("h2",{children:(0,Ce.jsx)("span",{className:"highlight-text",children:Sg.mainTitle})}),(0,Ce.jsx)("h4",{children:Sg.subheading}),(0,Ce.jsx)("ul",{className:"contact-ul-tag",children:Sg.listItems.map(((e,t)=>(0,Ce.jsxs)("li",{className:"list-item",children:[(0,Ce.jsx)("div",{className:"bullet-point",children:(0,Ce.jsx)(Jl,{className:"bullet-icon"})}),(0,Ce.jsxs)("div",{className:"list-content",children:[(0,Ce.jsx)("span",{className:"heading",children:e.heading})," ",(0,Ce.jsx)("br",{}),(0,Ce.jsx)("span",{className:"description",children:e.description})]})]},t)))})]}),(0,Ce.jsxs)("div",{className:"contact-form",children:[(0,Ce.jsx)("h2",{children:Sg.demoRequestTitle}),(0,Ce.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!(await fetch("http://13.48.9.68:8000/api/contact/apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to submit form data");console.log("Form data submitted successfully!")}catch(t){console.error("Error submitting form data:",t)}},children:[(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)("input",{className:"Nameinput FirstName",placeholder:Sg.formLabels.firstName,type:"text",id:"firstName",name:"firstName",onChange:a}),(0,Ce.jsx)("div",{className:"space-between"}),(0,Ce.jsx)("input",{className:"Nameinput LastName",placeholder:Sg.formLabels.lastName,type:"text",id:"lastName",name:"lastName",onChange:a})]})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.companyName,type:"text",id:"companyName",name:"companyName",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.companyName,type:"text",id:"companyName",name:"companyName",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:Sg.formLabels.email,type:"email",id:"email",name:"email",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)(Cg,{className:"country-select contact-input",options:e,value:i,onChange:e=>n(e),placeholder:Sg.formLabels.selectPlaceholder,menuPlacement:"auto"}),(0,Ce.jsx)("input",{className:"contact-input phone-input",placeholder:Sg.formLabels.phoneNumber,type:"text",id:"phoneNumber",name:"phoneNumber",onChange:a})]})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("textarea",{className:"contact-input",placeholder:"Message",id:"message",name:"message",onChange:a})}),(0,Ce.jsx)("button",{className:"contact-submit-button",type:"submit",children:Sg.formLabels.submitButton})]})]})]})})};const Ug=function(){return(0,Ce.jsx)("div",{children:(0,Ce.jsx)(jg,{})})},Kg=e=>{const{title:t,paragraph:i,buttonText:n,imageUrl:o,imageAlt:s,demoLink:r,minititle:a}=e.Landing;return(0,Ce.jsx)("div",{className:"SubProSer_landing-row-fluid",children:(0,Ce.jsx)("div",{className:"SubProSer_landing-container",children:(0,Ce.jsxs)("div",{className:"SubProSer_landing-text-col",children:[(0,Ce.jsx)("p",{className:"SubProSer_landing-praragraph SubProSer-landing-text",children:a}),(0,Ce.jsx)("h1",{className:"SubProSer-landing-text",children:t}),(0,Ce.jsx)("p",{className:"SubProSer_landing-praragraph SubProSer-landing-text",children:i}),(0,Ce.jsx)("div",{className:"SubProSerlanding-buttons-row",children:(0,Ce.jsx)("a",{className:"button-SubProSer_landingpage section-link SubProSer-landing-text",href:r,children:n})})]})})})},qg=e=>{console.log(e.Details);const t=e.Details;return(0,Ce.jsxs)("div",{className:"SubProSerDetails-main",children:[(0,Ce.jsxs)("div",{className:"SubProSerDetailsContentIntro-container",children:[(0,Ce.jsx)("h1",{className:"SubProSerDetailsContentIntro-heading",children:t.heading}),(0,Ce.jsx)("p",{className:"SubProSerDetailsContentIntro-paragraph SubProSer-details-text",children:t.paragraph})]}),t.features.map(((e,t)=>(0,Ce.jsx)("div",{className:"SubProSer-details-row-fluid ".concat(t%2===0?"SubProSer-details-odd":"SubProSer-details-even"),children:t%2===0?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"SubProSer-details-col",children:(0,Ce.jsx)("div",{className:"SubProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})}),(0,Ce.jsx)("div",{className:"SubProSer-details-col",children:(0,Ce.jsxs)("div",{className:"SubProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"SubProSer-details-paragraph SubProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"SubProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"SubProSer-details-paragraph SubProSer-details-text",children:e.paragraph})]})})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"SubProSer-details-col",children:(0,Ce.jsxs)("div",{className:"SubProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"SubProSer-details-paragraph SubProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"SubProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"SubProSer-details-paragraph SubProSer-details-text",children:e.paragraph})]})}),(0,Ce.jsx)("div",{className:"SubProSer-details-col  ",children:(0,Ce.jsx)("div",{className:"SubProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})})]})},t)))]})},Gg=i.p+"static/media/image1.03bb350e24d91fef0750.gif",Yg={LandingContent:{title:"About Imaggar Technologies",paragraph:"At Imaggar Technologies, we are dedicated to transforming the digital landscape through cutting-edge AI solutions. Our commitment is to streamline operations, captivate audiences with immersive technologies, and embrace the latest innovations for unparalleled efficiency and productivity.",imageAlt:"Imaggar Technologies Office",missionVision:{mission:"Our Mission",missionStatement:"To empower businesses with transformative AI solutions, driving innovation and excellence in every digital interaction.",vision:"Our Vision",visionStatement:"To be a global leader in AI-driven technologies, creating a positive impact on businesses and society."}},DetailsContent:{title:"Life at Imaggar Technologies",paragraph:"At Imaggar Technologies, we believe in fostering an environment that encourages innovation, excellence, collaboration, integrity, and customer-centricity. Joining Imaggar means becoming part of a dynamic team that values continuous growth, work-life balance, and strives for excellence.",features:[{title:"Innovation",heading:"Embrace Creativity",paragraph:"We encourage our team to think outside the box, fostering creativity and constantly seeking innovative solutions.",imageUrl:Gg,imageAlt:"Innovation Image"},{title:"Excellence",heading:"Strive for Excellence",paragraph:"We believe in striving for excellence in all aspects of our work, setting high standards and delivering top-notch solutions.",imageUrl:Gg,imageAlt:"Excellence Image"},{title:"Collaboration",heading:"Foster Collaboration",paragraph:"Our work environment is collaborative and inclusive, encouraging teamwork and open communication.",imageUrl:Gg,imageAlt:"Collaboration Image"},{title:"Integrity",heading:"Uphold Integrity",paragraph:"We uphold the highest standards of integrity and ethics, ensuring trust and transparency in all our interactions.",imageUrl:Gg,imageAlt:"Integrity Image"},{title:"Customer-Centricity",heading:"Prioritize Customer Needs",paragraph:"Customer satisfaction is at the core of what we do. We prioritize customer needs and strive to exceed their expectations.",imageUrl:Gg,imageAlt:"Customer-Centricity Image"}]}};const Zg=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Kg,{Landing:Yg.LandingContent}),(0,Ce.jsx)(qg,{Details:Yg.DetailsContent}),(0,Ce.jsx)(Ag,{})]})},Qg=()=>{const{title:e,description:t,buttonText:i}=Vg.intro;return(0,Ce.jsx)("div",{className:"Landing-row-fluid",children:(0,Ce.jsx)("div",{className:"Landing-container",children:(0,Ce.jsx)("div",{className:"Landing-col",children:(0,Ce.jsxs)("div",{className:"Landing-text-col",children:[(0,Ce.jsx)("h1",{className:"Landing-heading",children:e}),(0,Ce.jsx)("p",{className:"Landing-paragraph",children:t}),(0,Ce.jsx)("div",{className:"Landing-buttons-row",children:(0,Ce.jsx)("a",{className:"Landing-button section-link",href:"/careers",children:i})})]})})})})},Xg=[{icon:(0,Ce.jsx)(jl,{size:30}),type:"Full-time",location:"Thanjavur",JobTitle:"Business Developer",education:{BachelorDegree:!0,DegreeField:["Business Administration","Marketing","Sales"]},experience:{level:"Mid-Senior",Years_of_Experience:"4-8",skills:["Business Development","Global Sales","Market Research","Client Relationship Management","Strategic Planning"],additionalSkills:["Proven track record in global sales and business development","Strong negotiation and communication skills","Experience working in cross-cultural environments","Fluency in multiple languages is a plus"]},language:"English",responsibilities:["Drive the expansion of business into new international markets","Research potential markets and identify business opportunities","Develop and maintain relationships with clients","Devise strategic plans to grow global presence"],CompanyDescription:"A technology company focusing on global expansion.",EqualOpportunity:!0,AboutJob:"As a Global Business Developer, you will drive the expansion of our business into new international markets...",Perks:["Competitive salary","Remote work flexibility","Comprehensive benefits","Opportunities for career advancement"],Specializations:["Certification in Business Development","MBA"]},{icon:(0,Ce.jsx)(Hl,{size:30}),type:"Full-time",location:"Thanjavur",JobTitle:"Full Stack Developer",education:{BachelorDegree:!0,DegreeField:["Computer Science","Software Engineering","Information Technology"]},experience:{level:"Senior",Years_of_Experience:"5+",skills:["JavaScript","React","Node.js","MongoDB","HTML/CSS","RESTful APIs"],additionalSkills:["Proven experience as a Full Stack Developer","Strong problem-solving and debugging skills","Experience with version control systems (e.g., Git)"]},language:"English",responsibilities:["Design, implement, and maintain software applications across the entire stack","Work on both front-end and back-end technologies","Ensure seamless user experiences and robust server-side functionality"],CompanyDescription:"A technology company revolutionizing the industry.",EqualOpportunity:!0,AboutJob:"As a Full Stack Developer, you will be responsible for designing, implementing, and maintaining software applications...",Perks:["Competitive salary","Stock options","Remote work flexibility"],Specializations:["Certification in Full Stack Development","AWS Solutions Architect"]}],Jg=()=>{const[e,t]=(0,o.useState)(""),[i,n]=(0,o.useState)({location:""}),[s,r]=(0,o.useState)([]);new Set(Xg.map((e=>e.location)));(0,o.useEffect)((()=>{(()=>{const t=Xg.filter((t=>{const n=t.JobTitle.toLowerCase().includes(e.toLowerCase()),o=!i.location||t.location.toLowerCase()===i.location.toLowerCase();return n&&o}));r(t)})()}),[e,i]);return(0,Ce.jsxs)("div",{className:"job-gallery-main",children:[(0,Ce.jsx)("div",{className:"job-gallery-search-bar",children:(0,Ce.jsx)("input",{type:"text",placeholder:"Search by job title...",value:e,onChange:e=>{t(e.target.value)},className:"search-input"})}),(0,Ce.jsx)("div",{className:"job-gallery-job-cards",children:s.map(((e,t)=>(0,Ce.jsxs)("div",{className:"job-gallery-job-card",children:[(0,Ce.jsx)("div",{className:"job-gallery-titleicon-container",children:e.icon}),(0,Ce.jsx)("div",{className:"job-gallery-type-container",children:(0,Ce.jsx)("p",{children:e.type})}),(0,Ce.jsx)("h3",{children:e.JobTitle}),(0,Ce.jsxs)("div",{className:"job-gallery-location-container",children:[(0,Ce.jsx)(Ul,{size:20}),(0,Ce.jsx)("p",{children:e.location})]}),(0,Ce.jsx)("p",{children:e.CompanyDescription}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h4",{children:"Minimum Qualifications:"}),(0,Ce.jsx)("ul",{children:(0,Ce.jsxs)("li",{children:["Bachelor's Degree: ",e.BachelorDegree?"Yes":"No"]})})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h4",{children:"Preferred Qualifications:"}),(0,Ce.jsx)("ul",{})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h4",{children:"Responsibilities:"}),(0,Ce.jsx)("ul",{})]}),(0,Ce.jsxs)("p",{children:["Equal Opportunity: ",e.EqualOpportunity?"Yes":"No"]}),(0,Ce.jsx)("button",{onClick:()=>(e=>{const t="Application for ".concat(e.JobTitle),i="https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=".concat(encodeURIComponent("careers@imaggar.com"),"&su=").concat(encodeURIComponent(t),"&body=").concat(encodeURIComponent("   /// write an apprriate cover and letter and dont forget to attach the CV / Resume with this email /// }"));window.open(i)})(e),children:"Apply for this job"})]},t)))})]})},$g=()=>{const e="https://mail.google.com/mail/?view=cm&fs=1&tf=1&to=".concat(encodeURIComponent("careers@imaggar.com"),"&su=").concat(encodeURIComponent("Application for  Talent acquirement  "),"&body=").concat(encodeURIComponent("   /// write an appropriate cover and letter and don't forget to attach the CV / Resume with this email /// "));window.open(e)},ep=()=>(0,Ce.jsx)("div",{className:"contactBar-container",children:(0,Ce.jsxs)("div",{className:"contact-bar",children:[(0,Ce.jsx)("div",{className:"sub-div left-div",children:(0,Ce.jsx)("p",{children:"Shape your career with talent Acquisition !!"})}),(0,Ce.jsx)("div",{className:"sub-div right-div",children:(0,Ce.jsx)("button",{className:"getademo-button",onClick:$g,children:"Apply Now "})})]})});const tp=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Qg,{}),(0,Ce.jsx)(Jg,{}),(0,Ce.jsx)(ep,{})]})},ip=i.p+"static/media/image.8eaf257c9d55b345fbc5.jpg",np=i.p+"static/media/image.6cae4f85e32dd622e0e6.gif",op={ProSerlandingContent:{title:"Revolutionize Your Digital Presence with Cutting-Edge AI",minititle:"Unleash the Power of AI for Seamless Business Advancement",paragraph:"Elevate your digital landscape with AI-driven solutions designed to streamline operations, captivate audiences with immersive technologies, and embrace the latest innovations for unparalleled efficiency and productivity.",buttonText:"Experience the Future - Get A Demo",imageUrl:ip,imageAlt:"Simplified Interface for Transformation and Enhancement",demoLink:"/contact"},ProSerDetailsContent:[{title:"AI-POWERED SELF-SERVICE",heading:"Automate self-service across channels",paragraph:"Minimize wait times, increase resolutions. Freshbots, powered by Freddy Self Service, work on many channels so customers can find answers wherever they are. With Freshbots deflecting up to 70% of conversations, your team can focus on what matters most.*",imageUrl:np,imageAlt:"AI-Powered Self-Service Image"},{title:"PROACTIVE INSIGHTS",heading:"Make smart decisions faster",paragraph:"Powered by generative AI, Freddy Insights proactively analyzes performance data for opportunities to optimize productivity and head off potential issues. Freddy Insights even recommends remediation actions\u2014and helps execute them.",imageUrl:np,imageAlt:"Proactive Insights Image"},{title:"UNIFIED AGENT WORKSPACE",heading:"Supercharge agent productivity",paragraph:"Empower agents to personalize service on the fly. View all customer interactions across channels in one place. Freddy Copilot is an always-on assistant that can suggest responses, recommend actions, and summarize events.",imageUrl:np,imageAlt:"Unified Agent Workspace Image"},{title:"ADVANCED TICKETING",heading:"Enable seamless collaboration across teams",paragraph:"Reach out to colleagues to swiftly resolve customer issues. Swarm fast. Rally a dream team. Track accountability. Advanced ticketing keeps all the information in one place, so it\u2019s easy to stay on top of progress and no one drops the ball.",imageUrl:np,imageAlt:"Advanced Ticketing Image"}],ProSerDetailsIntro:{heading:"One unified omnichannel solution powered by AI",paragraph:"Improve customer experience and agent productivity with generative AI. One seamless omnichannel solution for self-service, conversational support, and ticketing."}},sp=(i.p,i.p,i.p,i.p,i.p,()=>{const{title:e,paragraph:t,buttonText:i,imageUrl:n,imageAlt:o,demoLink:s,minititle:r}=op.ProSerlandingContent;return(0,Ce.jsx)("div",{className:"ProSer_landing-row-fluid",children:(0,Ce.jsxs)("div",{className:"ProSer_landing-container",children:[(0,Ce.jsx)("div",{className:"ProSer_landing-col",children:(0,Ce.jsxs)("div",{className:"ProSer_landing-text-col",children:[(0,Ce.jsx)("p",{className:" ProSer_landing-praragraph ProSer-landing-text",children:r}),(0,Ce.jsx)("h1",{className:"ProSer-landing-text",children:e}),(0,Ce.jsx)("p",{className:"ProSer_landing-praragraph ProSer-landing-text",children:t}),(0,Ce.jsx)("div",{className:"ProSerlanding-buttons-row",children:(0,Ce.jsx)("a",{className:"button-ProSer_landingpage section-link ProSer-landing-text",href:s,children:i})})]})}),(0,Ce.jsx)("div",{className:"ProSer_landing-col",children:(0,Ce.jsx)("div",{className:"ProSer_landing-image-col",children:(0,Ce.jsx)("img",{src:n,alt:o})})})]})})}),rp=()=>(0,Ce.jsxs)("div",{className:"ProSerDetails-main",children:[(0,Ce.jsxs)("div",{className:"ProSerDetailsContentIntro-container",children:[(0,Ce.jsx)("h1",{className:"ProSerDetailsContentIntro-heading",children:op.ProSerDetailsIntro.heading}),(0,Ce.jsx)("p",{className:"ProSerDetailsContentIntro-paragraph ProSer-details-text",children:op.ProSerDetailsIntro.paragraph})]}),op.ProSerDetailsContent.map(((e,t)=>(0,Ce.jsx)("div",{className:"ProSer-details-row-fluid ".concat(t%2===0?"ProSer-details-odd":"ProSer-details-even"),children:t%2===0?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsx)("div",{className:"ProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})}),(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsxs)("div",{className:"ProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"ProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.paragraph})]})})]}):(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsxs)("div",{className:"ProSer-details-text-col",children:[(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.title}),(0,Ce.jsx)("h1",{className:"ProSer-details-text",children:e.heading}),(0,Ce.jsx)("p",{className:"ProSer-details-paragraph ProSer-details-text",children:e.paragraph})]})}),(0,Ce.jsx)("div",{className:"ProSer-details-col",children:(0,Ce.jsx)("div",{className:"ProSer-details-image-col",children:(0,Ce.jsx)("img",{src:e.imageUrl,alt:e.imageAlt})})})]})},t)))]});const ap=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(sp,{}),(0,Ce.jsx)(rp,{}),(0,Ce.jsx)(Ag,{})]})};const lp=function(e){let{Data:t}=e;return console.log(t),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Kg,{Landing:t.LandingContent}),(0,Ce.jsx)(qg,{Details:t.DetailsContent}),(0,Ce.jsx)(Ag,{})]})};i.p;function cp(e){return Oe({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 20c-.801 0-1.555-.312-2.121-.879l-4-4c-.567-.566-.879-1.32-.879-2.121s.312-1.555.879-2.122c1.133-1.133 3.109-1.133 4.242 0l1.188 1.188 3.069-5.523c.526-.952 1.533-1.544 2.624-1.544.507 0 1.012.131 1.456.378.7.39 1.206 1.028 1.427 1.798.221.771.127 1.581-.263 2.282l-5 9c-.454.818-1.279 1.384-2.206 1.514-.139.019-.277.029-.416.029zm-4-8c-.268 0-.518.104-.707.293s-.293.439-.293.707.104.518.293.707l4 4c.223.221.523.33.844.283.312-.043.586-.232.737-.504l5-9c.13-.233.161-.503.088-.76-.073-.257-.243-.47-.478-.6-.473-.264-1.101-.078-1.357.388l-4.357 7.841-3.062-3.062c-.19-.189-.44-.293-.708-.293z"}}]})(e)}const dp=e=>{let{icon:t,text:i}=e;return(0,Ce.jsxs)("div",{className:"job-info",children:[t&&(0,Ce.jsx)("icon",{className:"job-info-icon"}),(0,Ce.jsx)("p",{className:"job-text",children:i})]})},hp=e=>{let{JobDescription:t}=e;return t?(0,Ce.jsx)("div",{className:"job-data-main",children:(0,Ce.jsxs)("div",{className:"job-description-left",children:[(0,Ce.jsx)("h1",{children:t.JobTitle}),(0,Ce.jsxs)("div",{className:"job-info-container",children:[(0,Ce.jsx)(dp,{icon:Ul,text:t.location}),(0,Ce.jsx)(dp,{icon:Kl,text:t.salary}),(0,Ce.jsx)(dp,{icon:zl,text:t.type}),(0,Ce.jsx)(dp,{icon:Wl,text:t.companyInfo})]}),(0,Ce.jsxs)("div",{className:"job-about",children:[(0,Ce.jsx)("h2",{children:"About the job"}),(0,Ce.jsx)("p",{className:"job-description-text",children:t.AboutJob})]}),t.Responsibilities&&(0,Ce.jsxs)("div",{className:"job-responsibilities",children:[(0,Ce.jsx)("h2",{children:"Responsibilities"}),(0,Ce.jsx)("ul",{children:t.Responsibilities.map(((e,t)=>(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)(cp,{className:"jd-tick-icon"}),e]},t)))})]}),t.Perks&&(0,Ce.jsxs)("div",{className:"job-responsibilities",children:[(0,Ce.jsx)("h2",{children:"Perks"}),(0,Ce.jsx)("ul",{children:t.Perks.map(((e,t)=>(0,Ce.jsxs)("li",{children:[(0,Ce.jsx)(cp,{className:"jd-tick-icon"}),e]},t)))})]}),t.equalOpportunity&&(0,Ce.jsx)("div",{className:"job-equal-opportunity",children:(0,Ce.jsx)("p",{children:t.equalOpportunity})}),(0,Ce.jsx)("div",{className:"apply-now-button",children:(0,Ce.jsx)("button",{className:"apply-button",children:"Apply Now"})})]})}):(0,Ce.jsx)("div",{children:"No job data available"})},up=e=>{let{listOfjobs:t}=e;const[i,n]=(0,o.useState)(null),s=t;(0,o.useEffect)((()=>{const e=Math.floor(Math.random()*s.length);n(e)}),[s]);return(0,Ce.jsxs)("div",{className:"jobData-gallery-main",children:[(0,Ce.jsx)("h2",{children:"Discover More Opportunities"}),s.map(((e,t)=>i!==t&&(0,Ce.jsxs)("div",{className:"jobData-gallery-job-card",onClick:()=>(e=>{n(e)})(t),children:[(0,Ce.jsx)("div",{className:"jobData-gallery-titleicon-container",children:e.icon}),(0,Ce.jsx)("div",{className:"jobData-gallery-type-container",children:(0,Ce.jsx)("p",{children:e.type})}),(0,Ce.jsx)("h3",{children:e.title}),(0,Ce.jsxs)("div",{className:"jobData-gallery-location-container",children:[(0,Ce.jsx)(Ul,{size:20}),(0,Ce.jsx)("p",{children:e.location})]}),(0,Ce.jsx)("p",{children:e.description})]},t)))]})},gp=()=>{const e=J(),t=new URLSearchParams(e.search).get("details"),i=Xg,n=JSON.parse(decodeURIComponent(t));return console.log(n),(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(hp,{JobDescription:n}),(0,Ce.jsx)(up,{listOfjobs:[i[0],i[0],i[1]]})]})},pp=[{question:"What does HTML stand for?",options:["Hyper Text Markup Language","Highly Typed Modeling Language","Hyperlink and Text Markup Language","Hyper Transferable Modeling Language"],answer:"Hyper Text Markup Language",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which of the following is NOT a programming language?",options:["JavaScript","Python","CSS","Node js"],answer:"CSS",points:5,time_duration:30,topic:"webdevelopment"},{question:"What does CSS stand for?",options:["Cascading Style Sheet","Computer Style Sheet","Creative Style Sheet","Colorful Style Sheet"],answer:"Cascading Style Sheet",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which of the following is a front-end framework?",options:["Express.js","Angular","Node.js","Django"],answer:"Angular",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'alt' attribute in an HTML image tag?",options:["Alternative text for the image","Alignment of the image","Attribute listing","Alternate file source"],answer:"Alternative text for the image",points:5,time_duration:30,topic:"webdevelopment"},{question:"What does DOM stand for in the context of web development?",options:["Document Object Model","Data Object Model","Digital Order Module","Dynamic Output Mechanism"],answer:"Document Object Model",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which of the following is a server-side scripting language?",options:["JavaScript","PHP","CSS","HTML"],answer:"PHP",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'viewport' meta tag in HTML?",options:["Defines the structure of the webpage","Specifies the character encoding","Sets the viewport width and initial scale","Defines the webpage title"],answer:"Sets the viewport width and initial scale",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which CSS property is used for changing the text color of an element?",options:["color","text-color","font-color","foreground-color"],answer:"color",points:5,time_duration:30,topic:"webdevelopment"},{question:"What does AJAX stand for in web development?",options:["Asynchronous JavaScript and XML","Advanced JavaScript and XML","Asynchronous jQuery and XML","All JavaScript and XML"],answer:"Asynchronous JavaScript and XML",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which HTML tag is used for creating hyperlinks?",options:["<link>","<a>","<href>","<url>"],answer:"<a>",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'box-sizing' property in CSS?",options:["Defines the shape of the box","Specifies the border size","Determines how the total width and height are calculated","Sets the box shadow"],answer:"Determines how the total width and height are calculated",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which version control system is commonly used in web development?",options:["SVN","Git","Mercurial","Perforce"],answer:"Git",points:5,time_duration:30,topic:"webdevelopment"},{question:"What does CDN stand for in the context of web development?",options:["Centralized Data Network","Content Delivery Network","Cascading Data Node","Centralized Delivery Node"],answer:"Content Delivery Network",points:5,time_duration:30,topic:"webdevelopment"},{question:"In JavaScript, what is an IIFE?",options:["Immediately Invoked Function Expression","Inline If-Else Statement","Internal Iterative Function Execution","Instance Invocation Function Entity"],answer:"Immediately Invoked Function Expression",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which HTTP status code indicates a successful response?",options:["200 OK","404 Not Found","500 Internal Server Error","302 Found"],answer:"200 OK",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'localStorage' object in JavaScript?",options:["To store session data on the server","To store data locally on the user's browser","To manage server-side cookies","To handle server-side authentication"],answer:"To store data locally on the user's browser",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which event is triggered when a user clicks on an HTML element?",options:["onMouseOver","onHover","onClick","onPress"],answer:"onClick",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'SQL' language in web development?",options:["Styling Query Language","Structured Question Language","Server Query Language","Structured Query Language"],answer:"Structured Query Language",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which of the following is a commonly used JavaScript library?",options:["jQuery","React","Vue","Angular"],answer:"jQuery",points:5,time_duration:30,topic:"webdevelopment"},{question:"What does API stand for in the context of web development?",options:["Application Programming Interface","Advanced Programming Interface","Automated Programming Interface","Application Process Integration"],answer:"Application Programming Interface",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which of the following is a NoSQL database?",options:["MySQL","MongoDB","Oracle","SQLite"],answer:"MongoDB",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'viewport' meta tag in HTML?",options:["Defines the structure of the webpage","Specifies the character encoding","Sets the viewport width and initial scale","Defines the webpage title"],answer:"Sets the viewport width and initial scale",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which CSS property is used to create rounded corners?",options:["border-radius","corner-radius","round-corners","border-style"],answer:"border-radius",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'async' keyword in JavaScript?",options:["To define a function as asynchronous","To load external scripts asynchronously","To create asynchronous loops","To handle synchronous code"],answer:"To define a function as asynchronous",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which HTTP method is idempotent?",options:["GET","POST","PUT","DELETE"],answer:"GET",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'sessionStorage' object in JavaScript?",options:["To store session data on the server","To store data locally on the user's browser","To manage server-side cookies","To handle client-side authentication"],answer:"To store data locally on the user's browser",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which CSS pseudo-class is used to select the first child of an element?",options:[":first-child",":first-element",":first-of-type",":first"],answer:":first-child",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'try', 'catch', and 'finally' blocks in JavaScript?",options:["To define a loop","To handle exceptions and errors","To create a closure","To implement asynchronous code"],answer:"To handle exceptions and errors",points:5,time_duration:30,topic:"webdevelopment"},{question:"In the context of responsive web design, what does 'media query' refer to?",options:["A query to search for media files","A query to select specific HTML elements","A way to apply styles based on device characteristics","A query to fetch data from a server"],answer:"A way to apply styles based on device characteristics",points:5,time_duration:30,topic:"webdevelopment"},{question:"Which JavaScript method is used to remove the last element from an array?",options:["pop()","removeLast()","deleteLast()","spliceLast()"],answer:"pop()",points:5,time_duration:30,topic:"webdevelopment"},{question:"What is the purpose of the 'box-shadow' property in CSS?",options:["Defines the shape of the box","Specifies the border size","Adds a shadow effect to the box","Sets the box background color"],answer:"Adds a shadow effect to the box",points:5,time_duration:30,topic:"webdevelopment"},{question:"Scenario: You are working on a web development project, and the client reports that the website is taking too long to load. What could be the potential reasons for this issue?",options:["The server response time is slow","Large image files are not optimized","Too many HTTP requests are being made","All of the above"],answer:"All of the above",points:10,time_duration:60,topic:"webdevelopment"},{question:"Scenario: You are designing a responsive web page, and you want to ensure a good user experience on mobile devices. How would you approach the layout for smaller screens?",options:["Use media queries to adjust styles based on screen size","Create a separate mobile version of the website","Set a fixed width for all elements","Ignore mobile optimization as it's not essential"],answer:"Use media queries to adjust styles based on screen size",points:10,time_duration:60,topic:"webdevelopment"},{question:"Scenario: Your web application is experiencing a security vulnerability, and user data is at risk. What steps would you take to address and fix this issue?",options:["Implement SSL/TLS for secure communication","Regularly update and patch software","Conduct a security audit and fix identified issues","All of the above"],answer:"All of the above",points:10,time_duration:60,topic:"webdevelopment"},{question:"Scenario: A client requests a feature that involves real-time updates on the webpage without refreshing. Which technology or technique would you recommend for achieving this?",options:["WebSockets","AJAX (Asynchronous JavaScript and XML)","Long Polling","All of the above"],answer:"All of the above",points:10,time_duration:60,topic:"webdevelopment"},{question:"Scenario: You are tasked with optimizing a website for search engines. What on-page SEO practices would you consider to improve the website's visibility on search engine results?",options:["Using descriptive and relevant meta tags","Creating a sitemap for the website","Optimizing image alt attributes","All of the above"],answer:"All of the above",points:10,time_duration:60,topic:"webdevelopment"},{question:"Scenario: A user reports a bug where the website's layout is broken in the Internet Explorer browser. How would you approach fixing this issue?",options:["Use conditional comments to apply specific styles for IE","Encourage the user to switch to a different browser","Ignore the issue as IE is no longer supported","Rebuild the entire website from scratch"],answer:"Use conditional comments to apply specific styles for IE",points:10,time_duration:60,topic:"webdevelopment"}],fp=i.p+"static/media/alert.11a7fc29b48cff1f6385.mp3",mp=()=>{const[e,t]=(0,o.useState)(0),[i,n]=(0,o.useState)(Array(pp.length).fill(null)),[s,r]=(0,o.useState)(30),[a,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!0),[h,u]=(0,o.useState)(!0),[g,p]=(0,o.useState)(!1),f=pp,m=f[e],v=new Audio(fp);(0,o.useEffect)((()=>{const e=()=>{document.hidden&&(h&&c?(v.play(),alert("Warning: Please do not minimize or switch tabs during the test."),u(!1)):c&&(v.play(),l(!0),d(!0),p(!0)))},t=e=>{c&&(e.returnValue="Your test will be canceled. Are you sure you want to leave?",v.play(),l(!0),d(!0),p(!0))};return document.addEventListener("visibilitychange",e),window.addEventListener("beforeunload",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("beforeunload",t)}}),[h,c,g]),(0,o.useEffect)((()=>{const e=setInterval((()=>{s>0?r((e=>{const t=e-1;return t})):b()}),1e3);return()=>clearInterval(e)}),[s,e]);const b=()=>{e<f.length-1?(t(e+1),r(30)):(l(!0),d(!0),u(!1))};return(0,Ce.jsxs)("div",{className:"mcq-main",children:[!a&&c?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsxs)("div",{className:"mcq-top-container",children:[(0,Ce.jsx)("div",{className:"mcq-question-number",children:"".concat(e+1,"/").concat(f.length)}),(0,Ce.jsx)("div",{className:"mcq-timer top-right ".concat(s<=10?"last-10-seconds":""),children:"Time Left: ".concat(s,"s")})]}),(0,Ce.jsxs)("div",{className:"mcq-container",children:[(0,Ce.jsxs)("div",{className:"mcq-question-container",children:[(0,Ce.jsx)("p",{className:"mcq-question",children:m.question}),(0,Ce.jsx)("div",{className:"mcq-options-container",children:m.options.map(((t,o)=>(0,Ce.jsx)("div",{className:"mcq-option ".concat(i[e]===t?"selected":""),onClick:()=>(t=>{const o=[...i];o[e]=t,n(o)})(t),children:t},o)))})]}),(0,Ce.jsx)("div",{className:"mcq-button-container",children:e<f.length-1?(0,Ce.jsxs)("button",{className:"mcq-next-button",onClick:b,children:["Next ",(0,Ce.jsx)(Xl,{className:"next-icon"})]}):(0,Ce.jsx)("button",{className:"mcq-next-button",onClick:b,children:"Submit"})})]})]}):!a&&!g&&(0,Ce.jsxs)("div",{className:"rejection-card",children:[(0,Ce.jsx)("h2",{children:"Your test has been closed"}),(0,Ce.jsx)("p",{children:"Due to inactivity or switching tabs, your test has been canceled."})]}),a&&(0,Ce.jsxs)("div",{className:"thank-you-card",children:[(0,Ce.jsx)("h2",{children:"Thank You!"}),(0,Ce.jsx)("p",{children:"Your test has been submitted successfully."})]})]})};function vp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[e.length-(1+t)]}function bp(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function*_p(e,t){let i,n;for(const o of e)void 0!==n&&t(n,o)?i.push(o):(i&&(yield i),i=[o]),n=o;i&&(yield i)}function wp(e,t){for(let i=0;i<=e.length;i++)t(0===i?void 0:e[i-1],i===e.length?void 0:e[i])}function yp(e){return e.filter((e=>!!e))}function Cp(e){let t=0;for(let i=0;i<e.length;i++)e[i]&&(e[t]=e[i],t+=1);e.length=t}function Sp(e){return Array.isArray(e)&&e.length>0}function kp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;const i=new Set;return e.filter((e=>{const n=t(e);return!i.has(n)&&(i.add(n),!0)}))}function Lp(e,t){return e.length>0?e[0]:t}function xp(e,t){let i="number"===typeof t?e:0;"number"===typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let o=i;o<t;o++)n.push(o);else for(let o=i;o>t;o--)n.push(o);return n}function Dp(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function Ep(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function Np(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function Tp(e,t){for(const i of t)e.push(i)}function Ip(e,t,i,n){const o=Ap(e,t);let s=e.splice(o,i);return void 0===s&&(s=[]),function(e,t,i){const n=Ap(e,t),o=e.length,s=i.length;e.length=o+s;for(let r=o-1;r>=n;r--)e[r+s]=e[r];for(let r=0;r<s;r++)e[r+n]=i[r]}(e,o,n),s}function Ap(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}var Mp;function Op(e,t){return(i,n)=>t(e(i),e(n))}!function(e){e.isLessThan=function(e){return e<0},e.isLessThanOrEqual=function(e){return e<=0},e.isGreaterThan=function(e){return e>0},e.isNeitherLessOrGreaterThan=function(e){return 0===e},e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0}(Mp||(Mp={}));const Rp=(e,t)=>e-t,Pp=(e,t)=>Rp(e?1:0,t?1:0);function Fp(e){return(t,i)=>-e(t,i)}class Bp{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class Vp{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate((t=>(e.push(t),!0))),e}filter(e){return new Vp((t=>this.iterate((i=>!e(i)||t(i)))))}map(e){return new Vp((t=>this.iterate((i=>t(e(i))))))}findLast(e){let t;return this.iterate((i=>(e(i)&&(t=i),!0))),t}findLastMaxBy(e){let t,i=!0;return this.iterate((n=>((i||Mp.isGreaterThan(e(n,t)))&&(i=!1,t=n),!0))),t}}function Wp(e){return"string"===typeof e}function zp(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function Hp(e){const t=Object.getPrototypeOf(Uint8Array);return"object"===typeof e&&e instanceof t}function jp(e){return"number"===typeof e&&!isNaN(e)}function Up(e){return!!e&&"function"===typeof e[Symbol.iterator]}function Kp(e){return!0===e||!1===e}function qp(e){return"undefined"===typeof e}function Gp(e){return!Yp(e)}function Yp(e){return qp(e)||null===e}function Zp(e,t){if(!e)throw new Error(t?"Unexpected type, expected '".concat(t,"'"):"Unexpected type")}function Qp(e){if(Yp(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function Xp(e){return"function"===typeof e}function Jp(e,t){if(Wp(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof ".concat(t))}else if(Xp(t)){try{if(e instanceof t)return}catch(cf){}if(!Yp(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function $p(e){if(!e||"object"!==typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.entries(e).forEach((e=>{let[i,n]=e;t[i]=n&&"object"===typeof n?$p(n):n})),t}Vp.empty=new Vp((e=>{}));const ef=Object.prototype.hasOwnProperty;function tf(e,t){return nf(e,t,new Set)}function nf(e,t,i){if(Yp(e))return e;const n=t(e);if("undefined"!==typeof n)return n;if(Array.isArray(e)){const n=[];for(const o of e)n.push(nf(o,t,i));return n}if(zp(e)){if(i.has(e))throw new Error("Cannot clone recursive data-structure");i.add(e);const n={};for(const o in e)ef.call(e,o)&&(n[o]=nf(e[o],t,i));return i.delete(e),n}return e}function of(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!==typeof t)return!1;if("object"!==typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!of(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const s=[];for(n in t)s.push(n);if(s.sort(),!of(o,s))return!1;for(i=0;i<o.length;i++)if(!of(e[o[i]],t[o[i]]))return!1}return!0}function sf(e){const t=[];for(const i of function(e){let t=[];for(;Object.prototype!==e;)t=t.concat(Object.getOwnPropertyNames(e)),e=Object.getPrototypeOf(e);return t}(e))"function"===typeof e[i]&&t.push(i);return t}let rf="undefined"!==typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function af(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,i)=>{const n=i[0],o=t[n];let s=e;return"string"===typeof o?s=o:"number"!==typeof o&&"boolean"!==typeof o&&void 0!==o&&null!==o||(s=String(o)),s})),rf&&(i="\uff3b"+i.replace(/[aouei]/g,"$&$&")+"\uff3d"),i}function lf(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return af(t,n)}var cf;const df="en";let hf,uf,gf=!1,pf=!1,ff=!1,mf=!1,vf=!1,bf=!1,_f=!1,wf=!1,yf=!1,Cf=!1,Sf=null,kf=null,Lf=null;const xf=globalThis;let Df;"undefined"!==typeof xf.vscode&&"undefined"!==typeof xf.vscode.process?Df=xf.vscode.process:"undefined"!==typeof process&&(Df=process);const Ef="string"===typeof(null===(cf=null===Df||void 0===Df?void 0:Df.versions)||void 0===cf?void 0:cf.electron),Nf=Ef&&"renderer"===(null===Df||void 0===Df?void 0:Df.type);if("object"!==typeof navigator||Nf)if("object"===typeof Df){gf="win32"===Df.platform,pf="darwin"===Df.platform,ff="linux"===Df.platform,mf=ff&&!!Df.env.SNAP&&!!Df.env.SNAP_REVISION,_f=Ef,yf=!!Df.env.CI||!!Df.env.BUILD_ARTIFACTSTAGINGDIRECTORY,hf=df,Sf=df;const e=Df.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];hf=t.locale,kf=t.osLocale,Sf=i||df,Lf=t._translationsConfigFile}catch(Pee){}vf=!0}else console.error("Unable to resolve platform.");else{uf=navigator.userAgent,gf=uf.indexOf("Windows")>=0,pf=uf.indexOf("Macintosh")>=0,wf=(uf.indexOf("Macintosh")>=0||uf.indexOf("iPad")>=0||uf.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ff=uf.indexOf("Linux")>=0,Cf=(null===uf||void 0===uf?void 0:uf.indexOf("Mobi"))>=0,bf=!0;hf=void lf({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_")||df,Sf=hf,kf=navigator.language}let Tf=0;pf?Tf=1:gf?Tf=3:ff&&(Tf=2);const If=gf,Af=pf,Mf=ff,Of=vf,Rf=bf,Pf=bf&&"function"===typeof xf.importScripts?xf.origin:void 0,Ff=wf,Bf=Cf,Vf=uf,Wf="function"===typeof xf.postMessage&&!xf.importScripts,zf=(()=>{if(Wf){const e=[];xf.addEventListener("message",(t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeScheduleAsyncWork)return e.splice(i,1),void n.callback()}}));let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),xf.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})(),Hf=pf||wf?2:gf?1:3;let jf=!0,Uf=!1;const Kf=!!(Vf&&Vf.indexOf("Chrome")>=0),qf=!!(Vf&&Vf.indexOf("Firefox")>=0),Gf=!!(!Kf&&Vf&&Vf.indexOf("Safari")>=0),Yf=!!(Vf&&Vf.indexOf("Edg/")>=0),Zf=(Vf&&Vf.indexOf("Android"),{tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}});var Qf;!function(e){function t(e){return e&&"object"===typeof e&&"function"===typeof e[Symbol.iterator]}e.is=t;const i=Object.freeze([]);function*n(e){yield e}e.empty=function(){return i},e.single=n,e.wrap=function(e){return t(e)?e:n(e)},e.from=function(e){return e||i},e.reverse=function*(e){for(let t=e.length-1;t>=0;t--)yield e[t]},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)yield*n},e.reduce=function(e,t,i){let n=i;for(const o of e)n=t(n,o);return n},e.slice=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return function*(){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]}()},e.consume=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let s=0;s<i;s++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]}}(Qf||(Qf={}));class Xf{constructor(e){this.element=e,this.next=Xf.Undefined,this.prev=Xf.Undefined}}Xf.Undefined=new Xf(void 0);class Jf{constructor(){this._first=Xf.Undefined,this._last=Xf.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Xf.Undefined}clear(){let e=this._first;for(;e!==Xf.Undefined;){const t=e.next;e.prev=Xf.Undefined,e.next=Xf.Undefined,e=t}this._first=Xf.Undefined,this._last=Xf.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Xf(e);if(this._first===Xf.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==Xf.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Xf.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Xf.Undefined&&e.next!==Xf.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Xf.Undefined&&e.next===Xf.Undefined?(this._first=Xf.Undefined,this._last=Xf.Undefined):e.next===Xf.Undefined?(this._last=this._last.prev,this._last.next=Xf.Undefined):e.prev===Xf.Undefined&&(this._first=this._first.next,this._first.prev=Xf.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Xf.Undefined;)yield e.element,e=e.next}}const $f="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const em=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="(-?\\d*\\.\\d\\w*)|([^";for(const i of $f)e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function tm(e){let t=em;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const im=new Jf;function nm(e,t,i,n,o){if(t=tm(t),o||(o=Qf.first(im)),i.length>o.maxLen){let s=e-o.maxLen/2;return s<0?s=0:n+=s,nm(e,t,i=i.substring(s,e+o.maxLen/2),n,o)}const s=Date.now(),r=e-1-n;let a=-1,l=null;for(let c=1;!(Date.now()-s>=o.timeBudget);c++){const e=r-o.windowSize*c;t.lastIndex=Math.max(0,e);const n=om(t,i,r,a);if(!n&&l)break;if(l=n,e<=0)break;a=e}if(l){const e={word:l[0],startColumn:n+1+l.index,endColumn:n+1+l.index+l[0].length};return t.lastIndex=0,e}return null}function om(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}im.unshift({maxLen:1e3,windowSize:15,timeBudget:150});class sm{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class rm{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class am{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return cm(e,t)}compute(e,t,i){return i}}class lm{constructor(e,t){this.newValue=e,this.didChange=t}}function cm(e,t){if("object"!==typeof e||"object"!==typeof t||!e||!t)return new lm(t,e!==t);if(Array.isArray(e)||Array.isArray(t)){const i=Array.isArray(e)&&Array.isArray(t)&&bp(e,t);return new lm(t,!i)}let i=!1;for(const n in t)if(t.hasOwnProperty(n)){const o=cm(e[n],t[n]);o.didChange&&(e[n]=o.newValue,i=!0)}return new lm(e,i)}class dm{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return cm(e,t)}validate(e){return this.defaultValue}}class hm{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return cm(e,t)}validate(e){return"undefined"===typeof e?this.defaultValue:e}compute(e,t,i){return i}}function um(e,t){return"undefined"===typeof e?t:"false"!==e&&Boolean(e)}class gm extends hm{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;"undefined"!==typeof n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return um(e,this.defaultValue)}}function pm(e,t,i,n){if("undefined"===typeof e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}class fm extends hm{static clampedInt(e,t,i,n){return pm(e,t,i,n)}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;"undefined"!==typeof s&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o),super(e,t,i,s),this.minimum=n,this.maximum=o}validate(e){return fm.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function mm(e,t,i,n){if("undefined"===typeof e)return t;const o=vm.float(e,t);return vm.clamp(o,i,n)}class vm extends hm{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"===typeof e)return e;if("undefined"===typeof e)return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,n,o){"undefined"!==typeof o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}validate(e){return this.validationFn(vm.float(e,this.defaultValue))}}class bm extends hm{static string(e,t){return"string"!==typeof e?t:e}constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;"undefined"!==typeof n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return bm.string(e,this.defaultValue)}}function _m(e,t,i,n){return"string"!==typeof e?t:n&&e in n?n[e]:-1===i.indexOf(e)?t:e}class wm extends hm{constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;"undefined"!==typeof o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return _m(e,this.defaultValue,this._allowedValues)}}class ym extends am{constructor(e,t,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;"undefined"!==typeof r&&(r.type="string",r.enum=o,r.default=n),super(e,t,i,r),this._allowedValues=o,this._convert=s}validate(e){return"string"!==typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var Cm,Sm;!function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(Cm||(Cm={}));class km extends am{constructor(){super(51,"fontLigatures",km.OFF,{anyOf:[{type:"boolean",description:lf("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:lf("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:lf("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return"undefined"===typeof e?this.defaultValue:"string"===typeof e?"false"===e?km.OFF:"true"===e?km.ON:e:Boolean(e)?km.ON:km.OFF}}km.OFF='"liga" off, "calt" off',km.ON='"liga" on, "calt" on';class Lm extends am{constructor(){super(54,"fontVariations",Lm.OFF,{anyOf:[{type:"boolean",description:lf("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:lf("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:lf("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return"undefined"===typeof e?this.defaultValue:"string"===typeof e?"false"===e?Lm.OFF:"true"===e?Lm.TRANSLATE:e:Boolean(e)?Lm.TRANSLATE:Lm.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}}Lm.OFF="normal",Lm.TRANSLATE="translate";class xm extends am{constructor(){super(53,"fontWeight",Vm.fontWeight,{anyOf:[{type:"number",minimum:xm.MINIMUM_VALUE,maximum:xm.MAXIMUM_VALUE,errorMessage:lf("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:xm.SUGGESTION_VALUES}],default:Vm.fontWeight,description:lf("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(fm.clampedInt(e,Vm.fontWeight,xm.MINIMUM_VALUE,xm.MAXIMUM_VALUE))}}xm.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],xm.MINIMUM_VALUE=1,xm.MAXIMUM_VALUE=1e3;class Dm extends dm{constructor(){super(143)}compute(e,t,i){return Dm.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let n=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(n=Math.max(n,t-1));const o=(i+e.viewLineCount+n)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:n,desiredRatio:o,minimapLineCount:Math.floor(e.viewLineCount/o)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const s=t.stableMinimapLayoutInput,r=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.paddingTop===s.paddingTop&&e.paddingBottom===s.paddingBottom&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const u=e.minimap.maxColumn,g=e.minimap.size,p=e.minimap.side,f=e.verticalScrollbarWidth,m=e.viewLineCount,v=e.remainingWidth,b=e.isViewportWrapping,_=d?2:3;let w=Math.floor(o*n);const y=w/o;let C=!1,S=!1,k=_*h,L=h/o,x=1;if("fill"===g||"fit"===g){const{typicalViewportLineCount:i,extraLinesBeforeFirstLine:s,extraLinesBeyondLastLine:l,desiredRatio:d,minimapLineCount:u}=Dm.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:c,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:n,lineHeight:a,pixelRatio:o});if(m/u>1)C=!0,S=!0,h=1,k=1,L=h/o;else{let n=!1,c=h+1;if("fit"===g){const e=Math.ceil((s+m+l)*k);b&&r&&v<=t.stableFitRemainingWidth?(n=!0,c=t.stableFitMaxMinimapScale):n=e>w}if("fill"===g||n){C=!0;const n=h;k=Math.min(a*o,Math.max(1,Math.floor(1/d))),b&&r&&v<=t.stableFitRemainingWidth&&(c=t.stableFitMaxMinimapScale),h=Math.min(c,Math.max(1,Math.floor(k/_))),h>n&&(x=Math.min(2,h/n)),L=h/o/x,w=Math.ceil(Math.max(i,s+m+l)*k),b?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=v,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const D=Math.floor(u*L),E=Math.min(D,Math.max(0,Math.floor((v-f-2)*L/(l+L)))+8);let N=Math.floor(o*E);const T=N/o;N=Math.floor(N*x);return{renderMinimap:d?1:2,minimapLeft:"left"===p?0:i-E-f,minimapWidth:E,minimapHeightIsEditorHeight:C,minimapIsSampling:S,minimapScale:h,minimapLineHeight:k,minimapCanvasInnerWidth:N,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:T,minimapCanvasOuterHeight:y}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,s=0|t.lineNumbersDigitCount,r=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,c=t.viewLineCount,d=e.get(135),h="inherit"===d?e.get(134):d,u="inherit"===h?e.get(130):h,g=e.get(133),p=t.isDominatedByLongLines,f=e.get(57),m=0!==e.get(67).renderType,v=e.get(68),b=e.get(104),_=e.get(83),w=e.get(72),y=e.get(102),C=y.verticalScrollbarSize,S=y.verticalHasArrows,k=y.arrowSize,L=y.horizontalScrollbarSize,x=e.get(43),D="never"!==e.get(109);let E=e.get(65);x&&D&&(E+=16);let N=0;if(m){const e=Math.max(s,v);N=Math.round(e*a)}let T=0;f&&(T=o*t.glyphMarginDecorationLaneCount);let I=0,A=I+T,M=A+N,O=M+E;const R=i-T-N-E;let P=!1,F=!1,B=-1;"inherit"===h&&p?(P=!0,F=!0):"on"===u||"bounded"===u?F=!0:"wordWrapColumn"===u&&(B=g);const V=Dm._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:r,pixelRatio:l,scrollBeyondLastLine:b,paddingTop:_.top,paddingBottom:_.bottom,minimap:w,verticalScrollbarWidth:C,viewLineCount:c,remainingWidth:R,isViewportWrapping:F},t.memory||new rm);0!==V.renderMinimap&&0===V.minimapLeft&&(I+=V.minimapWidth,A+=V.minimapWidth,M+=V.minimapWidth,O+=V.minimapWidth);const W=R-V.minimapWidth,z=Math.max(1,Math.floor((W-C-2)/r)),H=S?k:0;return F&&(B=Math.max(1,z),"bounded"===u&&(B=Math.min(B,g))),{width:i,height:n,glyphMarginLeft:I,glyphMarginWidth:T,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:A,lineNumbersWidth:N,decorationsLeft:M,decorationsWidth:E,contentLeft:O,contentWidth:W,minimap:V,viewportColumn:z,isWordWrapMinified:P,isViewportWrapping:F,wrappingColumn:B,verticalScrollbarWidth:C,horizontalScrollbarHeight:L,overviewRuler:{top:H,width:C,height:n-2*H,right:0}}}}!function(e){e.Off="off",e.OnCode="onCode",e.On="on"}(Sm||(Sm={}));function Em(e){const t=e.get(97);return"editable"===t?e.get(90):"on"!==t}function Nm(e,t){if("string"!==typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const Tm="inUntrustedWorkspace",Im="editor.unicodeHighlight.allowedCharacters",Am="editor.unicodeHighlight.invisibleCharacters",Mm="editor.unicodeHighlight.nonBasicASCII",Om="editor.unicodeHighlight.ambiguousCharacters",Rm="editor.unicodeHighlight.includeComments",Pm="editor.unicodeHighlight.includeStrings",Fm="editor.unicodeHighlight.allowedLocales";function Bm(e,t,i){const n=i.indexOf(e);return-1===n?t:i[n]}const Vm={fontFamily:Af?"Menlo, Monaco, 'Courier New', monospace":Mf?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:Af?12:14,lineHeight:0,letterSpacing:0},Wm=[];function zm(e){return Wm[e.id]=e,e}const Hm={acceptSuggestionOnCommitCharacter:zm(new gm(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:lf("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:zm(new wm(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",lf("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:lf("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:zm(new class extends am{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[lf("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),lf("accessibilitySupport.on","Optimize for usage with a Screen Reader."),lf("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:lf("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:zm(new fm(3,"accessibilityPageSize",10,1,1073741824,{description:lf("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:zm(new bm(4,"ariaLabel",lf("editorViewAccessibleLabel","Editor content"))),ariaRequired:zm(new gm(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:zm(new gm(8,"screenReaderAnnounceInlineSuggestion",!0,{description:lf("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:zm(new wm(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",lf("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),lf("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:lf("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:zm(new wm(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",lf("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),lf("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:lf("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:zm(new wm(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",lf("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:lf("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:zm(new wm(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",lf("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:lf("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:zm(new wm(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",lf("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),lf("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:lf("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:zm(new ym(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[lf("editor.autoIndent.none","The editor will not insert indentation automatically."),lf("editor.autoIndent.keep","The editor will keep the current line's indentation."),lf("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),lf("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),lf("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:lf("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:zm(new gm(13,"automaticLayout",!1)),autoSurround:zm(new wm(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[lf("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),lf("editor.autoSurround.quotes","Surround with quotes but not brackets."),lf("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:lf("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:zm(new class extends am{constructor(){const e={enabled:Zf.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Zf.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:lf("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:lf("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:um(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:zm(new class extends am{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[lf("editor.guides.bracketPairs.true","Enables bracket pair guides."),lf("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),lf("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:lf("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[lf("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),lf("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),lf("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:lf("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:lf("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:lf("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[lf("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),lf("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),lf("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:lf("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{bracketPairs:Bm(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Bm(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:um(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:um(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Bm(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:zm(new gm(115,"stickyTabStops",!1,{description:lf("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:zm(new gm(17,"codeLens",!0,{description:lf("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:zm(new bm(18,"codeLensFontFamily","",{description:lf("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:zm(new fm(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:lf("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:zm(new gm(20,"colorDecorators",!0,{description:lf("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:zm(new wm(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[lf("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),lf("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),lf("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:lf("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:zm(new fm(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:lf("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:zm(new gm(22,"columnSelection",!1,{description:lf("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:zm(new class extends am{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:lf("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:lf("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{insertSpace:um(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:um(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:zm(new gm(24,"contextmenu",!0)),copyWithSyntaxHighlighting:zm(new gm(25,"copyWithSyntaxHighlighting",!0,{description:lf("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:zm(new ym(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:lf("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:zm(new wm(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[lf("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),lf("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),lf("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:lf("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:zm(new ym(28,"cursorStyle",Cm.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return Cm.Line;case"block":return Cm.Block;case"underline":return Cm.Underline;case"line-thin":return Cm.LineThin;case"block-outline":return Cm.BlockOutline;case"underline-thin":return Cm.UnderlineThin}}),{description:lf("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:zm(new fm(29,"cursorSurroundingLines",0,0,1073741824,{description:lf("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:zm(new wm(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[lf("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),lf("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:lf("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:zm(new fm(31,"cursorWidth",0,0,1073741824,{markdownDescription:lf("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:zm(new gm(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:zm(new gm(33,"disableMonospaceOptimizations",!1)),domReadOnly:zm(new gm(34,"domReadOnly",!1)),dragAndDrop:zm(new gm(35,"dragAndDrop",!0,{description:lf("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:zm(new class extends gm{constructor(){super(37,"emptySelectionClipboard",!0,{description:lf("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),dropIntoEditor:zm(new class extends am{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:lf("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `Shift`-key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:lf("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[lf("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),lf("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),showDropSelector:_m(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}),stickyScroll:zm(new class extends am{constructor(){const e={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:lf("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:10,description:lf("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:lf("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:lf("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),maxLineCount:fm.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:_m(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:um(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}),experimentalWhitespaceRendering:zm(new wm(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[lf("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),lf("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),lf("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:lf("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:zm(new bm(39,"extraEditorClassName","")),fastScrollSensitivity:zm(new vm(40,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:lf("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:zm(new class extends am{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:lf("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[lf("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),lf("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),lf("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:lf("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[lf("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),lf("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),lf("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:lf("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:lf("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Af},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:lf("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:lf("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:um(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"===typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":_m(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"===typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":_m(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:um(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:um(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:um(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:zm(new gm(42,"fixedOverflowWidgets",!1)),folding:zm(new gm(43,"folding",!0,{description:lf("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:zm(new wm(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[lf("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),lf("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:lf("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:zm(new gm(45,"foldingHighlight",!0,{description:lf("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:zm(new gm(46,"foldingImportsByDefault",!1,{description:lf("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:zm(new fm(47,"foldingMaximumRegions",5e3,10,65e3,{description:lf("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:zm(new gm(48,"unfoldOnClickAfterEndOfLine",!1,{description:lf("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:zm(new bm(49,"fontFamily",Vm.fontFamily,{description:lf("fontFamily","Controls the font family.")})),fontInfo:zm(new class extends dm{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:zm(new km),fontSize:zm(new class extends hm{constructor(){super(52,"fontSize",Vm.fontSize,{type:"number",minimum:6,maximum:100,default:Vm.fontSize,description:lf("fontSize","Controls the font size in pixels.")})}validate(e){const t=vm.float(e,this.defaultValue);return 0===t?Vm.fontSize:vm.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:zm(new xm),fontVariations:zm(new Lm),formatOnPaste:zm(new gm(55,"formatOnPaste",!1,{description:lf("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:zm(new gm(56,"formatOnType",!1,{description:lf("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:zm(new gm(57,"glyphMargin",!0,{description:lf("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:zm(new class extends am{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[lf("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),lf("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),lf("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:lf("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:lf("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:lf("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:lf("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:lf("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:lf("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:lf("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:lf("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:lf("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:lf("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:lf("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||"object"!==typeof e)return this.defaultValue;const r=e;return{multiple:_m(r.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=r.multipleDefinitions)&&void 0!==t?t:_m(r.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=r.multipleTypeDefinitions)&&void 0!==i?i:_m(r.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=r.multipleDeclarations)&&void 0!==n?n:_m(r.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=r.multipleImplementations)&&void 0!==o?o:_m(r.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(s=r.multipleReferences)&&void 0!==s?s:_m(r.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:bm.string(r.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:bm.string(r.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:bm.string(r.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:bm.string(r.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:bm.string(r.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:zm(new gm(59,"hideCursorInOverviewRuler",!1,{description:lf("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:zm(new class extends am{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:lf("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:lf("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:lf("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:lf("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:lf("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),delay:fm.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:um(t.sticky,this.defaultValue.sticky),hidingDelay:fm.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:um(t.above,this.defaultValue.above)}}}),inDiffEditor:zm(new gm(61,"inDiffEditor",!1)),letterSpacing:zm(new vm(63,"letterSpacing",Vm.letterSpacing,(e=>vm.clamp(e,-5,20)),{description:lf("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:zm(new class extends am{constructor(){const e={enabled:!0,experimental:{showAiIcon:Sm.Off}};super(64,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:lf("codeActions","Enables the Code Action lightbulb in the editor.")},"editor.lightbulb.experimental.showAiIcon":{type:"string",enum:[Sm.Off,Sm.OnCode,Sm.On],default:e.experimental.showAiIcon,enumDescriptions:[lf("editor.lightbulb.showAiIcon.off","Don not show the AI icon."),lf("editor.lightbulb.showAiIcon.onCode","Show an AI icon when the code action menu contains an AI action, but only on code."),lf("editor.lightbulb.showAiIcon.on","Show an AI icon when the code action menu contains an AI action, on code and empty lines.")],description:lf("showAiIcons","Show an AI icon along with the lightbulb when the code action menu contains an AI action.")}})}validate(e){var t,i;if(!e||"object"!==typeof e)return this.defaultValue;const n=e;return{enabled:um(n.enabled,this.defaultValue.enabled),experimental:{showAiIcon:_m(null===(t=n.experimental)||void 0===t?void 0:t.showAiIcon,null===(i=this.defaultValue.experimental)||void 0===i?void 0:i.showAiIcon,[Sm.Off,Sm.OnCode,Sm.On])}}}}),lineDecorationsWidth:zm(new class extends am{constructor(){super(65,"lineDecorationsWidth",10)}validate(e){if("string"===typeof e&&/^\d+(\.\d+)?ch$/.test(e)){return-parseFloat(e.substring(0,e.length-2))}return fm.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?fm.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}),lineHeight:zm(new class extends vm{constructor(){super(66,"lineHeight",Vm.lineHeight,(e=>vm.clamp(e,0,150)),{markdownDescription:lf("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:zm(new class extends am{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[lf("lineNumbers.off","Line numbers are not rendered."),lf("lineNumbers.on","Line numbers are rendered as absolute number."),lf("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),lf("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:lf("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return"undefined"!==typeof e&&("function"===typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:zm(new fm(68,"lineNumbersMinChars",5,1,300)),linkedEditing:zm(new gm(69,"linkedEditing",!1,{description:lf("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:zm(new gm(70,"links",!0,{description:lf("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:zm(new wm(71,"matchBrackets","always",["always","near","never"],{description:lf("matchBrackets","Highlight matching brackets.")})),minimap:zm(new class extends am{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:lf("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:lf("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[lf("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),lf("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),lf("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:lf("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:lf("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:lf("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:lf("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:lf("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:lf("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),autohide:um(t.autohide,this.defaultValue.autohide),size:_m(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:_m(t.side,this.defaultValue.side,["right","left"]),showSlider:_m(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:um(t.renderCharacters,this.defaultValue.renderCharacters),scale:fm.clampedInt(t.scale,1,1,3),maxColumn:fm.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:zm(new wm(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:zm(new vm(74,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:lf("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:zm(new gm(75,"mouseWheelZoom",!1,{markdownDescription:lf("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:zm(new gm(76,"multiCursorMergeOverlapping",!0,{description:lf("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:zm(new ym(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?Af?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[lf("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),lf("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:lf({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:zm(new wm(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[lf("multiCursorPaste.spread","Each cursor pastes a single line of the text."),lf("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:lf("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:zm(new fm(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:lf("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:zm(new wm(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[lf("occurrencesHighlight.off","Does not highlight occurrences."),lf("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),lf("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:lf("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:zm(new gm(81,"overviewRulerBorder",!0,{description:lf("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:zm(new fm(82,"overviewRulerLanes",3,0,3)),padding:zm(new class extends am{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:lf("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:lf("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{top:fm.clampedInt(t.top,0,0,1e3),bottom:fm.clampedInt(t.bottom,0,0,1e3)}}}),pasteAs:zm(new class extends am{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:lf("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:lf("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[lf("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),lf("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),showPasteSelector:_m(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}),parameterHints:zm(new class extends am{constructor(){const e={enabled:!0,cycle:!0};super(85,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:lf("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:lf("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),cycle:um(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:zm(new wm(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[lf("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),lf("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:lf("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:zm(new gm(87,"definitionLinkOpensInPeek",!1,{description:lf("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:zm(new class extends am{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[lf("on","Quick suggestions show inside the suggest widget"),lf("inline","Quick suggestions show as ghost text"),lf("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:lf("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:lf("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:lf("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:lf("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if("boolean"===typeof e){const t=e?"on":"off";return{comments:t,strings:t,other:t}}if(!e||"object"!==typeof e)return this.defaultValue;const{other:t,comments:i,strings:n}=e,o=["on","inline","off"];let s,r,a;return s="boolean"===typeof t?t?"on":"off":_m(t,this.defaultValue.other,o),r="boolean"===typeof i?i?"on":"off":_m(i,this.defaultValue.comments,o),a="boolean"===typeof n?n?"on":"off":_m(n,this.defaultValue.strings,o),{other:s,comments:r,strings:a}}}),quickSuggestionsDelay:zm(new fm(89,"quickSuggestionsDelay",10,0,1073741824,{description:lf("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:zm(new gm(90,"readOnly",!1)),readOnlyMessage:zm(new class extends am{constructor(){super(91,"readOnlyMessage",undefined)}validate(e){return e&&"object"===typeof e?e:this.defaultValue}}),renameOnType:zm(new gm(92,"renameOnType",!1,{description:lf("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:lf("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:zm(new gm(93,"renderControlCharacters",!0,{description:lf("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:zm(new wm(94,"renderFinalNewline",Mf?"dimmed":"on",["off","on","dimmed"],{description:lf("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:zm(new wm(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",lf("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:lf("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:zm(new gm(96,"renderLineHighlightOnlyWhenFocus",!1,{description:lf("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:zm(new wm(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:zm(new wm(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",lf("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),lf("renderWhitespace.selection","Render whitespace characters only on selected text."),lf("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:lf("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:zm(new fm(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:zm(new gm(100,"roundedSelection",!0,{description:lf("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:zm(new class extends am{constructor(){const e=[],t={type:"number",description:lf("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:lf("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:lf("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if("number"===typeof i)t.push({column:fm.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"===typeof i){const e=i;t.push({column:fm.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:zm(new class extends am{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[lf("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),lf("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),lf("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:lf("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[lf("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),lf("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),lf("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:lf("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:lf("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:lf("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:lf("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:lf("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e,i=fm.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=fm.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:fm.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Nm(t.vertical,this.defaultValue.vertical),horizontal:Nm(t.horizontal,this.defaultValue.horizontal),useShadows:um(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:um(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:um(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:um(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:um(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:fm.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:fm.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:um(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:um(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}),scrollBeyondLastColumn:zm(new fm(103,"scrollBeyondLastColumn",4,0,1073741824,{description:lf("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:zm(new gm(104,"scrollBeyondLastLine",!0,{description:lf("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:zm(new gm(105,"scrollPredominantAxis",!0,{description:lf("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:zm(new gm(106,"selectionClipboard",!0,{description:lf("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Mf})),selectionHighlight:zm(new gm(107,"selectionHighlight",!0,{description:lf("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:zm(new gm(108,"selectOnLineNumbers",!0)),showFoldingControls:zm(new wm(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[lf("showFoldingControls.always","Always show the folding controls."),lf("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),lf("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:lf("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:zm(new gm(110,"showUnused",!0,{description:lf("showUnused","Controls fading out of unused code.")})),showDeprecated:zm(new gm(138,"showDeprecated",!0,{description:lf("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:zm(new class extends am{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:lf("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[lf("editor.inlayHints.on","Inlay hints are enabled"),lf("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",Af?"Ctrl+Option":"Ctrl+Alt"),lf("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",Af?"Ctrl+Option":"Ctrl+Alt"),lf("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:lf("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:lf("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:lf("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return"boolean"===typeof t.enabled&&(t.enabled=t.enabled?"on":"off"),{enabled:_m(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:fm.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:bm.string(t.fontFamily,this.defaultValue.fontFamily),padding:um(t.padding,this.defaultValue.padding)}}}),snippetSuggestions:zm(new wm(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[lf("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),lf("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),lf("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),lf("snippetSuggestions.none","Do not show snippet suggestions.")],description:lf("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:zm(new class extends am{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:lf("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:lf("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"===typeof e?{selectLeadingAndTrailingWhitespace:um(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:um(e.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue}}),smoothScrolling:zm(new gm(113,"smoothScrolling",!1,{description:lf("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:zm(new fm(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:zm(new class extends am{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[lf("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),lf("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:lf("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:lf("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:lf("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:lf("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[lf("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),lf("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),lf("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),lf("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:lf("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:lf("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:lf("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:lf("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:lf("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:lf("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:lf("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:lf("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:lf("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{insertMode:_m(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:um(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:um(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:um(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:um(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:_m(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:um(t.showIcons,this.defaultValue.showIcons),showStatusBar:um(t.showStatusBar,this.defaultValue.showStatusBar),preview:um(t.preview,this.defaultValue.preview),previewMode:_m(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:um(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:um(t.showMethods,this.defaultValue.showMethods),showFunctions:um(t.showFunctions,this.defaultValue.showFunctions),showConstructors:um(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:um(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:um(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:um(t.showFields,this.defaultValue.showFields),showVariables:um(t.showVariables,this.defaultValue.showVariables),showClasses:um(t.showClasses,this.defaultValue.showClasses),showStructs:um(t.showStructs,this.defaultValue.showStructs),showInterfaces:um(t.showInterfaces,this.defaultValue.showInterfaces),showModules:um(t.showModules,this.defaultValue.showModules),showProperties:um(t.showProperties,this.defaultValue.showProperties),showEvents:um(t.showEvents,this.defaultValue.showEvents),showOperators:um(t.showOperators,this.defaultValue.showOperators),showUnits:um(t.showUnits,this.defaultValue.showUnits),showValues:um(t.showValues,this.defaultValue.showValues),showConstants:um(t.showConstants,this.defaultValue.showConstants),showEnums:um(t.showEnums,this.defaultValue.showEnums),showEnumMembers:um(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:um(t.showKeywords,this.defaultValue.showKeywords),showWords:um(t.showWords,this.defaultValue.showWords),showColors:um(t.showColors,this.defaultValue.showColors),showFiles:um(t.showFiles,this.defaultValue.showFiles),showReferences:um(t.showReferences,this.defaultValue.showReferences),showFolders:um(t.showFolders,this.defaultValue.showFolders),showTypeParameters:um(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:um(t.showSnippets,this.defaultValue.showSnippets),showUsers:um(t.showUsers,this.defaultValue.showUsers),showIssues:um(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:zm(new class extends am{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:lf("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[lf("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),lf("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),lf("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:lf("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:lf("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{enabled:um(t.enabled,this.defaultValue.enabled),mode:_m(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:_m(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:um(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:um(t.keepOnBlur,this.defaultValue.keepOnBlur)}}}),inlineCompletionsAccessibilityVerbose:zm(new gm(147,"inlineCompletionsAccessibilityVerbose",!1,{description:lf("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:zm(new fm(118,"suggestFontSize",0,0,1e3,{markdownDescription:lf("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:zm(new fm(119,"suggestLineHeight",0,0,1e3,{markdownDescription:lf("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:zm(new gm(120,"suggestOnTriggerCharacters",!0,{description:lf("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:zm(new wm(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[lf("suggestSelection.first","Always select the first suggestion."),lf("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),lf("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:lf("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:zm(new wm(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[lf("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),lf("tabCompletion.off","Disable tab completions."),lf("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:lf("tabCompletion","Enables tab completions.")})),tabIndex:zm(new fm(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:zm(new class extends am{constructor(){const e={nonBasicASCII:Tm,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Tm,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",e,{[Mm]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Tm],default:e.nonBasicASCII,description:lf("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Am]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:lf("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Om]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:lf("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Rm]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Tm],default:e.includeComments,description:lf("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Pm]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Tm],default:e.includeStrings,description:lf("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Im]:{restricted:!0,type:"object",default:e.allowedCharacters,description:lf("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Fm]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:lf("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(of(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(of(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const n=super.applyUpdate(e,t);return i?new lm(n.newValue,!0):n}validate(e){if(!e||"object"!==typeof e)return this.defaultValue;const t=e;return{nonBasicASCII:Bm(t.nonBasicASCII,Tm,[!0,!1,Tm]),invisibleCharacters:um(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:um(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Bm(t.includeComments,Tm,[!0,!1,Tm]),includeStrings:Bm(t.includeStrings,Tm,[!0,!1,Tm]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if("object"!==typeof e||!e)return t;const i={};for(const[n,o]of Object.entries(e))!0===o&&(i[n]=!0);return i}}),unusualLineTerminators:zm(new wm(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[lf("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),lf("unusualLineTerminators.off","Unusual line terminators are ignored."),lf("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:lf("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:zm(new gm(126,"useShadowDOM",!0)),useTabStops:zm(new gm(127,"useTabStops",!0,{description:lf("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:zm(new wm(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[lf("wordBreak.normal","Use the default line break rule."),lf("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:lf("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:zm(new bm(129,"wordSeparators",$f,{description:lf("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:zm(new wm(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[lf("wordWrap.off","Lines will never wrap."),lf("wordWrap.on","Lines will wrap at the viewport width."),lf({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),lf({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:lf({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:zm(new bm(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:zm(new bm(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:zm(new fm(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:lf({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:zm(new wm(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:zm(new wm(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:zm(new class extends dm{constructor(){super(140)}compute(e,t,i){const n=["monaco-editor"];return t.get(39)&&n.push(t.get(39)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(73)?n.push("mouse-default"):"copy"===t.get(73)&&n.push("mouse-copy"),t.get(110)&&n.push("showUnused"),t.get(138)&&n.push("showDeprecated"),n.join(" ")}}),defaultColorDecorators:zm(new gm(145,"defaultColorDecorators",!1,{markdownDescription:lf("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:zm(new class extends dm{constructor(){super(141)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:zm(new gm(142,"tabFocusMode",!1,{markdownDescription:lf("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:zm(new Dm),wrappingInfo:zm(new class extends dm{constructor(){super(144)}compute(e,t,i){const n=t.get(143);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}}),wrappingIndent:zm(new class extends am{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[lf("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),lf("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),lf("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),lf("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:lf("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return 2===t.get(2)?0:i}}),wrappingStrategy:zm(new class extends am{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[lf("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),lf("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:lf("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return _m(e,"simple",["simple","advanced"])}compute(e,t,i){return 2===t.get(2)?"advanced":i}})};const jm=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack){if($m.isErrorNoTelemetry(e))throw new $m(e.message+"\n\n"+e.stack);throw new Error(e.message+"\n\n"+e.stack)}throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function Um(e){Ym(e)||jm.onUnexpectedError(e)}function Km(e){Ym(e)||jm.onUnexpectedExternalError(e)}function qm(e){if(e instanceof Error){const{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack,noTelemetry:$m.isErrorNoTelemetry(e)}}return e}const Gm="Canceled";function Ym(e){return e instanceof Zm||e instanceof Error&&e.name===Gm&&e.message===Gm}class Zm extends Error{constructor(){super(Gm),this.name=this.message}}function Qm(e){return e?new Error("Illegal argument: ".concat(e)):new Error("Illegal argument")}function Xm(e){return e?new Error("Illegal state: ".concat(e)):new Error("Illegal state")}class Jm extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class $m extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof $m)return e;const t=new $m;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return"CodeExpectedError"===e.name}}class ev extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,ev.prototype)}}function tv(e,t){const i=this;let n,o=!1;return function(){if(o)return n;if(o=!0,t)try{n=e.apply(i,arguments)}finally{t()}else n=e.apply(i,arguments);return n}}let iv=null;function nv(e){return null===iv||void 0===iv||iv.trackDisposable(e),e}function ov(e){null===iv||void 0===iv||iv.markAsDisposed(e)}function sv(e,t){null===iv||void 0===iv||iv.setParent(e,t)}function rv(e){return null===iv||void 0===iv||iv.markAsSingleton(e),e}function av(e){if(Qf.is(e)){const t=[];for(const i of e)if(i)try{i.dispose()}catch(Pee){t.push(Pee)}if(1===t.length)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function lv(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=cv((()=>av(t)));return function(e,t){if(iv)for(const i of e)iv.setParent(i,t)}(t,n),n}function cv(e){const t=nv({dispose:tv((()=>{ov(t),e()}))});return t}class dv{constructor(){this._toDispose=new Set,this._isDisposed=!1,nv(this)}dispose(){this._isDisposed||(ov(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{av(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return sv(e,this),this._isDisposed?dv.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),sv(e,null))}}dv.DISABLE_DISPOSED_WARNING=!1;class hv{constructor(){this._store=new dv,nv(this),sv(this._store,this)}dispose(){ov(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}hv.None=Object.freeze({dispose(){}});class uv{constructor(){this._isDisposed=!1,nv(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),e&&sv(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,ov(this),null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}}class gv{constructor(e){this.object=e}dispose(){}}class pv{constructor(){this._store=new Map,this._isDisposed=!1,nv(this)}dispose(){ov(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{av(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||null===(n=this._store.get(e))||void 0===n||n.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;null===(t=this._store.get(e))||void 0===t||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const fv=globalThis.performance&&"function"===typeof globalThis.performance.now;class mv{static create(e){return new mv(e)}constructor(e){this._now=fv&&!1===e?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}var vv;!function(e){function t(e){false}function i(e){return function(t){let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!1;return i=e((e=>{if(!o)return i?i.dispose():o=!0,t.call(n,e)}),null,arguments.length>2?arguments[2]:void 0),o&&i.dispose(),i}}function n(e,t,i){return s((function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e((e=>i.call(n,t(e))),null,arguments.length>2?arguments[2]:void 0)}),i)}function o(e,t,i){return s((function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e((e=>t(e)&&i.call(n,e)),null,arguments.length>2?arguments[2]:void 0)}),i)}function s(e,i){let n;const o={onWillAddFirstListener(){n=e(s.fire,s)},onDidRemoveLastListener(){null===n||void 0===n||n.dispose()}};i||t();const s=new Cv(o);return null===i||void 0===i||i.add(s),s.event}function r(e,i){let n,o,s,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>6?arguments[6]:void 0,h=0;const u={leakWarningThreshold:arguments.length>5?arguments[5]:void 0,onWillAddFirstListener(){n=e((e=>{h++,o=i(o,e),l&&!s&&(g.fire(o),o=void 0),r=()=>{const e=o;o=void 0,s=void 0,(!l||h>1)&&g.fire(e),h=0},"number"===typeof a?(clearTimeout(s),s=setTimeout(r,a)):void 0===s&&(s=0,queueMicrotask(r))}))},onWillRemoveListener(){c&&h>0&&(null===r||void 0===r||r())},onDidRemoveLastListener(){r=void 0,n.dispose()}};d||t();const g=new Cv(u);return null===d||void 0===d||d.add(g),g.event}e.None=()=>hv.None,e.defer=function(e,t){return r(e,(()=>{}),0,void 0,!0,void 0,t)},e.once=i,e.map=n,e.forEach=function(e,t,i){return s((function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e((e=>{t(e),i.call(n,e)}),null,arguments.length>2?arguments[2]:void 0)}),i)},e.filter=o,e.signal=function(e){return e},e.any=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return function(e,t){t instanceof Array?t.push(e):t&&t.add(e);return e}(lv(...t.map((t=>t((t=>e.call(i,t)))))),n)}},e.reduce=function(e,t,i,o){let s=i;return n(e,(e=>(s=t(s,e),s)),o)},e.debounce=r,e.accumulate=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return e.debounce(t,((e,t)=>e?(e.push(t),e):[t]),i,void 0,!0,void 0,n)},e.latch=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e===t,n=!0;return o(e,(e=>{const o=n||!i(e,t);return n=!1,t=e,o}),arguments.length>2?arguments[2]:void 0)},e.split=function(t,i,n){return[e.filter(t,i,n),e.filter(t,(e=>!i(e)),n)]},e.buffer=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>3?arguments[3]:void 0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).slice(),o=e((e=>{n?n.push(e):r.fire(e)}));i&&i.add(o);const s=()=>{null===n||void 0===n||n.forEach((e=>r.fire(e))),n=null},r=new Cv({onWillAddFirstListener(){o||(o=e((e=>r.fire(e))),i&&i.add(o))},onDidAddFirstListener(){n&&(t?setTimeout(s):s())},onDidRemoveLastListener(){o&&o.dispose(),o=null}});return i&&i.add(r),r.event},e.chain=function(e,t){return(i,n,o)=>{const s=t(new l);return e((function(e){const t=s.evaluate(e);t!==a&&i.call(n,t)}),void 0,o)}};const a=Symbol("HaltChainable");class l{constructor(){this.steps=[]}map(e){return this.steps.push(e),this}forEach(e){return this.steps.push((t=>(e(t),t))),this}filter(e){return this.steps.push((t=>e(t)?t:a)),this}reduce(e,t){let i=t;return this.steps.push((t=>(i=e(i,t),i))),this}latch(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>e===t,i=!0;return this.steps.push((n=>{const o=i||!t(n,e);return i=!1,e=n,o?n:a})),this}evaluate(e){for(const t of this.steps)if((e=t(e))===a)break;return e}}e.fromNodeEventEmitter=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;const n=function(){return o.fire(i(...arguments))},o=new Cv({onWillAddFirstListener:()=>e.on(t,n),onDidRemoveLastListener:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;const n=function(){return o.fire(i(...arguments))},o=new Cv({onWillAddFirstListener:()=>e.addEventListener(t,n),onDidRemoveLastListener:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise((t=>i(e)(t)))},e.fromPromise=function(e){const t=new Cv;return e.then((e=>{t.fire(e)}),(()=>{t.fire(void 0)})).finally((()=>{t.dispose()})),t.event},e.runAndSubscribe=function(e,t,i){return t(i),e((e=>t(e)))},e.runAndSubscribeWithStore=function(e,t){let i=null;function n(e){null===i||void 0===i||i.dispose(),i=new dv,t(e,i)}n(void 0);const o=e((e=>n(e)));return cv((()=>{o.dispose(),null===i||void 0===i||i.dispose()}))};class c{constructor(e,i){this._observable=e,this._counter=0,this._hasChanged=!1;const n={onWillAddFirstListener:()=>{e.addObserver(this)},onDidRemoveLastListener:()=>{e.removeObserver(this)}};i||t(),this.emitter=new Cv(n),i&&i.add(this.emitter)}beginUpdate(e){this._counter++}handlePossibleChange(e){}handleChange(e,t){this._hasChanged=!0}endUpdate(e){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}e.fromObservable=function(e,t){return new c(e,t).emitter.event},e.fromObservableLight=function(e){return(t,i,n)=>{let o=0,s=!1;const r={beginUpdate(){o++},endUpdate(){o--,0===o&&(e.reportChanges(),s&&(s=!1,t.call(i)))},handlePossibleChange(){},handleChange(){s=!0}};e.addObserver(r),e.reportChanges();const a={dispose(){e.removeObserver(r)}};return n instanceof dv?n.add(a):Array.isArray(n)&&n.push(a),a}}}(vv||(vv={}));class bv{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name="".concat(e,"_").concat(bv._idPool++),bv.all.add(this)}start(e){this._stopWatch=new mv,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}bv.all=new Set,bv._idPool=0;class _v{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random().toString(18).slice(2,5);this.threshold=e,this.name=t,this._warnCountdown=0}dispose(){var e;null===(e=this._stacks)||void 0===e||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){let e;this._warnCountdown=.5*i;let n=0;for(const[t,i]of this._stacks)(!e||n<i)&&(e=t,n=i);console.warn("[".concat(this.name,"] potential listener LEAK detected, having ").concat(t," listeners already. MOST frequent listener (").concat(n,"):")),console.warn(e)}return()=>{const t=this._stacks.get(e.value)||0;this._stacks.set(e.value,t-1)}}}class wv{static create(){var e;return new wv(null!==(e=(new Error).stack)&&void 0!==e?e:"")}constructor(e){this.value=e}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class yv{constructor(e){this.value=e}}class Cv{constructor(e){var t,i,n,o,s;this._size=0,this._options=e,this._leakageMon=(null===(t=this._options)||void 0===t?void 0:t.leakWarningThreshold)?new _v(null!==(n=null===(i=this._options)||void 0===i?void 0:i.leakWarningThreshold)&&void 0!==n?n:-1):void 0,this._perfMon=(null===(o=this._options)||void 0===o?void 0:o._profName)?new bv(this._options._profName):void 0,this._deliveryQueue=null===(s=this._options)||void 0===s?void 0:s.deliveryQueue}dispose(){var e,t,i,n;this._disposed||(this._disposed=!0,(null===(e=this._deliveryQueue)||void 0===e?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),null===(i=null===(t=this._options)||void 0===t?void 0:t.onDidRemoveLastListener)||void 0===i||i.call(t),null===(n=this._leakageMon)||void 0===n||n.dispose())}get event(){var e;return null!==(e=this._event)&&void 0!==e||(this._event=(e,t,i)=>{var n,o,s,r,a;if(this._leakageMon&&this._size>3*this._leakageMon.threshold)return console.warn("[".concat(this._leakageMon.name,"] REFUSES to accept new listeners because it exceeded its threshold by far")),hv.None;if(this._disposed)return hv.None;t&&(e=e.bind(t));const l=new yv(e);let c;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(l.stack=wv.create(),c=this._leakageMon.check(l.stack,this._size+1)),this._listeners?this._listeners instanceof yv?(null!==(a=this._deliveryQueue)&&void 0!==a||(this._deliveryQueue=new Sv),this._listeners=[this._listeners,l]):this._listeners.push(l):(null===(o=null===(n=this._options)||void 0===n?void 0:n.onWillAddFirstListener)||void 0===o||o.call(n,this),this._listeners=l,null===(r=null===(s=this._options)||void 0===s?void 0:s.onDidAddFirstListener)||void 0===r||r.call(s,this)),this._size++;const d=cv((()=>{null===c||void 0===c||c(),this._removeListener(l)}));return i instanceof dv?i.add(d):Array.isArray(i)&&i.push(d),d}),this._event}_removeListener(e){var t,i,n,o;if(null===(i=null===(t=this._options)||void 0===t?void 0:t.onWillRemoveListener)||void 0===i||i.call(t,this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,null===(o=null===(n=this._options)||void 0===n?void 0:n.onDidRemoveLastListener)||void 0===o||o.call(n,this),void(this._size=0);const s=this._listeners,r=s.indexOf(e);if(-1===r)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,s[r]=void 0;const a=this._deliveryQueue.current===this;if(2*this._size<=s.length){let e=0;for(let t=0;t<s.length;t++)s[t]?s[e++]=s[t]:a&&(this._deliveryQueue.end--,e<this._deliveryQueue.i&&this._deliveryQueue.i--);s.length=e}}_deliver(e,t){var i;if(!e)return;const n=(null===(i=this._options)||void 0===i?void 0:i.onListenerError)||Um;if(n)try{e.value(t)}catch(Pee){n(Pee)}else e.value(t)}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,n,o;if((null===(t=this._deliveryQueue)||void 0===t?void 0:t.current)&&(this._deliverQueue(this._deliveryQueue),null===(i=this._perfMon)||void 0===i||i.stop()),null===(n=this._perfMon)||void 0===n||n.start(this._size),this._listeners)if(this._listeners instanceof yv)this._deliver(this._listeners,e);else{const t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}else;null===(o=this._perfMon)||void 0===o||o.stop()}hasListeners(){return this._size>0}}class Sv{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class kv extends Cv{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Jf,this._mergeFn=null===e||void 0===e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0===--this._isPaused)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class Lv extends kv{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class xv extends Cv{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=null===e||void 0===e?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),1===this._queuedEvents.length&&queueMicrotask((()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach((e=>super.fire(e))),this._queuedEvents=[]})))}}class Dv{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new Cv({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};this.events.push(t),this.hasListeners&&this.hook(t);return cv(tv((()=>{this.hasListeners&&this.unhook(t);const e=this.events.indexOf(t);this.events.splice(e,1)})))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((e=>this.hook(e)))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((e=>this.unhook(e)))}hook(e){e.listener=e.event((e=>this.emitter.fire(e)))}unhook(e){e.listener&&e.listener.dispose(),e.listener=null}dispose(){this.emitter.dispose()}}class Ev{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e((e=>{const n=this.buffers[this.buffers.length-1];n?n.push((()=>t.call(i,e))):t.call(i,e)}),void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach((e=>e())),i}}class Nv{constructor(){this.listening=!1,this.inputEvent=vv.None,this.inputEventListener=hv.None,this.emitter=new Cv({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const Tv=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var Iv;!function(e){e.isCancellationToken=function(t){return t===e.None||t===e.Cancelled||(t instanceof Av||!(!t||"object"!==typeof t)&&("boolean"===typeof t.isCancellationRequested&&"function"===typeof t.onCancellationRequested))},e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vv.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Tv})}(Iv||(Iv={}));class Av{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Tv:(this._emitter||(this._emitter=new Cv),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class Mv{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Av),this._token}cancel(){this._token?this._token instanceof Av&&this._token.cancel():this._token=Iv.Cancelled}dispose(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.cancel(),null===(e=this._parentListener)||void 0===e||e.dispose(),this._token?this._token instanceof Av&&this._token.dispose():this._token=Iv.None}}class Ov{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Rv=new Ov,Pv=new Ov,Fv=new Ov,Bv=new Array(230),Vv={},Wv=[],zv=Object.create(null),Hv=Object.create(null),jv=[],Uv=[];for(let i=0;i<=193;i++)jv[i]=-1;for(let i=0;i<=132;i++)Uv[i]=-1;var Kv;let qv;!function(){const e="",t=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[1,1,"Hyper",0,e,0,e,e,e],[1,2,"Super",0,e,0,e,e,e],[1,3,"Fn",0,e,0,e,e,e],[1,4,"FnLock",0,e,0,e,e,e],[1,5,"Suspend",0,e,0,e,e,e],[1,6,"Resume",0,e,0,e,e,e],[1,7,"Turbo",0,e,0,e,e,e],[1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[1,9,"WakeUp",0,e,0,e,e,e],[0,10,"KeyA",31,"A",65,"VK_A",e,e],[0,11,"KeyB",32,"B",66,"VK_B",e,e],[0,12,"KeyC",33,"C",67,"VK_C",e,e],[0,13,"KeyD",34,"D",68,"VK_D",e,e],[0,14,"KeyE",35,"E",69,"VK_E",e,e],[0,15,"KeyF",36,"F",70,"VK_F",e,e],[0,16,"KeyG",37,"G",71,"VK_G",e,e],[0,17,"KeyH",38,"H",72,"VK_H",e,e],[0,18,"KeyI",39,"I",73,"VK_I",e,e],[0,19,"KeyJ",40,"J",74,"VK_J",e,e],[0,20,"KeyK",41,"K",75,"VK_K",e,e],[0,21,"KeyL",42,"L",76,"VK_L",e,e],[0,22,"KeyM",43,"M",77,"VK_M",e,e],[0,23,"KeyN",44,"N",78,"VK_N",e,e],[0,24,"KeyO",45,"O",79,"VK_O",e,e],[0,25,"KeyP",46,"P",80,"VK_P",e,e],[0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[0,27,"KeyR",48,"R",82,"VK_R",e,e],[0,28,"KeyS",49,"S",83,"VK_S",e,e],[0,29,"KeyT",50,"T",84,"VK_T",e,e],[0,30,"KeyU",51,"U",85,"VK_U",e,e],[0,31,"KeyV",52,"V",86,"VK_V",e,e],[0,32,"KeyW",53,"W",87,"VK_W",e,e],[0,33,"KeyX",54,"X",88,"VK_X",e,e],[0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[0,36,"Digit1",22,"1",49,"VK_1",e,e],[0,37,"Digit2",23,"2",50,"VK_2",e,e],[0,38,"Digit3",24,"3",51,"VK_3",e,e],[0,39,"Digit4",25,"4",52,"VK_4",e,e],[0,40,"Digit5",26,"5",53,"VK_5",e,e],[0,41,"Digit6",27,"6",54,"VK_6",e,e],[0,42,"Digit7",28,"7",55,"VK_7",e,e],[0,43,"Digit8",29,"8",56,"VK_8",e,e],[0,44,"Digit9",30,"9",57,"VK_9",e,e],[0,45,"Digit0",21,"0",48,"VK_0",e,e],[1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,e,0,e,e,e],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[1,64,"F1",59,"F1",112,"VK_F1",e,e],[1,65,"F2",60,"F2",113,"VK_F2",e,e],[1,66,"F3",61,"F3",114,"VK_F3",e,e],[1,67,"F4",62,"F4",115,"VK_F4",e,e],[1,68,"F5",63,"F5",116,"VK_F5",e,e],[1,69,"F6",64,"F6",117,"VK_F6",e,e],[1,70,"F7",65,"F7",118,"VK_F7",e,e],[1,71,"F8",66,"F8",119,"VK_F8",e,e],[1,72,"F9",67,"F9",120,"VK_F9",e,e],[1,73,"F10",68,"F10",121,"VK_F10",e,e],[1,74,"F11",69,"F11",122,"VK_F11",e,e],[1,75,"F12",70,"F12",123,"VK_F12",e,e],[1,76,"PrintScreen",0,e,0,e,e,e],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",e,e],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[1,80,"Home",14,"Home",36,"VK_HOME",e,e],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[1,83,"End",13,"End",35,"VK_END",e,e],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",e,e],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",e,e],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",e,e],[1,94,"NumpadEnter",3,e,0,e,e,e],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",e,e],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",e,e],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",e,e],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",e,e],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",e,e],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",e,e],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",e,e],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",e,e],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",e,e],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",e,e],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",e,e],[1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[1,108,"Power",0,e,0,e,e,e],[1,109,"NumpadEqual",0,e,0,e,e,e],[1,110,"F13",71,"F13",124,"VK_F13",e,e],[1,111,"F14",72,"F14",125,"VK_F14",e,e],[1,112,"F15",73,"F15",126,"VK_F15",e,e],[1,113,"F16",74,"F16",127,"VK_F16",e,e],[1,114,"F17",75,"F17",128,"VK_F17",e,e],[1,115,"F18",76,"F18",129,"VK_F18",e,e],[1,116,"F19",77,"F19",130,"VK_F19",e,e],[1,117,"F20",78,"F20",131,"VK_F20",e,e],[1,118,"F21",79,"F21",132,"VK_F21",e,e],[1,119,"F22",80,"F22",133,"VK_F22",e,e],[1,120,"F23",81,"F23",134,"VK_F23",e,e],[1,121,"F24",82,"F24",135,"VK_F24",e,e],[1,122,"Open",0,e,0,e,e,e],[1,123,"Help",0,e,0,e,e,e],[1,124,"Select",0,e,0,e,e,e],[1,125,"Again",0,e,0,e,e,e],[1,126,"Undo",0,e,0,e,e,e],[1,127,"Cut",0,e,0,e,e,e],[1,128,"Copy",0,e,0,e,e,e],[1,129,"Paste",0,e,0,e,e,e],[1,130,"Find",0,e,0,e,e,e],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",e,e],[1,136,"KanaMode",0,e,0,e,e,e],[0,137,"IntlYen",0,e,0,e,e,e],[1,138,"Convert",0,e,0,e,e,e],[1,139,"NonConvert",0,e,0,e,e,e],[1,140,"Lang1",0,e,0,e,e,e],[1,141,"Lang2",0,e,0,e,e,e],[1,142,"Lang3",0,e,0,e,e,e],[1,143,"Lang4",0,e,0,e,e,e],[1,144,"Lang5",0,e,0,e,e,e],[1,145,"Abort",0,e,0,e,e,e],[1,146,"Props",0,e,0,e,e,e],[1,147,"NumpadParenLeft",0,e,0,e,e,e],[1,148,"NumpadParenRight",0,e,0,e,e,e],[1,149,"NumpadBackspace",0,e,0,e,e,e],[1,150,"NumpadMemoryStore",0,e,0,e,e,e],[1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[1,152,"NumpadMemoryClear",0,e,0,e,e,e],[1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",e,e],[1,156,"NumpadClearEntry",0,e,0,e,e,e],[1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[1,0,e,6,"Alt",18,"VK_MENU",e,e],[1,0,e,57,"Meta",91,"VK_COMMAND",e,e],[1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[1,165,"BrightnessUp",0,e,0,e,e,e],[1,166,"BrightnessDown",0,e,0,e,e,e],[1,167,"MediaPlay",0,e,0,e,e,e],[1,168,"MediaRecord",0,e,0,e,e,e],[1,169,"MediaFastForward",0,e,0,e,e,e],[1,170,"MediaRewind",0,e,0,e,e,e],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",e,e],[1,174,"Eject",0,e,0,e,e,e],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[1,180,"SelectTask",0,e,0,e,e,e],[1,181,"LaunchScreenSaver",0,e,0,e,e,e],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[1,189,"ZoomToggle",0,e,0,e,e,e],[1,190,"MailReply",0,e,0,e,e,e],[1,191,"MailForward",0,e,0,e,e,e],[1,192,"MailSend",0,e,0,e,e,e],[1,0,e,114,"KeyInComposition",229,e,e,e],[1,0,e,116,"ABNT_C2",194,"VK_ABNT_C2",e,e],[1,0,e,96,"OEM_8",223,"VK_OEM_8",e,e],[1,0,e,0,e,0,"VK_KANA",e,e],[1,0,e,0,e,0,"VK_HANGUL",e,e],[1,0,e,0,e,0,"VK_JUNJA",e,e],[1,0,e,0,e,0,"VK_FINAL",e,e],[1,0,e,0,e,0,"VK_HANJA",e,e],[1,0,e,0,e,0,"VK_KANJI",e,e],[1,0,e,0,e,0,"VK_CONVERT",e,e],[1,0,e,0,e,0,"VK_NONCONVERT",e,e],[1,0,e,0,e,0,"VK_ACCEPT",e,e],[1,0,e,0,e,0,"VK_MODECHANGE",e,e],[1,0,e,0,e,0,"VK_SELECT",e,e],[1,0,e,0,e,0,"VK_PRINT",e,e],[1,0,e,0,e,0,"VK_EXECUTE",e,e],[1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[1,0,e,0,e,0,"VK_HELP",e,e],[1,0,e,0,e,0,"VK_APPS",e,e],[1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[1,0,e,0,e,0,"VK_PACKET",e,e],[1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[1,0,e,0,e,0,"VK_ATTN",e,e],[1,0,e,0,e,0,"VK_CRSEL",e,e],[1,0,e,0,e,0,"VK_EXSEL",e,e],[1,0,e,0,e,0,"VK_EREOF",e,e],[1,0,e,0,e,0,"VK_PLAY",e,e],[1,0,e,0,e,0,"VK_ZOOM",e,e],[1,0,e,0,e,0,"VK_NONAME",e,e],[1,0,e,0,e,0,"VK_PA1",e,e],[1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],i=[],n=[];for(const o of t){const[e,t,s,r,a,l,c,d,h]=o;if(n[t]||(n[t]=!0,Wv[t]=s,zv[s]=t,Hv[s.toLowerCase()]=t,e&&(jv[t]=r,0!==r&&3!==r&&5!==r&&4!==r&&6!==r&&57!==r&&(Uv[r]=t))),!i[r]){if(i[r]=!0,!a)throw new Error("String representation missing for key code ".concat(r," around scan code ").concat(s));Rv.define(r,a),Pv.define(r,d||a),Fv.define(r,h||d||a)}l&&(Bv[l]=r),c&&(Vv[c]=r)}Uv[3]=46}(),function(e){e.toString=function(e){return Rv.keyCodeToStr(e)},e.fromString=function(e){return Rv.strToKeyCode(e)},e.toUserSettingsUS=function(e){return Pv.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return Fv.keyCodeToStr(e)},e.fromUserSettings=function(e){return Pv.strToKeyCode(e)||Fv.strToKeyCode(e)},e.toElectronAccelerator=function(e){if(e>=98&&e<=113)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Rv.keyCodeToStr(e)}}(Kv||(Kv={}));const Gv=globalThis.vscode;if("undefined"!==typeof Gv&&"undefined"!==typeof Gv.process){const e=Gv.process;qv={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd()}}else qv="undefined"!==typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}},cwd:()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VSCODE_CWD||process.cwd())}:{get platform(){return If?"win32":Af?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const Yv=qv.cwd,Zv=qv.env,Qv=qv.platform,Xv=46,Jv=47,$v=92,eb=58;class tb extends Error{constructor(e,t,i){let n;"string"===typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let s='The "'.concat(e,'" ').concat(o," ").concat(n," of type ").concat(t);s+=". Received type ".concat(typeof i),super(s),this.code="ERR_INVALID_ARG_TYPE"}}function ib(e,t){if("string"!==typeof e)throw new tb(t,"string",e)}const nb="win32"===Qv;function ob(e){return e===Jv||e===$v}function sb(e){return e===Jv}function rb(e){return e>=65&&e<=90||e>=97&&e<=122}function ab(e,t,i,n){let o="",s=0,r=-1,a=0,l=0;for(let c=0;c<=e.length;++c){if(c<e.length)l=e.charCodeAt(c);else{if(n(l))break;l=Jv}if(n(l)){if(r===c-1||1===a);else if(2===a){if(o.length<2||2!==s||o.charCodeAt(o.length-1)!==Xv||o.charCodeAt(o.length-2)!==Xv){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",s=0):(o=o.slice(0,e),s=o.length-1-o.lastIndexOf(i)),r=c,a=0;continue}if(0!==o.length){o="",s=0,r=c,a=0;continue}}t&&(o+=o.length>0?"".concat(i,".."):"..",s=2)}else o.length>0?o+="".concat(i).concat(e.slice(r+1,c)):o=e.slice(r+1,c),s=c-r-1;r=c,a=0}else l===Xv&&-1!==a?++a:a=-1}return o}function lb(e,t){!function(e,t){if(null===e||"object"!==typeof e)throw new tb(t,"Object",e)}(t,"pathObject");const i=t.dir||t.root,n=t.base||"".concat(t.name||"").concat(t.ext||"");return i?i===t.root?"".concat(i).concat(n):"".concat(i).concat(e).concat(n):n}const cb={resolve(){let e="",t="",i=!1;for(let n=arguments.length-1;n>=-1;n--){let o;if(n>=0){if(o=n<0||arguments.length<=n?void 0:arguments[n],ib(o,"path"),0===o.length)continue}else 0===e.length?o=Yv():(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}["=".concat(e)]||Yv(),(void 0===o||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===$v)&&(o="".concat(e,"\\")));const s=o.length;let r=0,a="",l=!1;const c=o.charCodeAt(0);if(1===s)ob(c)&&(r=1,l=!0);else if(ob(c))if(l=!0,ob(o.charCodeAt(1))){let e=2,t=e;for(;e<s&&!ob(o.charCodeAt(e));)e++;if(e<s&&e!==t){const i=o.slice(t,e);for(t=e;e<s&&ob(o.charCodeAt(e));)e++;if(e<s&&e!==t){for(t=e;e<s&&!ob(o.charCodeAt(e));)e++;e!==s&&e===t||(a="\\\\".concat(i,"\\").concat(o.slice(t,e)),r=e)}}}else r=1;else rb(c)&&o.charCodeAt(1)===eb&&(a=o.slice(0,2),r=2,s>2&&ob(o.charCodeAt(2))&&(l=!0,r=3));if(a.length>0)if(e.length>0){if(a.toLowerCase()!==e.toLowerCase())continue}else e=a;if(i){if(e.length>0)break}else if(t="".concat(o.slice(r),"\\").concat(t),i=l,l&&e.length>0)break}return t=ab(t,!i,"\\",ob),i?"".concat(e,"\\").concat(t):"".concat(e).concat(t)||"."},normalize(e){ib(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const s=e.charCodeAt(0);if(1===t)return sb(s)?"\\":e;if(ob(s))if(o=!0,ob(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!ob(e.charCodeAt(o));)o++;if(o<t&&o!==s){const r=e.slice(s,o);for(s=o;o<t&&ob(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!ob(e.charCodeAt(o));)o++;if(o===t)return"\\\\".concat(r,"\\").concat(e.slice(s),"\\");o!==s&&(i="\\\\".concat(r,"\\").concat(e.slice(s,o)),n=o)}}}else n=1;else rb(s)&&e.charCodeAt(1)===eb&&(i=e.slice(0,2),n=2,t>2&&ob(e.charCodeAt(2))&&(o=!0,n=3));let r=n<t?ab(e.slice(n),!o,"\\",ob):"";return 0!==r.length||o||(r="."),r.length>0&&ob(e.charCodeAt(t-1))&&(r+="\\"),void 0===i?o?"\\".concat(r):r:o?"".concat(i,"\\").concat(r):"".concat(i).concat(r)},isAbsolute(e){ib(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return ob(i)||t>2&&rb(i)&&e.charCodeAt(1)===eb&&ob(e.charCodeAt(2))},join(){if(0===arguments.length)return".";let e,t;for(let o=0;o<arguments.length;++o){const i=o<0||arguments.length<=o?void 0:arguments[o];ib(i,"path"),i.length>0&&(void 0===e?e=t=i:e+="\\".concat(i))}if(void 0===e)return".";let i=!0,n=0;if("string"===typeof t&&ob(t.charCodeAt(0))){++n;const e=t.length;e>1&&ob(t.charCodeAt(1))&&(++n,e>2&&(ob(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&ob(e.charCodeAt(n));)n++;n>=2&&(e="\\".concat(e.slice(n)))}return cb.normalize(e)},relative(e,t){if(ib(e,"from"),ib(t,"to"),e===t)return"";const i=cb.resolve(e),n=cb.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&e.charCodeAt(o)===$v;)o++;let s=e.length;for(;s-1>o&&e.charCodeAt(s-1)===$v;)s--;const r=s-o;let a=0;for(;a<t.length&&t.charCodeAt(a)===$v;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===$v;)l--;const c=l-a,d=r<c?r:c;let h=-1,u=0;for(;u<d;u++){const i=e.charCodeAt(o+u);if(i!==t.charCodeAt(a+u))break;i===$v&&(h=u)}if(u!==d){if(-1===h)return n}else{if(c>d){if(t.charCodeAt(a+u)===$v)return n.slice(a+u+1);if(2===u)return n.slice(a+u)}r>d&&(e.charCodeAt(o+u)===$v?h=u:2===u&&(h=3)),-1===h&&(h=0)}let g="";for(u=o+h+1;u<=s;++u)u!==s&&e.charCodeAt(u)!==$v||(g+=0===g.length?"..":"\\..");return a+=h,g.length>0?"".concat(g).concat(n.slice(a,l)):(n.charCodeAt(a)===$v&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!==typeof e||0===e.length)return e;const t=cb.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===$v){if(t.charCodeAt(1)===$v){const e=t.charCodeAt(2);if(63!==e&&e!==Xv)return"\\\\?\\UNC\\".concat(t.slice(2))}}else if(rb(t.charCodeAt(0))&&t.charCodeAt(1)===eb&&t.charCodeAt(2)===$v)return"\\\\?\\".concat(t);return e},dirname(e){ib(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return ob(o)?e:".";if(ob(o)){if(i=n=1,ob(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!ob(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&ob(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!ob(e.charCodeAt(o));)o++;if(o===t)return e;o!==s&&(i=n=o+1)}}}}else rb(o)&&e.charCodeAt(1)===eb&&(i=t>2&&ob(e.charCodeAt(2))?3:2,n=i);let s=-1,r=!0;for(let a=t-1;a>=n;--a)if(ob(e.charCodeAt(a))){if(!r){s=a;break}}else r=!1;if(-1===s){if(-1===i)return".";s=i}return e.slice(0,s)},basename(e,t){void 0!==t&&ib(t,"ext"),ib(e,"path");let i,n=0,o=-1,s=!0;if(e.length>=2&&rb(e.charCodeAt(0))&&e.charCodeAt(1)===eb&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(ob(l)){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1===--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(ob(e.charCodeAt(i))){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){ib(e,"path");let t=0,i=-1,n=0,o=-1,s=!0,r=0;e.length>=2&&e.charCodeAt(1)===eb&&rb(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(ob(t)){if(!s){n=a+1;break}}else-1===o&&(s=!1,o=a+1),t===Xv?-1===i?i=a:1!==r&&(r=1):-1!==i&&(r=-1)}return-1===i||-1===o||0===r||1===r&&i===o-1&&i===n+1?"":e.slice(i,o)},format:lb.bind(null,"\\"),parse(e){ib(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return ob(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ob(o)){if(n=1,ob(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!ob(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&ob(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!ob(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(rb(o)&&e.charCodeAt(1)===eb){if(i<=2)return t.root=t.dir=e,t;if(n=2,ob(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,r=n,a=-1,l=!0,c=e.length-1,d=0;for(;c>=n;--c)if(o=e.charCodeAt(c),ob(o)){if(!l){r=c+1;break}}else-1===a&&(l=!1,a=c+1),o===Xv?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);return-1!==a&&(-1===s||0===d||1===d&&s===a-1&&s===r+1?t.base=t.name=e.slice(r,a):(t.name=e.slice(r,s),t.base=e.slice(r,a),t.ext=e.slice(s,a))),t.dir=r>0&&r!==n?e.slice(0,r-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},db=(()=>{if(nb){const e=/\\/g;return()=>{const t=Yv().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>Yv()})(),hb={resolve(){let e="",t=!1;for(let i=arguments.length-1;i>=-1&&!t;i--){const n=i>=0?i<0||arguments.length<=i?void 0:arguments[i]:db();ib(n,"path"),0!==n.length&&(e="".concat(n,"/").concat(e),t=n.charCodeAt(0)===Jv)}return e=ab(e,!t,"/",sb),t?"/".concat(e):e.length>0?e:"."},normalize(e){if(ib(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===Jv,i=e.charCodeAt(e.length-1)===Jv;return 0===(e=ab(e,!t,"/",sb)).length?t?"/":i?"./":".":(i&&(e+="/"),t?"/".concat(e):e)},isAbsolute:e=>(ib(e,"path"),e.length>0&&e.charCodeAt(0)===Jv),join(){if(0===arguments.length)return".";let e;for(let t=0;t<arguments.length;++t){const i=t<0||arguments.length<=t?void 0:arguments[t];ib(i,"path"),i.length>0&&(void 0===e?e=i:e+="/".concat(i))}return void 0===e?".":hb.normalize(e)},relative(e,t){if(ib(e,"from"),ib(t,"to"),e===t)return"";if((e=hb.resolve(e))===(t=hb.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,s=n<o?n:o;let r=-1,a=0;for(;a<s;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;i===Jv&&(r=a)}if(a===s)if(o>s){if(t.charCodeAt(1+a)===Jv)return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>s&&(e.charCodeAt(1+a)===Jv?r=a:0===a&&(r=0));let l="";for(a=1+r+1;a<=i;++a)a!==i&&e.charCodeAt(a)!==Jv||(l+=0===l.length?"..":"/..");return"".concat(l).concat(t.slice(1+r))},toNamespacedPath:e=>e,dirname(e){if(ib(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===Jv;let i=-1,n=!0;for(let o=e.length-1;o>=1;--o)if(e.charCodeAt(o)===Jv){if(!n){i=o;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&ib(t,"ext"),ib(e,"path");let i,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(l===Jv){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1===--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===Jv){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){ib(e,"path");let t=-1,i=0,n=-1,o=!0,s=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(a!==Jv)-1===n&&(o=!1,n=r+1),a===Xv?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){i=r+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)},format:lb.bind(null,"/"),parse(e){ib(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.charCodeAt(0)===Jv;let n;i?(t.root="/",n=1):n=0;let o=-1,s=0,r=-1,a=!0,l=e.length-1,c=0;for(;l>=n;--l){const t=e.charCodeAt(l);if(t!==Jv)-1===r&&(a=!1,r=l+1),t===Xv?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);else if(!a){s=l+1;break}}if(-1!==r){const n=0===s&&i?1:s;-1===o||0===c||1===c&&o===r-1&&o===s+1?t.base=t.name=e.slice(n,r):(t.name=e.slice(n,o),t.base=e.slice(n,r),t.ext=e.slice(o,r))}return s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};hb.win32=cb.win32=cb,hb.posix=cb.posix=hb;const ub=nb?cb.normalize:hb.normalize,gb=nb?cb.resolve:hb.resolve,pb=nb?cb.relative:hb.relative,fb=nb?cb.dirname:hb.dirname,mb=nb?cb.basename:hb.basename,vb=nb?cb.extname:hb.extname,bb=nb?cb.sep:hb.sep,_b=/^\w[\w\d+.-]*$/,wb=/^\//,yb=/^\/\//;const Cb="",Sb="/",kb=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Lb{static isUri(e){return e instanceof Lb||!!e&&("string"===typeof e.authority&&"string"===typeof e.fragment&&"string"===typeof e.path&&"string"===typeof e.query&&"string"===typeof e.scheme&&"string"===typeof e.fsPath&&"function"===typeof e.with&&"function"===typeof e.toString)}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];"object"===typeof e?(this.scheme=e.scheme||Cb,this.authority=e.authority||Cb,this.path=e.path||Cb,this.query=e.query||Cb,this.fragment=e.fragment||Cb):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||Cb,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Sb&&(t=Sb+t):t=Sb}return t}(this.scheme,i||Cb),this.query=n||Cb,this.fragment=o||Cb,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!_b.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!wb.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(yb.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,s))}get fsPath(){return Ib(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return void 0===t?t=this.scheme:null===t&&(t=Cb),void 0===i?i=this.authority:null===i&&(i=Cb),void 0===n?n=this.path:null===n&&(n=Cb),void 0===o?o=this.query:null===o&&(o=Cb),void 0===s?s=this.fragment:null===s&&(s=Cb),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new Db(t,i,n,o,s)}static parse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=kb.exec(e);return i?new Db(i[2]||Cb,Rb(i[4]||Cb),Rb(i[5]||Cb),Rb(i[7]||Cb),Rb(i[9]||Cb),t):new Db(Cb,Cb,Cb,Cb,Cb)}static file(e){let t=Cb;if(If&&(e=e.replace(/\\/g,Sb)),e[0]===Sb&&e[1]===Sb){const i=e.indexOf(Sb,2);-1===i?(t=e.substring(2),e=Sb):(t=e.substring(2,i),e=e.substring(i)||Sb)}return new Db("file",t,e,Cb,Cb)}static from(e,t){return new Db(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let t;for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return t=If&&"file"===e.scheme?Lb.file(cb.join(Ib(e,!0),...n)).path:hb.join(e.path,...n),e.with({path:t})}toString(){return Ab(this,arguments.length>0&&void 0!==arguments[0]&&arguments[0])}toJSON(){return this}static revive(e){var t,i;if(e){if(e instanceof Lb)return e;{const n=new Db(e);return n._formatted=null!==(t=e.external)&&void 0!==t?t:null,n._fsPath=e._sep===xb&&null!==(i=e.fsPath)&&void 0!==i?i:null,n}}return e}}const xb=If?1:void 0;class Db extends Lb{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=Ib(this,!1)),this._fsPath}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Ab(this,!0):(this._formatted||(this._formatted=Ab(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=xb),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Eb={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Nb(e,t,i){let n,o=-1;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||95===r||126===r||t&&47===r||i&&91===r||i&&93===r||i&&58===r)-1!==o&&(n+=encodeURIComponent(e.substring(o,s)),o=-1),void 0!==n&&(n+=e.charAt(s));else{void 0===n&&(n=e.substr(0,s));const t=Eb[r];void 0!==t?(-1!==o&&(n+=encodeURIComponent(e.substring(o,s)),o=-1),n+=t):-1===o&&(o=s)}}return-1!==o&&(n+=encodeURIComponent(e.substring(o))),void 0!==n?n:e}function Tb(e){let t;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=Eb[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function Ib(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,If&&(i=i.replace(/\//g,"\\")),i}function Ab(e,t){const i=t?Tb:Nb;let n="",{scheme:o,authority:s,path:r,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(s||"file"===o)&&(n+=Sb,n+=Sb),s){let e=s.indexOf("@");if(-1!==e){const t=s.substr(0,e);s=s.substr(e+1),e=t.lastIndexOf(":"),-1===e?n+=i(t,!1,!1):(n+=i(t.substr(0,e),!1,!1),n+=":",n+=i(t.substr(e+1),!1,!0)),n+="@"}s=s.toLowerCase(),e=s.lastIndexOf(":"),-1===e?n+=i(s,!1,!0):(n+=i(s.substr(0,e),!1,!0),n+=s.substr(e))}if(r){if(r.length>=3&&47===r.charCodeAt(0)&&58===r.charCodeAt(2)){const e=r.charCodeAt(1);e>=65&&e<=90&&(r="/".concat(String.fromCharCode(e+32),":").concat(r.substr(3)))}else if(r.length>=2&&58===r.charCodeAt(1)){const e=r.charCodeAt(0);e>=65&&e<=90&&(r="".concat(String.fromCharCode(e+32),":").concat(r.substr(2)))}n+=i(r,!0,!1)}return a&&(n+="?",n+=i(a,!1,!1)),l&&(n+="#",n+=t?l:Nb(l,!1,!1)),n}function Mb(e){try{return decodeURIComponent(e)}catch(cf){return e.length>3?e.substr(0,3)+Mb(e.substr(3)):e}}const Ob=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Rb(e){return e.match(Ob)?e.replace(Ob,(e=>Mb(e))):e}class Pb{constructor(e,t){this.lineNumber=e,this.column=t}with(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lineNumber,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.column;return e===this.lineNumber&&t===this.column?this:new Pb(e,t)}delta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.with(this.lineNumber+e,this.column+t)}equals(e){return Pb.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Pb.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return Pb.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){const i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new Pb(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Pb(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"===typeof e.lineNumber&&"number"===typeof e.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}class Fb{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return Fb.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Fb.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<=e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>=e.endColumn))}containsRange(e){return Fb.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return Fb.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return Fb.plusRange(this,e)}static plusRange(e,t){let i,n,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new Fb(i,n,o,s)}intersectRanges(e){return Fb.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;const r=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;return i<r?(i=r,n=a):i===r&&(n=Math.max(n,a)),o>l?(o=l,s=c):o===l&&(s=Math.min(s,c)),i>o||i===o&&n>s?null:new Fb(i,n,o,s)}equalsRange(e){return Fb.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Fb.getEndPosition(this)}static getEndPosition(e){return new Pb(e.endLineNumber,e.endColumn)}getStartPosition(){return Fb.getStartPosition(this)}static getStartPosition(e){return new Pb(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Fb(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Fb(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Fb.collapseToStart(this)}static collapseToStart(e){return new Fb(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return Fb.collapseToEnd(this)}static collapseToEnd(e){return new Fb(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new Fb(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new Fb(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Fb(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"===typeof e.startLineNumber&&"number"===typeof e.startColumn&&"number"===typeof e.endLineNumber&&"number"===typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}class Bb extends Fb{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Bb.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new Bb(this.startLineNumber,this.startColumn,e,t):new Bb(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Pb(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Pb(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return 0===this.getDirection()?new Bb(e,t,this.endLineNumber,this.endColumn):new Bb(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new Bb(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return 0===t?new Bb(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new Bb(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new Bb(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"===typeof e.selectionStartLineNumber&&"number"===typeof e.selectionStartColumn&&"number"===typeof e.positionLineNumber&&"number"===typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new Bb(e,t,i,n):new Bb(i,n,e,t)}}const Vb=Object.create(null);function Wb(e,t){if(Wp(t)){const i=Vb[t];if(void 0===i)throw new Error("".concat(e," references an unknown codicon: ").concat(t));t=i}return Vb[e]=t,{id:e}}function zb(){return Vb}const Hb={add:Wb("add",6e4),plus:Wb("plus",6e4),gistNew:Wb("gist-new",6e4),repoCreate:Wb("repo-create",6e4),lightbulb:Wb("lightbulb",60001),lightBulb:Wb("light-bulb",60001),repo:Wb("repo",60002),repoDelete:Wb("repo-delete",60002),gistFork:Wb("gist-fork",60003),repoForked:Wb("repo-forked",60003),gitPullRequest:Wb("git-pull-request",60004),gitPullRequestAbandoned:Wb("git-pull-request-abandoned",60004),recordKeys:Wb("record-keys",60005),keyboard:Wb("keyboard",60005),tag:Wb("tag",60006),tagAdd:Wb("tag-add",60006),tagRemove:Wb("tag-remove",60006),gitPullRequestLabel:Wb("git-pull-request-label",60006),person:Wb("person",60007),personFollow:Wb("person-follow",60007),personOutline:Wb("person-outline",60007),personFilled:Wb("person-filled",60007),gitBranch:Wb("git-branch",60008),gitBranchCreate:Wb("git-branch-create",60008),gitBranchDelete:Wb("git-branch-delete",60008),sourceControl:Wb("source-control",60008),mirror:Wb("mirror",60009),mirrorPublic:Wb("mirror-public",60009),star:Wb("star",60010),starAdd:Wb("star-add",60010),starDelete:Wb("star-delete",60010),starEmpty:Wb("star-empty",60010),comment:Wb("comment",60011),commentAdd:Wb("comment-add",60011),alert:Wb("alert",60012),warning:Wb("warning",60012),search:Wb("search",60013),searchSave:Wb("search-save",60013),logOut:Wb("log-out",60014),signOut:Wb("sign-out",60014),logIn:Wb("log-in",60015),signIn:Wb("sign-in",60015),eye:Wb("eye",60016),eyeUnwatch:Wb("eye-unwatch",60016),eyeWatch:Wb("eye-watch",60016),circleFilled:Wb("circle-filled",60017),primitiveDot:Wb("primitive-dot",60017),closeDirty:Wb("close-dirty",60017),debugBreakpoint:Wb("debug-breakpoint",60017),debugBreakpointDisabled:Wb("debug-breakpoint-disabled",60017),debugHint:Wb("debug-hint",60017),primitiveSquare:Wb("primitive-square",60018),edit:Wb("edit",60019),pencil:Wb("pencil",60019),info:Wb("info",60020),issueOpened:Wb("issue-opened",60020),gistPrivate:Wb("gist-private",60021),gitForkPrivate:Wb("git-fork-private",60021),lock:Wb("lock",60021),mirrorPrivate:Wb("mirror-private",60021),close:Wb("close",60022),removeClose:Wb("remove-close",60022),x:Wb("x",60022),repoSync:Wb("repo-sync",60023),sync:Wb("sync",60023),clone:Wb("clone",60024),desktopDownload:Wb("desktop-download",60024),beaker:Wb("beaker",60025),microscope:Wb("microscope",60025),vm:Wb("vm",60026),deviceDesktop:Wb("device-desktop",60026),file:Wb("file",60027),fileText:Wb("file-text",60027),more:Wb("more",60028),ellipsis:Wb("ellipsis",60028),kebabHorizontal:Wb("kebab-horizontal",60028),mailReply:Wb("mail-reply",60029),reply:Wb("reply",60029),organization:Wb("organization",60030),organizationFilled:Wb("organization-filled",60030),organizationOutline:Wb("organization-outline",60030),newFile:Wb("new-file",60031),fileAdd:Wb("file-add",60031),newFolder:Wb("new-folder",60032),fileDirectoryCreate:Wb("file-directory-create",60032),trash:Wb("trash",60033),trashcan:Wb("trashcan",60033),history:Wb("history",60034),clock:Wb("clock",60034),folder:Wb("folder",60035),fileDirectory:Wb("file-directory",60035),symbolFolder:Wb("symbol-folder",60035),logoGithub:Wb("logo-github",60036),markGithub:Wb("mark-github",60036),github:Wb("github",60036),terminal:Wb("terminal",60037),console:Wb("console",60037),repl:Wb("repl",60037),zap:Wb("zap",60038),symbolEvent:Wb("symbol-event",60038),error:Wb("error",60039),stop:Wb("stop",60039),variable:Wb("variable",60040),symbolVariable:Wb("symbol-variable",60040),array:Wb("array",60042),symbolArray:Wb("symbol-array",60042),symbolModule:Wb("symbol-module",60043),symbolPackage:Wb("symbol-package",60043),symbolNamespace:Wb("symbol-namespace",60043),symbolObject:Wb("symbol-object",60043),symbolMethod:Wb("symbol-method",60044),symbolFunction:Wb("symbol-function",60044),symbolConstructor:Wb("symbol-constructor",60044),symbolBoolean:Wb("symbol-boolean",60047),symbolNull:Wb("symbol-null",60047),symbolNumeric:Wb("symbol-numeric",60048),symbolNumber:Wb("symbol-number",60048),symbolStructure:Wb("symbol-structure",60049),symbolStruct:Wb("symbol-struct",60049),symbolParameter:Wb("symbol-parameter",60050),symbolTypeParameter:Wb("symbol-type-parameter",60050),symbolKey:Wb("symbol-key",60051),symbolText:Wb("symbol-text",60051),symbolReference:Wb("symbol-reference",60052),goToFile:Wb("go-to-file",60052),symbolEnum:Wb("symbol-enum",60053),symbolValue:Wb("symbol-value",60053),symbolRuler:Wb("symbol-ruler",60054),symbolUnit:Wb("symbol-unit",60054),activateBreakpoints:Wb("activate-breakpoints",60055),archive:Wb("archive",60056),arrowBoth:Wb("arrow-both",60057),arrowDown:Wb("arrow-down",60058),arrowLeft:Wb("arrow-left",60059),arrowRight:Wb("arrow-right",60060),arrowSmallDown:Wb("arrow-small-down",60061),arrowSmallLeft:Wb("arrow-small-left",60062),arrowSmallRight:Wb("arrow-small-right",60063),arrowSmallUp:Wb("arrow-small-up",60064),arrowUp:Wb("arrow-up",60065),bell:Wb("bell",60066),bold:Wb("bold",60067),book:Wb("book",60068),bookmark:Wb("bookmark",60069),debugBreakpointConditionalUnverified:Wb("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:Wb("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:Wb("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:Wb("debug-breakpoint-data-unverified",60072),debugBreakpointData:Wb("debug-breakpoint-data",60073),debugBreakpointDataDisabled:Wb("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:Wb("debug-breakpoint-log-unverified",60074),debugBreakpointLog:Wb("debug-breakpoint-log",60075),debugBreakpointLogDisabled:Wb("debug-breakpoint-log-disabled",60075),briefcase:Wb("briefcase",60076),broadcast:Wb("broadcast",60077),browser:Wb("browser",60078),bug:Wb("bug",60079),calendar:Wb("calendar",60080),caseSensitive:Wb("case-sensitive",60081),check:Wb("check",60082),checklist:Wb("checklist",60083),chevronDown:Wb("chevron-down",60084),dropDownButton:Wb("drop-down-button",60084),chevronLeft:Wb("chevron-left",60085),chevronRight:Wb("chevron-right",60086),chevronUp:Wb("chevron-up",60087),chromeClose:Wb("chrome-close",60088),chromeMaximize:Wb("chrome-maximize",60089),chromeMinimize:Wb("chrome-minimize",60090),chromeRestore:Wb("chrome-restore",60091),circle:Wb("circle",60092),circleOutline:Wb("circle-outline",60092),debugBreakpointUnverified:Wb("debug-breakpoint-unverified",60092),circleSlash:Wb("circle-slash",60093),circuitBoard:Wb("circuit-board",60094),clearAll:Wb("clear-all",60095),clippy:Wb("clippy",60096),closeAll:Wb("close-all",60097),cloudDownload:Wb("cloud-download",60098),cloudUpload:Wb("cloud-upload",60099),code:Wb("code",60100),collapseAll:Wb("collapse-all",60101),colorMode:Wb("color-mode",60102),commentDiscussion:Wb("comment-discussion",60103),compareChanges:Wb("compare-changes",60157),creditCard:Wb("credit-card",60105),dash:Wb("dash",60108),dashboard:Wb("dashboard",60109),database:Wb("database",60110),debugContinue:Wb("debug-continue",60111),debugDisconnect:Wb("debug-disconnect",60112),debugPause:Wb("debug-pause",60113),debugRestart:Wb("debug-restart",60114),debugStart:Wb("debug-start",60115),debugStepInto:Wb("debug-step-into",60116),debugStepOut:Wb("debug-step-out",60117),debugStepOver:Wb("debug-step-over",60118),debugStop:Wb("debug-stop",60119),debug:Wb("debug",60120),deviceCameraVideo:Wb("device-camera-video",60121),deviceCamera:Wb("device-camera",60122),deviceMobile:Wb("device-mobile",60123),diffAdded:Wb("diff-added",60124),diffIgnored:Wb("diff-ignored",60125),diffModified:Wb("diff-modified",60126),diffRemoved:Wb("diff-removed",60127),diffRenamed:Wb("diff-renamed",60128),diff:Wb("diff",60129),discard:Wb("discard",60130),editorLayout:Wb("editor-layout",60131),emptyWindow:Wb("empty-window",60132),exclude:Wb("exclude",60133),extensions:Wb("extensions",60134),eyeClosed:Wb("eye-closed",60135),fileBinary:Wb("file-binary",60136),fileCode:Wb("file-code",60137),fileMedia:Wb("file-media",60138),filePdf:Wb("file-pdf",60139),fileSubmodule:Wb("file-submodule",60140),fileSymlinkDirectory:Wb("file-symlink-directory",60141),fileSymlinkFile:Wb("file-symlink-file",60142),fileZip:Wb("file-zip",60143),files:Wb("files",60144),filter:Wb("filter",60145),flame:Wb("flame",60146),foldDown:Wb("fold-down",60147),foldUp:Wb("fold-up",60148),fold:Wb("fold",60149),folderActive:Wb("folder-active",60150),folderOpened:Wb("folder-opened",60151),gear:Wb("gear",60152),gift:Wb("gift",60153),gistSecret:Wb("gist-secret",60154),gist:Wb("gist",60155),gitCommit:Wb("git-commit",60156),gitCompare:Wb("git-compare",60157),gitMerge:Wb("git-merge",60158),githubAction:Wb("github-action",60159),githubAlt:Wb("github-alt",60160),globe:Wb("globe",60161),grabber:Wb("grabber",60162),graph:Wb("graph",60163),gripper:Wb("gripper",60164),heart:Wb("heart",60165),home:Wb("home",60166),horizontalRule:Wb("horizontal-rule",60167),hubot:Wb("hubot",60168),inbox:Wb("inbox",60169),issueClosed:Wb("issue-closed",60324),issueReopened:Wb("issue-reopened",60171),issues:Wb("issues",60172),italic:Wb("italic",60173),jersey:Wb("jersey",60174),json:Wb("json",60175),bracket:Wb("bracket",60175),kebabVertical:Wb("kebab-vertical",60176),key:Wb("key",60177),law:Wb("law",60178),lightbulbAutofix:Wb("lightbulb-autofix",60179),linkExternal:Wb("link-external",60180),link:Wb("link",60181),listOrdered:Wb("list-ordered",60182),listUnordered:Wb("list-unordered",60183),liveShare:Wb("live-share",60184),loading:Wb("loading",60185),location:Wb("location",60186),mailRead:Wb("mail-read",60187),mail:Wb("mail",60188),markdown:Wb("markdown",60189),megaphone:Wb("megaphone",60190),mention:Wb("mention",60191),milestone:Wb("milestone",60192),gitPullRequestMilestone:Wb("git-pull-request-milestone",60192),mortarBoard:Wb("mortar-board",60193),move:Wb("move",60194),multipleWindows:Wb("multiple-windows",60195),mute:Wb("mute",60196),noNewline:Wb("no-newline",60197),note:Wb("note",60198),octoface:Wb("octoface",60199),openPreview:Wb("open-preview",60200),package:Wb("package",60201),paintcan:Wb("paintcan",60202),pin:Wb("pin",60203),play:Wb("play",60204),run:Wb("run",60204),plug:Wb("plug",60205),preserveCase:Wb("preserve-case",60206),preview:Wb("preview",60207),project:Wb("project",60208),pulse:Wb("pulse",60209),question:Wb("question",60210),quote:Wb("quote",60211),radioTower:Wb("radio-tower",60212),reactions:Wb("reactions",60213),references:Wb("references",60214),refresh:Wb("refresh",60215),regex:Wb("regex",60216),remoteExplorer:Wb("remote-explorer",60217),remote:Wb("remote",60218),remove:Wb("remove",60219),replaceAll:Wb("replace-all",60220),replace:Wb("replace",60221),repoClone:Wb("repo-clone",60222),repoForcePush:Wb("repo-force-push",60223),repoPull:Wb("repo-pull",60224),repoPush:Wb("repo-push",60225),report:Wb("report",60226),requestChanges:Wb("request-changes",60227),rocket:Wb("rocket",60228),rootFolderOpened:Wb("root-folder-opened",60229),rootFolder:Wb("root-folder",60230),rss:Wb("rss",60231),ruby:Wb("ruby",60232),saveAll:Wb("save-all",60233),saveAs:Wb("save-as",60234),save:Wb("save",60235),screenFull:Wb("screen-full",60236),screenNormal:Wb("screen-normal",60237),searchStop:Wb("search-stop",60238),server:Wb("server",60240),settingsGear:Wb("settings-gear",60241),settings:Wb("settings",60242),shield:Wb("shield",60243),smiley:Wb("smiley",60244),sortPrecedence:Wb("sort-precedence",60245),splitHorizontal:Wb("split-horizontal",60246),splitVertical:Wb("split-vertical",60247),squirrel:Wb("squirrel",60248),starFull:Wb("star-full",60249),starHalf:Wb("star-half",60250),symbolClass:Wb("symbol-class",60251),symbolColor:Wb("symbol-color",60252),symbolCustomColor:Wb("symbol-customcolor",60252),symbolConstant:Wb("symbol-constant",60253),symbolEnumMember:Wb("symbol-enum-member",60254),symbolField:Wb("symbol-field",60255),symbolFile:Wb("symbol-file",60256),symbolInterface:Wb("symbol-interface",60257),symbolKeyword:Wb("symbol-keyword",60258),symbolMisc:Wb("symbol-misc",60259),symbolOperator:Wb("symbol-operator",60260),symbolProperty:Wb("symbol-property",60261),wrench:Wb("wrench",60261),wrenchSubaction:Wb("wrench-subaction",60261),symbolSnippet:Wb("symbol-snippet",60262),tasklist:Wb("tasklist",60263),telescope:Wb("telescope",60264),textSize:Wb("text-size",60265),threeBars:Wb("three-bars",60266),thumbsdown:Wb("thumbsdown",60267),thumbsup:Wb("thumbsup",60268),tools:Wb("tools",60269),triangleDown:Wb("triangle-down",60270),triangleLeft:Wb("triangle-left",60271),triangleRight:Wb("triangle-right",60272),triangleUp:Wb("triangle-up",60273),twitter:Wb("twitter",60274),unfold:Wb("unfold",60275),unlock:Wb("unlock",60276),unmute:Wb("unmute",60277),unverified:Wb("unverified",60278),verified:Wb("verified",60279),versions:Wb("versions",60280),vmActive:Wb("vm-active",60281),vmOutline:Wb("vm-outline",60282),vmRunning:Wb("vm-running",60283),watch:Wb("watch",60284),whitespace:Wb("whitespace",60285),wholeWord:Wb("whole-word",60286),window:Wb("window",60287),wordWrap:Wb("word-wrap",60288),zoomIn:Wb("zoom-in",60289),zoomOut:Wb("zoom-out",60290),listFilter:Wb("list-filter",60291),listFlat:Wb("list-flat",60292),listSelection:Wb("list-selection",60293),selection:Wb("selection",60293),listTree:Wb("list-tree",60294),debugBreakpointFunctionUnverified:Wb("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:Wb("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:Wb("debug-breakpoint-function-disabled",60296),debugStackframeActive:Wb("debug-stackframe-active",60297),circleSmallFilled:Wb("circle-small-filled",60298),debugStackframeDot:Wb("debug-stackframe-dot",60298),debugStackframe:Wb("debug-stackframe",60299),debugStackframeFocused:Wb("debug-stackframe-focused",60299),debugBreakpointUnsupported:Wb("debug-breakpoint-unsupported",60300),symbolString:Wb("symbol-string",60301),debugReverseContinue:Wb("debug-reverse-continue",60302),debugStepBack:Wb("debug-step-back",60303),debugRestartFrame:Wb("debug-restart-frame",60304),callIncoming:Wb("call-incoming",60306),callOutgoing:Wb("call-outgoing",60307),menu:Wb("menu",60308),expandAll:Wb("expand-all",60309),feedback:Wb("feedback",60310),gitPullRequestReviewer:Wb("git-pull-request-reviewer",60310),groupByRefType:Wb("group-by-ref-type",60311),ungroupByRefType:Wb("ungroup-by-ref-type",60312),account:Wb("account",60313),gitPullRequestAssignee:Wb("git-pull-request-assignee",60313),bellDot:Wb("bell-dot",60314),debugConsole:Wb("debug-console",60315),library:Wb("library",60316),output:Wb("output",60317),runAll:Wb("run-all",60318),syncIgnored:Wb("sync-ignored",60319),pinned:Wb("pinned",60320),githubInverted:Wb("github-inverted",60321),debugAlt:Wb("debug-alt",60305),serverProcess:Wb("server-process",60322),serverEnvironment:Wb("server-environment",60323),pass:Wb("pass",60324),stopCircle:Wb("stop-circle",60325),playCircle:Wb("play-circle",60326),record:Wb("record",60327),debugAltSmall:Wb("debug-alt-small",60328),vmConnect:Wb("vm-connect",60329),cloud:Wb("cloud",60330),merge:Wb("merge",60331),exportIcon:Wb("export",60332),graphLeft:Wb("graph-left",60333),magnet:Wb("magnet",60334),notebook:Wb("notebook",60335),redo:Wb("redo",60336),checkAll:Wb("check-all",60337),pinnedDirty:Wb("pinned-dirty",60338),passFilled:Wb("pass-filled",60339),circleLargeFilled:Wb("circle-large-filled",60340),circleLarge:Wb("circle-large",60341),circleLargeOutline:Wb("circle-large-outline",60341),combine:Wb("combine",60342),gather:Wb("gather",60342),table:Wb("table",60343),variableGroup:Wb("variable-group",60344),typeHierarchy:Wb("type-hierarchy",60345),typeHierarchySub:Wb("type-hierarchy-sub",60346),typeHierarchySuper:Wb("type-hierarchy-super",60347),gitPullRequestCreate:Wb("git-pull-request-create",60348),runAbove:Wb("run-above",60349),runBelow:Wb("run-below",60350),notebookTemplate:Wb("notebook-template",60351),debugRerun:Wb("debug-rerun",60352),workspaceTrusted:Wb("workspace-trusted",60353),workspaceUntrusted:Wb("workspace-untrusted",60354),workspaceUnspecified:Wb("workspace-unspecified",60355),terminalCmd:Wb("terminal-cmd",60356),terminalDebian:Wb("terminal-debian",60357),terminalLinux:Wb("terminal-linux",60358),terminalPowershell:Wb("terminal-powershell",60359),terminalTmux:Wb("terminal-tmux",60360),terminalUbuntu:Wb("terminal-ubuntu",60361),terminalBash:Wb("terminal-bash",60362),arrowSwap:Wb("arrow-swap",60363),copy:Wb("copy",60364),personAdd:Wb("person-add",60365),filterFilled:Wb("filter-filled",60366),wand:Wb("wand",60367),debugLineByLine:Wb("debug-line-by-line",60368),inspect:Wb("inspect",60369),layers:Wb("layers",60370),layersDot:Wb("layers-dot",60371),layersActive:Wb("layers-active",60372),compass:Wb("compass",60373),compassDot:Wb("compass-dot",60374),compassActive:Wb("compass-active",60375),azure:Wb("azure",60376),issueDraft:Wb("issue-draft",60377),gitPullRequestClosed:Wb("git-pull-request-closed",60378),gitPullRequestDraft:Wb("git-pull-request-draft",60379),debugAll:Wb("debug-all",60380),debugCoverage:Wb("debug-coverage",60381),runErrors:Wb("run-errors",60382),folderLibrary:Wb("folder-library",60383),debugContinueSmall:Wb("debug-continue-small",60384),beakerStop:Wb("beaker-stop",60385),graphLine:Wb("graph-line",60386),graphScatter:Wb("graph-scatter",60387),pieChart:Wb("pie-chart",60388),bracketDot:Wb("bracket-dot",60389),bracketError:Wb("bracket-error",60390),lockSmall:Wb("lock-small",60391),azureDevops:Wb("azure-devops",60392),verifiedFilled:Wb("verified-filled",60393),newLine:Wb("newline",60394),layout:Wb("layout",60395),layoutActivitybarLeft:Wb("layout-activitybar-left",60396),layoutActivitybarRight:Wb("layout-activitybar-right",60397),layoutPanelLeft:Wb("layout-panel-left",60398),layoutPanelCenter:Wb("layout-panel-center",60399),layoutPanelJustify:Wb("layout-panel-justify",60400),layoutPanelRight:Wb("layout-panel-right",60401),layoutPanel:Wb("layout-panel",60402),layoutSidebarLeft:Wb("layout-sidebar-left",60403),layoutSidebarRight:Wb("layout-sidebar-right",60404),layoutStatusbar:Wb("layout-statusbar",60405),layoutMenubar:Wb("layout-menubar",60406),layoutCentered:Wb("layout-centered",60407),layoutSidebarRightOff:Wb("layout-sidebar-right-off",60416),layoutPanelOff:Wb("layout-panel-off",60417),layoutSidebarLeftOff:Wb("layout-sidebar-left-off",60418),target:Wb("target",60408),indent:Wb("indent",60409),recordSmall:Wb("record-small",60410),errorSmall:Wb("error-small",60411),arrowCircleDown:Wb("arrow-circle-down",60412),arrowCircleLeft:Wb("arrow-circle-left",60413),arrowCircleRight:Wb("arrow-circle-right",60414),arrowCircleUp:Wb("arrow-circle-up",60415),heartFilled:Wb("heart-filled",60420),map:Wb("map",60421),mapFilled:Wb("map-filled",60422),circleSmall:Wb("circle-small",60423),bellSlash:Wb("bell-slash",60424),bellSlashDot:Wb("bell-slash-dot",60425),commentUnresolved:Wb("comment-unresolved",60426),gitPullRequestGoToChanges:Wb("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:Wb("git-pull-request-new-changes",60428),searchFuzzy:Wb("search-fuzzy",60429),commentDraft:Wb("comment-draft",60430),send:Wb("send",60431),sparkle:Wb("sparkle",60432),insert:Wb("insert",60433),mic:Wb("mic",60434),thumbsDownFilled:Wb("thumbsdown-filled",60435),thumbsUpFilled:Wb("thumbsup-filled",60436),coffee:Wb("coffee",60437),snake:Wb("snake",60438),game:Wb("game",60439),vr:Wb("vr",60440),chip:Wb("chip",60441),piano:Wb("piano",60442),music:Wb("music",60443),micFilled:Wb("mic-filled",60444),gitFetch:Wb("git-fetch",60445),copilot:Wb("copilot",60446),lightbulbSparkle:Wb("lightbulb-sparkle",60447),lightbulbSparkleAutofix:Wb("lightbulb-sparkle-autofix",60447),robot:Wb("robot",60448),sparkleFilled:Wb("sparkle-filled",60449),diffSingle:Wb("diff-single",60450),diffMultiple:Wb("diff-multiple",60451),dialogError:Wb("dialog-error","error"),dialogWarning:Wb("dialog-warning","warning"),dialogInfo:Wb("dialog-info","info"),dialogClose:Wb("dialog-close","close"),treeItemExpanded:Wb("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:Wb("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:Wb("tree-filter-on-type-off","list-selection"),treeFilterClear:Wb("tree-filter-clear","close"),treeItemLoading:Wb("tree-item-loading","loading"),menuSelection:Wb("menu-selection","check"),menuSubmenu:Wb("menu-submenu","chevron-right"),menuBarMore:Wb("menubar-more","more"),scrollbarButtonLeft:Wb("scrollbar-button-left","triangle-left"),scrollbarButtonRight:Wb("scrollbar-button-right","triangle-right"),scrollbarButtonUp:Wb("scrollbar-button-up","triangle-up"),scrollbarButtonDown:Wb("scrollbar-button-down","triangle-down"),toolBarMore:Wb("toolbar-more","more"),quickInputBack:Wb("quick-input-back","arrow-left")};class jb extends hv{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}class Ub{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class Kb{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class qb{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var Gb,Yb,Zb,Qb;!function(e){const t=new Map;t.set(0,Hb.symbolMethod),t.set(1,Hb.symbolFunction),t.set(2,Hb.symbolConstructor),t.set(3,Hb.symbolField),t.set(4,Hb.symbolVariable),t.set(5,Hb.symbolClass),t.set(6,Hb.symbolStruct),t.set(7,Hb.symbolInterface),t.set(8,Hb.symbolModule),t.set(9,Hb.symbolProperty),t.set(10,Hb.symbolEvent),t.set(11,Hb.symbolOperator),t.set(12,Hb.symbolUnit),t.set(13,Hb.symbolValue),t.set(15,Hb.symbolEnum),t.set(14,Hb.symbolConstant),t.set(15,Hb.symbolEnum),t.set(16,Hb.symbolEnumMember),t.set(17,Hb.symbolKeyword),t.set(27,Hb.symbolSnippet),t.set(18,Hb.symbolText),t.set(19,Hb.symbolColor),t.set(20,Hb.symbolFile),t.set(21,Hb.symbolReference),t.set(22,Hb.symbolCustomColor),t.set(23,Hb.symbolFolder),t.set(24,Hb.symbolTypeParameter),t.set(25,Hb.account),t.set(26,Hb.issues),e.toIcon=function(e){let i=t.get(e);return i||(console.info("No codicon found for CompletionItemKind "+e),i=Hb.symbolProperty),i};const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26),e.fromString=function(e,t){let n=i.get(e);return"undefined"!==typeof n||t||(n=9),n}}(Gb||(Gb={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(Yb||(Yb={}));class Xb{constructor(e,t,i,n){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=n}equals(e){return Fb.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}!function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(Zb||(Zb={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(Qb||(Qb={}));lf("Array","array"),lf("Boolean","boolean"),lf("Class","class"),lf("Constant","constant"),lf("Constructor","constructor"),lf("Enum","enumeration"),lf("EnumMember","enumeration member"),lf("Event","event"),lf("Field","field"),lf("File","file"),lf("Function","function"),lf("Interface","interface"),lf("Key","key"),lf("Method","method"),lf("Module","module"),lf("Namespace","namespace"),lf("Null","null"),lf("Number","number"),lf("Object","object"),lf("Operator","operator"),lf("Package","package"),lf("Property","property"),lf("String","string"),lf("Struct","struct"),lf("TypeParameter","type parameter"),lf("Variable","variable");var Jb,$b,e_;!function(e){const t=new Map;t.set(0,Hb.symbolFile),t.set(1,Hb.symbolModule),t.set(2,Hb.symbolNamespace),t.set(3,Hb.symbolPackage),t.set(4,Hb.symbolClass),t.set(5,Hb.symbolMethod),t.set(6,Hb.symbolProperty),t.set(7,Hb.symbolField),t.set(8,Hb.symbolConstructor),t.set(9,Hb.symbolEnum),t.set(10,Hb.symbolInterface),t.set(11,Hb.symbolFunction),t.set(12,Hb.symbolVariable),t.set(13,Hb.symbolConstant),t.set(14,Hb.symbolString),t.set(15,Hb.symbolNumber),t.set(16,Hb.symbolBoolean),t.set(17,Hb.symbolArray),t.set(18,Hb.symbolObject),t.set(19,Hb.symbolKey),t.set(20,Hb.symbolNull),t.set(21,Hb.symbolEnumMember),t.set(22,Hb.symbolStruct),t.set(23,Hb.symbolEvent),t.set(24,Hb.symbolOperator),t.set(25,Hb.symbolTypeParameter),e.toIcon=function(e){let i=t.get(e);return i||(console.info("No codicon found for SymbolKind "+e),i=Hb.symbolProperty),i}}(Jb||(Jb={}));class t_{static fromValue(e){switch(e){case"comment":return t_.Comment;case"imports":return t_.Imports;case"region":return t_.Region}return new t_(e)}constructor(e){this.value=e}}t_.Comment=new t_("comment"),t_.Imports=new t_("imports"),t_.Region=new t_("region"),function(e){e.is=function(e){return!(!e||"object"!==typeof e)&&("string"===typeof e.id&&"string"===typeof e.title)}}($b||($b={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(e_||(e_={}));class i_{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then((e=>{e&&e.dispose()}))}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const n_=new class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),cv((()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))}))}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var i;null===(i=this._factories.get(e))||void 0===i||i.dispose();const n=new jb(this,e,t);return this._factories.set(e,n),cv((()=>{const t=this._factories.get(e);t&&t===n&&(this._factories.delete(e),t.dispose())}))}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const t=this._factories.get(e);return!(t&&!t.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};var o_,s_,r_,a_,l_,c_,d_,h_,u_,g_,p_,f_,m_,v_,b_,__,w_,y_,C_,S_,k_,L_,x_,D_,E_,N_,T_,I_,A_,M_,O_,R_,P_,F_,B_,V_,W_,z_,H_,j_;!function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"}(o_||(o_={})),function(e){e[e.Invoke=1]="Invoke",e[e.Auto=2]="Auto"}(s_||(s_={})),function(e){e[e.None=0]="None",e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"}(r_||(r_={})),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"}(a_||(a_={})),function(e){e[e.Deprecated=1]="Deprecated"}(l_||(l_={})),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(c_||(c_={})),function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(d_||(d_={})),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(h_||(h_={})),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(u_||(u_={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(g_||(g_={})),function(e){e[e.None=0]="None",e[e.Keep=1]="Keep",e[e.Brackets=2]="Brackets",e[e.Advanced=3]="Advanced",e[e.Full=4]="Full"}(p_||(p_={})),function(e){e[e.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",e[e.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",e[e.accessibilitySupport=2]="accessibilitySupport",e[e.accessibilityPageSize=3]="accessibilityPageSize",e[e.ariaLabel=4]="ariaLabel",e[e.ariaRequired=5]="ariaRequired",e[e.autoClosingBrackets=6]="autoClosingBrackets",e[e.autoClosingComments=7]="autoClosingComments",e[e.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",e[e.autoClosingDelete=9]="autoClosingDelete",e[e.autoClosingOvertype=10]="autoClosingOvertype",e[e.autoClosingQuotes=11]="autoClosingQuotes",e[e.autoIndent=12]="autoIndent",e[e.automaticLayout=13]="automaticLayout",e[e.autoSurround=14]="autoSurround",e[e.bracketPairColorization=15]="bracketPairColorization",e[e.guides=16]="guides",e[e.codeLens=17]="codeLens",e[e.codeLensFontFamily=18]="codeLensFontFamily",e[e.codeLensFontSize=19]="codeLensFontSize",e[e.colorDecorators=20]="colorDecorators",e[e.colorDecoratorsLimit=21]="colorDecoratorsLimit",e[e.columnSelection=22]="columnSelection",e[e.comments=23]="comments",e[e.contextmenu=24]="contextmenu",e[e.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",e[e.cursorBlinking=26]="cursorBlinking",e[e.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",e[e.cursorStyle=28]="cursorStyle",e[e.cursorSurroundingLines=29]="cursorSurroundingLines",e[e.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",e[e.cursorWidth=31]="cursorWidth",e[e.disableLayerHinting=32]="disableLayerHinting",e[e.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",e[e.domReadOnly=34]="domReadOnly",e[e.dragAndDrop=35]="dragAndDrop",e[e.dropIntoEditor=36]="dropIntoEditor",e[e.emptySelectionClipboard=37]="emptySelectionClipboard",e[e.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",e[e.extraEditorClassName=39]="extraEditorClassName",e[e.fastScrollSensitivity=40]="fastScrollSensitivity",e[e.find=41]="find",e[e.fixedOverflowWidgets=42]="fixedOverflowWidgets",e[e.folding=43]="folding",e[e.foldingStrategy=44]="foldingStrategy",e[e.foldingHighlight=45]="foldingHighlight",e[e.foldingImportsByDefault=46]="foldingImportsByDefault",e[e.foldingMaximumRegions=47]="foldingMaximumRegions",e[e.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",e[e.fontFamily=49]="fontFamily",e[e.fontInfo=50]="fontInfo",e[e.fontLigatures=51]="fontLigatures",e[e.fontSize=52]="fontSize",e[e.fontWeight=53]="fontWeight",e[e.fontVariations=54]="fontVariations",e[e.formatOnPaste=55]="formatOnPaste",e[e.formatOnType=56]="formatOnType",e[e.glyphMargin=57]="glyphMargin",e[e.gotoLocation=58]="gotoLocation",e[e.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",e[e.hover=60]="hover",e[e.inDiffEditor=61]="inDiffEditor",e[e.inlineSuggest=62]="inlineSuggest",e[e.letterSpacing=63]="letterSpacing",e[e.lightbulb=64]="lightbulb",e[e.lineDecorationsWidth=65]="lineDecorationsWidth",e[e.lineHeight=66]="lineHeight",e[e.lineNumbers=67]="lineNumbers",e[e.lineNumbersMinChars=68]="lineNumbersMinChars",e[e.linkedEditing=69]="linkedEditing",e[e.links=70]="links",e[e.matchBrackets=71]="matchBrackets",e[e.minimap=72]="minimap",e[e.mouseStyle=73]="mouseStyle",e[e.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",e[e.mouseWheelZoom=75]="mouseWheelZoom",e[e.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",e[e.multiCursorModifier=77]="multiCursorModifier",e[e.multiCursorPaste=78]="multiCursorPaste",e[e.multiCursorLimit=79]="multiCursorLimit",e[e.occurrencesHighlight=80]="occurrencesHighlight",e[e.overviewRulerBorder=81]="overviewRulerBorder",e[e.overviewRulerLanes=82]="overviewRulerLanes",e[e.padding=83]="padding",e[e.pasteAs=84]="pasteAs",e[e.parameterHints=85]="parameterHints",e[e.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",e[e.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",e[e.quickSuggestions=88]="quickSuggestions",e[e.quickSuggestionsDelay=89]="quickSuggestionsDelay",e[e.readOnly=90]="readOnly",e[e.readOnlyMessage=91]="readOnlyMessage",e[e.renameOnType=92]="renameOnType",e[e.renderControlCharacters=93]="renderControlCharacters",e[e.renderFinalNewline=94]="renderFinalNewline",e[e.renderLineHighlight=95]="renderLineHighlight",e[e.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",e[e.renderValidationDecorations=97]="renderValidationDecorations",e[e.renderWhitespace=98]="renderWhitespace",e[e.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",e[e.roundedSelection=100]="roundedSelection",e[e.rulers=101]="rulers",e[e.scrollbar=102]="scrollbar",e[e.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",e[e.scrollBeyondLastLine=104]="scrollBeyondLastLine",e[e.scrollPredominantAxis=105]="scrollPredominantAxis",e[e.selectionClipboard=106]="selectionClipboard",e[e.selectionHighlight=107]="selectionHighlight",e[e.selectOnLineNumbers=108]="selectOnLineNumbers",e[e.showFoldingControls=109]="showFoldingControls",e[e.showUnused=110]="showUnused",e[e.snippetSuggestions=111]="snippetSuggestions",e[e.smartSelect=112]="smartSelect",e[e.smoothScrolling=113]="smoothScrolling",e[e.stickyScroll=114]="stickyScroll",e[e.stickyTabStops=115]="stickyTabStops",e[e.stopRenderingLineAfter=116]="stopRenderingLineAfter",e[e.suggest=117]="suggest",e[e.suggestFontSize=118]="suggestFontSize",e[e.suggestLineHeight=119]="suggestLineHeight",e[e.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",e[e.suggestSelection=121]="suggestSelection",e[e.tabCompletion=122]="tabCompletion",e[e.tabIndex=123]="tabIndex",e[e.unicodeHighlighting=124]="unicodeHighlighting",e[e.unusualLineTerminators=125]="unusualLineTerminators",e[e.useShadowDOM=126]="useShadowDOM",e[e.useTabStops=127]="useTabStops",e[e.wordBreak=128]="wordBreak",e[e.wordSeparators=129]="wordSeparators",e[e.wordWrap=130]="wordWrap",e[e.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",e[e.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",e[e.wordWrapColumn=133]="wordWrapColumn",e[e.wordWrapOverride1=134]="wordWrapOverride1",e[e.wordWrapOverride2=135]="wordWrapOverride2",e[e.wrappingIndent=136]="wrappingIndent",e[e.wrappingStrategy=137]="wrappingStrategy",e[e.showDeprecated=138]="showDeprecated",e[e.inlayHints=139]="inlayHints",e[e.editorClassName=140]="editorClassName",e[e.pixelRatio=141]="pixelRatio",e[e.tabFocusMode=142]="tabFocusMode",e[e.layoutInfo=143]="layoutInfo",e[e.wrappingInfo=144]="wrappingInfo",e[e.defaultColorDecorators=145]="defaultColorDecorators",e[e.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",e[e.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"}(f_||(f_={})),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(m_||(m_={})),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(v_||(v_={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(b_||(b_={})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(__||(__={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(w_||(w_={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(y_||(y_={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(C_||(C_={})),function(e){e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.Digit0=21]="Digit0",e[e.Digit1=22]="Digit1",e[e.Digit2=23]="Digit2",e[e.Digit3=24]="Digit3",e[e.Digit4=25]="Digit4",e[e.Digit5=26]="Digit5",e[e.Digit6=27]="Digit6",e[e.Digit7=28]="Digit7",e[e.Digit8=29]="Digit8",e[e.Digit9=30]="Digit9",e[e.KeyA=31]="KeyA",e[e.KeyB=32]="KeyB",e[e.KeyC=33]="KeyC",e[e.KeyD=34]="KeyD",e[e.KeyE=35]="KeyE",e[e.KeyF=36]="KeyF",e[e.KeyG=37]="KeyG",e[e.KeyH=38]="KeyH",e[e.KeyI=39]="KeyI",e[e.KeyJ=40]="KeyJ",e[e.KeyK=41]="KeyK",e[e.KeyL=42]="KeyL",e[e.KeyM=43]="KeyM",e[e.KeyN=44]="KeyN",e[e.KeyO=45]="KeyO",e[e.KeyP=46]="KeyP",e[e.KeyQ=47]="KeyQ",e[e.KeyR=48]="KeyR",e[e.KeyS=49]="KeyS",e[e.KeyT=50]="KeyT",e[e.KeyU=51]="KeyU",e[e.KeyV=52]="KeyV",e[e.KeyW=53]="KeyW",e[e.KeyX=54]="KeyX",e[e.KeyY=55]="KeyY",e[e.KeyZ=56]="KeyZ",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.F20=78]="F20",e[e.F21=79]="F21",e[e.F22=80]="F22",e[e.F23=81]="F23",e[e.F24=82]="F24",e[e.NumLock=83]="NumLock",e[e.ScrollLock=84]="ScrollLock",e[e.Semicolon=85]="Semicolon",e[e.Equal=86]="Equal",e[e.Comma=87]="Comma",e[e.Minus=88]="Minus",e[e.Period=89]="Period",e[e.Slash=90]="Slash",e[e.Backquote=91]="Backquote",e[e.BracketLeft=92]="BracketLeft",e[e.Backslash=93]="Backslash",e[e.BracketRight=94]="BracketRight",e[e.Quote=95]="Quote",e[e.OEM_8=96]="OEM_8",e[e.IntlBackslash=97]="IntlBackslash",e[e.Numpad0=98]="Numpad0",e[e.Numpad1=99]="Numpad1",e[e.Numpad2=100]="Numpad2",e[e.Numpad3=101]="Numpad3",e[e.Numpad4=102]="Numpad4",e[e.Numpad5=103]="Numpad5",e[e.Numpad6=104]="Numpad6",e[e.Numpad7=105]="Numpad7",e[e.Numpad8=106]="Numpad8",e[e.Numpad9=107]="Numpad9",e[e.NumpadMultiply=108]="NumpadMultiply",e[e.NumpadAdd=109]="NumpadAdd",e[e.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",e[e.NumpadSubtract=111]="NumpadSubtract",e[e.NumpadDecimal=112]="NumpadDecimal",e[e.NumpadDivide=113]="NumpadDivide",e[e.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",e[e.ABNT_C1=115]="ABNT_C1",e[e.ABNT_C2=116]="ABNT_C2",e[e.AudioVolumeMute=117]="AudioVolumeMute",e[e.AudioVolumeUp=118]="AudioVolumeUp",e[e.AudioVolumeDown=119]="AudioVolumeDown",e[e.BrowserSearch=120]="BrowserSearch",e[e.BrowserHome=121]="BrowserHome",e[e.BrowserBack=122]="BrowserBack",e[e.BrowserForward=123]="BrowserForward",e[e.MediaTrackNext=124]="MediaTrackNext",e[e.MediaTrackPrevious=125]="MediaTrackPrevious",e[e.MediaStop=126]="MediaStop",e[e.MediaPlayPause=127]="MediaPlayPause",e[e.LaunchMediaPlayer=128]="LaunchMediaPlayer",e[e.LaunchMail=129]="LaunchMail",e[e.LaunchApp2=130]="LaunchApp2",e[e.Clear=131]="Clear",e[e.MAX_VALUE=132]="MAX_VALUE"}(S_||(S_={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(k_||(k_={})),function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"}(L_||(L_={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(x_||(x_={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(D_||(D_={})),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(E_||(E_={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(N_||(N_={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.None=2]="None",e[e.LeftOfInjectedText=3]="LeftOfInjectedText",e[e.RightOfInjectedText=4]="RightOfInjectedText"}(T_||(T_={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(I_||(I_={})),function(e){e[e.None=0]="None",e[e.Text=1]="Text",e[e.Blocks=2]="Blocks"}(A_||(A_={})),function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(M_||(M_={})),function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(O_||(O_={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(R_||(R_={})),function(e){e.Off="off",e.OnCode="onCode",e.On="on"}(P_||(P_={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(F_||(F_={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(B_||(B_={})),function(e){e[e.Deprecated=1]="Deprecated"}(V_||(V_={})),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(W_||(W_={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(z_||(z_={})),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(H_||(H_={})),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(j_||(j_={}));class U_{static chord(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)}}function K_(){return{editor:void 0,languages:void 0,CancellationTokenSource:Mv,Emitter:Cv,KeyCode:S_,KeyMod:U_,Position:Pb,Range:Fb,Selection:Bb,SelectionDirection:R_,MarkerSeverity:k_,MarkerTag:L_,Uri:Lb,Token:Ub}}U_.CtrlCmd=2048,U_.Shift=1024,U_.Alt=512,U_.WinCtrl=256;const q_=window,G_=q_;class Y_{get cachedValues(){return this._map}constructor(e){this.fn=e,this._map=new Map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class Z_{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var Q_;const X_=/{(\d+)}/g;function J_(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return 0===i.length?e:e.replace(X_,(function(e,t){const n=parseInt(t,10);return isNaN(n)||n<0||n>=i.length?e:i[n]}))}function $_(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function ew(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function tw(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function iw(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,s=-1;for(;s=e.lastIndexOf(t,o-1),-1!==s&&s+i===o;){if(0===s)return"";o=s}return e.substring(0,o)}function nw(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("Cannot create regex from empty string");t||(e=ew(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function ow(e){return e.split(/\r\n|\r|\n/)}function sw(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function rw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function aw(e){for(let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;t>=0;t--){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function lw(e,t){return e<t?-1:e>t?1:0}function cw(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.length;for(;i<n&&o<s;i++,o++){const n=e.charCodeAt(i),s=t.charCodeAt(o);if(n<s)return-1;if(n>s)return 1}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function dw(e,t){return hw(e,t,0,e.length,0,t.length)}function hw(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.length;for(;i<n&&o<s;i++,o++){let r=e.charCodeAt(i),a=t.charCodeAt(o);if(r===a)continue;if(r>=128||a>=128)return cw(e.toLowerCase(),t.toLowerCase(),i,n,o,s);gw(r)&&(r-=32),gw(a)&&(a-=32);const l=r-a;if(0!==l)return l}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function uw(e){return e>=48&&e<=57}function gw(e){return e>=97&&e<=122}function pw(e){return e>=65&&e<=90}function fw(e,t){return e.length===t.length&&0===hw(e,t)}function mw(e,t){const i=t.length;return!(t.length>e.length)&&0===hw(e,t,0,i)}function vw(e,t){const i=Math.min(e.length,t.length);let n;for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function bw(e,t){const i=Math.min(e.length,t.length);let n;const o=e.length-1,s=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(o-n)!==t.charCodeAt(s-n))return n;return i}function _w(e){return 55296<=e&&e<=56319}function ww(e){return 56320<=e&&e<=57343}function yw(e,t){return t-56320+(e-55296<<10)+65536}function Cw(e,t,i){const n=e.charCodeAt(i);if(_w(n)&&i+1<t){const t=e.charCodeAt(i+1);if(ww(t))return yw(n,t)}return n}class Sw{get offset(){return this._offset}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=function(e,t){const i=e.charCodeAt(t-1);if(ww(i)&&t>1){const n=e.charCodeAt(t-2);if(_w(n))return yw(n,i)}return i}(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=Cw(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class kw{get offset(){return this._iterator.offset}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._iterator=new Sw(e,t)}nextGraphemeLength(){const e=Vw.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const i=t.offset,o=e.getGraphemeBreakType(t.nextCodePoint());if(Bw(n,o)){t.setOffset(i);break}n=o}return t.offset-i}prevGraphemeLength(){const e=Vw.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const i=t.offset,o=e.getGraphemeBreakType(t.prevCodePoint());if(Bw(o,n)){t.setOffset(i);break}n=o}return i-t.offset}eol(){return this._iterator.eol()}}function Lw(e,t){return new kw(e,t).nextGraphemeLength()}function xw(e,t){return new kw(e,t).prevGraphemeLength()}let Dw;function Ew(e){return Dw||(Dw=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),Dw.test(e)}const Nw=/^[\t\n\r\x20-\x7E]*$/;function Tw(e){return Nw.test(e)}const Iw=/[\u2028\u2029]/;function Aw(e){return Iw.test(e)}function Mw(e){return e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function Ow(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129008||e>=129280&&e<=129535||e>=129648&&e<=129782}const Rw=String.fromCharCode(65279);function Pw(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function Fw(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function Bw(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class Vw{static getInstance(){return Vw._INSTANCE||(Vw._INSTANCE=new Vw),Vw._INSTANCE}constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function Ww(e,t){if(0===e)return 0;const i=function(e,t){const i=new Sw(t,e);let n=i.prevCodePoint();for(;zw(n)||65039===n||8419===n;){if(0===i.offset)return;n=i.prevCodePoint()}if(!Ow(n))return;let o=i.offset;if(o>0){8205===i.prevCodePoint()&&(o=i.offset)}return o}(e,t);if(void 0!==i)return i;const n=new Sw(t,e);return n.prevCodePoint(),n.offset}function zw(e){return 127995<=e&&e<=127999}Vw._INSTANCE=null;class Hw{static getInstance(e){return Q_.cache.get(Array.from(e))}static getLocales(){return Q_._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Q_=Hw,Hw.ambiguousCharacterData=new Z_((()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))),Hw.cache=new class{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}((e=>{function t(e){const t=new Map;for(let i=0;i<e.length;i+=2)t.set(e[i],e[i+1]);return t}function i(e,t){if(!e)return t;const i=new Map;for(const[n,o]of e)t.has(n)&&i.set(n,o);return i}const n=Q_.ambiguousCharacterData.value;let o,s=e.filter((e=>!e.startsWith("_")&&e in n));0===s.length&&(s=["_default"]);for(const a of s){o=i(o,t(n[a]))}const r=function(e,t){const i=new Map(e);for(const[n,o]of t)i.set(n,o);return i}(t(n._common),o);return new Q_(r)})),Hw._locales=new Z_((()=>Object.keys(Q_.ambiguousCharacterData.value).filter((e=>!e.startsWith("_")))));class jw{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(jw.getRawData())),this._data}static isInvisibleCharacter(e){return jw.getData().has(e)}static get codePoints(){return jw.getData()}}jw._data=void 0;class Uw{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}Uw.INSTANCE=new Uw;class Kw extends hv{constructor(){super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;null===(t=this._mediaQueryList)||void 0===t||t.removeEventListener("change",this._listener),this._mediaQueryList=G_.matchMedia("(resolution: ".concat(G_.devicePixelRatio,"dppx)")),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class qw extends hv{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new Kw);this._register(e.onDidChange((()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)})))}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d");return(G_.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function Gw(e,t){"string"===typeof e&&(e=G_.matchMedia(e)),e.addEventListener("change",t)}const Yw=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=rv(new qw)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};const Zw=navigator.userAgent,Qw=Zw.indexOf("Firefox")>=0,Xw=Zw.indexOf("AppleWebKit")>=0,Jw=Zw.indexOf("Chrome")>=0,$w=!Jw&&Zw.indexOf("Safari")>=0,ey=!Jw&&!$w&&Xw,ty=(Zw.indexOf("Electron/"),Zw.indexOf("Android")>=0);let iy=!1;if(G_.matchMedia){const e=G_.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=G_.matchMedia("(display-mode: fullscreen)");iy=e.matches,Gw(e,(e=>{let{matches:i}=e;iy&&t.matches||(iy=i)}))}class ny{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=oy(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=oy(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=oy(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=oy(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=oy(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=oy(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=oy(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=oy(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=oy(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=oy(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=oy(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function oy(e){return"number"===typeof e?"".concat(e,"px"):e}function sy(e){return new ny(e)}function ry(e,t){e instanceof ny?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setFontVariationSettings(t.fontVariationSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.fontVariationSettings=t.fontVariationSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}class ay{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class ly{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),G_.document.body.appendChild(this._container),this._readFromDomElements(),G_.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");ry(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");ry(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const n=document.createElement("div");ry(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const s of this._requests){let e;0===s.type&&(e=t),2===s.type&&(e=i),1===s.type&&(e=n),e.appendChild(document.createElement("br"));const r=document.createElement("span");ly._render(r,s),e.appendChild(r),o.push(r)}this._container=e,this._testElements=o}static _render(e,t){if(" "===t.chr){let t="\xa0";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}const cy=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Cv,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},dy=Af?1.5:1.35;class hy{static createFromValidatedSettings(e,t,i){const n=e.get(49),o=e.get(53),s=e.get(52),r=e.get(51),a=e.get(54),l=e.get(66),c=e.get(63);return hy._create(n,o,s,r,a,l,c,t,i)}static _create(e,t,i,n,o,s,r,a,l){0===s?s=dy*i:s<8&&(s*=i),(s=Math.round(s))<8&&(s=8);const c=1+(l?0:.1*cy.getZoomLevel());if(i*=c,s*=c,o===Lm.TRANSLATE)if("normal"===t||"bold"===t)o=Lm.OFF;else{const e=parseInt(t,10);o="'wght' ".concat(e),t="normal"}return new hy({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:n,fontVariationSettings:o,lineHeight:s,letterSpacing:r})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}getId(){return"".concat(this.pixelRatio,"-").concat(this.fontFamily,"-").concat(this.fontWeight,"-").concat(this.fontSize,"-").concat(this.fontFeatureSettings,"-").concat(this.fontVariationSettings,"-").concat(this.lineHeight,"-").concat(this.letterSpacing)}getMassagedFontFamily(){const e=Vm.fontFamily,t=hy._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?"".concat(t,", ").concat(e):t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?'"'.concat(e,'"'):e}}class uy extends hy{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=2,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class gy{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}const py=new class extends hv{constructor(){super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._cache=new gy,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new gy,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=q_.setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new uy({pixelRatio:Yw.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){const o=new ay(e,t);return i.push(o),null===n||void 0===n||n.push(o),o}_actualReadFontInfo(e){const t=[],i=[],n=this._createRequest("n",0,t,i),o=this._createRequest("\uff4d",0,t,null),s=this._createRequest(" ",0,t,i),r=this._createRequest("0",0,t,i),a=this._createRequest("1",0,t,i),l=this._createRequest("2",0,t,i),c=this._createRequest("3",0,t,i),d=this._createRequest("4",0,t,i),h=this._createRequest("5",0,t,i),u=this._createRequest("6",0,t,i),g=this._createRequest("7",0,t,i),p=this._createRequest("8",0,t,i),f=this._createRequest("9",0,t,i),m=this._createRequest("\u2192",0,t,i),v=this._createRequest("\uffeb",0,t,null),b=this._createRequest("\xb7",0,t,i),_=this._createRequest(String.fromCharCode(11825),0,t,null),w="|/-_ilm%";for(let L=0,x=8;L<x;L++)this._createRequest(w.charAt(L),0,t,i),this._createRequest(w.charAt(L),1,t,i),this._createRequest(w.charAt(L),2,t,i);!function(e,t){new ly(e,t).read()}(e,t);const y=Math.max(r.width,a.width,l.width,c.width,d.width,h.width,u.width,g.width,p.width,f.width);let C=e.fontFeatureSettings===km.OFF;const S=i[0].width;for(let L=1,x=i.length;C&&L<x;L++){const e=S-i[L].width;if(e<-.001||e>.001){C=!1;break}}let k=!0;return C&&v.width!==S&&(k=!1),v.width>m.width&&(k=!1),new uy({pixelRatio:Yw.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,fontVariationSettings:e.fontVariationSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:C,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:k,spaceWidth:s.width,middotWidth:b.width,wsmiddotWidth:_.width,maxDigitWidth:y},!0)}};var fy;!function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(fy||(fy={}));const my=vy("instantiationService");function vy(e){if(fy.serviceIds.has(e))return fy.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,i){t[fy.DI_TARGET]===t?t[fy.DI_DEPENDENCIES].push({id:e,index:i}):(t[fy.DI_DEPENDENCIES]=[{id:e,index:i}],t[fy.DI_TARGET]=t)}(t,e,n)};return t.toString=()=>e,fy.serviceIds.set(e,t),t}const by=vy("codeEditorService"),_y=vy("modelService"),wy=vy("textModelService");class yy extends hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class Cy extends hv{constructor(){super(...arguments),this._onWillRun=this._register(new Cv),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new Cv),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;let i;this._onWillRun.fire({action:e});try{await this.runAction(e,t)}catch(Pee){i=Pee}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}class Sy{constructor(){this.id=Sy.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(){let e=[];for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const o of i)o.length&&(e=e.length?[...e,new Sy,...o]:o);return e}async run(){}}Sy.ID="vs.actions.separator";class ky{get actions(){return this._actions}constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}async run(){}}class Ly extends yy{constructor(){super(Ly.ID,lf("submenu.empty","(empty)"),void 0,!1)}}function xy(e){var t,i;return{id:e.id,label:e.label,class:e.class,enabled:null===(t=e.enabled)||void 0===t||t,checked:null!==(i=e.checked)&&void 0!==i&&i,run:async function(){return e.run(...arguments)},tooltip:e.label}}var Dy,Ey;Ly.ID="vs.actions.empty",function(e){e.isThemeColor=function(e){return e&&"object"===typeof e&&"string"===typeof e.id}}(Dy||(Dy={})),function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9-]+",e.iconModifierExpression="~[A-Za-z]+",e.iconNameCharacter="[A-Za-z0-9~-]";const t=new RegExp("^(".concat(e.iconNameExpression,")(").concat(e.iconModifierExpression,")?$"));function i(e){const n=t.exec(e.id);if(!n)return i(Hb.error);const[,o,s]=n,r=["codicon","codicon-"+o];return s&&r.push("codicon-modifier-"+s.substring(1)),r}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")},e.isThemeIcon=function(e){return e&&"object"===typeof e&&"string"===typeof e.id&&("undefined"===typeof e.color||Dy.isThemeColor(e.color))};const n=new RegExp("^\\$\\((".concat(e.iconNameExpression,"(?:").concat(e.iconModifierExpression,")?)\\)$"));e.fromString=function(e){const t=n.exec(e);if(!t)return;const[,i]=t;return{id:i}},e.fromId=function(e){return{id:e}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i="".concat(i,"~").concat(t)),{id:i}},e.getModifier=function(e){const t=e.id.lastIndexOf("~");if(-1!==t)return e.id.substring(t+1)},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)}}(Ey||(Ey={}));const Ny=vy("commandService"),Ty=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new Cv,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"===typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.metadata&&Array.isArray(e.metadata.args)){const t=[];for(const n of e.metadata.args)t.push(n.constraint);const i=e.handler;e.handler=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)Jp(e[n],t[n])}(o,t),i(e,...o)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new Jf,this._commands.set(i,n));const o=n.unshift(e),s=cv((()=>{o();const e=this._commands.get(i);(null===e||void 0===e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),s}registerCommandAlias(e,t){return Ty.registerCommand(e,(function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return e.get(Ny).executeCommand(t,...n)}))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return Qf.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};function Iy(){switch(arguments.length){case 1:return lf("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",arguments.length<=0?void 0:arguments[0]);case 2:return lf("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);case 3:return lf("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);default:return}}Ty.registerCommand("noop",(()=>{}));const Ay=lf("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),My=lf("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class Oy{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw Xm("unhandled token type: ".concat(JSON.stringify(e),"; have you forgotten to add a case?"))}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();){this._start=this._current;switch(this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else this._match(126)?this._addToken(9):this._error(Iy("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Iy("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Iy("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return!this._isAtEnd()&&(this._input.charCodeAt(this._current)===e&&(this._current++,!0))}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=Oy._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(Ay):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length)return this._current=e,void this._error(My);const n=this._input.charCodeAt(e);if(t)t=!1;else{if(47===n&&!i){e++;break}91===n?i=!0:92===n?t=!0:93===n&&(i=!1)}e++}for(;e<this._input.length&&Oy._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}Oy._regexFlags=new Set(["i","g","s","m","y","u"].map((e=>e.charCodeAt(0)))),Oy._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);const Ry=new Map;Ry.set("false",!1),Ry.set("true",!0),Ry.set("isMac",Af),Ry.set("isLinux",Mf),Ry.set("isWindows",If),Ry.set("isWeb",Rf),Ry.set("isMacNative",Af&&!Rf),Ry.set("isEdge",Yf),Ry.set("isFirefox",qf),Ry.set("isChrome",Kf),Ry.set("isSafari",Gf);const Py=Object.prototype.hasOwnProperty,Fy={regexParsingWithErrorRecovery:!0},By=lf("contextkey.parser.error.emptyString","Empty context key expression"),Vy=lf("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Wy=lf("contextkey.parser.error.noInAfterNot","'in' after 'not'."),zy=lf("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),Hy=lf("contextkey.parser.error.unexpectedToken","Unexpected token"),jy=lf("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),Uy=lf("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),Ky=lf("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class qy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fy;this._config=e,this._scanner=new Oy,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(""!==e){this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const e=this._expr();if(!this._isAtEnd()){const e=this._peek(),t=17===e.type?jy:void 0;throw this._parsingErrors.push({message:Hy,offset:e.offset,lexeme:Oy.getLexeme(e),additionalInfo:t}),qy._parseError}return e}catch(Pee){if(Pee!==qy._parseError)throw Pee;return}}else this._parsingErrors.push({message:By,offset:0,lexeme:"",additionalInfo:Vy})}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return 1===e.length?e[0]:Gy.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return 1===e.length?e[0]:Gy.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),Zy.INSTANCE;case 12:return this._advance(),Qy.INSTANCE;case 0:{this._advance();const e=this._expr();return this._consume(1,zy),null===e||void 0===e?void 0:e.negate()}case 17:return this._advance(),iC.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),Gy.true();case 12:return this._advance(),Gy.false();case 0:{this._advance();const e=this._expr();return this._consume(1,zy),e}case 17:{const n=e.lexeme;if(this._advance(),this._matchOne(9)){const e=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==e.type)throw this._errExpectedButGot("REGEX",e);const t=e.lexeme,i=t.lastIndexOf("/"),o=i===t.length-1?void 0:this._removeFlagsGY(t.substring(i+1));let s;try{s=new RegExp(t.substring(1,i),o)}catch(Pee){throw this._errExpectedButGot("REGEX",e)}return lC.create(n,s)}switch(e.type){case 10:case 19:{const t=[e.lexeme];this._advance();let i=this._peek(),o=0;for(let n=0;n<e.lexeme.length;n++)40===e.lexeme.charCodeAt(n)?o++:41===e.lexeme.charCodeAt(n)&&o--;for(;!this._isAtEnd()&&15!==i.type&&16!==i.type;){switch(i.type){case 0:o++;break;case 1:o--;break;case 10:case 18:for(let t=0;t<i.lexeme.length;t++)40===i.lexeme.charCodeAt(t)?o++:41===e.lexeme.charCodeAt(t)&&o--}if(o<0)break;t.push(Oy.getLexeme(i)),this._advance(),i=this._peek()}const s=t.join(""),r=s.lastIndexOf("/"),a=r===s.length-1?void 0:this._removeFlagsGY(s.substring(r+1));let l;try{l=new RegExp(s.substring(1,r),a)}catch(Pee){throw this._errExpectedButGot("REGEX",e)}return Gy.regex(n,l)}case 18:{const o=e.lexeme;this._advance();let s=null;if((t=o)&&"string"===typeof t&&0!==t.trim().length){const t=o.indexOf("/"),n=o.lastIndexOf("/");if(t!==n&&t>=0){const r=o.slice(t+1,n),a="i"===o[n+1]?"i":"";try{s=new RegExp(r,a)}catch(i){throw this._errExpectedButGot("REGEX",e)}}}if(null===s)throw this._errExpectedButGot("REGEX",e);return lC.create(n,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Wy);const e=this._value();return Gy.notIn(n,e)}switch(this._peek().type){case 3:{this._advance();const e=this._value();if(18===this._previous().type)return Gy.equals(n,e);switch(e){case"true":return Gy.has(n);case"false":return Gy.not(n);default:return Gy.equals(n,e)}}case 4:{this._advance();const e=this._value();if(18===this._previous().type)return Gy.notEquals(n,e);switch(e){case"true":return Gy.not(n);case"false":return Gy.has(n);default:return Gy.notEquals(n,e)}}case 5:return this._advance(),rC.create(n,this._value());case 6:return this._advance(),aC.create(n,this._value());case 7:return this._advance(),oC.create(n,this._value());case 8:return this._advance(),sC.create(n,this._value());case 13:return this._advance(),Gy.in(n,this._value());default:return Gy.has(n)}}case 20:throw this._parsingErrors.push({message:Uy,offset:e.offset,lexeme:"",additionalInfo:Ky}),qy._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}var t}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return!!this._check(e)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const n=lf("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",e,Oy.getLexeme(t)),o=t.offset,s=Oy.getLexeme(t);return this._parsingErrors.push({message:n,offset:o,lexeme:s,additionalInfo:i}),qy._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}qy._parseError=new Error;class Gy{static false(){return Zy.INSTANCE}static true(){return Qy.INSTANCE}static has(e){return Xy.create(e)}static equals(e,t){return Jy.create(e,t)}static notEquals(e,t){return tC.create(e,t)}static regex(e,t){return lC.create(e,t)}static in(e,t){return $y.create(e,t)}static notIn(e,t){return eC.create(e,t)}static not(e){return iC.create(e)}static and(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return hC.create(t,null,!0)}static or(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return uC.create(t,null,!0)}static deserialize(e){if(void 0===e||null===e)return;return this._parser.parse(e)}}function Yy(e,t){return e.cmp(t)}Gy._parser=new qy({regexParsingWithErrorRecovery:!1});class Zy{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Qy.INSTANCE}}Zy.INSTANCE=new Zy;class Qy{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Zy.INSTANCE}}Qy.INSTANCE=new Qy;class Xy{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=Ry.get(e);return"boolean"===typeof i?i?Qy.INSTANCE:Zy.INSTANCE:new Xy(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:fC(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Ry.get(this.key);return"boolean"===typeof e?e?Qy.INSTANCE:Zy.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=iC.create(this.key,this)),this.negated}}class Jy{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"===typeof t)return t?Xy.create(e,i):iC.create(e,i);const n=Ry.get(e);if("boolean"===typeof n){return t===(n?"true":"false")?Qy.INSTANCE:Zy.INSTANCE}return new Jy(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Ry.get(this.key);if("boolean"===typeof e){const t=e?"true":"false";return this.value===t?Qy.INSTANCE:Zy.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return"".concat(this.key," == '").concat(this.value,"'")}keys(){return[this.key]}negate(){return this.negated||(this.negated=tC.create(this.key,this.value,this)),this.negated}}class $y{static create(e,t){return new $y(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):"string"===typeof i&&"object"===typeof t&&null!==t&&Py.call(t,i)}serialize(){return"".concat(this.key," in '").concat(this.valueKey,"'")}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=eC.create(this.key,this.valueKey)),this.negated}}class eC{static create(e,t){return new eC(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=$y.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return"".concat(this.key," not in '").concat(this.valueKey,"'")}keys(){return this._negated.keys()}negate(){return this._negated}}class tC{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"===typeof t)return t?iC.create(e,i):Xy.create(e,i);const n=Ry.get(e);if("boolean"===typeof n){return t===(n?"true":"false")?Zy.INSTANCE:Qy.INSTANCE}return new tC(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=Ry.get(this.key);if("boolean"===typeof e){const t=e?"true":"false";return this.value===t?Zy.INSTANCE:Qy.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return"".concat(this.key," != '").concat(this.value,"'")}keys(){return[this.key]}negate(){return this.negated||(this.negated=Jy.create(this.key,this.value,this)),this.negated}}class iC{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=Ry.get(e);return"boolean"===typeof i?i?Zy.INSTANCE:Qy.INSTANCE:new iC(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:fC(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=Ry.get(this.key);return"boolean"===typeof e?e?Zy.INSTANCE:Qy.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return"!".concat(this.key)}keys(){return[this.key]}negate(){return this.negated||(this.negated=Xy.create(this.key,this)),this.negated}}function nC(e,t){if("string"===typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"===typeof e||"number"===typeof e?t(e):Zy.INSTANCE}class oC{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return nC(t,(t=>new oC(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return"".concat(this.key," > ").concat(this.value)}keys(){return[this.key]}negate(){return this.negated||(this.negated=aC.create(this.key,this.value,this)),this.negated}}class sC{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return nC(t,(t=>new sC(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return"".concat(this.key," >= ").concat(this.value)}keys(){return[this.key]}negate(){return this.negated||(this.negated=rC.create(this.key,this.value,this)),this.negated}}class rC{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return nC(t,(t=>new rC(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return"".concat(this.key," < ").concat(this.value)}keys(){return[this.key]}negate(){return this.negated||(this.negated=sC.create(this.key,this.value,this)),this.negated}}class aC{static create(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return nC(t,(t=>new aC(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:mC(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!==typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return"".concat(this.key," <= ").concat(this.value)}keys(){return[this.key]}negate(){return this.negated||(this.negated=oC.create(this.key,this.value,this)),this.negated}}class lC{static create(e,t){return new lC(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?"/".concat(this.regexp.source,"/").concat(this.regexp.flags):"/invalid/";return"".concat(this.key," =~ ").concat(e)}keys(){return[this.key]}negate(){return this.negated||(this.negated=cC.create(this)),this.negated}}class cC{static create(e){return new cC(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return"!(".concat(this._actual.serialize(),")")}keys(){return this._actual.keys()}negate(){return this._actual}}function dC(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}class hC{static create(e,t,i){return hC._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Yy(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=dC(this.expr);return e===this.expr?this:hC.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const n=[];let o=!1;for(const s of e)if(s)if(1!==s.type){if(0===s.type)return Zy.INSTANCE;6!==s.type?n.push(s):n.push(...s.expr)}else o=!0;if(0===n.length&&o)return Qy.INSTANCE;if(0!==n.length){if(1===n.length)return n[0];n.sort(Yy);for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];for(;n.length>1;){const e=n[n.length-1];if(9!==e.type)break;n.pop();const t=n.pop(),o=0===n.length,s=uC.create(e.expr.map((e=>hC.create([e,t],null,i))),null,o);s&&(n.push(s),n.sort(Yy))}if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)if(n[e].negate().equals(n[t]))return Zy.INSTANCE;if(1===n.length)return n[0]}return new hC(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=uC.create(e,this,!0)}return this.negated}}class uC{static create(e,t,i){return uC._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Yy(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=dC(this.expr);return e===this.expr?this:uC.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return Qy.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else o=!0}if(0===n.length&&o)return Zy.INSTANCE;n.sort(Yy)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)if(n[e].negate().equals(n[t]))return Qy.INSTANCE;if(1===n.length)return n[0]}return new uC(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const e of _C(t))for(const t of _C(i))n.push(hC.create([e,t],null,!1));e.unshift(uC.create(n,null,!1))}this.negated=uC.create(e,this,!0)}return this.negated}}class gC extends Xy{static all(){return gC._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,"object"===typeof i?gC._info.push({...i,key:e}):!0!==i&&gC._info.push({key:e,description:i,type:null!==t&&void 0!==t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Jy.create(this.key,e)}}gC._info=[];const pC=vy("contextKeyService");function fC(e,t){return e<t?-1:e>t?1:0}function mC(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function vC(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&bC(e.expr,t.expr);if(9===t.type){for(const i of t.expr)if(vC(e,i))return!0;return!1}if(6===e.type){if(6===t.type)return bC(t.expr,e.expr);for(const i of e.expr)if(vC(i,t))return!0;return!1}return e.equals(t)}function bC(e,t){let i=0,n=0;for(;i<e.length&&n<t.length;){const o=e[i].cmp(t[n]);if(o<0)return!1;0===o?(i++,n++):n++}return i===e.length}function _C(e){return 9===e.type?e.expr:[e]}function wC(e,t){if("number"===typeof e){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new SC(0!==n?[yC(i,t),yC(n,t)]:[yC(i,t)])}{const i=[];for(let n=0;n<e.length;n++)i.push(yC(e[n],t));return new SC(i)}}function yC(e,t){const i=!!(2048&e),n=!!(256&e);return new CC(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}class CC{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return e instanceof CC&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class SC{constructor(e){if(0===e.length)throw Qm("chords");this.chords=e}}class kC{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}}class LC{}function xC(e,t){if(!e)throw new Error(t?"Assertion failed (".concat(t,")"):"Assertion Failed")}function DC(e){throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unreachable")}function EC(e){e()||(e(),Um(new ev("Assertion Failed")))}function NC(e,t){let i=0;for(;i<e.length-1;){if(!t(e[i],e[i+1]))return!1;i++}return!0}const TC=new class{constructor(){this.data=new Map}add(e,t){xC(Wp(e)),xC(zp(t)),xC(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}};class IC{constructor(){this._coreKeybindings=new Jf,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===Hf){if(e&&e.win)return e.win}else if(2===Hf){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=IC.bindToCurrentPlatform(e),i=new dv;if(t&&t.primary){const n=wC(t.primary,Hf);n&&i.add(this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let n=0,o=t.secondary.length;n<o;n++){const o=wC(t.secondary[n],Hf);o&&i.add(this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-n-1,e.when))}return i}registerCommandAndKeybindingRule(e){return lv(this.registerKeybindingRule(e),Ty.registerCommand(e))}_registerDefaultKeybinding(e,t,i,n,o,s){const r=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,cv((()=>{r(),this._cachedMergedKeybindings=null}))}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(MC)),this._cachedMergedKeybindings.slice(0)}}const AC=new IC;function MC(e,t){if(e.weight1!==t.weight1)return e.weight1-t.weight1;if(e.command&&t.command){if(e.command<t.command)return-1;if(e.command>t.command)return 1}return e.weight2-t.weight2}TC.add("platform.keybindingsRegistry",AC);var OC,RC=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},PC=function(e,t){return function(i,n){t(i,n,e)}};function FC(e){return void 0!==e.command}class BC{constructor(e){if(BC._instances.has(e))throw new TypeError("MenuId with identifier '".concat(e,"' already exists. Use MenuId.for(ident) or a unique identifier"));BC._instances.set(e,this),this.id=e}}BC._instances=new Map,BC.CommandPalette=new BC("CommandPalette"),BC.DebugBreakpointsContext=new BC("DebugBreakpointsContext"),BC.DebugCallStackContext=new BC("DebugCallStackContext"),BC.DebugConsoleContext=new BC("DebugConsoleContext"),BC.DebugVariablesContext=new BC("DebugVariablesContext"),BC.DebugWatchContext=new BC("DebugWatchContext"),BC.DebugToolBar=new BC("DebugToolBar"),BC.DebugToolBarStop=new BC("DebugToolBarStop"),BC.EditorContext=new BC("EditorContext"),BC.SimpleEditorContext=new BC("SimpleEditorContext"),BC.EditorContent=new BC("EditorContent"),BC.EditorLineNumberContext=new BC("EditorLineNumberContext"),BC.EditorContextCopy=new BC("EditorContextCopy"),BC.EditorContextPeek=new BC("EditorContextPeek"),BC.EditorContextShare=new BC("EditorContextShare"),BC.EditorTitle=new BC("EditorTitle"),BC.EditorTitleRun=new BC("EditorTitleRun"),BC.EditorTitleContext=new BC("EditorTitleContext"),BC.EditorTitleContextShare=new BC("EditorTitleContextShare"),BC.EmptyEditorGroup=new BC("EmptyEditorGroup"),BC.EmptyEditorGroupContext=new BC("EmptyEditorGroupContext"),BC.EditorTabsBarContext=new BC("EditorTabsBarContext"),BC.EditorTabsBarShowTabsSubmenu=new BC("EditorTabsBarShowTabsSubmenu"),BC.EditorActionsPositionSubmenu=new BC("EditorActionsPositionSubmenu"),BC.ExplorerContext=new BC("ExplorerContext"),BC.ExplorerContextShare=new BC("ExplorerContextShare"),BC.ExtensionContext=new BC("ExtensionContext"),BC.GlobalActivity=new BC("GlobalActivity"),BC.CommandCenter=new BC("CommandCenter"),BC.CommandCenterCenter=new BC("CommandCenterCenter"),BC.LayoutControlMenuSubmenu=new BC("LayoutControlMenuSubmenu"),BC.LayoutControlMenu=new BC("LayoutControlMenu"),BC.MenubarMainMenu=new BC("MenubarMainMenu"),BC.MenubarAppearanceMenu=new BC("MenubarAppearanceMenu"),BC.MenubarDebugMenu=new BC("MenubarDebugMenu"),BC.MenubarEditMenu=new BC("MenubarEditMenu"),BC.MenubarCopy=new BC("MenubarCopy"),BC.MenubarFileMenu=new BC("MenubarFileMenu"),BC.MenubarGoMenu=new BC("MenubarGoMenu"),BC.MenubarHelpMenu=new BC("MenubarHelpMenu"),BC.MenubarLayoutMenu=new BC("MenubarLayoutMenu"),BC.MenubarNewBreakpointMenu=new BC("MenubarNewBreakpointMenu"),BC.PanelAlignmentMenu=new BC("PanelAlignmentMenu"),BC.PanelPositionMenu=new BC("PanelPositionMenu"),BC.ActivityBarPositionMenu=new BC("ActivityBarPositionMenu"),BC.MenubarPreferencesMenu=new BC("MenubarPreferencesMenu"),BC.MenubarRecentMenu=new BC("MenubarRecentMenu"),BC.MenubarSelectionMenu=new BC("MenubarSelectionMenu"),BC.MenubarShare=new BC("MenubarShare"),BC.MenubarSwitchEditorMenu=new BC("MenubarSwitchEditorMenu"),BC.MenubarSwitchGroupMenu=new BC("MenubarSwitchGroupMenu"),BC.MenubarTerminalMenu=new BC("MenubarTerminalMenu"),BC.MenubarViewMenu=new BC("MenubarViewMenu"),BC.MenubarHomeMenu=new BC("MenubarHomeMenu"),BC.OpenEditorsContext=new BC("OpenEditorsContext"),BC.OpenEditorsContextShare=new BC("OpenEditorsContextShare"),BC.ProblemsPanelContext=new BC("ProblemsPanelContext"),BC.SCMInputBox=new BC("SCMInputBox"),BC.SCMHistoryItem=new BC("SCMHistoryItem"),BC.SCMChangeContext=new BC("SCMChangeContext"),BC.SCMResourceContext=new BC("SCMResourceContext"),BC.SCMResourceContextShare=new BC("SCMResourceContextShare"),BC.SCMResourceFolderContext=new BC("SCMResourceFolderContext"),BC.SCMResourceGroupContext=new BC("SCMResourceGroupContext"),BC.SCMSourceControl=new BC("SCMSourceControl"),BC.SCMTitle=new BC("SCMTitle"),BC.SearchContext=new BC("SearchContext"),BC.SearchActionMenu=new BC("SearchActionContext"),BC.StatusBarWindowIndicatorMenu=new BC("StatusBarWindowIndicatorMenu"),BC.StatusBarRemoteIndicatorMenu=new BC("StatusBarRemoteIndicatorMenu"),BC.StickyScrollContext=new BC("StickyScrollContext"),BC.TestItem=new BC("TestItem"),BC.TestItemGutter=new BC("TestItemGutter"),BC.TestMessageContext=new BC("TestMessageContext"),BC.TestMessageContent=new BC("TestMessageContent"),BC.TestPeekElement=new BC("TestPeekElement"),BC.TestPeekTitle=new BC("TestPeekTitle"),BC.TouchBarContext=new BC("TouchBarContext"),BC.TitleBarContext=new BC("TitleBarContext"),BC.TitleBarTitleContext=new BC("TitleBarTitleContext"),BC.TunnelContext=new BC("TunnelContext"),BC.TunnelPrivacy=new BC("TunnelPrivacy"),BC.TunnelProtocol=new BC("TunnelProtocol"),BC.TunnelPortInline=new BC("TunnelInline"),BC.TunnelTitle=new BC("TunnelTitle"),BC.TunnelLocalAddressInline=new BC("TunnelLocalAddressInline"),BC.TunnelOriginInline=new BC("TunnelOriginInline"),BC.ViewItemContext=new BC("ViewItemContext"),BC.ViewContainerTitle=new BC("ViewContainerTitle"),BC.ViewContainerTitleContext=new BC("ViewContainerTitleContext"),BC.ViewTitle=new BC("ViewTitle"),BC.ViewTitleContext=new BC("ViewTitleContext"),BC.CommentEditorActions=new BC("CommentEditorActions"),BC.CommentThreadTitle=new BC("CommentThreadTitle"),BC.CommentThreadActions=new BC("CommentThreadActions"),BC.CommentThreadAdditionalActions=new BC("CommentThreadAdditionalActions"),BC.CommentThreadTitleContext=new BC("CommentThreadTitleContext"),BC.CommentThreadCommentContext=new BC("CommentThreadCommentContext"),BC.CommentTitle=new BC("CommentTitle"),BC.CommentActions=new BC("CommentActions"),BC.InteractiveToolbar=new BC("InteractiveToolbar"),BC.InteractiveCellTitle=new BC("InteractiveCellTitle"),BC.InteractiveCellDelete=new BC("InteractiveCellDelete"),BC.InteractiveCellExecute=new BC("InteractiveCellExecute"),BC.InteractiveInputExecute=new BC("InteractiveInputExecute"),BC.NotebookToolbar=new BC("NotebookToolbar"),BC.NotebookStickyScrollContext=new BC("NotebookStickyScrollContext"),BC.NotebookCellTitle=new BC("NotebookCellTitle"),BC.NotebookCellDelete=new BC("NotebookCellDelete"),BC.NotebookCellInsert=new BC("NotebookCellInsert"),BC.NotebookCellBetween=new BC("NotebookCellBetween"),BC.NotebookCellListTop=new BC("NotebookCellTop"),BC.NotebookCellExecute=new BC("NotebookCellExecute"),BC.NotebookCellExecutePrimary=new BC("NotebookCellExecutePrimary"),BC.NotebookDiffCellInputTitle=new BC("NotebookDiffCellInputTitle"),BC.NotebookDiffCellMetadataTitle=new BC("NotebookDiffCellMetadataTitle"),BC.NotebookDiffCellOutputsTitle=new BC("NotebookDiffCellOutputsTitle"),BC.NotebookOutputToolbar=new BC("NotebookOutputToolbar"),BC.NotebookEditorLayoutConfigure=new BC("NotebookEditorLayoutConfigure"),BC.NotebookKernelSource=new BC("NotebookKernelSource"),BC.BulkEditTitle=new BC("BulkEditTitle"),BC.BulkEditContext=new BC("BulkEditContext"),BC.TimelineItemContext=new BC("TimelineItemContext"),BC.TimelineTitle=new BC("TimelineTitle"),BC.TimelineTitleContext=new BC("TimelineTitleContext"),BC.TimelineFilterSubMenu=new BC("TimelineFilterSubMenu"),BC.AccountsContext=new BC("AccountsContext"),BC.SidebarTitle=new BC("SidebarTitle"),BC.PanelTitle=new BC("PanelTitle"),BC.AuxiliaryBarTitle=new BC("AuxiliaryBarTitle"),BC.TerminalInstanceContext=new BC("TerminalInstanceContext"),BC.TerminalEditorInstanceContext=new BC("TerminalEditorInstanceContext"),BC.TerminalNewDropdownContext=new BC("TerminalNewDropdownContext"),BC.TerminalTabContext=new BC("TerminalTabContext"),BC.TerminalTabEmptyAreaContext=new BC("TerminalTabEmptyAreaContext"),BC.TerminalStickyScrollContext=new BC("TerminalStickyScrollContext"),BC.WebviewContext=new BC("WebviewContext"),BC.InlineCompletionsActions=new BC("InlineCompletionsActions"),BC.NewFile=new BC("NewFile"),BC.MergeInput1Toolbar=new BC("MergeToolbar1Toolbar"),BC.MergeInput2Toolbar=new BC("MergeToolbar2Toolbar"),BC.MergeBaseToolbar=new BC("MergeBaseToolbar"),BC.MergeInputResultToolbar=new BC("MergeToolbarResultToolbar"),BC.InlineSuggestionToolbar=new BC("InlineSuggestionToolbar"),BC.ChatContext=new BC("ChatContext"),BC.ChatCodeBlock=new BC("ChatCodeblock"),BC.ChatMessageTitle=new BC("ChatMessageTitle"),BC.ChatExecute=new BC("ChatExecute"),BC.ChatInputSide=new BC("ChatInputSide"),BC.AccessibleView=new BC("AccessibleView"),BC.MultiDiffEditorFileToolbar=new BC("MultiDiffEditorFileToolbar");const VC=vy("menuService");class WC{static for(e){let t=this._all.get(e);return t||(t=new WC(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof WC&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}WC._all=new Map;const zC=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new xv({merge:WC.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(e){return this._commands.set(e.id,e),this._onDidChangeMenu.fire(WC.for(BC.CommandPalette)),cv((()=>{this._commands.delete(e.id)&&this._onDidChangeMenu.fire(WC.for(BC.CommandPalette))}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){let i=this._menuItems.get(e);i||(i=new Jf,this._menuItems.set(e,i));const n=i.push(t);return this._onDidChangeMenu.fire(WC.for(e)),cv((()=>{n(),this._onDidChangeMenu.fire(WC.for(e))}))}appendMenuItems(e){const t=new dv;for(const{id:i,item:n}of e)t.add(this.appendMenuItem(i,n));return t}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===BC.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)FC(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class HC extends ky{constructor(e,t,i){super("submenuitem.".concat(e.submenu.id),"string"===typeof e.title?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let jC=OC=class{static label(e,t){return(null===t||void 0===t?void 0:t.renderShortTitle)&&e.shortTitle?"string"===typeof e.shortTitle?e.shortTitle:e.shortTitle.value:"string"===typeof e.title?e.title:e.title.value}constructor(e,t,i,n,o,s){var r,a;let l;if(this.hideActions=n,this._commandService=s,this.id=e.id,this.label=OC.label(e,i),this.tooltip=null!==(a="string"===typeof e.tooltip?e.tooltip:null===(r=e.tooltip)||void 0===r?void 0:r.value)&&void 0!==a?a:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const t=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(t.condition),this.checked&&t.tooltip&&(this.tooltip="string"===typeof t.tooltip?t.tooltip:t.tooltip.value),this.checked&&Ey.isThemeIcon(t.icon)&&(l=t.icon),this.checked&&t.title&&(this.label="string"===typeof t.title?t.title:t.title.value)}l||(l=Ey.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new OC(t,void 0,i,n,o,s):void 0,this._options=i,this.class=l&&Ey.asClassName(l)}run(){var e,t;let i=[];if((null===(e=this._options)||void 0===e?void 0:e.arg)&&(i=[...i,this._options.arg]),null===(t=this._options)||void 0===t?void 0:t.shouldForwardArgs){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];i=[...i,...o]}return this._commandService.executeCommand(this.id,...i)}};jC=OC=RC([PC(4,pC),PC(5,Ny)],jC);const UC=vy("telemetryService"),KC=vy("logService");var qC;!function(e){e[e.Off=0]="Off",e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error"}(qC||(qC={}));const GC=qC.Info;class YC extends hv{constructor(){super(...arguments),this.level=GC,this._onDidChangeLogLevel=this._register(new Cv),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==qC.Off&&this.level<=e}}class ZC extends YC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GC,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super(),this.useColors=t,this.setLevel(e)}trace(e){if(this.checkLogLevel(qC.Trace)){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.useColors?console.log("%cTRACE","color: #888",e,...i):console.log(e,...i)}}debug(e){if(this.checkLogLevel(qC.Debug)){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...i):console.log(e,...i)}}info(e){if(this.checkLogLevel(qC.Info)){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.useColors?console.log("%c INFO","color: #33f",e,...i):console.log(e,...i)}}warn(e){if(this.checkLogLevel(qC.Warning)){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.useColors?console.log("%c WARN","color: #993",e,...i):console.log(e,...i)}}error(e){if(this.checkLogLevel(qC.Error)){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.useColors?console.log("%c  ERR","color: #f33",e,...i):console.error(e,...i)}}dispose(){}}class QC extends YC{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.loggers)o.trace(e,...i)}debug(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.loggers)o.debug(e,...i)}info(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.loggers)o.info(e,...i)}warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.loggers)o.warn(e,...i)}error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const o of this.loggers)o.error(e,...i)}dispose(){for(const e of this.loggers)e.dispose()}}new gC("logLevel",function(e){switch(e){case qC.Trace:return"trace";case qC.Debug:return"debug";case qC.Info:return"info";case qC.Warning:return"warn";case qC.Error:return"error";case qC.Off:return"off"}}(qC.Info)),Of||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,Of||navigator&&navigator.clipboard&&navigator.clipboard.readText,Of||iy||navigator.keyboard,"ontouchstart"in q_||navigator.maxTouchPoints;const XC=q_.PointerEvent&&("ontouchstart"in q_||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0);const JC=Af?256:2048,$C=Af?2048:256;class eS{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=function(e){if(e.charCode){const t=String.fromCharCode(e.charCode).toUpperCase();return Kv.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(Qw)switch(t){case 59:return 85;case 60:if(Mf)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Af)return 57}else if(Xw){if(Af&&93===t)return 57;if(!Af&&92===t)return 57}return Bv[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=JC),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=$C),t|=e,t}_computeKeyCodeChord(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new CC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const tS=new WeakMap;function iS(e){if(!e.parent||e.parent===e)return null;try{const t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&t.origin!==i.origin)return null}catch(Pee){return null}return e.parent}class nS{static getSameOriginWindowChain(e){let t=tS.get(e);if(!t){t=[],tS.set(e,t);let i,n=e;do{i=iS(n),i?t.push({window:new WeakRef(n),iframeElement:n.frameElement||null}):t.push({window:new WeakRef(n),iframeElement:null}),n=i}while(n)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){var i,n;if(!t||e===t)return{top:0,left:0};let o=0,s=0;const r=this.getSameOriginWindowChain(e);for(const a of r){const e=a.window.deref();if(o+=null!==(i=null===e||void 0===e?void 0:e.scrollY)&&void 0!==i?i:0,s+=null!==(n=null===e||void 0===e?void 0:e.scrollX)&&void 0!==n?n:0,e===t)break;if(!a.iframeElement)break;const r=a.iframeElement.getBoundingClientRect();o+=r.top,s+=r.left}return{top:o,left:s}}}class oS{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=0===t.button,this.middleButton=1===t.button,this.rightButton=2===t.button,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,"dblclick"===t.type&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,"number"===typeof t.pageX?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=nS.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class sS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){const t=e,i=e;if("undefined"!==typeof t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if("undefined"!==typeof i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=Qw&&!Af?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if("undefined"!==typeof t.wheelDeltaX)this.deltaX=$w&&If?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if("undefined"!==typeof i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=Qw&&!Af?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;null===(e=this.browserEvent)||void 0===e||e.preventDefault()}stopPropagation(){var e;null===(e=this.browserEvent)||void 0===e||e.stopPropagation()}}const rS=Symbol("MicrotaskDelay");function aS(e){return!!e&&"function"===typeof e.then}function lS(e){const t=new Mv,i=e(t.token),n=new Promise(((e,n)=>{const o=t.token.onCancellationRequested((()=>{o.dispose(),t.dispose(),n(new Zm)}));Promise.resolve(i).then((i=>{o.dispose(),t.dispose(),e(i)}),(e=>{o.dispose(),t.dispose(),n(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}class cS{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{if(this.queuedPromise=null,this.isDisposed)return;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}dispose(){this.isDisposed=!0}}class dS{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultDelay;this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})));const i=()=>{var e;this.deferred=null,null===(e=this.doResolve)||void 0===e||e.call(this,null)};return this.deferred=t===rS?(e=>{let t=!0;return queueMicrotask((()=>{t&&(t=!1,e())})),{isTriggered:()=>t,dispose:()=>{t=!1}}})(i):((e,t)=>{let i=!0;const n=setTimeout((()=>{i=!1,t()}),e);return{isTriggered:()=>i,dispose:()=>{clearTimeout(n),i=!1}}})(t,i),this.completionPromise}isTriggered(){var e;return!!(null===(e=this.deferred)||void 0===e?void 0:e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&(null===(e=this.doReject)||void 0===e||e.call(this,new Zm),this.completionPromise=null)}cancelTimeout(){var e;null===(e=this.deferred)||void 0===e||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class hS{constructor(e){this.delayer=new dS(e),this.throttler=new cS}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function uS(e,t){return t?new Promise(((i,n)=>{const o=setTimeout((()=>{s.dispose(),i()}),e),s=t.onCancellationRequested((()=>{clearTimeout(o),s.dispose(),n(new Zm)}))})):lS((t=>uS(e,t)))}function gS(e){let t=arguments.length>2?arguments[2]:void 0;const i=setTimeout((()=>{e(),t&&n.dispose()}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=cv((()=>{clearTimeout(i),null===t||void 0===t||t.deleteAndLeak(n)}));return null===t||void 0===t||t.add(n),n}class pS{constructor(e,t){this._token=-1,"function"===typeof e&&"number"===typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class fS{constructor(){this.disposable=void 0}cancel(){var e;null===(e=this.disposable)||void 0===e||e.dispose(),this.disposable=void 0}cancelAndSet(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:globalThis;this.cancel();const n=i.setInterval((()=>{e()}),t);this.disposable=cv((()=>{i.clearInterval(n),this.disposable=void 0}))}dispose(){this.cancel()}}class mS{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;null===(e=this.runner)||void 0===e||e.call(this)}}let vS,bS;bS="function"!==typeof globalThis.requestIdleCallback||"function"!==typeof globalThis.cancelIdleCallback?(e,t)=>{zf((()=>{if(i)return;const e=Date.now()+15,n={didTimeout:!0,timeRemaining:()=>Math.max(0,e-Date.now())};t(Object.freeze(n))}));let i=!1;return{dispose(){i||(i=!0)}}}:(e,t,i)=>{const n=e.requestIdleCallback(t,"number"===typeof i?{timeout:i}:void 0);let o=!1;return{dispose(){o||(o=!0,e.cancelIdleCallback(n))}}},vS=e=>bS(globalThis,e);class _S{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(e){this._error=e}finally{this._didRun=!0}},this._handle=bS(e,(()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class wS extends _S{constructor(e){super(globalThis,e)}}class yS{get isRejected(){var e;return 1===(null===(e=this.outcome)||void 0===e?void 0:e.outcome)}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}complete(e){return new Promise((t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()}))}error(e){return new Promise((t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()}))}cancel(){return this.error(new Zm)}}var CS;!function(e){e.settled=async function(e){let t;const i=await Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if("undefined"!==typeof t)throw t;return i},e.withAsyncBody=function(e){return new Promise((async(t,i)=>{try{await e(t,i)}catch(n){i(n)}}))}}(CS||(CS={}));class SS{static fromArray(e){return new SS((t=>{t.emitMany(e)}))}static fromPromise(e){return new SS((async t=>{t.emitMany(await e)}))}static fromPromises(e){return new SS((async t=>{await Promise.all(e.map((async e=>t.emitOne(await e))))}))}static merge(e){return new SS((async t=>{await Promise.all(e.map((async e=>{for await(const i of e)t.emitOne(i)})))}))}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Cv,queueMicrotask((async()=>{const t={emitOne:e=>this.emitOne(e),emitMany:e=>this.emitMany(e),reject:e=>this.reject(e)};try{await Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}[Symbol.asyncIterator](){let e=0;return{next:async()=>{for(;;){if(2===this._state)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(1===this._state)return{done:!0,value:void 0};await vv.toPromise(this._onStateChanged.event)}}}}static map(e,t){return new SS((async i=>{for await(const n of e)i.emitOne(t(n))}))}map(e){return SS.map(this,e)}static filter(e,t){return new SS((async i=>{for await(const n of e)t(n)&&i.emitOne(n)}))}filter(e){return SS.filter(this,e)}static coalesce(e){return SS.filter(e,(e=>!!e))}coalesce(){return SS.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return SS.toPromise(this)}emitOne(e){0===this._state&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){0===this._state&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(e){0===this._state&&(this._state=2,this._error=e,this._onStateChanged.fire())}}SS.EMPTY=SS.fromArray([]);const{entries:kS,setPrototypeOf:LS,isFrozen:xS,getPrototypeOf:DS,getOwnPropertyDescriptor:ES}=Object;let{freeze:NS,seal:TS,create:IS}=Object,{apply:AS,construct:MS}="undefined"!==typeof Reflect&&Reflect;AS||(AS=function(e,t,i){return e.apply(t,i)}),NS||(NS=function(e){return e}),TS||(TS=function(e){return e}),MS||(MS=function(e,t){return new e(...t)});const OS=qS(Array.prototype.forEach),RS=qS(Array.prototype.pop),PS=qS(Array.prototype.push),FS=qS(String.prototype.toLowerCase),BS=qS(String.prototype.toString),VS=qS(String.prototype.match),WS=qS(String.prototype.replace),zS=qS(String.prototype.indexOf),HS=qS(String.prototype.trim),jS=qS(RegExp.prototype.test),US=(KS=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return MS(KS,t)});var KS;function qS(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return AS(e,t,n)}}function GS(e,t,i){var n;i=null!==(n=i)&&void 0!==n?n:FS,LS&&LS(e,null);let o=t.length;for(;o--;){let n=t[o];if("string"===typeof n){const e=i(n);e!==n&&(xS(t)||(t[o]=e),n=e)}e[n]=!0}return e}function YS(e){const t=IS(null);for(const[i,n]of kS(e))t[i]=n;return t}function ZS(e,t){for(;null!==e;){const i=ES(e,t);if(i){if(i.get)return qS(i.get);if("function"===typeof i.value)return qS(i.value)}e=DS(e)}return function(e){return console.warn("fallback value for",e),null}}const QS=NS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),XS=NS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),JS=NS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$S=NS(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ek=NS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tk=NS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ik=NS(["#text"]),nk=NS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ok=NS(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sk=NS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rk=NS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ak=TS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lk=TS(/<%[\w\W]*|[\w\W]*%>/gm),ck=TS(/\${[\w\W]*}/gm),dk=TS(/^data-[\-\w.\u00B7-\uFFFF]/),hk=TS(/^aria-[\-\w]+$/),uk=TS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gk=TS(/^(?:\w+script|data):/i),pk=TS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fk=TS(/^html$/i);var mk=Object.freeze({__proto__:null,MUSTACHE_EXPR:ak,ERB_EXPR:lk,TMPLIT_EXPR:ck,DATA_ATTR:dk,ARIA_ATTR:hk,IS_ALLOWED_URI:uk,IS_SCRIPT_OR_DATA:gk,ATTR_WHITESPACE:pk,DOCTYPE_NAME:fk});const vk=()=>"undefined"===typeof window?null:window;var bk=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vk();const i=t=>e(t);if(i.version="3.0.5",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;const n=t.document,o=n.currentScript;let{document:s}=t;const{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:g,trustedTypes:p}=t,f=c.prototype,m=ZS(f,"cloneNode"),v=ZS(f,"nextSibling"),b=ZS(f,"childNodes"),_=ZS(f,"parentNode");if("function"===typeof a){const e=s.createElement("template");e.content&&e.content.ownerDocument&&(s=e.content.ownerDocument)}let w,y="";const{implementation:C,createNodeIterator:S,createDocumentFragment:k,getElementsByTagName:L}=s,{importNode:x}=n;let D={};i.isSupported="function"===typeof kS&&"function"===typeof _&&C&&void 0!==C.createHTMLDocument;const{MUSTACHE_EXPR:E,ERB_EXPR:N,TMPLIT_EXPR:T,DATA_ATTR:I,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:O}=mk;let{IS_ALLOWED_URI:R}=mk,P=null;const F=GS({},[...QS,...XS,...JS,...ek,...ik]);let B=null;const V=GS({},[...nk,...ok,...sk,...rk]);let W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,H=null,j=!0,U=!0,K=!1,q=!0,G=!1,Y=!1,Z=!1,Q=!1,X=!1,J=!1,$=!1,ee=!0,te=!1,ie=!0,ne=!1,oe={},se=null;const re=GS({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const le=GS({},["audio","video","img","source","image","track"]);let ce=null;const de=GS({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",ue="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let pe=ge,fe=!1,me=null;const ve=GS({},[he,ue,ge],BS);let be;const _e=["application/xhtml+xml","text/html"];let we,ye=null;const Ce=s.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){if(!ye||ye!==e){if(e&&"object"===typeof e||(e={}),e=YS(e),be=be=-1===_e.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,we="application/xhtml+xml"===be?BS:FS,P="ALLOWED_TAGS"in e?GS({},e.ALLOWED_TAGS,we):F,B="ALLOWED_ATTR"in e?GS({},e.ALLOWED_ATTR,we):V,me="ALLOWED_NAMESPACES"in e?GS({},e.ALLOWED_NAMESPACES,BS):ve,ce="ADD_URI_SAFE_ATTR"in e?GS(YS(de),e.ADD_URI_SAFE_ATTR,we):de,ae="ADD_DATA_URI_TAGS"in e?GS(YS(le),e.ADD_DATA_URI_TAGS,we):le,se="FORBID_CONTENTS"in e?GS({},e.FORBID_CONTENTS,we):re,z="FORBID_TAGS"in e?GS({},e.FORBID_TAGS,we):{},H="FORBID_ATTR"in e?GS({},e.FORBID_ATTR,we):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,j=!1!==e.ALLOW_ARIA_ATTR,U=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,q=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,G=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,J=e.RETURN_DOM_FRAGMENT||!1,$=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ne=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||uk,pe=e.NAMESPACE||ge,W=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(U=!1),J&&(X=!0),oe&&(P=GS({},[...ik]),B=[],!0===oe.html&&(GS(P,QS),GS(B,nk)),!0===oe.svg&&(GS(P,XS),GS(B,ok),GS(B,rk)),!0===oe.svgFilters&&(GS(P,JS),GS(B,ok),GS(B,rk)),!0===oe.mathMl&&(GS(P,ek),GS(B,sk),GS(B,rk))),e.ADD_TAGS&&(P===F&&(P=YS(P)),GS(P,e.ADD_TAGS,we)),e.ADD_ATTR&&(B===V&&(B=YS(B)),GS(B,e.ADD_ATTR,we)),e.ADD_URI_SAFE_ATTR&&GS(ce,e.ADD_URI_SAFE_ATTR,we),e.FORBID_CONTENTS&&(se===re&&(se=YS(se)),GS(se,e.FORBID_CONTENTS,we)),ie&&(P["#text"]=!0),Y&&GS(P,["html","head","body"]),P.table&&(GS(P,["tbody"]),delete z.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw US('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw US('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,y=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(s){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(p,o)),null!==w&&"string"===typeof y&&(y=w.createHTML(""));NS&&NS(e),ye=e}},Le=GS({},["mi","mo","mn","ms","mtext"]),xe=GS({},["foreignobject","desc","title","annotation-xml"]),De=GS({},["title","style","font","a","script"]),Ee=GS({},XS);GS(Ee,JS),GS(Ee,$S);const Ne=GS({},ek);GS(Ne,tk);const Te=function(e){PS(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Ie=function(e,t){try{PS(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(n){PS(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!B[e])if(X||J)try{Te(t)}catch(n){}else try{t.setAttribute(e,"")}catch(n){}},Ae=function(e){let t,i;if(Q)e="<remove></remove>"+e;else{const t=VS(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===be&&pe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=w?w.createHTML(e):e;if(pe===ge)try{t=(new g).parseFromString(n,be)}catch(r){}if(!t||!t.documentElement){t=C.createDocument(pe,"template",null);try{t.documentElement.innerHTML=fe?y:n}catch(r){}}const o=t.body||t.documentElement;return e&&i&&o.insertBefore(s.createTextNode(i),o.childNodes[0]||null),pe===ge?L.call(t,Y?"html":"body")[0]:Y?t.documentElement:o},Me=function(e){return S.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Oe=function(e){return"object"===typeof l?e instanceof l:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},Re=function(e,t,n){D[e]&&OS(D[e],(e=>{e.call(i,t,n,ye)}))},Pe=function(e){let t;if(Re("beforeSanitizeElements",e,null),(n=e)instanceof u&&("string"!==typeof n.nodeName||"string"!==typeof n.textContent||"function"!==typeof n.removeChild||!(n.attributes instanceof h)||"function"!==typeof n.removeAttribute||"function"!==typeof n.setAttribute||"string"!==typeof n.namespaceURI||"function"!==typeof n.insertBefore||"function"!==typeof n.hasChildNodes))return Te(e),!0;var n;const o=we(e.nodeName);if(Re("uponSanitizeElement",e,{tagName:o,allowedTags:P}),e.hasChildNodes()&&!Oe(e.firstElementChild)&&(!Oe(e.content)||!Oe(e.content.firstElementChild))&&jS(/<[/\w]/g,e.innerHTML)&&jS(/<[/\w]/g,e.textContent))return Te(e),!0;if(!P[o]||z[o]){if(!z[o]&&Be(o)){if(W.tagNameCheck instanceof RegExp&&jS(W.tagNameCheck,o))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(o))return!1}if(ie&&!se[o]){const t=_(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&t){for(let n=i.length-1;n>=0;--n)t.insertBefore(m(i[n],!0),v(e))}}return Te(e),!0}return e instanceof c&&!function(e){let t=_(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});const i=FS(e.tagName),n=FS(t.tagName);return!!me[e.namespaceURI]&&(e.namespaceURI===ue?t.namespaceURI===ge?"svg"===i:t.namespaceURI===he?"svg"===i&&("annotation-xml"===n||Le[n]):Boolean(Ee[i]):e.namespaceURI===he?t.namespaceURI===ge?"math"===i:t.namespaceURI===ue?"math"===i&&xe[n]:Boolean(Ne[i]):e.namespaceURI===ge?!(t.namespaceURI===ue&&!xe[n])&&!(t.namespaceURI===he&&!Le[n])&&!Ne[i]&&(De[i]||!Ee[i]):!("application/xhtml+xml"!==be||!me[e.namespaceURI]))}(e)?(Te(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!jS(/<\/no(script|embed|frames)/i,e.innerHTML)?(G&&3===e.nodeType&&(t=e.textContent,t=WS(t,E," "),t=WS(t,N," "),t=WS(t,T," "),e.textContent!==t&&(PS(i.removed,{element:e.cloneNode()}),e.textContent=t)),Re("afterSanitizeElements",e,null),!1):(Te(e),!0)},Fe=function(e,t,i){if(ee&&("id"===t||"name"===t)&&(i in s||i in Ce))return!1;if(U&&!H[t]&&jS(I,t));else if(j&&jS(A,t));else if(!B[t]||H[t]){if(!(Be(e)&&(W.tagNameCheck instanceof RegExp&&jS(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&jS(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&jS(W.tagNameCheck,i)||W.tagNameCheck instanceof Function&&W.tagNameCheck(i))))return!1}else if(ce[t]);else if(jS(R,WS(i,O,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==zS(i,"data:")||!ae[e]){if(K&&!jS(M,WS(i,O,"")));else if(i)return!1}else;return!0},Be=function(e){return e.indexOf("-")>0},Ve=function(e){let t,n,o,s;Re("beforeSanitizeAttributes",e,null);const{attributes:r}=e;if(!r)return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(s=r.length;s--;){t=r[s];const{name:c,namespaceURI:d}=t;if(n="value"===c?t.value:HS(t.value),o=we(c),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Re("uponSanitizeAttribute",e,a),n=a.attrValue,a.forceKeepAttr)continue;if(Ie(c,e),!a.keepAttr)continue;if(!q&&jS(/\/>/i,n)){Ie(c,e);continue}G&&(n=WS(n,E," "),n=WS(n,N," "),n=WS(n,T," "));const h=we(e.nodeName);if(Fe(h,o,n)){if(!te||"id"!==o&&"name"!==o||(Ie(c,e),n="user-content-"+n),w&&"object"===typeof p&&"function"===typeof p.getAttributeType)if(d);else switch(p.getAttributeType(h,o)){case"TrustedHTML":n=w.createHTML(n);break;case"TrustedScriptURL":n=w.createScriptURL(n)}try{d?e.setAttributeNS(d,c,n):e.setAttribute(c,n),RS(i.removed)}catch(l){}}}Re("afterSanitizeAttributes",e,null)},We=function e(t){let i;const n=Me(t);for(Re("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Re("uponSanitizeShadowNode",i,null),Pe(i)||(i.content instanceof r&&e(i.content),Ve(i));Re("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e){let t,o,s,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(fe=!e,fe&&(e="\x3c!--\x3e"),"string"!==typeof e&&!Oe(e)){if("function"!==typeof e.toString)throw US("toString is not a function");if("string"!==typeof(e=e.toString()))throw US("dirty is not a string, aborting")}if(!i.isSupported)return e;if(Z||ke(c),i.removed=[],"string"===typeof e&&(ne=!1),ne){if(e.nodeName){const t=we(e.nodeName);if(!P[t]||z[t])throw US("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=Ae("\x3c!----\x3e"),o=t.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!X&&!G&&!Y&&-1===e.indexOf("<"))return w&&$?w.createHTML(e):e;if(t=Ae(e),!t)return X?null:$?y:""}t&&Q&&Te(t.firstChild);const d=Me(ne?e:t);for(;s=d.nextNode();)Pe(s)||(s.content instanceof r&&We(s.content),Ve(s));if(ne)return e;if(X){if(J)for(a=k.call(t.ownerDocument);t.firstChild;)a.appendChild(t.firstChild);else a=t;return(B.shadowroot||B.shadowrootmode)&&(a=x.call(n,a,!0)),a}let h=Y?t.outerHTML:t.innerHTML;return Y&&P["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&jS(fk,t.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+h),G&&(h=WS(h,E," "),h=WS(h,N," "),h=WS(h,T," ")),w&&$?w.createHTML(h):h},i.setConfig=function(e){ke(e),Z=!0},i.clearConfig=function(){ye=null,Z=!1},i.isValidAttribute=function(e,t,i){ye||ke({});const n=we(e),o=we(t);return Fe(n,o,i)},i.addHook=function(e,t){"function"===typeof t&&(D[e]=D[e]||[],PS(D[e],t))},i.removeHook=function(e){if(D[e])return RS(D[e])},i.removeHooks=function(e){D[e]&&(D[e]=[])},i.removeAllHooks=function(){D={}},i}();bk.version,bk.isSupported;const _k=bk.sanitize,wk=(bk.setConfig,bk.clearConfig,bk.isValidAttribute,bk.addHook),yk=bk.removeHook;bk.removeHooks,bk.removeAllHooks;var Ck;function Sk(e,t){return Lb.isUri(e)?fw(e.scheme,t):mw(e,t+":")}function kk(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.some((t=>Sk(e,t)))}!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.vscodeManagedRemoteResource="vscode-managed-remote-resource",e.vscodeUserData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.vscodeChatSesssion="vscode-chat-editor",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp",e.vsls="vsls",e.vscodeSourceControl="vscode-scm"}(Ck||(Ck={}));const Lk=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath="/".concat(Ck.vscodeRemoteResource)}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(r){return Um(r),e}const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&-1===i.indexOf("[")&&(i="[".concat(i,"]"));const n=this._ports[t],o=this._connectionTokens[t];let s="path=".concat(encodeURIComponent(e.path));return"string"===typeof o&&(s+="&".concat("tkn","=").concat(encodeURIComponent(o))),Lb.from({scheme:Rf?this._preferredWebSchema:Ck.vscodeRemoteResource,authority:"".concat(i,":").concat(n),path:this._remoteResourcesPath,query:s})}};class xk{uriToBrowserUri(e){return e.scheme===Ck.vscodeRemote?Lk.rewrite(e):e.scheme!==Ck.file||!Of&&Pf!=="".concat(Ck.vscodeFileResource,"://").concat(xk.FALLBACK_AUTHORITY)?e:e.with({scheme:Ck.vscodeFileResource,authority:e.authority||xk.FALLBACK_AUTHORITY,query:null,fragment:null})}}xk.FALLBACK_AUTHORITY="vscode-app";const Dk=new xk;var Ek;function Nk(e,t){switch(typeof e){case"object":return null===e?Tk(349,t):Array.isArray(e)?(i=e,n=Tk(104579,n=t),i.reduce(((e,t)=>Nk(t,e)),n)):function(e,t){return t=Tk(181387,t),Object.keys(e).sort().reduce(((t,i)=>(t=Ik(i,t),Nk(e[i],t))),t)}(e,t);case"string":return Ik(e,t);case"boolean":return function(e,t){return Tk(e?433:863,t)}(e,t);case"number":return Tk(e,t);case"undefined":return Tk(937,t);default:return Tk(617,t)}var i,n}function Tk(e,t){return(t<<5)-t+e|0}function Ik(e,t){t=Tk(149417,t);for(let i=0,n=e.length;i<n;i++)t=Tk(e.charCodeAt(i),t);return t}function Ak(e,t){const i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:32)-t;return(e<<t|(~((1<<i)-1)&e)>>>i)>>>0}function Mk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(let o=0;o<i;o++)e[t+o]=n}function Ok(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}!function(e){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(t.get("3"));const i="vscode-coi";e.getHeadersFromQuery=function(e){let n;"string"===typeof e?n=new URL(e).searchParams:e instanceof URL?n=e.searchParams:Lb.isUri(e)&&(n=new URL(e.toString(!0)).searchParams);const o=null===n||void 0===n?void 0:n.get(i);if(o)return t.get(o)},e.addSearchParam=function(e,t,n){if(!globalThis.crossOriginIsolated)return;const o=t&&n?"3":n?"2":"1";e instanceof URLSearchParams?e.set(i,o):e[i]=o}}(Ek||(Ek={}));class Rk{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let n,o,s=this._buffLen,r=this._leftoverHighSurrogate;for(0!==r?(n=r,o=-1,r=0):(n=e.charCodeAt(0),o=0);;){let a=n;if(_w(n)){if(!(o+1<t)){r=n;break}{const t=e.charCodeAt(o+1);ww(t)?(o++,a=yw(n,t)):a=65533}}else ww(n)&&(a=65533);if(s=this._push(i,s,a),o++,!(o<t))break;n=e.charCodeAt(o)}this._buffLen=s,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Ok(this._h0)+Ok(this._h1)+Ok(this._h2)+Ok(this._h3)+Ok(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Mk(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Mk(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Rk._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,Ak(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i,n,o,s=this._h0,r=this._h1,a=this._h2,l=this._h3,c=this._h4;for(let d=0;d<80;d++)d<20?(i=r&a|~r&l,n=1518500249):d<40?(i=r^a^l,n=1859775393):d<60?(i=r&a|r&l|a&l,n=2400959708):(i=r^a^l,n=3395469782),o=Ak(s,5)+i+c+n+e.getUint32(4*d,!1)&4294967295,c=l,l=a,a=Ak(r,30),r=s,s=o;this._h0=this._h0+s&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+c&4294967295}}Rk._bigBlock32=new DataView(new ArrayBuffer(320));const{registerWindow:Pk,getWindow:Fk,getDocument:Bk,getWindows:Vk,getWindowsCount:Wk,getWindowId:zk,getWindowById:Hk,hasWindow:jk,onDidRegisterWindow:Uk,onWillUnregisterWindow:Kk,onDidUnregisterWindow:qk}=function(){const e=new Map;!function(e,t){const i=e;"number"!==typeof i.vscodeWindowId&&Object.defineProperty(i,"vscodeWindowId",{get:()=>t})}(q_,1),e.set(q_.vscodeWindowId,{window:q_,disposables:new dv});const t=new Cv,i=new Cv,n=new Cv;return{onDidRegisterWindow:t.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:i.event,registerWindow(o){if(e.has(o.vscodeWindowId))return hv.None;const s=new dv,r={window:o,disposables:s.add(new dv)};return e.set(o.vscodeWindowId,r),s.add(cv((()=>{e.delete(o.vscodeWindowId),i.fire(o)}))),s.add(Zk(o,TL.BEFORE_UNLOAD,(()=>{n.fire(o)}))),t.fire(r),s},getWindows:()=>e.values(),getWindowsCount:()=>e.size,getWindowId:e=>e.vscodeWindowId,hasWindow:t=>e.has(t),getWindowById:t=>e.get(t),getWindow(e){var t;const i=e;if(null===(t=null===i||void 0===i?void 0:i.ownerDocument)||void 0===t?void 0:t.defaultView)return i.ownerDocument.defaultView.window;const n=e;return(null===n||void 0===n?void 0:n.view)?n.view.window:q_},getDocument:e=>Fk(e).document}}();function Gk(e){for(;e.firstChild;)e.firstChild.remove()}class Yk{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function Zk(e,t,i,n){return new Yk(e,t,i,n)}function Qk(e,t){return function(i){return t(new oS(e,i))}}const Xk=function(e,t,i,n){let o=i;return"click"===t||"mousedown"===t?o=Qk(Fk(e),i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new eS(t))}}(i)),Zk(e,t,o,n)};function Jk(e,t,i){return bS(e,t,i)}let $k,eL;class tL extends fS{cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i)}}class iL{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Pee){Um(Pee)}}static sort(e,t){return t.priority-e.priority}}function nL(e){return Fk(e).getComputedStyle(e,null)}function oL(e,t){const i=Fk(e),n=i.document;if(e!==n.body)return new rL(e.clientWidth,e.clientHeight);if(Ff&&(null===i||void 0===i?void 0:i.visualViewport))return new rL(i.visualViewport.width,i.visualViewport.height);if((null===i||void 0===i?void 0:i.innerWidth)&&i.innerHeight)return new rL(i.innerWidth,i.innerHeight);if(n.body&&n.body.clientWidth&&n.body.clientHeight)return new rL(n.body.clientWidth,n.body.clientHeight);if(n.documentElement&&n.documentElement.clientWidth&&n.documentElement.clientHeight)return new rL(n.documentElement.clientWidth,n.documentElement.clientHeight);if(t)return oL(t);throw new Error("Unable to figure out browser width and height")}!function(){const e=new Map,t=new Map,i=new Map,n=new Map;eL=function(o,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=zk(o),l=new iL(s,r);let c=e.get(a);return c||(c=[],e.set(a,c)),c.push(l),i.get(a)||(i.set(a,!0),o.requestAnimationFrame((()=>(o=>{var s;i.set(o,!1);const r=null!==(s=e.get(o))&&void 0!==s?s:[];for(t.set(o,r),e.set(o,[]),n.set(o,!0);r.length>0;)r.sort(iL.sort),r.shift().execute();n.set(o,!1)})(a)))),l},$k=(e,i,o)=>{const s=zk(e);if(n.get(s)){const e=new iL(i,o);let n=t.get(s);return n||(n=[],t.set(s,n)),n.push(e),e}return eL(e,i,o)}}();class sL{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const n=nL(e),o=n?n.getPropertyValue(t):"0";return sL.convertToPixels(e,o)}static getBorderLeftWidth(e){return sL.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return sL.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return sL.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return sL.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return sL.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return sL.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return sL.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return sL.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return sL.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return sL.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return sL.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return sL.getDimension(e,"margin-bottom","marginBottom")}}class rL{constructor(e,t){this.width=e,this.height=t}with(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.height;return e!==this.width||t!==this.height?new rL(e,t):this}static is(e){return"object"===typeof e&&"number"===typeof e.height&&"number"===typeof e.width}static lift(e){return e instanceof rL?e:new rL(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function aL(e){const t=e.getBoundingClientRect(),i=Fk(e);return{left:t.left+i.scrollX,top:t.top+i.scrollY,width:t.width,height:t.height}}function lL(e){const t=sL.getMarginLeft(e)+sL.getMarginRight(e);return e.offsetWidth+t}function cL(e){const t=sL.getBorderLeftWidth(e)+sL.getBorderRightWidth(e),i=sL.getPaddingLeft(e)+sL.getPaddingRight(e);return e.offsetWidth-t-i}function dL(e){const t=sL.getBorderTopWidth(e)+sL.getBorderBottomWidth(e),i=sL.getPaddingTop(e)+sL.getPaddingBottom(e);return e.offsetHeight-t-i}function hL(e){const t=sL.getMarginTop(e)+sL.getMarginBottom(e);return e.offsetHeight+t}function uL(e,t){return Boolean(null===t||void 0===t?void 0:t.contains(e))}function gL(e,t,i){return!!function(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"===typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}(e,t,i)}function pL(e){return e&&!!e.host&&!!e.mode}function fL(e){return!!mL(e)}function mL(e){for(var t;e.parentNode;){if(e===(null===(t=e.ownerDocument)||void 0===t?void 0:t.body))return null;e=e.parentNode}return pL(e)?e:null}function vL(){let e=_L().activeElement;for(;null===e||void 0===e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bL(e){return e.ownerDocument.activeElement===e}function _L(){var e;if(Wk()<=1)return document;const t=Array.from(Vk()).map((e=>{let{window:t}=e;return t.document}));return null!==(e=t.find((e=>e.hasFocus())))&&void 0!==e?e:document}rL.None=new rL(0,0);const wL=new Map;function yL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q_.document.head,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const n=document.createElement("style");if(n.type="text/css",n.media="screen",null===t||void 0===t||t(n),e.appendChild(n),i&&i.add(cv((()=>e.removeChild(n)))),e===q_.document.head){const e=new Set;wL.set(n,e);for(const{window:t,disposables:o}of Vk()){if(t===q_)continue;const s=o.add(CL(n,e,t));null===i||void 0===i||i.add(s)}}return n}function CL(e,t,i){var n,o;const s=new dv,r=e.cloneNode(!0);i.document.head.appendChild(r),s.add(cv((()=>i.document.head.removeChild(r))));for(const a of xL(e))null===(n=r.sheet)||void 0===n||n.insertRule(a.cssText,null===(o=r.sheet)||void 0===o?void 0:o.cssRules.length);return s.add(SL.observe(e,s,{childList:!0})((()=>{r.textContent=e.textContent}))),t.add(r),s.add(cv((()=>t.delete(r)))),s}const SL=new class{constructor(){this.mutationObservers=new Map}observe(e,t,i){let n=this.mutationObservers.get(e);n||(n=new Map,this.mutationObservers.set(e,n));const o=Nk(i,0);let s=n.get(o);if(s)s.users+=1;else{const r=new Cv,a=new MutationObserver((e=>r.fire(e)));a.observe(e,i);const l=s={users:1,observer:a,onDidMutate:r.event};t.add(cv((()=>{l.users-=1,0===l.users&&(r.dispose(),a.disconnect(),null===n||void 0===n||n.delete(o),0===(null===n||void 0===n?void 0:n.size)&&this.mutationObservers.delete(e))}))),n.set(o,s)}return s.onDidMutate}};let kL=null;function LL(){return kL||(kL=yL()),kL}function xL(e){var t,i;return(null===(t=null===e||void 0===e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(i=null===e||void 0===e?void 0:e.sheet)||void 0===i?void 0:i.cssRules)?e.sheet.cssRules:[]}function DL(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LL();var n,o;if(i&&t){null===(n=i.sheet)||void 0===n||n.insertRule("".concat(e," {").concat(t,"}"),0);for(const n of null!==(o=wL.get(i))&&void 0!==o?o:[])DL(e,t,n)}}function EL(e){return e instanceof MouseEvent||e instanceof Fk(e).MouseEvent}function NL(e){return e instanceof KeyboardEvent||e instanceof Fk(e).KeyboardEvent}const TL={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Xw?"webkitAnimationStart":"animationstart",ANIMATION_END:Xw?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Xw?"webkitAnimationIteration":"animationiteration"};function IL(e){const t=e;return!(!t||"function"!==typeof t.preventDefault||"function"!==typeof t.stopPropagation)}const AL=(e,t)=>(e.preventDefault(),t&&e.stopPropagation(),e);class ML extends hv{static hasFocusWithin(e){if(e instanceof HTMLElement){const t=mL(e);return uL(t?t.activeElement:e.ownerDocument.activeElement,e)}{const t=e;return uL(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new Cv),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Cv),this.onDidBlur=this._onDidBlur.event;let t=ML.hasFocusWithin(e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,(e instanceof HTMLElement?Fk(e):e).setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{ML.hasFocusWithin(e)!==t&&(t?o():n())},this._register(Zk(e,TL.FOCUS,n,!0)),this._register(Zk(e,TL.BLUR,o,!0)),e instanceof HTMLElement&&(this._register(Zk(e,TL.FOCUS_IN,(()=>this._refreshStateHandler()))),this._register(Zk(e,TL.FOCUS_OUT,(()=>this._refreshStateHandler()))))}}function OL(e){return new ML(e)}function RL(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(e.append(...i),1===i.length&&"string"!==typeof i[0])return i[0]}function PL(e,t){return e.insertBefore(t,e.firstChild),t}function FL(e){e.innerText="";for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];RL(e,...i)}const BL=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var VL;function WL(e,t,i){const n=BL.exec(t);if(!n)throw new Error("Bad use of emmet");const o=n[1]||"div";let s;s=e!==VL.HTML?document.createElementNS(e,o):document.createElement(o),n[3]&&(s.id=n[3]),n[4]&&(s.className=n[4].replace(/\./g," ").trim()),i&&Object.entries(i).forEach((e=>{let[t,i]=e;"undefined"!==typeof i&&(/^on\w+$/.test(t)?s[t]=i:"selected"===t?i&&s.setAttribute(t,"true"):s.setAttribute(t,i))}));for(var r=arguments.length,a=new Array(r>3?r-3:0),l=3;l<r;l++)a[l-3]=arguments[l];return s.append(...a),s}function zL(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return WL(VL.HTML,e,t,...n)}function HL(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)n.style.display="",n.removeAttribute("aria-hidden")}function jL(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)n.style.display="none",n.setAttribute("aria-hidden","true")}function UL(e,t){const i=e.devicePixelRatio*t;return Math.max(1,Math.floor(i))/e.devicePixelRatio}function KL(e){q_.open(e,"_blank","noopener")}function qL(e){return e?"url('".concat(Dk.uriToBrowserUri(e).toString(!0).replace(/'/g,"%27"),"')"):"url('')"}function GL(e){return"'".concat(e.replace(/'/g,"%27"),"'")}function YL(e,t){if(void 0!==e){const i=e.match(/^\s*var\((.+)\)$/);if(i){const e=i[1].split(",",2);return 2===e.length&&(t=YL(e[1].trim(),t)),"var(".concat(e[0],", ").concat(t,")")}return e}return t}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.SVG="http://www.w3.org/2000/svg"}(VL||(VL={})),zL.SVG=function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return WL(VL.SVG,e,t,...n)},Lk.setPreferredWebSchema(/^https:/.test(q_.location.href)?"https":"http");const ZL=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class QL extends Cv{constructor(){super(),this._subscriptions=new dv,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(vv.runAndSubscribe(Uk,(e=>{let{window:t,disposables:i}=e;return this.registerListeners(t,i)}),{window:q_,disposables:this._subscriptions}))}registerListeners(e,t){t.add(Zk(e,"keydown",(e=>{if(e.defaultPrevented)return;const t=new eS(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),t.add(Zk(e,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),t.add(Zk(e.document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),t.add(Zk(e.document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),t.add(Zk(e.document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),t.add(Zk(e,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return QL.instance||(QL.instance=new QL),QL.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class XL extends hv{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(Zk(this.element,TL.DRAG_START,(e=>{var t,i;null===(i=(t=this.callbacks).onDragStart)||void 0===i||i.call(t,e)}))),this.callbacks.onDrag&&this._register(Zk(this.element,TL.DRAG,(e=>{var t,i;null===(i=(t=this.callbacks).onDrag)||void 0===i||i.call(t,e)}))),this._register(Zk(this.element,TL.DRAG_ENTER,(e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,null===(i=(t=this.callbacks).onDragEnter)||void 0===i||i.call(t,e)}))),this._register(Zk(this.element,TL.DRAG_OVER,(e=>{var t,i;e.preventDefault(),null===(i=(t=this.callbacks).onDragOver)||void 0===i||i.call(t,e,e.timeStamp-this.dragStartTime)}))),this._register(Zk(this.element,TL.DRAG_LEAVE,(e=>{var t,i;this.counter--,0===this.counter&&(this.dragStartTime=0,null===(i=(t=this.callbacks).onDragLeave)||void 0===i||i.call(t,e))}))),this._register(Zk(this.element,TL.DRAG_END,(e=>{var t,i;this.counter=0,this.dragStartTime=0,null===(i=(t=this.callbacks).onDragEnd)||void 0===i||i.call(t,e)}))),this._register(Zk(this.element,TL.DROP,(e=>{var t,i;this.counter=0,this.dragStartTime=0,null===(i=(t=this.callbacks).onDrop)||void 0===i||i.call(t,e)})))}}const JL=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function $L(e){let t,i;Array.isArray(arguments.length<=1?void 0:arguments[1])?(t={},i=arguments.length<=1?void 0:arguments[1]):(t=(arguments.length<=1?void 0:arguments[1])||{},i=arguments.length<=2?void 0:arguments[2]);const n=JL.exec(e);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",s=document.createElement(o);n.groups.id&&(s.id=n.groups.id);const r=[];if(n.groups.class)for(const l of n.groups.class.split("."))""!==l&&r.push(l);if(void 0!==t.className)for(const l of t.className.split("."))""!==l&&r.push(l);r.length>0&&(s.className=r.join(" "));const a={};if(n.groups.name&&(a[n.groups.name]=s),i)for(const l of i)l instanceof HTMLElement?s.appendChild(l):"string"===typeof l?s.append(l):"root"in l&&(Object.assign(a,l),s.appendChild(l.root));for(const[l,c]of Object.entries(t))if("className"!==l)if("style"===l)for(const[e,t]of Object.entries(c))s.style.setProperty(ex(e),"number"===typeof t?t+"px":""+t);else"tabIndex"===l?s.tabIndex=c:s.setAttribute(ex(l),c.toString());return a.root=s,a}function ex(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class tx{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?Gy.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};AC.registerKeybindingRule(i)}}Ty.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){zC.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class ix extends tx{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,n){return this._implementations.push({priority:e,name:t,implementation:i,when:n}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(KC),n=e.get(pC);i.trace("Executing Command '".concat(this.id,"' which has ").concat(this._implementations.length," bound."));for(const o of this._implementations){if(o.when){const e=n.getContext(vL());if(!o.when.evaluate(e))continue}const s=o.implementation(e,t);if(s){if(i.trace("Command '".concat(this.id,"' was handled by '").concat(o.name,"'.")),"boolean"===typeof s)return;return s}}i.trace("The Command '".concat(this.id,"' was not handled by any implementation."))}}class nx extends tx{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class ox extends tx{static bindToContribution(e){return class extends ox{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){const o=e(i);o&&this._callback(o,n)}}}static runEditorCommand(e,t,i,n){const o=e.get(by),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext((e=>{if(e.get(pC).contextMatchesRules(null!==i&&void 0!==i?i:void 0))return n(e,s,t)}))}runCommand(e,t){return ox.runEditorCommand(e,t,this.precondition,((e,t,i)=>this.runEditorCommand(e,t,i)))}}function sx(e){return lx.INSTANCE.registerEditorCommand(e),e}function rx(e,t,i){lx.INSTANCE.registerEditorContribution(e,t,i)}var ax;!function(e){e.getEditorCommand=function(e){return lx.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return lx.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return lx.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return lx.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},e.getDiffEditorContributions=function(){return lx.INSTANCE.getDiffEditorContributions()}}(ax||(ax={}));class lx{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function cx(e){return e.register(),e}lx.INSTANCE=new lx,TC.add("editor.contributions",lx.INSTANCE);const dx=cx(new ix({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:BC.MenubarEditMenu,group:"1_do",title:lf({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:BC.CommandPalette,group:"",title:lf("undo","Undo"),order:1}]}));cx(new nx(dx,{id:"default:undo",precondition:void 0}));const hx=cx(new ix({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:BC.MenubarEditMenu,group:"1_do",title:lf({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:BC.CommandPalette,group:"",title:lf("redo","Redo"),order:1}]}));cx(new nx(hx,{id:"default:redo",precondition:void 0}));const ux=cx(new ix({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:BC.MenubarSelectionMenu,group:"1_basic",title:lf({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:BC.CommandPalette,group:"",title:lf("selectAll","Select All"),order:1}]})),gx="$initialize";let px=!1;function fx(e){Rf&&(px||(px=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class mx{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}}class vx{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class bx{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}}class _x{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class wx{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class yx{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise(((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new mx(this._workerId,i,e,t))}))}listen(e,t){let i=null;const n=new Cv({onWillAddFirstListener:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new bx(this._workerId,i,e,t))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(i),this._send(new wx(this._workerId,i)),i=null}});return n.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;return e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),void t.reject(i)}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new vx(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=qm(e.detail)),this._send(new vx(this._workerId,t,void 0,qm(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new _x(this._workerId,t,e))}));this._pendingEvents.set(t,i)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){const t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class Cx extends hv{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{null===n||void 0===n||n(e)}))),this._protocol=new yx({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!==typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(Pee){return Promise.reject(Pee)}},handleEvent:(e,t)=>{if(kx(e)){const n=i[e].call(i,t);if("function"!==typeof n)throw new Error("Missing dynamic event ".concat(e," on main thread host."));return n}if(Sx(e)){const t=i[e];if("function"!==typeof t)throw new Error("Missing event ".concat(e," on main thread host."));return t}throw new Error("Malformed event name ".concat(e))}}),this._protocol.setWorkerId(this._worker.getId());let o=null;const s=globalThis.require;"undefined"!==typeof s&&"function"===typeof s.getConfig?o=s.getConfig():"undefined"!==typeof globalThis.requirejs&&(o=globalThis.requirejs.s.contexts._.config);const r=sf(i);this._onModuleLoaded=this._protocol.sendMessage(gx,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,r]);const a=(e,t)=>this._request(e,t),l=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,i)=>{n=i,this._onModuleLoaded.then((t=>{e(Lx(t,a,l))}),(e=>{i(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((i,n)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(i,n)}),n)}))}_onError(e,t){console.error(e),console.info(t)}}function Sx(e){return"o"===e[0]&&"n"===e[1]&&pw(e.charCodeAt(2))}function kx(e){return/^onDynamic/.test(e)&&pw(e.charCodeAt(9))}function Lx(e,t,i){const n=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o=e=>function(t){return i(e,t)},s={};for(const r of e)kx(r)?s[r]=o(r):Sx(r)?s[r]=i(r,void 0):s[r]=n(r);return s}function xx(e,t){var i;const n=globalThis.MonacoEnvironment;if(null===n||void 0===n?void 0:n.createTrustedTypesPolicy)try{return n.createTrustedTypesPolicy(e,t)}catch(o){return void Um(o)}try{return null===(i=q_.trustedTypes)||void 0===i?void 0:i.createPolicy(e,t)}catch(o){return void Um(o)}}const Dx=xx("defaultWorkerFactory",{createScriptURL:e=>e});class Ex{constructor(e,t,i,n,o){this.id=t,this.label=i;const s=function(e){const t=globalThis.MonacoEnvironment;if(t){if("function"===typeof t.getWorker)return t.getWorker("workerMain.js",e);if("function"===typeof t.getWorkerUrl){const i=t.getWorkerUrl("workerMain.js",e);return new Worker(Dx?Dx.createScriptURL(i):i,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(i);"function"===typeof s.then?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"===typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){var i;null===(i=this.worker)||void 0===i||i.then((i=>{try{i.postMessage(e,t)}catch(n){Um(n),Um(new Error("FAILED to post message to '".concat(this.label,"'-worker"),{cause:n}))}}))}dispose(){var e;null===(e=this.worker)||void 0===e||e.then((e=>e.terminate())),this.worker=null}}class Nx{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const n=++Nx.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Ex(e,n,this._label||"anonymous"+n,t,(e=>{fx(e),this._webWorkerFailedBeforeError=e,i(e)}))}}var Tx;Nx.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(Tx||(Tx={}));class Ix{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const e=String.fromCharCode(i);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Ax{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)Mx(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),Mx(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),Mx(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),Mx(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&Mx(this.autoClosingPairsCloseSingleChar,t.close,t)}}function Mx(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}function Ox(e,t){const i=e.getCount(),n=e.findTokenIndexAtOffset(t),o=e.getLanguageId(n);let s=n;for(;s+1<i&&e.getLanguageId(s+1)===o;)s++;let r=n;for(;r>0&&e.getLanguageId(r-1)===o;)r--;return new Rx(e,o,r,s+1,e.getStartOffset(r),e.getEndOffset(s))}class Rx{constructor(e,t,i,n,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Px(e){return 0!==(3&e)}class Fx{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new Ix(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new Ix({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Ix({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes="string"===typeof e.autoCloseBefore?e.autoCloseBefore:Fx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"===typeof e.autoCloseBefore?e.autoCloseBefore:Fx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}Fx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",Fx.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";const Bx="undefined"!==typeof Buffer;new Z_((()=>new Uint8Array(256)));let Vx,Wx,zx,Hx;class jx{static wrap(e){return Bx&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new jx(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return Bx?this.buffer.toString():(Vx||(Vx=new TextDecoder),Vx.decode(this.buffer))}}function Ux(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function Kx(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function qx(e,t){return e[t]*2**24+65536*e[t+1]+256*e[t+2]+e[t+3]}function Gx(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function Yx(e,t){return e[t]}function Zx(e,t,i){e[i]=t}function Qx(){return Wx||(Wx=new TextDecoder("UTF-16LE")),Wx}function Xx(){return Hx||(Hx=function(){if(!Uf){Uf=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);jf=513===t[0]}return jf}()?Qx():(zx||(zx=new TextDecoder("UTF-16BE")),zx)),Hx}function Jx(e,t,i){const n=new Uint16Array(e.buffer,t,i);return i>0&&(65279===n[0]||65534===n[0])?function(e,t,i){const n=[];let o=0;for(let s=0;s<i;s++){const i=Ux(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")}(e,t,i):Qx().decode(n)}class $x{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Xx().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||_w(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class eD{constructor(e,t,i,n,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=eD._toSet(this.open),this._closeSet=eD._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class tD{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const i=[];for(let r=0;r<t;r++)i[r]=r;const n=(e,t)=>{const[i,n]=e,[o,s]=t;return i===o||i===s||n===o||n===s},o=(e,n)=>{const o=Math.min(e,n),s=Math.max(e,n);for(let r=0;r<t;r++)i[r]===s&&(i[r]=o)};for(let r=0;r<t;r++){const s=e[r];for(let a=r+1;a<t;a++)n(s,e[a])&&o(i[r],i[a])}const s=[];for(let r=0;r<t;r++){const n=[],o=[];for(let s=0;s<t;s++)if(i[s]===r){const[t,i]=e[s];n.push(t),o.push(i)}n.length>0&&s.push({open:n,close:o})}return s}(t);this.brackets=i.map(((t,n)=>new eD(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)iD(o[s],i,n,o);return o=oD(o),o.sort(nD),o.reverse(),rD(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)iD(o[s],i,n,o);return o=oD(o),o.sort(nD),o.reverse(),rD(o.map(aD))}(t.open,t.close,i,n)))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=oD(t),rD(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=oD(t),rD(t.map(aD))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function iD(e,t,i,n){for(let o=0,s=t.length;o<s;o++){if(o===i)continue;const s=t[o];for(const t of s.open)t.indexOf(e)>=0&&n.push(t);for(const t of s.close)t.indexOf(e)>=0&&n.push(t)}}function nD(e,t){return e.length-t.length}function oD(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function sD(e){const t=/^[\w ]+$/.test(e);return e=ew(e),t?"\\b".concat(e,"\\b"):e}function rD(e){return nw("(".concat(e.map(sD).join(")|("),")"),!0)}const aD=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return Xx().decode(t)}(e)),t}}();class lD{static _findPrevBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const s=i.length-(o.index||0),r=o[0].length,a=n+s;return new Fb(t,a-r+1,t,a+1)}static findPrevBracketInRange(e,t,i,n,o){const s=aD(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,s,n)}static findNextBracketInText(e,t,i,n){const o=i.match(e);if(!o)return null;const s=o.index||0,r=o[0].length;if(0===r)return null;const a=n+s;return new Fb(t,a+1,t,a+1+r)}static findNextBracketInRange(e,t,i,n,o){const s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}class cD{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return kp(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(Px(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,r=lD.findPrevBracketInRange(o,1,s,0,s.length);if(!r)return null;const a=s.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function dD(e){return e.global&&(e.lastIndex=0),!0}class hD{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&dD(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&dD(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&dD(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&dD(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class uD{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=uD._createOpenBracketRegExp(e[0]),i=uD._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){const e=this._regExpRules[o];if([{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return e.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,s=this._brackets.length;o<s;o++){const e=this._brackets[o];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:Tx.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,s=this._brackets.length;o<s;o++){if(this._brackets[o].openRegExp.test(i))return{indentAction:Tx.Indent}}return null}static _createOpenBracketRegExp(e){let t=ew(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",uD._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=ew(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,uD._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Um(t),null}}}const gD=vy("configurationService");function pD(e,t){const i=Object.create(null);for(const n in e)fD(i,n,e[n],t);return i}function fD(e,t,i,n){const o=t.split("."),s=o.pop();let r=e;for(let a=0;a<o.length;a++){const e=o[a];let i=r[e];switch(typeof i){case"undefined":i=r[e]=Object.create(null);break;case"object":break;default:return void n("Ignoring ".concat(t," as ").concat(o.slice(0,a+1).join(".")," is ").concat(JSON.stringify(i)))}r=i}if("object"===typeof r&&null!==r)try{r[s]=i}catch(Pee){n("Ignoring ".concat(t," as ").concat(o.join(".")," is ").concat(JSON.stringify(r)))}else n("Ignoring ".concat(t," as ").concat(o.join(".")," is ").concat(JSON.stringify(r)))}function mD(e,t){vD(e,t.split("."))}function vD(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!==typeof n||Array.isArray(n)||(vD(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}function bD(e,t,i){const n=function(e,t){let i=e;for(const n of t){if("object"!==typeof i||null===i)return;i=i[n]}return i}(e,t.split("."));return"undefined"===typeof n?i:n}const _D=vy("languageService");class wD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const yD=[];function CD(e,t,i){t instanceof wD||(t=new wD(t,[],Boolean(i))),yD.push([e,t])}function SD(){return yD}const kD=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),LD="base.contributions.json";const xD=new class{constructor(){this._onDidChangeSchema=new Cv,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};TC.add(LD,xD);const DD="base.contributions.configuration",ED={properties:{},patternProperties:{}},ND={properties:{},patternProperties:{}},TD={properties:{},patternProperties:{}},ID={properties:{},patternProperties:{}},AD={properties:{},patternProperties:{}},MD={properties:{},patternProperties:{}},OD="vscode://schemas/settings/resourceLanguage",RD=TC.as(LD);const PD="\\[([^\\]]+)\\]",FD=new RegExp(PD,"g"),BD="^(".concat(PD,")+$"),VD=new RegExp(BD);function WD(e){const t=[];if(VD.test(e)){let i=FD.exec(e);for(;null===i||void 0===i?void 0:i.length;){const n=i[1].trim();n&&t.push(n),i=FD.exec(e)}}return kp(t)}const zD=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Cv,this._onDidUpdateConfiguration=new Cv,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:lf("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},RD.registerSchema(OD,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.registerConfigurations([e],t)}registerConfigurations(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new Set;this.doRegisterConfigurations(e,t,i),RD.registerSchema(OD,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var i;const n=[];for(const{overrides:o,source:s}of e)for(const e in o)if(t.add(e),VD.test(e)){const t=this.configurationDefaultsOverrides.get(e),r=null!==(i=null===t||void 0===t?void 0:t.valuesSources)&&void 0!==i?i:new Map;if(s)for(const i of Object.keys(o[e]))r.set(i,s);const a={...(null===t||void 0===t?void 0:t.value)||{},...o[e]};this.configurationDefaultsOverrides.set(e,{source:s,value:a,valuesSources:r});const l={type:"object",default:a,description:lf("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",e.replace(/[\[\]]/g,"")),$ref:OD,defaultDefaultValue:a,source:Wp(s)?void 0:s,defaultValueSource:s};n.push(...WD(e)),this.configurationProperties[e]=l,this.defaultLanguageConfigurationOverridesNode.properties[e]=l}else{this.configurationDefaultsOverrides.set(e,{value:o[e],source:s});const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}this.doRegisterOverrideIdentifiers(n)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,i),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,s=arguments.length>5?arguments[5]:void 0;var r;o=Yp(e.scope)?o:e.scope;const a=e.properties;if(a)for(const c in a){const e=a[c];t&&HD(c,e)?delete a[c]:(e.source=i,e.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,e),VD.test(c)?e.scope=void 0:(e.scope=Yp(e.scope)?o:e.scope,e.restricted=Yp(e.restricted)?!!(null===n||void 0===n?void 0:n.includes(c)):e.restricted),!a[c].hasOwnProperty("included")||a[c].included?(this.configurationProperties[c]=a[c],(null===(r=a[c].policy)||void 0===r?void 0:r.name)&&this.policyConfigurations.set(a[c].policy.name,c),!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),s.add(c)):(this.excludedConfigurationProperties[c]=a[c],delete a[c]))}const l=e.allOf;if(l)for(const c of l)this.validateAndRegisterProperties(c,t,i,n,o,s)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);const n=e.allOf;null===n||void 0===n||n.forEach(t)};t(e)}updateSchema(e,t){switch(ED.properties[e]=t,t.scope){case 1:ND.properties[e]=t;break;case 2:TD.properties[e]=t;break;case 6:ID.properties[e]=t;break;case 3:AD.properties[e]=t;break;case 4:MD.properties[e]=t;break;case 5:MD.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t="[".concat(e,"]"),i={type:"object",description:lf("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:lf("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:OD};this.updatePropertyDefaultValue(t,i),ED.properties[t]=i,ND.properties[t]=i,TD.properties[t]=i,ID.properties[t]=i,AD.properties[t]=i,MD.properties[t]=i}}registerOverridePropertyPatternKey(){const e={type:"object",description:lf("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:lf("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:OD};ED.patternProperties[BD]=e,ND.patternProperties[BD]=e,TD.patternProperties[BD]=e,ID.patternProperties[BD]=e,AD.patternProperties[BD]=e,MD.patternProperties[BD]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=null===i||void 0===i?void 0:i.value,o=null===i||void 0===i?void 0:i.source;qp(n)&&(n=t.defaultDefaultValue,o=void 0),qp(n)&&(n=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n,t.defaultValueSource=o}};function HD(e,t){var i,n,o,s;return e.trim()?VD.test(e)?lf("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==zD.getConfigurationProperties()[e]?lf("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):(null===(i=t.policy)||void 0===i?void 0:i.name)&&void 0!==zD.getPolicyConfigurations().get(null===(n=t.policy)||void 0===n?void 0:n.name)?lf("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(o=t.policy)||void 0===o?void 0:o.name,zD.getPolicyConfigurations().get(null===(s=t.policy)||void 0===s?void 0:s.name)):null:lf("config.property.empty","Cannot register an empty property")}TC.add(DD,zD);const jD=new class{constructor(){this._onDidChangeLanguages=new Cv,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};TC.add("editor.modesRegistry",jD);const UD="plaintext";jD.registerLanguage({id:UD,extensions:[".txt"],aliases:[lf("plainText.alias","Plain Text"),"text"],mimetypes:[kD.text]}),TC.as(DD).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class KD{constructor(e,t){this.languageId=e;const i=t.brackets?qD(t.brackets):[],n=new Y_((e=>{const t=new Set;return{info:new YD(this,e,t),closing:t}})),o=new Y_((e=>{const t=new Set,i=new Set;return{info:new ZD(this,e,t,i),opening:t,openingColorized:i}}));for(const[r,a]of i){const e=n.get(r),t=o.get(a);e.closing.add(t.info),t.opening.add(e.info)}const s=t.colorizedBracketPairs?qD(t.colorizedBracketPairs):i.filter((e=>!("<"===e[0]&&">"===e[1])));for(const[r,a]of s){const e=n.get(r),t=o.get(a);e.closing.add(t.info),t.openingColorized.add(e.info),t.opening.add(e.info)}this._openingBrackets=new Map([...n.cachedValues].map((e=>{let[t,i]=e;return[t,i.info]}))),this._closingBrackets=new Map([...o.cachedValues].map((e=>{let[t,i]=e;return[t,i.info]})))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function qD(e){return e.filter((e=>{let[t,i]=e;return""!==t&&""!==i}))}class GD{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class YD extends GD{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class ZD extends GD{constructor(e,t,i,n){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=n,this.isOpeningBracket=!1}closes(e){return e.config===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var QD=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},XD=function(e,t){return function(i,n){t(i,n,e)}};class JD{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const $D=vy("languageConfigurationService");let eE=class extends hv{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new cE),this.onDidChangeEmitter=this._register(new Cv),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(tE));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>i.has(e))),n=e.change.overrides.filter((e=>{let[t,n]=e;return n.some((e=>i.has(e)))})).map((e=>{let[t]=e;return t}));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new JD(void 0));else for(const i of n)this.languageService.isRegisteredLanguageId(i)&&(this.configurations.delete(i),this.onDidChangeEmitter.fire(new JD(i)))}))),this._register(this._registry.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new JD(e.languageId))})))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,i,n){let o=t.getLanguageConfiguration(e);if(!o){if(!n.isRegisteredLanguageId(e))return new dE(e,{});o=new dE(e,{})}const s=function(e,t){const i=t.getValue(tE.brackets,{overrideIdentifier:e}),n=t.getValue(tE.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:iE(i),colorizedBracketPairs:iE(n)}}(o.languageId,i),r=rE([o.underlyingConfig,s]),a=new dE(o.languageId,r);return a}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};eE=QD([XD(0,gD),XD(1,_D)],eE);const tE={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function iE(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}function nE(e,t,i){let n=rw(e.getLineContent(t));return n.length>i-1&&(n=n.substring(0,i-1)),n}function oE(e,t,i){e.tokenization.forceTokenization(t);return Ox(e.tokenization.getLineTokens(t),"undefined"===typeof i?e.getLineMaxColumn(t)-1:i-1)}class sE{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new aE(e,t,++this._order);return this._entries.push(i),this._resolved=null,cv((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new dE(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(aE.cmp),rE(this._entries.map((e=>e.configuration))))}}function rE(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const i of e)t={comments:i.comments||t.comments,brackets:i.brackets||t.brackets,wordPattern:i.wordPattern||t.wordPattern,indentationRules:i.indentationRules||t.indentationRules,onEnterRules:i.onEnterRules||t.onEnterRules,autoClosingPairs:i.autoClosingPairs||t.autoClosingPairs,surroundingPairs:i.surroundingPairs||t.surroundingPairs,autoCloseBefore:i.autoCloseBefore||t.autoCloseBefore,folding:i.folding||t.folding,colorizedBracketPairs:i.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:i.__electricCharacterSupport||t.__electricCharacterSupport};return t}class aE{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class lE{constructor(e){this.languageId=e}}class cE extends hv{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._register(this.register(UD,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._entries.get(e);n||(n=new sE(e),this._entries.set(e,n));const o=n.register(t,i);return this._onDidChange.fire(new lE(e)),cv((()=>{o.dispose(),this._onDidChange.fire(new lE(e))}))}getLanguageConfiguration(e){const t=this._entries.get(e);return(null===t||void 0===t?void 0:t.getResolvedConfiguration())||null}}class dE{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new uD(this.underlyingConfig):null,this.comments=dE._handleComments(this.underlyingConfig),this.characterPair=new Fx(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||em,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new hD(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new KD(e,this.underlyingConfig)}getWordDefinition(){return tm(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new tD(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new cD(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}getAutoClosingPairs(){return new Ax(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}CD($D,eE,1);class hE{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class uE{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function gE(e,t,i){return new vE(new uE(e),new uE(t)).ComputeDiff(i).changes}class pE{static Assert(e,t){if(!e)throw new Error(t)}}class fE{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}}class mE{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new hE(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class vE{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,s]=vE._getElements(e),[r,a,l]=vE._getElements(t);this._hasStrings=s&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=r,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"===typeof e[0]}static _getElements(e){const t=e.getElements();if(vE._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Ik(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return vE._getStrictElement(this._originalSequence,e)===vE._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"===typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const s=[!1];let r=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(r=this.PrettifyChanges(r)),{quitEarly:s[0],changes:r}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let o;return i<=n?(pE.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new hE(e,0,i,n-i+1)]):e<=t?(pE.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[new hE(e,t-e+1,i,0)]):(pE.Assert(e===t+1,"originalStart should only be one more than originalEnd"),pE.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const s=[0],r=[0],a=this.ComputeRecursionPoint(e,t,i,n,s,r,o),l=s[0],c=r[0];if(null!==a)return a;if(!o[0]){const s=this.ComputeDiffRecursive(e,l,i,c,o);let r=[];return r=o[0]?[new hE(l+1,t-(l+1)+1,c+1,n-(c+1)+1)]:this.ComputeDiffRecursive(l+1,t,c+1,n,o),this.ConcatenateChanges(s,r)}return[new hE(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,s,r,a,l,c,d,h,u,g,p,f,m,v){let b=null,_=null,w=new mE,y=t,C=i,S=u[0]-f[0]-n,k=-1073741824,L=this.m_forwardHistory.length-1;do{const t=S+e;t===y||t<C&&l[t-1]<l[t+1]?(g=(d=l[t+1])-S-n,d<k&&w.MarkNextChange(),k=d,w.AddModifiedElement(d+1,g),S=t+1-e):(g=(d=l[t-1]+1)-S-n,d<k&&w.MarkNextChange(),k=d-1,w.AddOriginalElement(d,g+1),S=t-1-e),L>=0&&(e=(l=this.m_forwardHistory[L])[0],y=1,C=l.length-1)}while(--L>=-1);if(b=w.getReverseChanges(),v[0]){let e=u[0]+1,t=f[0]+1;if(null!==b&&b.length>0){const i=b[b.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}_=[new hE(e,h-e+1,t,p-t+1)]}else{w=new mE,y=s,C=r,S=u[0]-f[0]-a,k=1073741824,L=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+o;e===y||e<C&&c[e-1]>=c[e+1]?(g=(d=c[e+1]-1)-S-a,d>k&&w.MarkNextChange(),k=d+1,w.AddOriginalElement(d+1,g+1),S=e+1-o):(g=(d=c[e-1])-S-a,d>k&&w.MarkNextChange(),k=d,w.AddModifiedElement(d+1,g+1),S=e-1-o),L>=0&&(o=(c=this.m_reverseHistory[L])[0],y=1,C=c.length-1)}while(--L>=-1);_=w.getChanges()}return this.ConcatenateChanges(b,_)}ComputeRecursionPoint(e,t,i,n,o,s,r){let a=0,l=0,c=0,d=0,h=0,u=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(n-i),p=g+1,f=new Int32Array(p),m=new Int32Array(p),v=n-i,b=t-e,_=e-i,w=t-n,y=(b-v)%2===0;f[v]=e,m[b]=t,r[0]=!1;for(let C=1;C<=g/2+1;C++){let g=0,S=0;c=this.ClipDiagonalBound(v-C,C,v,p),d=this.ClipDiagonalBound(v+C,C,v,p);for(let e=c;e<=d;e+=2){a=e===c||e<d&&f[e-1]<f[e+1]?f[e+1]:f[e-1]+1,l=a-(e-v)-_;const i=a;for(;a<t&&l<n&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(f[e]=a,a+l>g+S&&(g=a,S=l),!y&&Math.abs(e-b)<=C-1&&a>=m[e])return o[0]=a,s[0]=l,i<=m[e]&&C<=1448?this.WALKTRACE(v,c,d,_,b,h,u,w,f,m,a,t,o,l,n,s,y,r):null}const k=(g-e+(S-i)-C)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(g,k))return r[0]=!0,o[0]=g,s[0]=S,k>0&&C<=1448?this.WALKTRACE(v,c,d,_,b,h,u,w,f,m,a,t,o,l,n,s,y,r):(e++,i++,[new hE(e,t-e+1,i,n-i+1)]);h=this.ClipDiagonalBound(b-C,C,b,p),u=this.ClipDiagonalBound(b+C,C,b,p);for(let p=h;p<=u;p+=2){a=p===h||p<u&&m[p-1]>=m[p+1]?m[p+1]-1:m[p-1],l=a-(p-b)-w;const g=a;for(;a>e&&l>i&&this.ElementsAreEqual(a,l);)a--,l--;if(m[p]=a,y&&Math.abs(p-v)<=C&&a<=f[p])return o[0]=a,s[0]=l,g>=f[p]&&C<=1448?this.WALKTRACE(v,c,d,_,b,h,u,w,f,m,a,t,o,l,n,s,y,r):null}if(C<=1447){let e=new Int32Array(d-c+2);e[0]=v-c+1,fE.Copy2(f,c,e,1,d-c+1),this.m_forwardHistory.push(e),e=new Int32Array(u-h+2),e[0]=b-h+1,fE.Copy2(m,h,e,1,u-h+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,c,d,_,b,h,u,w,f,m,a,t,o,l,n,s,y,r)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,r=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!r||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const e=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!e)break;i.originalStart++,i.modifiedStart++}const a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];n=i.originalStart+i.originalLength,o=i.modifiedStart+i.modifiedLength}const s=i.originalLength>0,r=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,c=i.modifiedStart-e;if(t<n||c<o)break;if(s&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(r&&!this.ModifiedElementsAreEqual(c,c+i.modifiedLength))break;const d=(t===n&&c===o?5:0)+this._boundaryScore(t,i.originalLength,c,i.modifiedLength);d>l&&(l=d,a=e)}i.originalStart-=a,i.modifiedStart-=a;const c=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],c)&&(e[t-1]=c[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t],o=n.originalStart-i.originalStart-i.originalLength,s=i.originalStart,r=n.originalStart+n.originalLength,a=r-s,l=i.modifiedStart,c=n.modifiedStart+n.modifiedLength,d=c-l;if(o<5&&a<20&&d<20){const e=this._findBetterContiguousSequence(s,a,l,d,o);if(e){const[t,s]=e;t===i.originalStart+i.originalLength&&s===i.modifiedStart+i.modifiedLength||(i.originalLength=t-i.originalStart,i.modifiedLength=s-i.modifiedStart,n.originalStart=t+o,n.modifiedStart=s+o,n.originalLength=r-n.originalStart,n.modifiedLength=c-n.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const s=e+t-o+1,r=i+n-o+1;let a=0,l=0,c=0;for(let d=e;d<s;d++)for(let e=i;e<r;e++){const t=this._contiguousSequenceScore(d,e,o);t>0&&t>a&&(a=t,l=d,c=e)}return a>0?[l,c]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){const i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return fE.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],fE.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return fE.Copy(e,0,i,0,e.length),fE.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(pE.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),pE.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const s=e.modifiedStart;let r=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(r=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new hE(n,o,s,r),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2===0;if(e<0){return o===(i%2===0)?0:1}return o===((n-i-1)%2===0)?n-1:n-2}}function bE(e){return e<0?0:e>255?255:0|e}function _E(e){return e<0?0:e>4294967295?4294967295:0|e}class wE{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=_E(e);const i=this.values,n=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=_E(e),t=_E(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=_E(e),t=_E(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;const o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=_E(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else{if(!(e>=o))break;t=n+1}return new CE(n,e-s)}}class yE{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),0===e?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new CE(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=Dp(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const t=this._values[e],i=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=i+t;for(let n=0;n<t;n++)this._indexBySum[i+n]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class CE{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class SE{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Pb(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new wE(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;const i=ow(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}class kE{constructor(e){const t=bE(e);this._defaultValue=t,this._asciiMap=kE._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=bE(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class LE{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class xE{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){const[n,s,r]=e[o];s>t&&(t=s),n>i&&(i=n),r>i&&(i=r)}t++,i++;const n=new LE(i,t,0);for(let o=0,s=e.length;o<s;o++){const[t,i,s]=e[o];n.set(t,i,s)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let DE=null;let EE=null;class NE{static _createLink(e,t,i,n,o){let s=o-1;do{const i=t.charCodeAt(s);if(2!==e.get(i))break;s--}while(s>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(s);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===DE&&(DE=new xE([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),DE);const i=function(){if(null===EE){EE=new kE(0);const e=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let i=0;i<e.length;i++)EE.set(e.charCodeAt(i),1);const t=".,;:";for(let i=0;i<t.length;i++)EE.set(t.charCodeAt(i),2)}return EE}(),n=[];for(let o=1,s=e.getLineCount();o<=s;o++){const s=e.getLineContent(o),r=s.length;let a=0,l=0,c=0,d=1,h=!1,u=!1,g=!1,p=!1;for(;a<r;){let e=!1;const r=s.charCodeAt(a);if(13===d){let t;switch(r){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:case 34:case 96:t=c===r?1:39===c||34===c||96===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=g?0:1;break;default:t=i.get(r)}1===t&&(n.push(NE._createLink(i,s,o,l,a)),e=!0)}else if(12===d){let t;91===r?(u=!0,t=0):t=i.get(r),1===t?e=!0:d=13}else d=t.nextState(d,r),0===d&&(e=!0);e&&(d=1,h=!1,u=!1,p=!1,l=a+1,c=r),a++}13===d&&n.push(NE._createLink(i,s,o,l,r))}return n}}class TE{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){const i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){const e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let n=Number(e);const o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;null===n&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}TE.INSTANCE=new TE;class IE extends kE{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const AE=function(e){const t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}((e=>new IE(e)));var ME,OE,RE,PE;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(ME||(ME={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(OE||(OE={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(RE||(RE={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(PE||(PE={}));class FE{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),"tabSize"===e.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|e.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&of(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class BE{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}class VE{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class WE{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class zE{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function HE(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}class jE{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){const n=e.charCodeAt(t);if(10===n)return!0;if(92===n){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=nw(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(n){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new WE(t,this.wordSeparators?AE(this.wordSeparators):null,i?this.searchString:null)}}function UE(e,t,i){if(!i)return new BE(e,null);const n=[];for(let o=0,s=t.length;o<s;o++)n[o]=t[o];return new BE(e,n)}class KE{constructor(e){const t=[];let i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class qE{static findMatches(e,t,i,n,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new YE(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let r,a,l=0;if(n?(l=n.findLineFeedCountBeforeOffset(o),r=t+o+l):r=t+o,n){const e=n.findLineFeedCountBeforeOffset(o+s.length)-l;a=r+s.length+e}else a=r+s.length;const c=e.getPositionAt(r),d=e.getPositionAt(a);return new Fb(c.lineNumber,c.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,n,o){const s=e.getOffsetAt(t.getStartPosition()),r=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new KE(r):null,l=[];let c,d=0;for(i.reset(0);c=i.next(r);)if(l[d++]=UE(this._getMultilineMatchRange(e,s,r,a,c.index,c[0]),c,n),d>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const s=[];let r=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o),s}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&r<o;l++)r=this._findMatchesInLine(i,e.getLineContent(l),l,0,r,s,n,o);if(r<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);r=this._findMatchesInLine(i,a,t.endLineNumber,0,r,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,r,a){const l=e.wordSeparators;if(!r&&e.simpleSearch){const r=e.simpleSearch,c=r.length,d=t.length;let h=-c;for(;-1!==(h=t.indexOf(r,h+c));)if((!l||GE(l,t,d,h,c))&&(s[o++]=new BE(new Fb(i,h+1+n,i,h+1+c+n),null),o>=a))return o;return o}const c=new YE(e.wordSeparators,e.regex);let d;c.reset(0);do{if(d=c.next(t),d&&(s[o++]=UE(new Fb(i,d.index+1+n,i,d.index+1+d[0].length+n),d,r),o>=a))return o}while(d);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new YE(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new Pb(t.lineNumber,1),s=e.getOffsetAt(o),r=e.getLineCount(),a=e.getValueInRange(new Fb(o.lineNumber,o.column,r,e.getLineMaxColumn(r)),1),l="\r\n"===e.getEOL()?new KE(a):null;i.reset(t.column-1);const c=i.next(a);return c?UE(this._getMultilineMatchRange(e,s,a,l,c.index,c[0]),c,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new Pb(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s),a=this._findFirstMatchInLine(i,r,s,t.column,n);if(a)return a;for(let l=1;l<=o;l++){const t=(s+l-1)%o,r=e.getLineContent(t+1),a=this._findFirstMatchInLine(i,r,t+1,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const s=e.next(t);return s?UE(new Fb(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new YE(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new Fb(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new Pb(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s).substring(0,t.column-1),a=this._findLastMatchInLine(i,r,s,n);if(a)return a;for(let l=1;l<=o;l++){const t=(o+s-l-1)%o,r=e.getLineContent(t+1),a=this._findLastMatchInLine(i,r,t+1,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o,s=null;for(e.reset(0);o=e.next(t);)s=UE(new Fb(i,o.index+1,i,o.index+1+o[0].length),o,n);return s}}function GE(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const s=t.charCodeAt(n-1);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const s=t.charCodeAt(n+o);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class YE{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){Cw(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||GE(this._wordSeparators,e,t,n,o))return i}while(i);return null}}class ZE{static computeUnicodeHighlights(e,t,i){const n=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),s=new QE(t),r=s.getCandidateCodePoints();let a;a="allNonBasicAscii"===r?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp("".concat(function(e,t){const i="[".concat(ew(e.map((e=>String.fromCodePoint(e))).join("")),"]");return i}(Array.from(r))),"g");const l=new YE(null,a),c=[];let d,h=!1,u=0,g=0,p=0;e:for(let f=n,m=o;f<=m;f++){const t=e.getLineContent(f),i=t.length;l.reset(0);do{if(d=l.next(t),d){let e=d.index,n=d.index+d[0].length;if(e>0){_w(t.charCodeAt(e-1))&&e--}if(n+1<i){_w(t.charCodeAt(n-1))&&n++}const o=t.substring(e,n);let r=nm(e+1,em,t,0);r&&r.endColumn<=e+1&&(r=null);const a=s.shouldHighlightNonBasicASCII(o,r?r.word:null);if(0!==a){3===a?u++:2===a?g++:1===a?p++:DC(a);const t=1e3;if(c.length>=t){h=!0;break e}c.push(new Fb(f,e+1,f,n+1))}}}while(d)}return{ranges:c,hasMore:h,ambiguousCharacterCount:u,invisibleCharacterCount:g,nonBasicAsciiCharacterCount:p}}static computeUnicodeHighlightReason(e,t){const i=new QE(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const n=e.codePointAt(0),o=i.ambiguousCharacters.getPrimaryConfusable(n),s=Hw.getLocales().filter((e=>!Hw.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(n)));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}class QE{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=Hw.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of jw.codePoints)XE(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,o=!1;if(t)for(const s of t){const e=s.codePointAt(0),t=Tw(s);n=n||t,t||this.ambiguousCharacters.isAmbiguous(e)||jw.isInvisibleCharacter(e)||(o=!0)}return!n&&o?0:this.options.invisibleCharacters&&!XE(e)&&jw.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function XE(e){return" "===e||"\n"===e||"\t"===e}class JE{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class $E{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class eN{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let n=i;for(;n<t.length&&t[n].start<=e.endExclusive;)n++;if(i===n)t.splice(i,0,e);else{const o=Math.min(e.start,t[i].start),s=Math.max(e.endExclusive,t[n-1].endExclusive);t.splice(i,n-i,new eN(o,s))}}static tryCreate(e,t){if(!(e>t))return new eN(e,t)}static ofLength(e){return new eN(0,e)}static ofStartAndLength(e,t){return new eN(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new ev("Invalid range: ".concat(this.toString()))}get isEmpty(){return this.start===this.endExclusive}delta(e){return new eN(this.start+e,this.endExclusive+e)}deltaStart(e){return new eN(this.start+e,this.endExclusive)}deltaEnd(e){return new eN(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return"[".concat(this.start,", ").concat(this.endExclusive,")")}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new eN(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new eN(t,i)}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new ev("Invalid clipping range: ".concat(this.toString()));return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new ev("Invalid clipping range: ".concat(this.toString()));return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class tN{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const n=Math.min(e.start,this._sortedRanges[t].start),o=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new eN(n,o))}}toString(){return this._sortedRanges.map((e=>e.toString())).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new tN;for(const i of this._sortedRanges){const n=i.intersect(e);n&&t.addRange(n)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce(((e,t)=>e+t.length),0)}}function iN(e,t,i){const n=function(e,t){for(let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;i>=0;i--){if(t(e[i]))return i}return-1}(e,t);if(-1!==n)return e[n]}function nN(e,t){const i=oN(e,t);return-1===i?void 0:e[i]}function oN(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?i=o+1:n=o}return i-1}function sN(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}class rN{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(rN.assertInvariants){if(this._prevFindLastPredicate)for(const t of this._array)if(this._prevFindLastPredicate(t)&&!e(t))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=e}const t=oN(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,-1===t?void 0:this._array[t]}}function aN(e,t){if(0===e.length)return;let i=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(o,i)>0&&(i=o)}return i}function lN(e,t){if(0===e.length)return-1;let i=0;for(let n=1;n<e.length;n++){t(e[n],e[i])>0&&(i=n)}return i}rN.assertInvariants=!1;class cN{static fromRange(e){return new cN(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new cN(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(0===e.length)return[];let t=new dN(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new dN(e[i].slice()));return t.ranges}static ofLength(e,t){return new cN(e,e+t)}static deserialize(e){return new cN(e[0],e[1])}constructor(e,t){if(e>t)throw new ev("startLineNumber ".concat(e," cannot be after endLineNumberExclusive ").concat(t));this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new cN(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new cN(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new cN(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new cN(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Fb(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Fb(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new eN(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class dN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(0===e.length)return;const t=sN(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),i=oN(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const i=this._normalizedRanges[t];this._normalizedRanges[t]=i.join(e)}else{const n=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,n)}}contains(e){const t=nN(this._normalizedRanges,(t=>t.startLineNumber<=e));return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=nN(this._normalizedRanges,(t=>t.startLineNumber<e.endLineNumberExclusive));return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(0===this._normalizedRanges.length)return e;if(0===e._normalizedRanges.length)return this;const t=[];let i=0,n=0,o=null;for(;i<this._normalizedRanges.length||n<e._normalizedRanges.length;){let s=null;if(i<this._normalizedRanges.length&&n<e._normalizedRanges.length){const t=this._normalizedRanges[i],o=e._normalizedRanges[n];t.startLineNumber<o.startLineNumber?(s=t,i++):(s=o,n++)}else i<this._normalizedRanges.length?(s=this._normalizedRanges[i],i++):(s=e._normalizedRanges[n],n++);null===o?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new cN(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(t.push(o),o=s)}return null!==o&&t.push(o),new dN(t)}subtractFrom(e){const t=sN(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),i=oN(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===i)return new dN([e]);const n=[];let o=e.startLineNumber;for(let s=t;s<i;s++){const e=this._normalizedRanges[s];e.startLineNumber>o&&n.push(new cN(o,e.startLineNumber)),o=e.endLineNumberExclusive}return o<e.endLineNumberExclusive&&n.push(new cN(o,e.endLineNumberExclusive)),new dN(n)}toString(){return this._normalizedRanges.map((e=>e.toString())).join(", ")}getIntersection(e){const t=[];let i=0,n=0;for(;i<this._normalizedRanges.length&&n<e._normalizedRanges.length;){const o=this._normalizedRanges[i],s=e._normalizedRanges[n],r=o.intersect(s);r&&!r.isEmpty&&t.push(r),o.endLineNumberExclusive<s.endLineNumberExclusive?i++:n++}return new dN(t)}getWithDelta(e){return new dN(this._normalizedRanges.map((t=>t.delta(e))))}}class hN{static inverse(e,t,i){const n=[];let o=1,s=1;for(const a of e){const e=new uN(new cN(o,a.original.startLineNumber),new cN(s,a.modified.startLineNumber),void 0);e.modified.isEmpty||n.push(e),o=a.original.endLineNumberExclusive,s=a.modified.endLineNumberExclusive}const r=new uN(new cN(o,t+1),new cN(s,i+1),void 0);return r.modified.isEmpty||n.push(r),n}constructor(e,t){this.original=e,this.modified=t}toString(){return"{".concat(this.original.toString(),"->").concat(this.modified.toString(),"}")}flip(){return new hN(this.modified,this.original)}join(e){return new hN(this.original.join(e.original),this.modified.join(e.modified))}}class uN extends hN{constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new uN(this.modified,this.original,null===(e=this.innerChanges)||void 0===e?void 0:e.map((e=>e.flip())))}}class gN{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}flip(){return new gN(this.modifiedRange,this.originalRange)}}class pN{computeDiff(e,t,i){var n;const o=new wN(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),s=[];let r=null;for(const a of o.changes){let e,t;e=0===a.originalEndLineNumber?new cN(a.originalStartLineNumber+1,a.originalStartLineNumber+1):new cN(a.originalStartLineNumber,a.originalEndLineNumber+1),t=0===a.modifiedEndLineNumber?new cN(a.modifiedStartLineNumber+1,a.modifiedStartLineNumber+1):new cN(a.modifiedStartLineNumber,a.modifiedEndLineNumber+1);let i=new uN(e,t,null===(n=a.charChanges)||void 0===n?void 0:n.map((e=>new gN(new Fb(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),new Fb(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)))));r&&(r.modified.endLineNumberExclusive!==i.modified.startLineNumber&&r.original.endLineNumberExclusive!==i.original.startLineNumber||(i=new uN(r.original.join(i.original),r.modified.join(i.modified),r.innerChanges&&i.innerChanges?r.innerChanges.concat(i.innerChanges):void 0),s.pop())),s.push(i),r=i}return EC((()=>NC(s,((e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive===t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber)))),new JE(s,[],o.quitEarly)}}function fN(e,t,i,n){return new vE(e,t,i).ComputeDiff(n)}class mN{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=yN(e[n],1),i[n]=CN(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],s=[];let r=0;for(let a=t;a<=i;a++){const t=this.lines[a],l=e?this._startColumns[a]:1,c=e?this._endColumns[a]:t.length+1;for(let e=l;e<c;e++)n[r]=t.charCodeAt(e-1),o[r]=a+1,s[r]=e,r++;!e&&a<i&&(n[r]=10,o[r]=a+1,s[r]=t.length+1,r++)}return new vN(n,o,s)}}class vN{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map(((e,t)=>(10===e?"\\n":String.fromCharCode(e))+"-(".concat(this._lineNumbers[t],",").concat(this._columns[t],")"))).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return-1===e?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),10===this._charCodes[e]?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return-1===e?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),10===this._charCodes[e]?1:this._columns[e]+1)}}class bN{constructor(e,t,i,n,o,s,r,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=r,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){const n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),r=t.getEndColumn(e.originalStart+e.originalLength-1),a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new bN(n,o,s,r,a,l,c,d)}}class _N{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,r){let a,l,c,d,h;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(c=n.getStartLineNumber(t.modifiedStart)-1,d=0):(c=n.getStartLineNumber(t.modifiedStart),d=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const s=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(s.getElements().length>0&&a.getElements().length>0){let e=fN(s,a,o,!0).changes;r&&(e=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],s=o.originalStart-(i.originalStart+i.originalLength),r=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(s,r)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(e)),h=[];for(let t=0,i=e.length;t<i;t++)h.push(bN.createFromDiffChange(e[t],s,a))}}return new _N(a,l,c,d,h)}}class wN{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new mN(e),this.modified=new mN(t),this.continueLineDiff=SN(i.maxComputationTime),this.continueCharDiff=SN(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=fN(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(_N.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,s=0;for(let r=-1,a=t.length;r<a;r++){const e=r+1<a?t[r+1]:null,i=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<i&&s<l;){const e=this.originalLines[o],t=this.modifiedLines[s];if(e!==t){{let i=yN(e,1),r=yN(t,1);for(;i>1&&r>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(r-2))break;i--,r--}(i>1||r>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,s+1,1,r)}{let i=CN(e,1),r=CN(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&r<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(r-1))break;i++,r++}(i<a||r<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,s+1,r,l)}}o++,s++}e&&(n.push(_N.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,s+=e.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,r){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r))return;let a;this.shouldComputeCharChanges&&(a=[new bN(t,i,t,n,o,s,o,r)]),e.push(new _N(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber===t&&l.modifiedEndLineNumber===o?(this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new bN(t,i,t,n,o,s,o,r)),!0):l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new bN(t,i,t,n,o,s,o,r)),!0))}}function yN(e,t){const i=sw(e);return-1===i?t:i+1}function CN(e,t){const i=aw(e);return-1===i?t:i+2}function SN(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}class kN{static trivial(e,t){return new kN([new LN(eN.ofLength(e.length),eN.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new kN([new LN(eN.ofLength(e.length),eN.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class LN{static invert(e,t){const i=[];return wp(e,((e,n)=>{i.push(LN.fromOffsetPairs(e?e.getEndExclusives():xN.zero,n?n.getStarts():new xN(t,(e?e.seq2Range.endExclusive-e.seq1Range.endExclusive:0)+t)))})),i}static fromOffsetPairs(e,t){return new LN(new eN(e.offset1,t.offset1),new eN(e.offset2,t.offset2))}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new LN(this.seq2Range,this.seq1Range)}toString(){return"".concat(this.seq1Range," <-> ").concat(this.seq2Range)}join(e){return new LN(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return 0===e?this:new LN(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return 0===e?this:new LN(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return 0===e?this:new LN(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(t&&i)return new LN(t,i)}getStarts(){return new xN(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new xN(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class xN{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return"".concat(this.offset1," <-> ").concat(this.offset2)}}xN.zero=new xN(0,0),xN.max=new xN(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class DN{isValid(){return!0}}DN.instance=new DN;class EN{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new ev("timeout must be positive")}isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}}class NN{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function TN(e){return 32===e||9===e}class IN{static getKey(e){let t=this.chrKeys.get(e);return void 0===t&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let n=0;for(let o=e.startLineNumber-1;o<e.endLineNumberExclusive-1;o++){const e=t[o];for(let t=0;t<e.length;t++){n++;const i=e[t],o=IN.getKey(i);this.histogram[o]=(this.histogram[o]||0)+1}n++;const i=IN.getKey("\n");this.histogram[i]=(this.histogram[i]||0)+1}this.totalCount=n}computeSimilarity(e){var t,i;let n=0;const o=Math.max(this.histogram.length,e.histogram.length);for(let s=0;s<o;s++)n+=Math.abs((null!==(t=this.histogram[s])&&void 0!==t?t:0)-(null!==(i=e.histogram[s])&&void 0!==i?i:0));return 1-n/(this.totalCount+e.totalCount)}}IN.chrKeys=new Map;class AN{compute(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DN.instance,n=arguments.length>3?arguments[3]:void 0;if(0===e.length||0===t.length)return kN.trivial(e,t);const o=new NN(e.length,t.length),s=new NN(e.length,t.length),r=new NN(e.length,t.length);for(let g=0;g<e.length;g++)for(let a=0;a<t.length;a++){if(!i.isValid())return kN.trivialTimedOut(e,t);const l=0===g?0:o.get(g-1,a),c=0===a?0:o.get(g,a-1);let d;e.getElement(g)===t.getElement(a)?(d=0===g||0===a?0:o.get(g-1,a-1),g>0&&a>0&&3===s.get(g-1,a-1)&&(d+=r.get(g-1,a-1)),d+=n?n(g,a):1):d=-1;const h=Math.max(l,c,d);if(h===d){const e=g>0&&a>0?r.get(g-1,a-1):0;r.set(g,a,e+1),s.set(g,a,3)}else h===l?(r.set(g,a,0),s.set(g,a,1)):h===c&&(r.set(g,a,0),s.set(g,a,2));o.set(g,a,h)}const a=[];let l=e.length,c=t.length;function d(e,t){e+1===l&&t+1===c||a.push(new LN(new eN(e+1,l),new eN(t+1,c))),l=e,c=t}let h=e.length-1,u=t.length-1;for(;h>=0&&u>=0;)3===s.get(h,u)?(d(h,u),h--,u--):1===s.get(h,u)?h--:u--;return d(-1,-1),a.reverse(),new kN(a,!1)}}class MN{compute(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DN.instance;if(0===e.length||0===t.length)return kN.trivial(e,t);const n=e,o=t;function s(e,t){for(;e<n.length&&t<o.length&&n.getElement(e)===o.getElement(t);)e++,t++;return e}let r=0;const a=new RN;a.set(0,s(0,0));const l=new PN;l.set(0,0===a.get(0)?null:new ON(null,0,0,a.get(0)));let c=0;e:for(;;){if(r++,!i.isValid())return kN.trivialTimedOut(n,o);const e=-Math.min(r,o.length+r%2),t=Math.min(r,n.length+r%2);for(c=e;c<=t;c+=2){let i=0;const r=c===t?-1:a.get(c+1),d=c===e?-1:a.get(c-1)+1;i++;const h=Math.min(Math.max(r,d),n.length),u=h-c;if(i++,h>n.length||u>o.length)continue;const g=s(h,u);a.set(c,g);const p=h===r?l.get(c+1):l.get(c-1);if(l.set(c,g!==h?new ON(p,h,u,g-h):p),a.get(c)===n.length&&a.get(c)-c===o.length)break e}}let d=l.get(c);const h=[];let u=n.length,g=o.length;for(;;){const e=d?d.x+d.length:0,t=d?d.y+d.length:0;if(e===u&&t===g||h.push(new LN(new eN(e,u),new eN(t,g))),!d)break;u=d.x,g=d.y,d=d.prev}return h.reverse(),new kN(h,!1)}}class ON{constructor(e,t,i,n){this.prev=e,this.x=t,this.y=i,this.length=n}}class RN{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if((e=-e-1)>=this.negativeArr.length){const e=this.negativeArr;this.negativeArr=new Int32Array(2*e.length),this.negativeArr.set(e)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const e=this.positiveArr;this.positiveArr=new Int32Array(2*e.length),this.positiveArr.set(e)}this.positiveArr[e]=t}}}class PN{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var FN,BN;class VN{constructor(e,t){this.uri=e,this.value=t}}class WN{constructor(e,t){if(this[FN]="ResourceMap",e instanceof WN)this.map=new Map(e.map),this.toKey=null!==t&&void 0!==t?t:WN.defaultToKey;else if(function(e){return Array.isArray(e)}(e)){this.map=new Map,this.toKey=null!==t&&void 0!==t?t:WN.defaultToKey;for(const[t,i]of e)this.set(t,i)}else this.map=new Map,this.toKey=null!==e&&void 0!==e?e:WN.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new VN(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){"undefined"!==typeof t&&(e=e.bind(t));for(const[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(FN=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}WN.defaultToKey=e=>e.toString();class zN{constructor(){this[BN]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:case 2:default:this.addItemLast(n);break;case 1:this.addItemFirst(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[(BN=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,i)=>{e.push([i,t])})),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class HN extends zN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class jN{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return void 0!==t&&(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class UN{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class KN{constructor(e,t,i){this.lines=e,this.considerWhitespaceChanges=i,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let n=!1;t.start>0&&t.endExclusive>=e.length&&(t=new eN(t.start-1,t.endExclusive),n=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let o=this.lineRange.start;o<this.lineRange.endExclusive;o++){let t=e[o],s=0;if(n)s=t.length,t="",n=!1;else if(!i){const e=t.trimStart();s=t.length-e.length,t=e.trimEnd()}this.additionalOffsetByLine.push(s);for(let e=0;e<t.length;e++)this.elements.push(t.charCodeAt(e));o<e.length-1&&(this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLine[o-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return'Slice: "'.concat(this.text,'"')}get text(){return this.getText(new eN(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map((e=>String.fromCharCode(e))).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=ZN(e>0?this.elements[e-1]:-1),i=ZN(e<this.elements.length?this.elements[e]:-1);if(7===t&&8===i)return 0;let n=0;return t!==i&&(n+=10,0===t&&1===i&&(n+=1)),n+=YN(t),n+=YN(i),n}translateOffset(e){if(this.lineRange.isEmpty)return new Pb(this.lineRange.start+1,1);const t=oN(this.firstCharOffsetByLine,(t=>t<=e));return new Pb(this.lineRange.start+t+1,e-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(e){return Fb.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length)return;if(!qN(this.elements[e]))return;let t=e;for(;t>0&&qN(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&qN(this.elements[i]);)i++;return new eN(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){var t,i;const n=null!==(t=nN(this.firstCharOffsetByLine,(t=>t<=e.start)))&&void 0!==t?t:0,o=null!==(i=function(e,t){const i=sN(e,t);return i===e.length?void 0:e[i]}(this.firstCharOffsetByLine,(t=>e.endExclusive<=t)))&&void 0!==i?i:this.elements.length;return new eN(n,o)}}function qN(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}const GN={0:0,1:0,2:0,3:10,4:2,5:3,6:3,7:10,8:10};function YN(e){return GN[e]}function ZN(e){return 10===e?8:13===e?7:TN(e)?6:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:-1===e?3:44===e||59===e?5:4}function QN(e,t,i,n,o,s){let{moves:r,excludedChanges:a}=function(e,t,i,n){const o=[],s=e.filter((e=>e.modified.isEmpty&&e.original.length>=3)).map((e=>new IN(e.original,t,e))),r=new Set(e.filter((e=>e.original.isEmpty&&e.modified.length>=3)).map((e=>new IN(e.modified,i,e)))),a=new Set;for(const l of s){let e,t=-1;for(const i of r){const n=l.computeSimilarity(i);n>t&&(t=n,e=i)}if(t>.9&&e&&(r.delete(e),o.push(new hN(l.range,e.range)),a.add(l.source),a.add(e.source)),!n.isValid())return{moves:o,excludedChanges:a}}return{moves:o,excludedChanges:a}}(e,t,i,s);if(!s.isValid())return[];const l=function(e,t,i,n,o,s){const r=[],a=new UN;for(const u of e)for(let e=u.original.startLineNumber;e<u.original.endLineNumberExclusive-2;e++){const i="".concat(t[e-1],":").concat(t[e+1-1],":").concat(t[e+2-1]);a.add(i,{range:new cN(e,e+3)})}const l=[];e.sort(Op((e=>e.modified.startLineNumber),Rp));for(const u of e){let e=[];for(let t=u.modified.startLineNumber;t<u.modified.endLineNumberExclusive-2;t++){const n="".concat(i[t-1],":").concat(i[t+1-1],":").concat(i[t+2-1]),o=new cN(t,t+3),s=[];a.forEach(n,(t=>{let{range:i}=t;for(const r of e)if(r.originalLineRange.endLineNumberExclusive+1===i.endLineNumberExclusive&&r.modifiedLineRange.endLineNumberExclusive+1===o.endLineNumberExclusive)return r.originalLineRange=new cN(r.originalLineRange.startLineNumber,i.endLineNumberExclusive),r.modifiedLineRange=new cN(r.modifiedLineRange.startLineNumber,o.endLineNumberExclusive),void s.push(r);const n={modifiedLineRange:o,originalLineRange:i};l.push(n),s.push(n)})),e=s}if(!s.isValid())return[]}l.sort(Fp(Op((e=>e.modifiedLineRange.length),Rp)));const c=new dN,d=new dN;for(const u of l){const e=u.modifiedLineRange.startLineNumber-u.originalLineRange.startLineNumber,t=c.subtractFrom(u.modifiedLineRange),i=d.subtractFrom(u.originalLineRange).getWithDelta(e),n=t.getIntersection(i);for(const o of n.ranges){if(o.length<3)continue;const t=o,i=o.delta(-e);r.push(new hN(i,t)),c.addRange(t),d.addRange(i)}}r.sort(Op((e=>e.original.startLineNumber),Rp));const h=new rN(e);for(let u=0;u<r.length;u++){const t=r[u],i=h.findLastMonotonous((e=>e.original.startLineNumber<=t.original.startLineNumber)),a=nN(e,(e=>e.modified.startLineNumber<=t.modified.startLineNumber)),l=Math.max(t.original.startLineNumber-i.original.startLineNumber,t.modified.startLineNumber-a.modified.startLineNumber),g=h.findLastMonotonous((e=>e.original.startLineNumber<t.original.endLineNumberExclusive)),p=nN(e,(e=>e.modified.startLineNumber<t.modified.endLineNumberExclusive)),f=Math.max(g.original.endLineNumberExclusive-t.original.endLineNumberExclusive,p.modified.endLineNumberExclusive-t.modified.endLineNumberExclusive);let m,v;for(m=0;m<l;m++){const e=t.original.startLineNumber-m-1,i=t.modified.startLineNumber-m-1;if(e>n.length||i>o.length)break;if(c.contains(i)||d.contains(e))break;if(!XN(n[e-1],o[i-1],s))break}for(m>0&&(d.addRange(new cN(t.original.startLineNumber-m,t.original.startLineNumber)),c.addRange(new cN(t.modified.startLineNumber-m,t.modified.startLineNumber))),v=0;v<f;v++){const e=t.original.endLineNumberExclusive+v,i=t.modified.endLineNumberExclusive+v;if(e>n.length||i>o.length)break;if(c.contains(i)||d.contains(e))break;if(!XN(n[e-1],o[i-1],s))break}v>0&&(d.addRange(new cN(t.original.endLineNumberExclusive,t.original.endLineNumberExclusive+v)),c.addRange(new cN(t.modified.endLineNumberExclusive,t.modified.endLineNumberExclusive+v))),(m>0||v>0)&&(r[u]=new hN(new cN(t.original.startLineNumber-m,t.original.endLineNumberExclusive+v),new cN(t.modified.startLineNumber-m,t.modified.endLineNumberExclusive+v)))}return r}(e.filter((e=>!a.has(e))),n,o,t,i,s);return Tp(r,l),r=function(e){if(0===e.length)return e;e.sort(Op((e=>e.original.startLineNumber),Rp));const t=[e[0]];for(let i=1;i<e.length;i++){const n=t[t.length-1],o=e[i],s=o.original.startLineNumber-n.original.endLineNumberExclusive,r=o.modified.startLineNumber-n.modified.endLineNumberExclusive;s>=0&&r>=0&&s+r<=2?t[t.length-1]=n.join(o):t.push(o)}return t}(r),r=r.filter((e=>{const i=e.original.toOffsetRange().slice(t).map((e=>e.trim()));return i.join("\n").length>=15&&function(e,t){let i=0;for(const n of e)t(n)&&i++;return i}(i,(e=>e.length>=2))>=2})),r=function(e,t){const i=new rN(e);return t=t.filter((t=>(i.findLastMonotonous((e=>e.original.startLineNumber<t.original.endLineNumberExclusive))||new hN(new cN(1,1),new cN(1,1)))!==nN(e,(e=>e.modified.startLineNumber<t.modified.endLineNumberExclusive)))),t}(e,r),r}function XN(e,t,i){if(e.trim()===t.trim())return!0;if(e.length>300&&t.length>300)return!1;const n=(new MN).compute(new KN([e],new eN(0,1),!1),new KN([t],new eN(0,1),!1),i);let o=0;const s=LN.invert(n.diffs,e.length);for(const a of s)a.seq1Range.forEach((t=>{TN(e.charCodeAt(t))||o++}));const r=function(t){let i=0;for(let n=0;n<e.length;n++)TN(t.charCodeAt(n))||i++;return i}(e.length>t.length?e:t);return o/r>.6&&r>10}function JN(e,t,i){let n=i;return n=$N(e,t,n),n=$N(e,t,n),n=function(e,t,i){if(!e.getBoundaryScore||!t.getBoundaryScore)return i;for(let n=0;n<i.length;n++){const o=n>0?i[n-1]:void 0,s=i[n],r=n+1<i.length?i[n+1]:void 0,a=new eN(o?o.seq1Range.start+1:0,r?r.seq1Range.endExclusive-1:e.length),l=new eN(o?o.seq2Range.start+1:0,r?r.seq2Range.endExclusive-1:t.length);s.seq1Range.isEmpty?i[n]=eT(s,e,t,a,l):s.seq2Range.isEmpty&&(i[n]=eT(s.swap(),t,e,l,a).swap())}return i}(e,t,n),n}function $N(e,t,i){if(0===i.length)return i;const n=[];n.push(i[0]);for(let s=1;s<i.length;s++){const o=n[n.length-1];let r=i[s];if(r.seq1Range.isEmpty||r.seq2Range.isEmpty){const i=r.seq1Range.start-o.seq1Range.endExclusive;let s;for(s=1;s<=i&&(e.getElement(r.seq1Range.start-s)===e.getElement(r.seq1Range.endExclusive-s)&&t.getElement(r.seq2Range.start-s)===t.getElement(r.seq2Range.endExclusive-s));s++);if(s--,s===i){n[n.length-1]=new LN(new eN(o.seq1Range.start,r.seq1Range.endExclusive-i),new eN(o.seq2Range.start,r.seq2Range.endExclusive-i));continue}r=r.delta(-s)}n.push(r)}const o=[];for(let s=0;s<n.length-1;s++){const i=n[s+1];let r=n[s];if(r.seq1Range.isEmpty||r.seq2Range.isEmpty){const o=i.seq1Range.start-r.seq1Range.endExclusive;let a;for(a=0;a<o&&(e.isStronglyEqual(r.seq1Range.start+a,r.seq1Range.endExclusive+a)&&t.isStronglyEqual(r.seq2Range.start+a,r.seq2Range.endExclusive+a));a++);if(a===o){n[s+1]=new LN(new eN(r.seq1Range.start+o,i.seq1Range.endExclusive),new eN(r.seq2Range.start+o,i.seq2Range.endExclusive));continue}a>0&&(r=r.delta(a))}o.push(r)}return n.length>0&&o.push(n[n.length-1]),o}function eT(e,t,i,n,o){let s=1;for(;e.seq1Range.start-s>=n.start&&e.seq2Range.start-s>=o.start&&i.isStronglyEqual(e.seq2Range.start-s,e.seq2Range.endExclusive-s)&&s<100;)s++;s--;let r=0;for(;e.seq1Range.start+r<n.endExclusive&&e.seq2Range.endExclusive+r<o.endExclusive&&i.isStronglyEqual(e.seq2Range.start+r,e.seq2Range.endExclusive+r)&&r<100;)r++;if(0===s&&0===r)return e;let a=0,l=-1;for(let c=-s;c<=r;c++){const n=e.seq2Range.start+c,o=e.seq2Range.endExclusive+c,s=e.seq1Range.start+c,r=t.getBoundaryScore(s)+i.getBoundaryScore(n)+i.getBoundaryScore(o);r>l&&(l=r,a=c)}return e.delta(a)}class tT{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){return 1e3-((0===e?0:iT(this.lines[e-1]))+(e===this.lines.length?0:iT(this.lines[e])))}getText(e){return this.lines.slice(e.start,e.endExclusive).join("\n")}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function iT(e){let t=0;for(;t<e.length&&(32===e.charCodeAt(t)||9===e.charCodeAt(t));)t++;return t}class nT{constructor(){this.dynamicProgrammingDiffing=new AN,this.myersDiffingAlgorithm=new MN}computeDiff(e,t,i){if(e.length<=1&&bp(e,t,((e,t)=>e===t)))return new JE([],[],!1);if(1===e.length&&0===e[0].length||1===t.length&&0===t[0].length)return new JE([new uN(new cN(1,e.length+1),new cN(1,t.length+1),[new gN(new Fb(1,1,e.length,e[0].length+1),new Fb(1,1,t.length,t[0].length+1))])],[],!1);const n=0===i.maxComputationTimeMs?DN.instance:new EN(i.maxComputationTimeMs),o=!i.ignoreTrimWhitespace,s=new Map;function r(e){let t=s.get(e);return void 0===t&&(t=s.size,s.set(e,t)),t}const a=e.map((e=>r(e.trim()))),l=t.map((e=>r(e.trim()))),c=new tT(a,e),d=new tT(l,t),h=(()=>c.length+d.length<1700?this.dynamicProgrammingDiffing.compute(c,d,n,((i,n)=>e[i]===t[n]?0===t[n].length?.1:1+Math.log(1+t[n].length):.99)):this.myersDiffingAlgorithm.compute(c,d))();let u=h.diffs,g=h.hitTimeout;u=JN(c,d,u),u=function(e,t,i){let n=i;if(0===n.length)return n;let o,s=0;do{o=!1;const r=[n[0]];for(let a=1;a<n.length;a++){const l=n[a],c=r[r.length-1];function d(t,i){const n=new eN(c.seq1Range.endExclusive,l.seq1Range.start);return e.getText(n).replace(/\s/g,"").length<=4&&(t.seq1Range.length+t.seq2Range.length>5||i.seq1Range.length+i.seq2Range.length>5)}d(c,l)?(o=!0,r[r.length-1]=r[r.length-1].join(l)):r.push(l)}n=r}while(s++<10&&o);return n}(c,0,u);const p=[],f=i=>{if(o)for(let s=0;s<i;s++){const i=m+s,r=v+s;if(e[i]!==t[r]){const s=this.refineDiff(e,t,new LN(new eN(i,i+1),new eN(r,r+1)),n,o);for(const e of s.mappings)p.push(e);s.hitTimeout&&(g=!0)}}};let m=0,v=0;for(const w of u){EC((()=>w.seq1Range.start-m===w.seq2Range.start-v));f(w.seq1Range.start-m),m=w.seq1Range.endExclusive,v=w.seq2Range.endExclusive;const i=this.refineDiff(e,t,w,n,o);i.hitTimeout&&(g=!0);for(const e of i.mappings)p.push(e)}f(e.length-m);const b=oT(p,e,t);let _=[];return i.computeMoves&&(_=this.computeMoves(b,e,t,a,l,n,o)),EC((()=>{function i(e,t){if(e.lineNumber<1||e.lineNumber>t.length)return!1;const i=t[e.lineNumber-1];return!(e.column<1||e.column>i.length+1)}function n(e,t){return!(e.startLineNumber<1||e.startLineNumber>t.length+1)&&!(e.endLineNumberExclusive<1||e.endLineNumberExclusive>t.length+1)}for(const o of b){if(!o.innerChanges)return!1;for(const n of o.innerChanges){if(!(i(n.modifiedRange.getStartPosition(),t)&&i(n.modifiedRange.getEndPosition(),t)&&i(n.originalRange.getStartPosition(),e)&&i(n.originalRange.getEndPosition(),e)))return!1}if(!n(o.modified,t)||!n(o.original,e))return!1}return!0})),new JE(b,_,g)}computeMoves(e,t,i,n,o,s,r){return QN(e,t,i,n,o,s).map((e=>{const n=oT(this.refineDiff(t,i,new LN(e.original.toOffsetRange(),e.modified.toOffsetRange()),s,r).mappings,t,i,!0);return new $E(e,n)}))}refineDiff(e,t,i,n,o){const s=new KN(e,i.seq1Range,o),r=new KN(t,i.seq2Range,o),a=s.length+r.length<500?this.dynamicProgrammingDiffing.compute(s,r,n):this.myersDiffingAlgorithm.compute(s,r,n);let l=a.diffs;l=JN(s,r,l),l=function(e,t,i){const n=[];let o;function s(){if(!o)return;const e=o.s1Range.length-o.deleted;o.s2Range.length,o.added,Math.max(o.deleted,o.added)+(o.count-1)>e&&n.push(new LN(o.s1Range,o.s2Range)),o=void 0}for(const a of i){function l(e,t){var i,n,r,l;if(!o||!o.s1Range.containsRange(e)||!o.s2Range.containsRange(t))if(!o||o.s1Range.endExclusive<e.start&&o.s2Range.endExclusive<t.start)s(),o={added:0,deleted:0,count:0,s1Range:e,s2Range:t};else{const s=eN.tryCreate(o.s1Range.endExclusive,e.start),r=eN.tryCreate(o.s2Range.endExclusive,t.start);o.deleted+=null!==(i=null===s||void 0===s?void 0:s.length)&&void 0!==i?i:0,o.added+=null!==(n=null===r||void 0===r?void 0:r.length)&&void 0!==n?n:0,o.s1Range=o.s1Range.join(e),o.s2Range=o.s2Range.join(t)}const c=e.intersect(a.seq1Range),d=t.intersect(a.seq2Range);o.count++,o.deleted+=null!==(r=null===c||void 0===c?void 0:c.length)&&void 0!==r?r:0,o.added+=null!==(l=null===d||void 0===d?void 0:d.length)&&void 0!==l?l:0}const c=e.findWordContaining(a.seq1Range.start-1),d=t.findWordContaining(a.seq2Range.start-1),h=e.findWordContaining(a.seq1Range.endExclusive),u=t.findWordContaining(a.seq2Range.endExclusive);c&&h&&d&&u&&c.equals(h)&&d.equals(u)?l(c,d):(c&&d&&l(c,d),h&&u&&l(h,u))}s();const r=function(e,t){const i=[];for(;e.length>0||t.length>0;){const n=e[0],o=t[0];let s;s=n&&(!o||n.seq1Range.start<o.seq1Range.start)?e.shift():t.shift(),i.length>0&&i[i.length-1].seq1Range.endExclusive>=s.seq1Range.start?i[i.length-1]=i[i.length-1].join(s):i.push(s)}return i}(i,n);return r}(s,r,l),l=function(e,t,i){const n=[];for(const o of i){const e=n[n.length-1];e&&(o.seq1Range.start-e.seq1Range.endExclusive<=2||o.seq2Range.start-e.seq2Range.endExclusive<=2)?n[n.length-1]=new LN(e.seq1Range.join(o.seq1Range),e.seq2Range.join(o.seq2Range)):n.push(o)}return n}(0,0,l),l=function(e,t,i){let n=i;if(0===n.length)return n;let o,s=0;do{o=!1;const a=[n[0]];for(let l=1;l<n.length;l++){const c=n[l],d=a[a.length-1];function h(i,n){const o=new eN(d.seq1Range.endExclusive,c.seq1Range.start);if(e.countLinesIn(o)>5||o.length>500)return!1;const s=e.getText(o).trim();if(s.length>20||s.split(/\r\n|\r|\n/).length>1)return!1;const r=e.countLinesIn(i.seq1Range),a=i.seq1Range.length,l=t.countLinesIn(i.seq2Range),h=i.seq2Range.length,u=e.countLinesIn(n.seq1Range),g=n.seq1Range.length,p=t.countLinesIn(n.seq2Range),f=n.seq2Range.length;function m(e){return Math.min(e,130)}return Math.pow(Math.pow(m(40*r+a),1.5)+Math.pow(m(40*l+h),1.5),1.5)+Math.pow(Math.pow(m(40*u+g),1.5)+Math.pow(m(40*p+f),1.5),1.5)>74184.96480721243}h(d,c)?(o=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}n=a}while(s++<10&&o);const r=[];return function(e,t){for(let i=0;i<e.length;i++)t(0===i?void 0:e[i-1],e[i],i+1===e.length?void 0:e[i+1])}(n,((t,i,n)=>{let o=i;function s(e){return e.length>0&&e.trim().length<=3&&i.seq1Range.length+i.seq2Range.length>100}const a=e.extendToFullLines(i.seq1Range),l=e.getText(new eN(a.start,i.seq1Range.start));s(l)&&(o=o.deltaStart(-l.length));const c=e.getText(new eN(i.seq1Range.endExclusive,a.endExclusive));s(c)&&(o=o.deltaEnd(c.length));const d=LN.fromOffsetPairs(t?t.getEndExclusives():xN.zero,n?n.getStarts():xN.max),h=o.intersect(d);r.push(h)})),r}(s,r,l);return{mappings:l.map((e=>new gN(s.translateRange(e.seq1Range),r.translateRange(e.seq2Range)))),hitTimeout:a.hitTimeout}}}function oT(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=[];for(const s of _p(e.map((e=>function(e,t,i){let n=0,o=0;1===e.modifiedRange.endColumn&&1===e.originalRange.endColumn&&e.originalRange.startLineNumber+n<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+n<=e.modifiedRange.endLineNumber&&(o=-1);e.modifiedRange.startColumn-1>=i[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+o&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+o&&(n=1);const s=new cN(e.originalRange.startLineNumber+n,e.originalRange.endLineNumber+1+o),r=new cN(e.modifiedRange.startLineNumber+n,e.modifiedRange.endLineNumber+1+o);return new uN(s,r,[e])}(e,t,i))),((e,t)=>e.original.overlapOrTouch(t.original)||e.modified.overlapOrTouch(t.modified)))){const e=s[0],t=s[s.length-1];o.push(new uN(e.original.join(t.original),e.modified.join(t.modified),s.map((e=>e.innerChanges[0]))))}return EC((()=>!(!n&&o.length>0&&o[0].original.startLineNumber!==o[0].modified.startLineNumber)&&NC(o,((e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive===t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber)))),o}const sT=()=>new pN,rT=()=>new nT;function aT(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class lT{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=aT(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class cT{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=aT(Math.max(Math.min(1,t),0),3),this.l=aT(Math.max(Math.min(1,i),0),3),this.a=aT(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),r=Math.min(t,i,n);let a=0,l=0;const c=(r+s)/2,d=s-r;if(d>0){switch(l=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),s){case t:a=(i-n)/d+(i<n?6:0);break;case i:a=(n-t)/d+2;break;case n:a=(t-i)/d+4}a*=60,a=Math.round(a)}return new cT(a,l,c,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let s,r,a;if(0===i)s=r=a=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;s=cT._hue2rgb(o,e,t+1/3),r=cT._hue2rgb(o,e,t),a=cT._hue2rgb(o,e,t-1/3)}return new lT(Math.round(255*s),Math.round(255*r),Math.round(255*a),o)}}class dT{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=aT(Math.max(Math.min(1,t),0),3),this.v=aT(Math.max(Math.min(1,i),0),3),this.a=aT(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=o-Math.min(t,i,n),r=0===o?0:s/o;let a;return a=0===s?0:o===t?((i-n)/s%6+6)%6:o===i?(n-t)/s+2:(t-i)/s+4,new dT(Math.round(60*a),r,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,s=n*i,r=s*(1-Math.abs(t/60%2-1)),a=n-s;let[l,c,d]=[0,0,0];return t<60?(l=s,c=r):t<120?(l=r,c=s):t<180?(c=s,d=r):t<240?(c=r,d=s):t<300?(l=r,d=s):t<=360&&(l=s,d=r),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),d=Math.round(255*(d+a)),new lT(l,c,d,o)}}class hT{static fromHex(e){return hT.Format.CSS.parseHex(e)||hT.red}static equals(e,t){return!e&&!t||!(!e||!t)&&e.equals(t)}get hsla(){return this._hsla?this._hsla:cT.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:dT.fromRGBA(this.rgba)}constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof lT)this.rgba=e;else if(e instanceof cT)this._hsla=e,this.rgba=cT.toRGBA(e);else{if(!(e instanceof dT))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=dT.toRGBA(e)}}equals(e){return!!e&&lT.equals(this.rgba,e.rgba)&&cT.equals(this.hsla,e.hsla)&&dT.equals(this.hsva,e.hsva)}getRelativeLuminance(){return aT(.2126*hT._relativeLuminanceForComponent(this.rgba.r)+.7152*hT._relativeLuminanceForComponent(this.rgba.g)+.0722*hT._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new hT(new cT(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new hT(new cT(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new hT(new lT(t,i,n,o*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new hT(new lT(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||1!==e.rgba.a)return this;const{r:t,g:i,b:n,a:o}=this.rgba;return new hT(new lT(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-i),e.rgba.b-o*(e.rgba.b-n),1))}toString(){return this._toString||(this._toString=hT.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}function uT(e){const t=[];for(const i of e){const e=Number(i);(e||0===e&&""!==i.replace(/\s/g,""))&&t.push(e)}return t}function gT(e,t,i,n){return{red:e/255,blue:i/255,green:t/255,alpha:n}}function pT(e,t){const i=t.index,n=t[0].length;if(!i)return;const o=e.positionAt(i);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber,endColumn:o.column+n}}function fT(e,t){if(!e)return;const i=hT.Format.CSS.parseHex(t);return i?{range:e,color:gT(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a)}:void 0}function mT(e,t,i){if(!e||1!==t.length)return;const n=uT(t[0].values());return{range:e,color:gT(n[0],n[1],n[2],i?n[3]:1)}}function vT(e,t,i){if(!e||1!==t.length)return;const n=uT(t[0].values()),o=new hT(new cT(n[0],n[1]/100,n[2]/100,i?n[3]:1));return{range:e,color:gT(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function bT(e,t){return"string"===typeof e?[...e.matchAll(t)]:e.findMatches(t)}function _T(e){return e&&"function"===typeof e.getValue&&"function"===typeof e.positionAt?function(e){const t=[],i=bT(e,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const n of i){const i=n.filter((e=>void 0!==e)),o=i[1],s=i[2];if(!s)continue;let r;if("rgb"===o){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;r=mT(pT(e,n),bT(s,t),!1)}else if("rgba"===o){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=mT(pT(e,n),bT(s,t),!0)}else if("hsl"===o){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;r=vT(pT(e,n),bT(s,t),!1)}else if("hsla"===o){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=vT(pT(e,n),bT(s,t),!0)}else"#"===o&&(r=fT(pT(e,n),o+s));r&&t.push(r)}return t}(e):[]}hT.white=new hT(new lT(255,255,255,1)),hT.black=new hT(new lT(0,0,0,1)),hT.red=new hT(new lT(255,0,0,1)),hT.blue=new hT(new lT(0,0,255,1)),hT.green=new hT(new lT(0,255,0,1)),hT.cyan=new hT(new lT(0,255,255,1)),hT.lightgrey=new hT(new lT(211,211,211,1)),hT.transparent=new hT(new lT(0,0,0,0)),function(e){let t;!function(t){let i;!function(t){function i(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?"rgb(".concat(t.rgba.r,", ").concat(t.rgba.g,", ").concat(t.rgba.b,")"):e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return"rgba(".concat(e.rgba.r,", ").concat(e.rgba.g,", ").concat(e.rgba.b,", ").concat(+e.rgba.a.toFixed(2),")")},t.formatHSL=function(t){return 1===t.hsla.a?"hsl(".concat(t.hsla.h,", ").concat((100*t.hsla.s).toFixed(2),"%, ").concat((100*t.hsla.l).toFixed(2),"%)"):e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return"hsla(".concat(e.hsla.h,", ").concat((100*e.hsla.s).toFixed(2),"%, ").concat((100*e.hsla.l).toFixed(2),"%, ").concat(e.hsla.a.toFixed(2),")")},t.formatHex=function(e){return"#".concat(i(e.rgba.r)).concat(i(e.rgba.g)).concat(i(e.rgba.b))},t.formatHexA=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&1===t.rgba.a?e.Format.CSS.formatHex(t):"#".concat(i(t.rgba.r)).concat(i(t.rgba.g)).concat(i(t.rgba.b)).concat(i(Math.round(255*t.rgba.a)))},t.format=function(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)},t.parseHex=function(t){const i=t.length;if(0===i)return null;if(35!==t.charCodeAt(0))return null;if(7===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),o=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),s=16*n(t.charCodeAt(5))+n(t.charCodeAt(6));return new e(new lT(i,o,s,1))}if(9===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),o=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),s=16*n(t.charCodeAt(5))+n(t.charCodeAt(6)),r=16*n(t.charCodeAt(7))+n(t.charCodeAt(8));return new e(new lT(i,o,s,r/255))}if(4===i){const i=n(t.charCodeAt(1)),o=n(t.charCodeAt(2)),s=n(t.charCodeAt(3));return new e(new lT(16*i+i,16*o+o,16*s+s))}if(5===i){const i=n(t.charCodeAt(1)),o=n(t.charCodeAt(2)),s=n(t.charCodeAt(3)),r=n(t.charCodeAt(4));return new e(new lT(16*i+i,16*o+o,16*s+s,(16*r+r)/255))}return null}}(i=t.CSS||(t.CSS={}))}(t=e.Format||(e.Format={}))}(hT||(hT={}));class wT extends SE{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const n=this._lines[i],o=this.offsetAt(new Pb(i+1,1)),s=n.matchAll(e);for(const e of s)(e.index||0===e.index)&&(e.index=e.index+o),t.push(e)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=nm(e.column,tm(t),this._lines[e.lineNumber-1],0);return i?new Fb(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",s=0,r=[];return{*[Symbol.iterator](){for(;;)if(s<r.length){const e=o.substring(r[s].start,r[s].end);s+=1,yield e}else{if(!(n<t.length))break;o=t[n],r=i(o,e),s=0,n+=1}}}}getLineWords(e,t){const i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const s of n)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)o.push(this._lines[s]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Pb.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{const e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class yT{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new wT(Lb.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}async computeUnicodeHighlights(e,t,i){const n=this._getModel(e);return n?ZE.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async computeDiff(e,t,i,n){const o=this._getModel(e),s=this._getModel(t);return o&&s?yT.computeDiff(o,s,i,n):null}static computeDiff(e,t,i,n){const o="advanced"===n?rT():sT(),s=e.getLinesContent(),r=t.getLinesContent(),a=o.computeDiff(s,r,i);function l(e){return e.map((e=>{var t;return[e.original.startLineNumber,e.original.endLineNumberExclusive,e.modified.startLineNumber,e.modified.endLineNumberExclusive,null===(t=e.innerChanges)||void 0===t?void 0:t.map((e=>[e.originalRange.startLineNumber,e.originalRange.startColumn,e.originalRange.endLineNumber,e.originalRange.endColumn,e.modifiedRange.startLineNumber,e.modifiedRange.startColumn,e.modifiedRange.endLineNumber,e.modifiedRange.endColumn]))]}))}return{identical:!(a.changes.length>0)&&this._modelsAreIdentical(e,t),quitEarly:a.hitTimeout,changes:l(a.changes),moves:a.moves.map((e=>[e.lineRangeMapping.original.startLineNumber,e.lineRangeMapping.original.endLineNumberExclusive,e.lineRangeMapping.modified.startLineNumber,e.lineRangeMapping.modified.endLineNumberExclusive,l(e.changes)]))}}static _modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}async computeMoreMinimalEdits(e,t,i){const n=this._getModel(e);if(!n)return t;const o=[];let s;t=t.slice(0).sort(((e,t)=>{if(e.range&&t.range)return Fb.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));let r=0;for(let a=1;a<t.length;a++)Fb.getEndPosition(t[r].range).equals(Fb.getStartPosition(t[a].range))?(t[r].range=Fb.fromPositions(Fb.getStartPosition(t[r].range),Fb.getEndPosition(t[a].range)),t[r].text+=t[a].text):(r++,t[r]=t[a]);t.length=r+1;for(let{range:a,text:l,eol:c}of t){if("number"===typeof c&&(s=c),Fb.isEmpty(a)&&!l)continue;const e=n.getValueInRange(a);if(l=l.replace(/\r\n|\n|\r/g,n.eol),e===l)continue;if(Math.max(l.length,e.length)>yT._diffLimit){o.push({range:a,text:l});continue}const t=gE(e,l,i),r=n.offsetAt(Fb.lift(a).getStartPosition());for(const i of t){const e=n.positionAt(r+i.originalStart),t=n.positionAt(r+i.originalStart+i.originalLength),s={text:l.substr(i.modifiedStart,i.modifiedLength),range:{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:t.lineNumber,endColumn:t.column}};n.getValueInRange(s.range)!==s.text&&o.push(s)}}return"number"===typeof s&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o}async computeLinks(e){const t=this._getModel(e);return t?function(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?NE.computeLinks(e):[]}(t):null}async computeDefaultDocumentColors(e){const t=this._getModel(e);return t?_T(t):null}async textualSuggest(e,t,i,n){const o=new mv,s=new RegExp(i,n),r=new Set;e:for(const a of e){const e=this._getModel(a);if(e)for(const i of e.words(s))if(i!==t&&isNaN(Number(i))&&(r.add(i),r.size>yT._suggestionsLimit))break e}return{words:Array.from(r),duration:o.elapsed()}}async computeWordRanges(e,t,i,n){const o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,n),r=Object.create(null);for(let a=t.startLineNumber;a<t.endLineNumber;a++){const e=o.getLineWords(a,s);for(const t of e){if(!isNaN(Number(t.word)))continue;let e=r[t.word];e||(e=[],r[t.word]=e),e.push({startLineNumber:a,startColumn:t.startColumn,endLineNumber:a,endColumn:t.endColumn})}}return r}async navigateValueSet(e,t,i,n,o){const s=this._getModel(e);if(!s)return null;const r=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},r);if(!l)return null;const c=s.getValueInRange(l);return TE.INSTANCE.navigateValueSet(t,a,l,c,i)}loadForeignModule(e,t,i){const n=function(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},n={};for(const o of e)n[o]=i(o);return n}(i,((e,t)=>this._host.fhr(e,t))),o={host:n,getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(sf(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(Pee){return Promise.reject(Pee)}}}yT._diffLimit=1e5,yT._suggestionsLimit=1e4,"function"===typeof importScripts&&(globalThis.monaco=K_());const CT=vy("textResourceConfigurationService"),ST=vy("textResourcePropertiesService"),kT=vy("ILanguageFeaturesService");var LT=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},xT=function(e,t){return function(i,n){t(i,n,e)}};const DT=3e5;function ET(e,t){const i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let NT=class extends hv{constructor(e,t,i,n,o){super(),this._modelService=e,this._workerManager=this._register(new IT(this._modelService,n)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>ET(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new TT(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return ET(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then((n=>n.computedUnicodeHighlights(e,t,i)))}async computeDiff(e,t,i,n){const o=await this._workerManager.withWorker().then((o=>o.computeDiff(e,t,i,n)));if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:s(o.changes),moves:o.moves.map((e=>new $E(new hN(new cN(e[0],e[1]),new cN(e[2],e[3])),s(e[4]))))};function s(e){return e.map((e=>{var t;return new uN(new cN(e[0],e[1]),new cN(e[2],e[3]),null===(t=e[4])||void 0===t?void 0:t.map((e=>new gN(new Fb(e[0],e[1],e[2],e[3]),new Fb(e[4],e[5],e[6],e[7])))))}))}}computeMoreMinimalEdits(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sp(t)){if(!ET(this._modelService,e))return Promise.resolve(t);const n=mv.create(),o=this._workerManager.withWorker().then((n=>n.computeMoreMinimalEdits(e,t,i)));return o.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed()))),Promise.race([o,uS(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return ET(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((n=>n.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return ET(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}};NT=LT([xT(0,_y),xT(1,CT),xT(2,KC),xT(3,$D),xT(4,kT)],NT);class TT{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if("off"===i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestions)ET(this._modelService,e.uri)&&n.push(e.uri);else for(const d of this._modelService.getModels())ET(this._modelService,d.uri)&&(d===e?n.unshift(d.uri):"allDocuments"!==i.wordBasedSuggestions&&d.getLanguageId()!==e.getLanguageId()||n.push(d.uri));if(0===n.length)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),r=s?new Fb(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):Fb.fromPositions(t),a=r.setEndPosition(t.lineNumber,t.column),l=await this._workerManager.withWorker(),c=await l.textualSuggest(n,null===s||void 0===s?void 0:s.word,o);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:r}})))}:void 0}}class IT extends hv{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();this._register(new tL).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4),G_),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>DT&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new RT(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class AT extends hv{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const e=new fS;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)av(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;const n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new dv;o.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(n.toString(),e)}))),o.add(i.onWillDispose((()=>{this._stopModelSync(n)}))),o.add(cv((()=>{this._proxy.acceptRemovedModel(n)}))),this._syncedModels[n]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],av(t)}}class MT{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class OT{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class RT extends hv{constructor(e,t,i,n){super(),this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Nx(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Cx(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new OT(this)))}catch(e){fx(e),this._worker=new MT(new yT(new OT(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(fx(e),this._worker=new MT(new yT(new OT(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new AT(e,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._disposed?Promise.reject(function(){const e=new Error(Gm);return e.name=e.message,e}()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then((n=>n.computeUnicodeHighlights(e.toString(),t,i)))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then((o=>o.computeDiff(e.toString(),t.toString(),i,n)))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then((n=>n.computeMoreMinimalEdits(e.toString(),t,i)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then((t=>t.computeDefaultDocumentColors(e.toString())))}async textualSuggest(e,t,i){const n=await this._withSyncedResources(e),o=i.source,s=i.flags;return n.textualSuggest(e.map((e=>e.toString())),t,o,s)}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{const n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=o.source,r=o.flags;return i.computeWordRanges(e.toString(),t,s,r)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((n=>{const o=this._modelService.getModel(e);if(!o)return null;const s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),r=s.source,a=s.flags;return n.navigateValueSet(e.toString(),t,i,r,a)}))}dispose(){super.dispose(),this._disposed=!0}}class PT extends RT{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(Pee){return Promise.reject(Pee)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?sf(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},o={};for(const e of t)o[e]=n(e,i);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}const FT={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},BT=new class{clone(){return this}equals(e){return this===e}};function VT(e,t){return new Kb([new Ub(0,"",e)],t)}function WT(e,t){const i=new Uint32Array(2);return i[0]=0,i[1]=(32768|e<<0|2<<24)>>>0,new qb(i,null===t?BT:t)}class zT{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return 0!==(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e);const i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),8&i&&(t+=" mtks"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o="color: ".concat(t[i],";");1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;");let s="";return 4&n&&(s+=" underline"),8&n&&(s+=" line-through"),s&&(o+="text-decoration:".concat(s,";")),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&i),bold:Boolean(2&i),underline:Boolean(4&i),strikethrough:Boolean(8&i)}}}class HT{static createEmpty(e,t){const i=HT.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new HT(n,e,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}equals(e){return e instanceof HT&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let s=n;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],i=zT.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return zT.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return zT.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return zT.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return zT.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[1+(e<<1)];return zT.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return HT.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new jT(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let n=0;n<i;n++)e[n<<1]=e[n+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const o=new Array;let s=0;for(;;){const r=t<this._tokensCount?this._tokens[t<<1]:-1,a=i<e.length?e[i]:null;if(-1!==r&&(null===a||r<=a.offset)){n+=this._text.substring(s,r);const e=this._tokens[1+(t<<1)];o.push(n.length,e),t++,s=r}else{if(!a)break;if(a.offset>s){n+=this._text.substring(s,a.offset);const e=this._tokens[1+(t<<1)];o.push(n.length,e),s=a.offset}n+=a.text,o.push(n.length,a.tokenMetadata),i++}}return new HT(new Uint32Array(o),n,this._languageIdCodec)}}HT.defaultTokenMetadata=33587200;class jT{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s;o++){if(e.getStartOffset(o)>=i)break;this._tokensCount++}}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof jT&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class UT{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!UT._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,o=i+1,s=i-t,r=[];let a=0;for(const l of e)l.endColumn<=n||l.startColumn>=o||(r[a++]=new UT(Math.max(1,l.startColumn-n+1),Math.min(s+1,l.endColumn-n+1),l.className,l.type));return r}static filter(e,t,i,n){if(0===e.length)return[];const o=[];let s=0;for(let r=0,a=e.length;r<a;r++){const a=e[r],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===t?l.startColumn:i,d=l.endLineNumber===t?l.endColumn:n;o[s++]=new UT(c,d,a.inlineClassName,a.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=UT._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class KT{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class qT{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new KT(t,this.stopOffsets[e],this.classNames.join(" "),qT._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new KT(t,e-1,this.classNames.join(" "),qT._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class GT{static normalize(e,t){if(0===t.length)return[];const i=[],n=new qT;let o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];let a=r.startColumn,l=r.endColumn;const c=r.className,d=1===r.type?2:2===r.type?4:0;if(a>1){_w(e.charCodeAt(a-2))&&a--}if(l>1){_w(e.charCodeAt(l-2))&&l--}const h=a-1,u=l-2;o=n.consumeLowerThan(h,o,i),0===n.count&&(o=h),n.insert(u,c,d)}return n.consumeLowerThan(1073741824,o,i),i}}class YT{constructor(e,t,i,n){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=n,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class ZT{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class QT{constructor(e,t,i,n,o,s,r,a,l,c,d,h,u,g,p,f,m,v,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=r,this.lineTokens=a,this.lineDecorations=l.sort(UT.compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace="all"===f?4:"boundary"===f?1:"selection"===f?2:"trailing"===f?3:0,this.renderControlCharacters=m,this.fontLigatures=v,this.selectionsOnLine=b&&b.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(g-h)<Math.abs(u-h)?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=u,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&UT.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class XT{constructor(e,t){this.partIndex=e,this.charIndex=t}}class JT{static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=n}getHorizontalOffset(e){return 0===this._horizontalOffset.length?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=JT.getPartIndex(t),n=JT.getCharIndex(t);return new XT(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;const n=(e<<16|i<<0)>>>0;let o=0,s=this.length-1;for(;o+1<s;){const e=o+s>>>1,t=this._data[e];if(t===n)return e;t>n?s=e:o=e}if(o===s)return o;const r=this._data[o],a=this._data[s];if(r===n)return o;if(a===n)return s;const l=JT.getPartIndex(r),c=JT.getCharIndex(r);let d;d=l!==JT.getPartIndex(a)?t:JT.getCharIndex(a);return i-c<=d-i?o:s}}class $T{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function eI(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendString("<span>");let i=0,n=0,o=0;for(const r of e.lineDecorations)1!==r.type&&2!==r.type||(t.appendString('<span class="'),t.appendString(r.className),t.appendString('"></span>'),1===r.type&&(o|=1,i++),2===r.type&&(o|=2,n++));t.appendString("</span>");const s=new JT(1,i+n);return s.setColumnInfo(1,i,0,0),new $T(s,!1,o)}return t.appendString("<span><span></span></span>"),new $T(new JT(0,0),!1,0)}return function(e,t){const i=e.fontIsMonospace,n=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,s=e.lineContent,r=e.len,a=e.isOverflowing,l=e.overflowingCharCount,c=e.parts,d=e.fauxIndentLength,h=e.tabSize,u=e.startVisibleColumn,g=e.containsRTL,p=e.spaceWidth,f=e.renderSpaceCharCode,m=e.renderWhitespace,v=e.renderControlCharacters,b=new JT(r+1,c.length);let _=!1,w=0,y=u,C=0,S=0,k=0;g?t.appendString('<span dir="ltr">'):t.appendString("<span>");for(let L=0,x=c.length;L<x;L++){const e=c[L],a=e.endIndex,l=e.type,u=e.containsRTL,g=0!==m&&e.isWhitespace(),x=g&&!i&&("mtkw"===l||!o),D=w===a&&e.isPseudoAfter();if(C=0,t.appendString("<span "),u&&t.appendString('style="unicode-bidi:isolate" '),t.appendString('class="'),t.appendString(x?"mtkz":l),t.appendASCIICharCode(34),g){let e=0;{let t=w,i=y;for(;t<a;t++){const n=0|(9===s.charCodeAt(t)?h-i%h:1);e+=n,t>=d&&(i+=n)}}for(x&&(t.appendString(' style="width:'),t.appendString(String(p*e)),t.appendString('px"')),t.appendASCIICharCode(62);w<a;w++){b.setColumnInfo(w+1,L-k,C,S),k=0;let e,i;if(9===s.charCodeAt(w)){e=h-y%h|0,i=e,!n||i>1?t.appendCharCode(8594):t.appendCharCode(65515);for(let e=2;e<=i;e++)t.appendCharCode(160)}else e=2,i=1,t.appendCharCode(f),t.appendCharCode(8204);C+=e,S+=i,w>=d&&(y+=i)}}else for(t.appendASCIICharCode(62);w<a;w++){b.setColumnInfo(w+1,L-k,C,S),k=0;const e=s.charCodeAt(w);let i=1,n=1;switch(e){case 9:i=h-y%h,n=i;for(let e=1;e<=i;e++)t.appendCharCode(160);break;case 32:t.appendCharCode(160);break;case 60:t.appendString("&lt;");break;case 62:t.appendString("&gt;");break;case 38:t.appendString("&amp;");break;case 0:v?t.appendCharCode(9216):t.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.appendCharCode(65533);break;default:Mw(e)&&n++,v&&e<32?t.appendCharCode(9216+e):v&&127===e?t.appendCharCode(9249):v&&oI(e)?(t.appendString("[U+"),t.appendString(sI(e)),t.appendString("]"),i=8,n=i):t.appendCharCode(e)}C+=i,S+=n,w>=d&&(y+=n)}D?k++:k=0,w>=r&&!_&&e.isPseudoAfter()&&(_=!0,b.setColumnInfo(w+1,L,C,S)),t.appendString("</span>")}_||b.setColumnInfo(r+1,c.length-1,C,S);a&&(t.appendString('<span class="mtkoverflow">'),t.appendString(lf("showMore","Show more ({0})",function(e){if(e<1024)return lf("overflow.chars","{0} chars",e);if(e<1048576)return"".concat((e/1024).toFixed(1)," KB");return"".concat((e/1024/1024).toFixed(1)," MB")}(l))),t.appendString("</span>"));return t.appendString("</span>"),new $T(b,g,o)}(function(e){const t=e.lineContent;let i,n,o;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=t.length-e.stopRenderingLineAfter,o=e.stopRenderingLineAfter):(i=!1,n=0,o=t.length);let s=function(e,t,i,n,o){const s=[];let r=0;n>0&&(s[r++]=new YT(n,"",0,!1));let a=n;for(let l=0,c=i.getCount();l<c;l++){const c=i.getEndOffset(l);if(c<=n)continue;const d=i.getClassName(l);if(c>=o){const i=!!t&&Ew(e.substring(a,o));s[r++]=new YT(o,d,0,i);break}const h=!!t&&Ew(e.substring(a,c));s[r++]=new YT(c,d,0,h),a=c}return s}(t,e.containsRTL,e.lineTokens,e.fauxIndentLength,o);e.renderControlCharacters&&!e.isBasicASCII&&(s=function(e,t){const i=[];let n=new YT(0,"",0,!1),o=0;for(const s of t){const t=s.endIndex;for(;o<t;o++){oI(e.charCodeAt(o))&&(o>n.endIndex&&(n=new YT(o,s.type,s.metadata,s.containsRTL),i.push(n)),n=new YT(o+1,"mtkcontrol",s.metadata,!1),i.push(n))}o>n.endIndex&&(n=new YT(t,s.type,s.metadata,s.containsRTL),i.push(n))}return i}(t,s));(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace&&!e.continuesWithWrappedLine)&&(s=function(e,t,i,n){const o=e.continuesWithWrappedLine,s=e.fauxIndentLength,r=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,c=e.selectionsOnLine,d=1===e.renderWhitespace,h=3===e.renderWhitespace,u=e.renderSpaceWidth!==e.spaceWidth,g=[];let p=0,f=0,m=n[f].type,v=n[f].containsRTL,b=n[f].endIndex;const _=n.length;let w,y=!1,C=sw(t);-1===C?(y=!0,C=i,w=i):w=aw(t);let S=!1,k=0,L=c&&c[k],x=a%r;for(let E=s;E<i;E++){const e=t.charCodeAt(E);let o;if(L&&E>=L.endOffset&&(k++,L=c&&c[k]),E<C||E>w)o=!0;else if(9===e)o=!0;else if(32===e)if(d)if(S)o=!0;else{const e=E+1<i?t.charCodeAt(E+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&c&&(o=!!L&&L.startOffset<=E&&L.endOffset>E),o&&h&&(o=y||E>w),o&&v&&E>=C&&E<=w&&(o=!1),S){if(!o||!l&&x>=r){if(u){for(let e=(p>0?g[p-1].endIndex:s)+1;e<=E;e++)g[p++]=new YT(e,"mtkw",1,!1)}else g[p++]=new YT(E,"mtkw",1,!1);x%=r}}else(E===b||o&&E>s)&&(g[p++]=new YT(E,m,0,v),x%=r);for(9===e?x=r:Mw(e)?x+=2:x++,S=o;E===b&&(f++,f<_);)m=n[f].type,v=n[f].containsRTL,b=n[f].endIndex}let D=!1;if(S)if(o&&d){const e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(D=!0)}else D=!0;if(D)if(u){for(let e=(p>0?g[p-1].endIndex:s)+1;e<=i;e++)g[p++]=new YT(e,"mtkw",1,!1)}else g[p++]=new YT(i,"mtkw",1,!1);else g[p++]=new YT(i,m,0,v);return g}(e,t,o,s));let r=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?r|=1:2===i.type&&(r|=2)}s=function(e,t,i,n){n.sort(UT.compare);const o=GT.normalize(e,n),s=o.length;let r=0;const a=[];let l=0,c=0;for(let h=0,u=i.length;h<u;h++){const e=i[h],t=e.endIndex,n=e.type,d=e.metadata,u=e.containsRTL;for(;r<s&&o[r].startOffset<t;){const e=o[r];if(e.startOffset>c&&(c=e.startOffset,a[l++]=new YT(c,n,d,u)),!(e.endOffset+1<=t)){c=t,a[l++]=new YT(c,n+" "+e.className,d|e.metadata,u);break}c=e.endOffset+1,a[l++]=new YT(c,n+" "+e.className,d|e.metadata,u),r++}t>c&&(c=t,a[l++]=new YT(c,n,d,u))}const d=i[i.length-1].endIndex;if(r<s&&o[r].startOffset===d)for(;r<s&&o[r].startOffset===d;){const e=o[r];a[l++]=new YT(c,e.className,e.metadata,!1),r++}return a}(t,0,s,e.lineDecorations)}e.containsRTL||(s=function(e,t,i){let n=0;const o=[];let s=0;if(i)for(let r=0,a=t.length;r<a;r++){const i=t[r],a=i.endIndex;if(n+50<a){const t=i.type,r=i.metadata,l=i.containsRTL;let c=-1,d=n;for(let i=n;i<a;i++)32===e.charCodeAt(i)&&(c=i),-1!==c&&i-d>=50&&(o[s++]=new YT(c+1,t,r,l),d=c+1,c=-1);d!==a&&(o[s++]=new YT(a,t,r,l))}else o[s++]=i;n=a}else for(let r=0,a=t.length;r<a;r++){const e=t[r],i=e.endIndex,a=i-n;if(a>50){const t=e.type,r=e.metadata,l=e.containsRTL,c=Math.ceil(a/50);for(let e=1;e<c;e++){const i=n+50*e;o[s++]=new YT(i,t,r,l)}o[s++]=new YT(i,t,r,l)}else o[s++]=e;n=i}return o}(t,s,!e.isBasicASCII||e.fontLigatures));return new nI(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,o,i,n,s,r,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class tI{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function iI(e){const t=new $x(1e4),i=eI(e,t);return new tI(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class nI{constructor(e,t,i,n,o,s,r,a,l,c,d,h,u,g,p,f){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.overflowingCharCount=s,this.parts=r,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=u,this.renderSpaceCharCode=g,this.renderWhitespace=p,this.renderControlCharacters=f}}function oI(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function sI(e){return e.toString(16).toUpperCase().padStart(4,"0")}class rI{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class aI{constructor(e,t){this.tabSize=e,this.data=t}}class lI{constructor(e,t,i,n,o,s,r){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=r}}class cI{constructor(e,t,i,n,o,s,r,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=cI.isBasicASCII(i,s),this.containsRTL=cI.containsRTL(i,this.isBasicASCII,o),this.tokens=r,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||Tw(e)}static containsRTL(e,t,i){return!(t||!i)&&Ew(e)}}class dI{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class hI{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new dI(new Fb(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class uI{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class gI{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&bp(e.data,t.data)}static equalsArr(e,t){return bp(e,t,gI.equals)}}function pI(e){return!function(e){return Array.isArray(e)}(e)}function fI(e){return"string"===typeof e}function mI(e){return!fI(e)}function vI(e){return!e}function bI(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function _I(e){return e.replace(/[&<>'"_]/g,"-")}function wI(e,t){console.log("".concat(e.languageId,": ").concat(t))}function yI(e,t){return new Error("".concat(e.languageId,": ").concat(t))}function CI(e,t,i,n,o){let s=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,r,a,l,c,d,h,u,g){return vI(a)?vI(l)?!vI(c)&&c<n.length?bI(e,n[c]):!vI(h)&&e&&"string"===typeof e[h]?e[h]:(null===s&&(s=o.split("."),s.unshift(o)),!vI(d)&&d<s.length?bI(e,s[d]):""):bI(e,i):"$"}))}function SI(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}var kI,LI=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},xI=function(e,t){return function(i,n){t(i,n,e)}};class DI{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new EI(e,t);let i=EI.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new EI(e,t),this._entries[i]=n,n)}}DI._INSTANCE=new DI(5);class EI{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return EI._equals(this,e)}push(e){return DI.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return DI.create(this.parent,e)}}class NI{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new NI(this.languageId,this.state)}}class TI{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==t)return new II(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new II(e,t);const i=EI.getStackElementId(e);let n=this._entries[i];return n||(n=new II(e,null),this._entries[i]=n,n)}}TI._INSTANCE=new TI(5);class II{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:TI.create(this.stack,this.embeddedLanguageData)}equals(e){return e instanceof II&&(!!this.stack.equals(e.stack)&&(null===this.embeddedLanguageData&&null===e.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==e.embeddedLanguageData&&this.embeddedLanguageData.equals(e.embeddedLanguageData)))}}class AI{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new Ub(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=n_.get(o);if(!r)return this.enterLanguage(o),this.emit(n,""),s;const a=r.tokenize(e,t,s);if(0!==n)for(const l of a.tokens)this._tokens.push(new Ub(l.offset+n,l.type,l.language));else this._tokens=this._tokens.concat(a.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new Kb(this._tokens,e)}}class MI{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=1024|this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const n=null!==e?e.length:0,o=t.length,s=null!==i?i.length:0;if(0===n&&0===o&&0===s)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===s)return e;const r=new Uint32Array(n+o+s);null!==e&&r.set(e);for(let a=0;a<o;a++)r[n+a]=t[a];return null!==i&&r.set(i,n+o),r}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,r=n_.get(o);if(!r)return this.enterLanguage(o),this.emit(n,""),s;const a=r.tokenizeEncoded(e,t,s);if(0!==n)for(let l=0,c=a.tokens.length;l<c;l+=2)a.tokens[l]+=n;return this._prependTokens=MI._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new qb(MI._merge(this._prependTokens,this._tokens,null),e)}}let OI=kI=class extends hv{constructor(e,t,i,n,o){super(),this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._register(n_.onDidChange((e=>{if(s)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){const n=e.changedLanguages[i];if(this._embeddedLanguages[n]){t=!0;break}}t&&(s=!0,n_.handleChange([this._languageId]),s=!1)}))),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=n_.get(t);if(i){if(i instanceof kI){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}}else n_.isResolved(t)||e.push(n_.getOrCreate(t))}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){const e=DI.create(null,this._lexer.start);return TI.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return VT(this._languageId,i);const n=new AI,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return WT(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const n=new MI(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=SI(this._lexer,t.stack.state),!i))throw yI(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const s of i){if(!mI(s.action)||"@pop"!==s.action.nextEmbedded)continue;o=!0;let t=s.regex;const i=s.regex.source;if("^(?:"===i.substr(0,4)&&")"===i.substr(i.length-1,1)){const e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(i.substr(4,i.length-5),e)}const r=e.search(t);-1===r||0!==r&&s.matchOnlyAtLineStart||(-1===n||r<n)&&(n=r)}if(!o)throw yI(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){const s=this._findLeavingNestedLanguageOffset(e,i);if(-1===s){const s=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return TI.create(i.stack,new NI(i.embeddedLanguageData.languageId,s))}const r=e.substring(0,s);r.length>0&&o.nestedLanguageTokenize(r,!1,i.embeddedLanguageData,n);const a=e.substring(s);return this._myTokenize(a,t,i,n+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);const s=e.length,r=t&&this._lexer.includeLF?e+"\n":e,a=r.length;let l=i.embeddedLanguageData,c=i.stack,d=0,h=null,u=!0;for(;u||d<a;){const i=d,g=c.depth,p=h?h.groups.length:0,f=c.state;let m=null,v=null,b=null,_=null,w=null;if(h){m=h.matches;const e=h.groups.shift();v=e.matched,b=e.action,_=h.rule,0===h.groups.length&&(h=null)}else{if(!u&&d>=a)break;u=!1;let e=this._lexer.tokenizer[f];if(!e&&(e=SI(this._lexer,f),!e))throw yI(this._lexer,"tokenizer state is not defined: "+f);const t=r.substr(d);for(const i of e)if((0===d||!i.matchOnlyAtLineStart)&&(m=t.match(i.regex),m)){v=m[0],b=i.action;break}}if(m||(m=[""],v=""),b||(d<a&&(m=[r.charAt(d)],v=m[0]),b=this._lexer.defaultToken),null===v)break;for(d+=v.length;pI(b)&&mI(b)&&b.test;)b=b.test(v,m,f,d===a);let y=null;if("string"===typeof b||Array.isArray(b))y=b;else if(b.group)y=b.group;else if(null!==b.token&&void 0!==b.token){if(y=b.tokenSubst?CI(this._lexer,b.token,v,m,f):b.token,b.nextEmbedded)if("@pop"===b.nextEmbedded){if(!l)throw yI(this._lexer,"cannot pop embedded language if not inside one");l=null}else{if(l)throw yI(this._lexer,"cannot enter embedded language from within an embedded language");w=CI(this._lexer,b.nextEmbedded,v,m,f)}if(b.goBack&&(d=Math.max(0,d-b.goBack)),b.switchTo&&"string"===typeof b.switchTo){let e=CI(this._lexer,b.switchTo,v,m,f);if("@"===e[0]&&(e=e.substr(1)),!SI(this._lexer,e))throw yI(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(_));c=c.switchTo(e)}else{if(b.transform&&"function"===typeof b.transform)throw yI(this._lexer,"action.transform not supported");if(b.next)if("@push"===b.next){if(c.depth>=this._lexer.maxStack)throw yI(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(f)}else if("@pop"===b.next){if(c.depth<=1)throw yI(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));c=c.pop()}else if("@popall"===b.next)c=c.popall();else{let e=CI(this._lexer,b.next,v,m,f);if("@"===e[0]&&(e=e.substr(1)),!SI(this._lexer,e))throw yI(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(_));c=c.push(e)}}b.log&&"string"===typeof b.log&&wI(this._lexer,this._lexer.languageId+": "+CI(this._lexer,b.log,v,m,f))}if(null===y)throw yI(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));const C=i=>{const s=this._languageService.getLanguageIdByLanguageName(i)||this._languageService.getLanguageIdByMimeType(i)||i,r=this._getNestedEmbeddedLanguageData(s);if(d<a){const i=e.substr(d);return this._nestedTokenize(i,t,TI.create(c,r),n+d,o)}return TI.create(c,r)};if(Array.isArray(y)){if(h&&h.groups.length>0)throw yI(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if(m.length!==y.length+1)throw yI(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));let e=0;for(let t=1;t<m.length;t++)e+=m[t].length;if(e!==v.length)throw yI(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));h={rule:_,matches:m,groups:[]};for(let t=0;t<y.length;t++)h.groups[t]={action:y[t],matched:m[t+1]};d-=v.length}else{{if("@rematch"===y&&(d-=v.length,v="",m=null,y="",null!==w))return C(w);if(0===v.length){if(0===a||g!==c.depth||f!==c.state||(h?h.groups.length:0)!==p)continue;throw yI(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_))}let e=null;if(fI(y)&&0===y.indexOf("@brackets")){const t=y.substr(9),i=RI(this._lexer,v);if(!i)throw yI(this._lexer,"@brackets token returned but no bracket defined as: "+v);e=_I(i.token+t)}else{e=_I(""===y?"":y+this._lexer.tokenPostfix)}i<s&&o.emit(i+n,e)}if(null!==w)return C(w)}}return TI.create(c,l)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new NI(e,BT);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),n_.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=n_.get(e);return new NI(e,t?t.getInitialState():BT)}};function RI(e,t){if(!t)return null;t=bI(e,t);const i=e.brackets;for(const n of i){if(n.open===t)return{token:n.token,bracketType:1};if(n.close===t)return{token:n.token,bracketType:-1}}return null}OI=kI=LI([xI(4,gD)],OI);const PI=xx("standaloneColorizer",{createHTML:e=>e});class FI{static colorizeElement(e,t,i,n){const o=(n=n||{}).theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();const r=t.getLanguageIdByMimeType(s)||s;e.setTheme(o);const a=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;return this.colorize(t,a||"",r,n).then((e=>{var t;const n=null!==(t=null===PI||void 0===PI?void 0:PI.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n}),(e=>console.error(e)))}static async colorize(e,t,i,n){const o=e.languageIdCodec;let s=4;n&&"number"===typeof n.tabSize&&(s=n.tabSize),Pw(t)&&(t=t.substr(1));const r=ow(t);if(!e.isRegisteredLanguageId(i))return BI(r,s,o);const a=await n_.getOrCreate(i);return a?function(e,t,i,n){return new Promise(((o,s)=>{const r=()=>{const a=function(e,t,i,n){let o=[],s=i.getInitialState();for(let r=0,a=e.length;r<a;r++){const a=e[r],l=i.tokenizeEncoded(a,!0,s);HT.convertToEndOffset(l.tokens,a.length);const c=new HT(l.tokens,a,n),d=cI.isBasicASCII(a,!0),h=cI.containsRTL(a,d,!0),u=iI(new QT(!1,!0,a,!1,d,h,0,c.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(u.html),o.push("<br/>"),s=l.endState}return o.join("")}(e,t,i,n);if(i instanceof OI){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,s)}o(a)};r()}))}(r,s,a,o):BI(r,s,o)}static colorizeLine(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;const s=cI.isBasicASCII(e,t),r=cI.containsRTL(e,s,i);return iI(new QT(!1,!0,e,!1,s,r,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const n=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function BI(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let s=0,r=e.length;s<r;s++){const r=e[s];o[0]=r.length;const a=new HT(o,r,i),l=cI.isBasicASCII(r,!0),c=cI.containsRTL(r,l,!0),d=iI(new QT(!1,!0,r,!1,l,c,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(d.html),n.push("<br/>")}return n.join("")}const VI=2e4;let WI,zI,HI,jI,UI;function KI(e){WI&&(zI.textContent!==e?(Gk(HI),GI(zI,e)):(Gk(zI),GI(HI,e)))}function qI(e){WI&&(jI.textContent!==e?(Gk(UI),GI(jI,e)):(Gk(jI),GI(UI,e)))}function GI(e,t){Gk(e),t.length>VI&&(t=t.substr(0,VI)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}const YI=vy("markerDecorationsService");var ZI=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},QI=function(e,t){return function(i,n){t(i,n,e)}};let XI=class{constructor(e,t){}dispose(){}};XI.ID="editor.contrib.markerDecorations",XI=ZI([QI(1,YI)],XI),rx(XI.ID,XI,0);class JI extends hv{constructor(e,t){super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,n=!1;const o=()=>{if(i&&!n)try{i=!1,n=!0,t()}finally{eL(Fk(this._referenceDomElement),(()=>{n=!1,o()}))}};this._resizeObserver=new ResizeObserver((t=>{e=t&&t[0]&&t[0].contentRect?t[0].contentRect:null,i=!0,o()})),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this._width===i&&this._height===n||(this._width=i,this._height=n,e&&this._onDidChange.fire())}}class $I{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=$I._read(e,this.key);this.migrate(t,(t=>$I._read(e,t)),((t,i)=>$I._write(e,t,i)))}static _read(e,t){if("undefined"===typeof e)return;const i=t.indexOf(".");if(i>=0){const n=t.substring(0,i);return this._read(e[n],t.substring(i+1))}return e[t]}static _write(e,t,i){const n=t.indexOf(".");if(n>=0){const o=t.substring(0,n);return e[o]=e[o]||{},void this._write(e[o],t.substring(n+1),i)}e[t]=i}}function eA(e,t){$I.items.push(new $I(e,t))}function tA(e,t){eA(e,((i,n,o)=>{if("undefined"!==typeof i)for(const[s,r]of t)if(i===s)return void o(e,r)}))}$I.items=[],tA("wordWrap",[[!0,"on"],[!1,"off"]]),tA("lineNumbers",[[!0,"on"],[!1,"off"]]),tA("cursorBlinking",[["visible","solid"]]),tA("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),tA("renderLineHighlight",[[!0,"line"],[!1,"none"]]),tA("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),tA("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),tA("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),tA("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),tA("autoIndent",[[!1,"advanced"],[!0,"full"]]),tA("matchBrackets",[[!0,"always"],[!1,"never"]]),tA("renderFinalNewline",[[!0,"on"],[!1,"off"]]),tA("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),tA("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),tA("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),eA("autoClosingBrackets",((e,t,i)=>{!1===e&&(i("autoClosingBrackets","never"),"undefined"===typeof t("autoClosingQuotes")&&i("autoClosingQuotes","never"),"undefined"===typeof t("autoSurround")&&i("autoSurround","never"))})),eA("renderIndentGuides",((e,t,i)=>{"undefined"!==typeof e&&(i("renderIndentGuides",void 0),"undefined"===typeof t("guides.indentation")&&i("guides.indentation",!!e))})),eA("highlightActiveIndentGuide",((e,t,i)=>{"undefined"!==typeof e&&(i("highlightActiveIndentGuide",void 0),"undefined"===typeof t("guides.highlightActiveIndentation")&&i("guides.highlightActiveIndentation",!!e))}));const iA={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};eA("suggest.filteredTypes",((e,t,i)=>{if(e&&"object"===typeof e){for(const n of Object.entries(iA)){!1===e[n[0]]&&"undefined"===typeof t("suggest.".concat(n[1]))&&i("suggest.".concat(n[1]),!1)}i("suggest.filteredTypes",void 0)}})),eA("quickSuggestions",((e,t,i)=>{if("boolean"===typeof e){const t=e?"on":"off";i("quickSuggestions",{comments:t,strings:t,other:t})}})),eA("experimental.stickyScroll.enabled",((e,t,i)=>{"boolean"===typeof e&&(i("experimental.stickyScroll.enabled",void 0),"undefined"===typeof t("stickyScroll.enabled")&&i("stickyScroll.enabled",e))})),eA("experimental.stickyScroll.maxLineCount",((e,t,i)=>{"number"===typeof e&&(i("experimental.stickyScroll.maxLineCount",void 0),"undefined"===typeof t("stickyScroll.maxLineCount")&&i("stickyScroll.maxLineCount",e))})),eA("codeActionsOnSave",((e,t,i)=>{if(e&&"object"===typeof e){let t=!1;const n={};for(const i of Object.entries(e))"boolean"===typeof i[1]?(t=!0,n[i[0]]=i[1]?"explicit":"never"):n[i[0]]=i[1];t&&i("codeActionsOnSave",n)}})),eA("codeActionWidget.includeNearbyQuickfixes",((e,t,i)=>{"boolean"===typeof e&&(i("codeActionWidget.includeNearbyQuickfixes",void 0),"undefined"===typeof t("codeActionWidget.includeNearbyQuickFixes")&&i("codeActionWidget.includeNearbyQuickFixes",e))}));const nA=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Cv,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}},oA=vy("accessibilityService"),sA=new gC("accessibilityModeEnabled",!1),rA=vy("accessibleNotificationService");var aA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},lA=function(e,t){return function(i,n){t(i,n,e)}};let cA=class extends hv{constructor(e,t,i,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Cv),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new rm,this.isSimpleWidget=e,this._containerObserver=this._register(new JI(i,t.dimension)),this._rawOptions=pA(t),this._validatedOptions=gA.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(cy.onDidChangeZoomLevel((()=>this._recomputeOptions()))),this._register(nA.onDidChangeTabFocus((()=>this._recomputeOptions()))),this._register(this._containerObserver.onDidChange((()=>this._recomputeOptions()))),this._register(py.onDidChange((()=>this._recomputeOptions()))),this._register(Yw.onDidChange((()=>this._recomputeOptions()))),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions())))}_recomputeOptions(){const e=this._computeOptions(),t=gA.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=hy.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:nA.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return gA.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:dA(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Xw||Qw,pixelRatio:Yw.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return py.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=pA(e);gA.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=gA.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=function(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};function dA(){let e="";return $w||ey||(e+="no-user-select "),$w&&(e+="no-minimap-shadow ",e+="enable-user-select "),Af&&(e+="mac "),e}cA=aA([lA(3,oA)],cA);class hA{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class uA{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class gA{static validateOptions(e){const t=new hA;for(const i of Wm){const n="_never_"===i.name?void 0:e[i.name];t._write(i.id,i.validate(n))}return t}static computeOptions(e,t){const i=new uA;for(const n of Wm)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!==typeof e||"object"!==typeof t||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&bp(e,t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!gA._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of Wm){const s=!gA._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new sm(i):null}static applyUpdate(e,t){let i=!1;for(const n of Wm)if(t.hasOwnProperty(n.name)){const o=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=o.newValue,i=i||o.didChange}return i}}function pA(e){const t=$p(e);return function(e){$I.items.forEach((t=>t.apply(e)))}(t),t}function fA(e,t,i){let n=null,o=null;if("function"===typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"===typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const s="$memoize$".concat(t);i[n]=function(){if(!this.hasOwnProperty(s)){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,t)})}return this[s]}}var mA,vA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(mA||(mA={}));class bA extends hv{constructor(){super(),this.dispatched=!1,this.targets=new Jf,this.ignoreTargets=new Jf,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(vv.runAndSubscribe(Uk,(e=>{let{window:t,disposables:i}=e;i.add(Zk(t.document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),i.add(Zk(t.document,"touchend",(e=>this.onTouchEnd(t,e)))),i.add(Zk(t.document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}),{window:q_,disposables:this._store}))}static addTarget(e){if(!bA.isTouchDevice())return hv.None;bA.INSTANCE||(bA.INSTANCE=rv(new bA));return cv(bA.INSTANCE.targets.push(e))}static ignoreTarget(e){if(!bA.isTouchDevice())return hv.None;bA.INSTANCE||(bA.INSTANCE=rv(new bA));return cv(bA.INSTANCE.ignoreTargets.push(e))}static isTouchDevice(){return"ontouchstart"in q_||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){const n=e.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:t,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[t],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};const o=this.newGestureEvent(mA.Start,n.target);o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),n=Object.keys(this.activeTouches).length;for(let o=0,s=t.changedTouches.length;o<s;o++){const s=t.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}const r=this.activeTouches[s.identifier],a=Date.now()-r.initialTimeStamp;if(a<bA.HOLD_DELAY&&Math.abs(r.initialPageX-vp(r.rollingPageX))<30&&Math.abs(r.initialPageY-vp(r.rollingPageY))<30){const e=this.newGestureEvent(mA.Tap,r.initialTarget);e.pageX=vp(r.rollingPageX),e.pageY=vp(r.rollingPageY),this.dispatchEvent(e)}else if(a>=bA.HOLD_DELAY&&Math.abs(r.initialPageX-vp(r.rollingPageX))<30&&Math.abs(r.initialPageY-vp(r.rollingPageY))<30){const e=this.newGestureEvent(mA.Contextmenu,r.initialTarget);e.pageX=vp(r.rollingPageX),e.pageY=vp(r.rollingPageY),this.dispatchEvent(e)}else if(1===n){const t=vp(r.rollingPageX),n=vp(r.rollingPageY),o=vp(r.rollingTimestamps)-r.rollingTimestamps[0],s=t-r.rollingPageX[0],a=n-r.rollingPageY[0],l=[...this.targets].filter((e=>r.initialTarget instanceof Node&&e.contains(r.initialTarget)));this.inertia(e,l,i,Math.abs(s)/o,s>0?1:-1,t,Math.abs(a)/o,a>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(mA.End,r.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===mA.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>bA.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==mA.Change&&e.type!==mA.Contextmenu||(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;for(const t of this.targets)t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}}inertia(e,t,i,n,o,s,r,a,l){this.handle=eL(e,(()=>{const c=Date.now(),d=c-i;let h=0,u=0,g=!0;n+=bA.SCROLL_FRICTION*d,r+=bA.SCROLL_FRICTION*d,n>0&&(g=!1,h=o*n*d),r>0&&(g=!1,u=a*r*d);const p=this.newGestureEvent(mA.Change);p.translationX=h,p.translationY=u,t.forEach((e=>e.dispatchEvent(p))),g||this.inertia(e,t,c,n,o,s+h,r,a,l+u)}))}onTouchMove(e){const t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){const n=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}const o=this.activeTouches[n.identifier],s=this.newGestureEvent(mA.Change,o.initialTarget);s.translationX=n.pageX-vp(o.rollingPageX),s.translationY=n.pageY-vp(o.rollingPageY),s.pageX=n.pageX,s.pageY=n.pageY,this.dispatchEvent(s),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(n.pageX),o.rollingPageY.push(n.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}bA.SCROLL_FRICTION=-.005,bA.HOLD_DELAY=700,bA.CLEAR_TAP_COUNT_TIME=400,vA([fA],bA,"isTouchDevice",null);class _A{constructor(){this._hooks=new dv,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let s=e;try{e.setPointerCapture(t),this._hooks.add(cv((()=>{try{e.releasePointerCapture(t)}catch(i){}})))}catch(r){s=Fk(e)}this._hooks.add(Zk(s,TL.POINTER_MOVE,(e=>{e.buttons===i?(e.preventDefault(),this._pointerMoveCallback(e)):this.stopMonitoring(!0)}))),this._hooks.add(Zk(s,TL.POINTER_UP,(e=>this.stopMonitoring(!0))))}}function wA(e){return"--vscode-".concat(e.replace(/\./g,"-"))}function yA(e){return"var(".concat(wA(e),")")}const CA="base.contributions.colors";const SA=new class{constructor(){this._onDidChangeSchema=new Cv,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i){let n=arguments.length>4?arguments[4]:void 0;const o={id:e,description:i,defaults:t,needsTransparency:arguments.length>3&&void 0!==arguments[3]&&arguments[3],deprecationMessage:n};this.colorsById[e]=o;const s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return n&&(s.deprecationMessage=n),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map((e=>this.colorsById[e]))}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){return cR(i.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{const i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>"- `".concat(e,"`: ").concat(this.colorsById[e].description))).join("\n")}};function kA(e,t,i,n,o){return SA.registerColor(e,t,i,n,o)}TC.add(CA,SA);const LA=kA("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},lf("foreground","Overall foreground color. This color is only used if not overridden by a component.")),xA=(kA("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},lf("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),kA("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},lf("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),kA("descriptionForeground",{light:"#717171",dark:rR(LA,.7),hcDark:rR(LA,.7),hcLight:rR(LA,.7)},lf("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),kA("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},lf("iconForeground","The default color for icons in the workbench."))),DA=kA("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},lf("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),EA=kA("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},lf("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),NA=kA("contrastActiveBorder",{light:null,dark:null,hcDark:DA,hcLight:DA},lf("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),TA=(kA("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},lf("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),kA("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:hT.black,hcLight:"#292929"},lf("textSeparatorForeground","Color for text separators.")),kA("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},lf("textLinkForeground","Foreground color for links in text."))),IA=(kA("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},lf("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),kA("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},lf("textPreformatForeground","Foreground color for preformatted text segments.")),kA("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},lf("textPreformatBackground","Background color for preformatted text segments.")),kA("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},lf("textBlockQuoteBackground","Background color for block quotes in text.")),kA("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:hT.white,hcLight:"#292929"},lf("textBlockQuoteBorder","Border color for block quotes in text.")),kA("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:hT.black,hcLight:"#F2F2F2"},lf("textCodeBlockBackground","Background color for code blocks in text.")),kA("widget.shadow",{dark:rR(hT.black,.36),light:rR(hT.black,.16),hcDark:null,hcLight:null},lf("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),AA=kA("widget.border",{dark:null,light:null,hcDark:EA,hcLight:EA},lf("widgetBorder","Border color of widgets such as find/replace inside the editor.")),MA=kA("input.background",{dark:"#3C3C3C",light:hT.white,hcDark:hT.black,hcLight:hT.white},lf("inputBoxBackground","Input box background.")),OA=kA("input.foreground",{dark:LA,light:LA,hcDark:LA,hcLight:LA},lf("inputBoxForeground","Input box foreground.")),RA=kA("input.border",{dark:null,light:null,hcDark:EA,hcLight:EA},lf("inputBoxBorder","Input box border.")),PA=kA("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:EA,hcLight:EA},lf("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),FA=(kA("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},lf("inputOption.hoverBackground","Background color of activated options in input fields.")),kA("inputOption.activeBackground",{dark:rR(DA,.4),light:rR(DA,.2),hcDark:hT.transparent,hcLight:hT.transparent},lf("inputOption.activeBackground","Background hover color of options in input fields."))),BA=kA("inputOption.activeForeground",{dark:hT.white,light:hT.black,hcDark:LA,hcLight:LA},lf("inputOption.activeForeground","Foreground color of activated options in input fields.")),VA=(kA("input.placeholderForeground",{light:rR(LA,.5),dark:rR(LA,.5),hcDark:rR(LA,.7),hcLight:rR(LA,.7)},lf("inputPlaceholderForeground","Input box foreground color for placeholder text.")),kA("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:hT.black,hcLight:hT.white},lf("inputValidationInfoBackground","Input validation background color for information severity."))),WA=kA("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:LA},lf("inputValidationInfoForeground","Input validation foreground color for information severity.")),zA=kA("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:EA,hcLight:EA},lf("inputValidationInfoBorder","Input validation border color for information severity.")),HA=kA("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:hT.black,hcLight:hT.white},lf("inputValidationWarningBackground","Input validation background color for warning severity.")),jA=kA("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:LA},lf("inputValidationWarningForeground","Input validation foreground color for warning severity.")),UA=kA("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:EA,hcLight:EA},lf("inputValidationWarningBorder","Input validation border color for warning severity.")),KA=kA("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:hT.black,hcLight:hT.white},lf("inputValidationErrorBackground","Input validation background color for error severity.")),qA=kA("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:LA},lf("inputValidationErrorForeground","Input validation foreground color for error severity.")),GA=kA("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:EA,hcLight:EA},lf("inputValidationErrorBorder","Input validation border color for error severity.")),YA=kA("dropdown.background",{dark:"#3C3C3C",light:hT.white,hcDark:hT.black,hcLight:hT.white},lf("dropdownBackground","Dropdown background.")),ZA=kA("dropdown.listBackground",{dark:null,light:null,hcDark:hT.black,hcLight:hT.white},lf("dropdownListBackground","Dropdown list background.")),QA=kA("dropdown.foreground",{dark:"#F0F0F0",light:LA,hcDark:hT.white,hcLight:LA},lf("dropdownForeground","Dropdown foreground.")),XA=kA("dropdown.border",{dark:YA,light:"#CECECE",hcDark:EA,hcLight:EA},lf("dropdownBorder","Dropdown border.")),JA=kA("button.foreground",{dark:hT.white,light:hT.white,hcDark:hT.white,hcLight:hT.white},lf("buttonForeground","Button foreground color.")),$A=kA("button.separator",{dark:rR(JA,.4),light:rR(JA,.4),hcDark:rR(JA,.4),hcLight:rR(JA,.4)},lf("buttonSeparator","Button separator color.")),eM=kA("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},lf("buttonBackground","Button background color.")),tM=kA("button.hoverBackground",{dark:sR(eM,.2),light:oR(eM,.2),hcDark:eM,hcLight:eM},lf("buttonHoverBackground","Button background color when hovering.")),iM=kA("button.border",{dark:EA,light:EA,hcDark:EA,hcLight:EA},lf("buttonBorder","Button border color.")),nM=kA("button.secondaryForeground",{dark:hT.white,light:hT.white,hcDark:hT.white,hcLight:LA},lf("buttonSecondaryForeground","Secondary button foreground color.")),oM=kA("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:hT.white},lf("buttonSecondaryBackground","Secondary button background color.")),sM=kA("button.secondaryHoverBackground",{dark:sR(oM,.2),light:oR(oM,.2),hcDark:null,hcLight:null},lf("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),rM=kA("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:hT.black,hcLight:"#0F4A85"},lf("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),aM=kA("badge.foreground",{dark:hT.white,light:"#333",hcDark:hT.white,hcLight:hT.white},lf("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),lM=kA("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},lf("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),cM=kA("scrollbarSlider.background",{dark:hT.fromHex("#797979").transparent(.4),light:hT.fromHex("#646464").transparent(.4),hcDark:rR(EA,.6),hcLight:rR(EA,.4)},lf("scrollbarSliderBackground","Scrollbar slider background color.")),dM=kA("scrollbarSlider.hoverBackground",{dark:hT.fromHex("#646464").transparent(.7),light:hT.fromHex("#646464").transparent(.7),hcDark:rR(EA,.8),hcLight:rR(EA,.8)},lf("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),hM=kA("scrollbarSlider.activeBackground",{dark:hT.fromHex("#BFBFBF").transparent(.4),light:hT.fromHex("#000000").transparent(.6),hcDark:EA,hcLight:EA},lf("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),uM=kA("progressBar.background",{dark:hT.fromHex("#0E70C0"),light:hT.fromHex("#0E70C0"),hcDark:EA,hcLight:EA},lf("progressBarBackground","Background color of the progress bar that can show for long running operations.")),gM=(kA("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},lf("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},lf("editorError.foreground","Foreground color of error squigglies in the editor."))),pM=(kA("editorError.border",{dark:null,light:null,hcDark:hT.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},lf("errorBorder","If set, color of double underlines for errors in the editor.")),kA("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},lf("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},lf("editorWarning.foreground","Foreground color of warning squigglies in the editor."))),fM=kA("editorWarning.border",{dark:null,light:null,hcDark:hT.fromHex("#FFCC00").transparent(.8),hcLight:hT.fromHex("#FFCC00").transparent(.8)},lf("warningBorder","If set, color of double underlines for warnings in the editor.")),mM=(kA("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},lf("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},lf("editorInfo.foreground","Foreground color of info squigglies in the editor."))),vM=kA("editorInfo.border",{dark:null,light:null,hcDark:hT.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},lf("infoBorder","If set, color of double underlines for infos in the editor.")),bM=kA("editorHint.foreground",{dark:hT.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},lf("editorHint.foreground","Foreground color of hint squigglies in the editor.")),_M=(kA("editorHint.border",{dark:null,light:null,hcDark:hT.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},lf("hintBorder","If set, color of double underlines for hints in the editor.")),kA("sash.hoverBorder",{dark:DA,light:DA,hcDark:DA,hcLight:DA},lf("sashActiveBorder","Border color of active sashes.")),kA("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:hT.black,hcLight:hT.white},lf("editorBackground","Editor background color."))),wM=kA("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:hT.white,hcLight:LA},lf("editorForeground","Editor default foreground color.")),yM=(kA("editorStickyScroll.background",{light:_M,dark:_M,hcDark:_M,hcLight:_M},lf("editorStickyScrollBackground","Sticky scroll background color for the editor")),kA("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:hT.fromHex("#0F4A85").transparent(.1)},lf("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),kA("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:hT.white},lf("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),CM=kA("editorWidget.foreground",{dark:LA,light:LA,hcDark:LA,hcLight:LA},lf("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),SM=kA("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:EA,hcLight:EA},lf("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),kM=(kA("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},lf("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),kA("quickInput.background",{dark:yM,light:yM,hcDark:yM,hcLight:yM},lf("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette."))),LM=kA("quickInput.foreground",{dark:CM,light:CM,hcDark:CM,hcLight:CM},lf("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),xM=kA("quickInputTitle.background",{dark:new hT(new lT(255,255,255,.105)),light:new hT(new lT(0,0,0,.06)),hcDark:"#000000",hcLight:hT.white},lf("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),DM=kA("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:hT.white,hcLight:"#0F4A85"},lf("pickerGroupForeground","Quick picker color for grouping labels.")),EM=kA("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:hT.white,hcLight:"#0F4A85"},lf("pickerGroupBorder","Quick picker color for grouping borders.")),NM=kA("keybindingLabel.background",{dark:new hT(new lT(128,128,128,.17)),light:new hT(new lT(221,221,221,.4)),hcDark:hT.transparent,hcLight:hT.transparent},lf("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),TM=kA("keybindingLabel.foreground",{dark:hT.fromHex("#CCCCCC"),light:hT.fromHex("#555555"),hcDark:hT.white,hcLight:LA},lf("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),IM=kA("keybindingLabel.border",{dark:new hT(new lT(51,51,51,.6)),light:new hT(new lT(204,204,204,.4)),hcDark:new hT(new lT(111,195,223)),hcLight:EA},lf("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),AM=kA("keybindingLabel.bottomBorder",{dark:new hT(new lT(68,68,68,.6)),light:new hT(new lT(187,187,187,.4)),hcDark:new hT(new lT(111,195,223)),hcLight:LA},lf("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),MM=kA("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},lf("editorSelectionBackground","Color of the editor selection.")),OM=kA("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:hT.white},lf("editorSelectionForeground","Color of the selected text for high contrast.")),RM=kA("editor.inactiveSelectionBackground",{light:rR(MM,.5),dark:rR(MM,.5),hcDark:rR(MM,.7),hcLight:rR(MM,.5)},lf("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),PM=kA("editor.selectionHighlightBackground",{light:lR(MM,_M,.3,.6),dark:lR(MM,_M,.3,.6),hcDark:null,hcLight:null},lf("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),FM=(kA("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:NA,hcLight:NA},lf("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),kA("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},lf("editorFindMatch","Color of the current search match.")),kA("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},lf("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0)),BM=(kA("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},lf("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editor.findMatchBorder",{light:null,dark:null,hcDark:NA,hcLight:NA},lf("editorFindMatchBorder","Border color of the current search match.")),kA("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:NA,hcLight:NA},lf("findMatchHighlightBorder","Border color of the other search matches."))),VM=(kA("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:rR(NA,.4),hcLight:rR(NA,.4)},lf("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),kA("searchEditor.findMatchBackground",{light:rR(FM,.66),dark:rR(FM,.66),hcDark:FM,hcLight:FM},lf("searchEditor.queryMatch","Color of the Search Editor query matches.")),kA("searchEditor.findMatchBorder",{light:rR(BM,.66),dark:rR(BM,.66),hcDark:BM,hcLight:BM},lf("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),kA("search.resultsInfoForeground",{light:LA,dark:rR(LA,.65),hcDark:LA,hcLight:LA},lf("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),kA("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},lf("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorHoverWidget.background",{light:yM,dark:yM,hcDark:yM,hcLight:yM},lf("hoverBackground","Background color of the editor hover."))),WM=(kA("editorHoverWidget.foreground",{light:CM,dark:CM,hcDark:CM,hcLight:CM},lf("hoverForeground","Foreground color of the editor hover.")),kA("editorHoverWidget.border",{light:SM,dark:SM,hcDark:SM,hcLight:SM},lf("hoverBorder","Border color of the editor hover.")),kA("editorHoverWidget.statusBarBackground",{dark:sR(VM,.2),light:oR(VM,.05),hcDark:yM,hcLight:yM},lf("statusBarBackground","Background color of the editor hover status bar.")),kA("editorLink.activeForeground",{dark:"#4E94CE",light:hT.blue,hcDark:hT.cyan,hcLight:"#292929"},lf("activeLinkForeground","Color of active links.")),kA("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:hT.white,hcLight:hT.black},lf("editorInlayHintForeground","Foreground color of inline hints"))),zM=kA("editorInlayHint.background",{dark:rR(rM,.1),light:rR(rM,.1),hcDark:rR(hT.white,.1),hcLight:rR(rM,.1)},lf("editorInlayHintBackground","Background color of inline hints")),HM=(kA("editorInlayHint.typeForeground",{dark:WM,light:WM,hcDark:WM,hcLight:WM},lf("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),kA("editorInlayHint.typeBackground",{dark:zM,light:zM,hcDark:zM,hcLight:zM},lf("editorInlayHintBackgroundTypes","Background color of inline hints for types")),kA("editorInlayHint.parameterForeground",{dark:WM,light:WM,hcDark:WM,hcLight:WM},lf("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),kA("editorInlayHint.parameterBackground",{dark:zM,light:zM,hcDark:zM,hcLight:zM},lf("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),kA("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},lf("editorLightBulbForeground","The color used for the lightbulb actions icon.")),kA("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},lf("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),kA("editorLightBulbAi.foreground",{dark:oR(xA,.4),light:sR(xA,1.7),hcDark:xA,hcLight:xA},lf("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),new hT(new lT(155,185,85,.2))),jM=new hT(new lT(255,0,0,.2)),UM=kA("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},lf("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),KM=kA("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},lf("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),qM=(kA("diffEditor.insertedLineBackground",{dark:HM,light:HM,hcDark:null,hcLight:null},lf("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),kA("diffEditor.removedLineBackground",{dark:jM,light:jM,hcDark:null,hcLight:null},lf("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),kA("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),kA("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),kA("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."))),GM=kA("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),YM=(kA("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},lf("diffEditorInsertedOutline","Outline color for the text that got inserted.")),kA("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},lf("diffEditorRemovedOutline","Outline color for text that got removed.")),kA("diffEditor.border",{dark:null,light:null,hcDark:EA,hcLight:EA},lf("diffEditorBorder","Border color between the two text editors.")),kA("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},lf("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),kA("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},lf("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),kA("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},lf("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),kA("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},lf("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),kA("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."))),ZM=kA("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),QM=kA("list.focusOutline",{dark:DA,light:DA,hcDark:NA,hcLight:NA},lf("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),XM=kA("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},lf("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),JM=kA("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:hT.fromHex("#0F4A85").transparent(.1)},lf("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),$M=kA("list.activeSelectionForeground",{dark:hT.white,light:hT.white,hcDark:null,hcLight:null},lf("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),eO=kA("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tO=kA("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:hT.fromHex("#0F4A85").transparent(.1)},lf("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),iO=kA("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nO=kA("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),oO=kA("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sO=kA("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},lf("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rO=kA("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:hT.white.transparent(.1),hcLight:hT.fromHex("#0F4A85").transparent(.1)},lf("listHoverBackground","List/Tree background when hovering over items using the mouse.")),aO=kA("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),lO=kA("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},lf("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),cO=kA("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:DA,hcLight:DA},lf("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));kA("list.focusHighlightForeground",{dark:cO,light:(dO=JM,hO=cO,uO="#BBE7FF",{op:6,if:dO,then:hO,else:uO}),hcDark:cO,hcLight:cO},lf("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var dO,hO,uO;kA("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},lf("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),kA("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},lf("listErrorForeground","Foreground color of list items containing errors.")),kA("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},lf("listWarningForeground","Foreground color of list items containing warnings."));const gO=kA("listFilterWidget.background",{light:oR(yM,0),dark:sR(yM,0),hcDark:yM,hcLight:yM},lf("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),pO=kA("listFilterWidget.outline",{dark:hT.transparent,light:hT.transparent,hcDark:"#f38518",hcLight:"#007ACC"},lf("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),fO=kA("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:EA,hcLight:EA},lf("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),mO=kA("listFilterWidget.shadow",{dark:IA,light:IA,hcDark:IA,hcLight:IA},lf("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),vO=(kA("list.filterMatchBackground",{dark:FM,light:FM,hcDark:null,hcLight:null},lf("listFilterMatchHighlight","Background color of the filtered match.")),kA("list.filterMatchBorder",{dark:BM,light:BM,hcDark:EA,hcLight:NA},lf("listFilterMatchHighlightBorder","Border color of the filtered match.")),kA("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},lf("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),bO=kA("tree.inactiveIndentGuidesStroke",{dark:rR(vO,.4),light:rR(vO,.4),hcDark:rR(vO,.4),hcLight:rR(vO,.4)},lf("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),_O=kA("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},lf("tableColumnsBorder","Table border color between columns.")),wO=kA("tree.tableOddRowsBackground",{dark:rR(LA,.04),light:rR(LA,.04),hcDark:null,hcLight:null},lf("tableOddRowsBackgroundColor","Background color for odd table rows.")),yO=(kA("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},lf("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),kA("checkbox.background",{dark:YA,light:YA,hcDark:YA,hcLight:YA},lf("checkbox.background","Background color of checkbox widget."))),CO=(kA("checkbox.selectBackground",{dark:yM,light:yM,hcDark:yM,hcLight:yM},lf("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),kA("checkbox.foreground",{dark:QA,light:QA,hcDark:QA,hcLight:QA},lf("checkbox.foreground","Foreground color of checkbox widget."))),SO=kA("checkbox.border",{dark:XA,light:XA,hcDark:XA,hcLight:XA},lf("checkbox.border","Border color of checkbox widget.")),kO=(kA("checkbox.selectBorder",{dark:xA,light:xA,hcDark:xA,hcLight:xA},lf("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),kA("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,lf("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),LO=kA("quickInputList.focusForeground",{dark:$M,light:$M,hcDark:$M,hcLight:$M},lf("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),xO=kA("quickInputList.focusIconForeground",{dark:eO,light:eO,hcDark:eO,hcLight:eO},lf("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),DO=kA("quickInputList.focusBackground",{dark:aR(kO,JM),light:aR(kO,JM),hcDark:null,hcLight:null},lf("quickInput.listFocusBackground","Quick picker background color for the focused item.")),EO=kA("menu.border",{dark:null,light:null,hcDark:EA,hcLight:EA},lf("menuBorder","Border color of menus.")),NO=kA("menu.foreground",{dark:QA,light:QA,hcDark:QA,hcLight:QA},lf("menuForeground","Foreground color of menu items.")),TO=kA("menu.background",{dark:YA,light:YA,hcDark:YA,hcLight:YA},lf("menuBackground","Background color of menu items.")),IO=kA("menu.selectionForeground",{dark:$M,light:$M,hcDark:$M,hcLight:$M},lf("menuSelectionForeground","Foreground color of the selected menu item in menus.")),AO=kA("menu.selectionBackground",{dark:JM,light:JM,hcDark:JM,hcLight:JM},lf("menuSelectionBackground","Background color of the selected menu item in menus.")),MO=kA("menu.selectionBorder",{dark:null,light:null,hcDark:NA,hcLight:NA},lf("menuSelectionBorder","Border color of the selected menu item in menus.")),OO=kA("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:EA,hcLight:EA},lf("menuSeparatorBackground","Color of a separator menu item in menus.")),RO=kA("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},lf("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),PO=(kA("toolbar.hoverOutline",{dark:null,light:null,hcDark:NA,hcLight:NA},lf("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),kA("toolbar.activeBackground",{dark:sR(RO,.1),light:oR(RO,.1),hcDark:null,hcLight:null},lf("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),kA("editor.snippetTabstopHighlightBackground",{dark:new hT(new lT(124,124,124,.3)),light:new hT(new lT(10,50,100,.2)),hcDark:new hT(new lT(124,124,124,.3)),hcLight:new hT(new lT(10,50,100,.2))},lf("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),kA("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},lf("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),kA("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),kA("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new hT(new lT(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},lf("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),kA("breadcrumb.foreground",{light:rR(LA,.8),dark:rR(LA,.8),hcDark:rR(LA,.8),hcLight:rR(LA,.8)},lf("breadcrumbsFocusForeground","Color of focused breadcrumb items."))),FO=kA("breadcrumb.background",{light:_M,dark:_M,hcDark:_M,hcLight:_M},lf("breadcrumbsBackground","Background color of breadcrumb items.")),BO=kA("breadcrumb.focusForeground",{light:oR(LA,.2),dark:sR(LA,.1),hcDark:sR(LA,.1),hcLight:sR(LA,.1)},lf("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),VO=kA("breadcrumb.activeSelectionForeground",{light:oR(LA,.2),dark:sR(LA,.1),hcDark:sR(LA,.1),hcLight:sR(LA,.1)},lf("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),WO=(kA("breadcrumbPicker.background",{light:yM,dark:yM,hcDark:yM,hcLight:yM},lf("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),hT.fromHex("#40C8AE").transparent(.5)),zO=hT.fromHex("#40A6FF").transparent(.5),HO=hT.fromHex("#606060").transparent(.4),jO=.4,UO=kA("merge.currentHeaderBackground",{dark:WO,light:WO,hcDark:null,hcLight:null},lf("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),KO=(kA("merge.currentContentBackground",{dark:rR(UO,jO),light:rR(UO,jO),hcDark:rR(UO,jO),hcLight:rR(UO,jO)},lf("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kA("merge.incomingHeaderBackground",{dark:zO,light:zO,hcDark:null,hcLight:null},lf("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),qO=(kA("merge.incomingContentBackground",{dark:rR(KO,jO),light:rR(KO,jO),hcDark:rR(KO,jO),hcLight:rR(KO,jO)},lf("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kA("merge.commonHeaderBackground",{dark:HO,light:HO,hcDark:null,hcLight:null},lf("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),GO=(kA("merge.commonContentBackground",{dark:rR(qO,jO),light:rR(qO,jO),hcDark:rR(qO,jO),hcLight:rR(qO,jO)},lf("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kA("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},lf("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),YO=(kA("editorOverviewRuler.currentContentForeground",{dark:rR(UO,1),light:rR(UO,1),hcDark:GO,hcLight:GO},lf("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),kA("editorOverviewRuler.incomingContentForeground",{dark:rR(KO,1),light:rR(KO,1),hcDark:GO,hcLight:GO},lf("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),kA("editorOverviewRuler.commonContentForeground",{dark:rR(qO,1),light:rR(qO,1),hcDark:GO,hcLight:GO},lf("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),kA("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},lf("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},lf("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),kA("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},lf("minimapFindMatchHighlight","Minimap marker color for find matches."),!0)),ZO=(kA("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},lf("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),kA("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},lf("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0)),QO=kA("minimap.infoHighlight",{dark:mM,light:mM,hcDark:vM,hcLight:vM},lf("minimapInfo","Minimap marker color for infos.")),XO=kA("minimap.warningHighlight",{dark:pM,light:pM,hcDark:fM,hcLight:fM},lf("overviewRuleWarning","Minimap marker color for warnings.")),JO=kA("minimap.errorHighlight",{dark:new hT(new lT(255,18,18,.7)),light:new hT(new lT(255,18,18,.7)),hcDark:new hT(new lT(255,50,50,1)),hcLight:"#B5200D"},lf("minimapError","Minimap marker color for errors.")),$O=kA("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},lf("minimapBackground","Minimap background color.")),eR=kA("minimap.foregroundOpacity",{dark:hT.fromHex("#000f"),light:hT.fromHex("#000f"),hcDark:hT.fromHex("#000f"),hcLight:hT.fromHex("#000f")},lf("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),tR=(kA("minimapSlider.background",{light:rR(cM,.5),dark:rR(cM,.5),hcDark:rR(cM,.5),hcLight:rR(cM,.5)},lf("minimapSliderBackground","Minimap slider background color.")),kA("minimapSlider.hoverBackground",{light:rR(dM,.5),dark:rR(dM,.5),hcDark:rR(dM,.5),hcLight:rR(dM,.5)},lf("minimapSliderHoverBackground","Minimap slider background color when hovering.")),kA("minimapSlider.activeBackground",{light:rR(hM,.5),dark:rR(hM,.5),hcDark:rR(hM,.5),hcLight:rR(hM,.5)},lf("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),kA("problemsErrorIcon.foreground",{dark:gM,light:gM,hcDark:gM,hcLight:gM},lf("problemsErrorIconForeground","The color used for the problems error icon."))),iR=kA("problemsWarningIcon.foreground",{dark:pM,light:pM,hcDark:pM,hcLight:pM},lf("problemsWarningIconForeground","The color used for the problems warning icon.")),nR=kA("problemsInfoIcon.foreground",{dark:mM,light:mM,hcDark:mM,hcLight:mM},lf("problemsInfoIconForeground","The color used for the problems info icon."));kA("charts.foreground",{dark:LA,light:LA,hcDark:LA,hcLight:LA},lf("chartsForeground","The foreground color used in charts.")),kA("charts.lines",{dark:rR(LA,.5),light:rR(LA,.5),hcDark:rR(LA,.5),hcLight:rR(LA,.5)},lf("chartsLines","The color used for horizontal lines in charts.")),kA("charts.red",{dark:gM,light:gM,hcDark:gM,hcLight:gM},lf("chartsRed","The red color used in chart visualizations.")),kA("charts.blue",{dark:mM,light:mM,hcDark:mM,hcLight:mM},lf("chartsBlue","The blue color used in chart visualizations.")),kA("charts.yellow",{dark:pM,light:pM,hcDark:pM,hcLight:pM},lf("chartsYellow","The yellow color used in chart visualizations.")),kA("charts.orange",{dark:YO,light:YO,hcDark:YO,hcLight:YO},lf("chartsOrange","The orange color used in chart visualizations.")),kA("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},lf("chartsGreen","The green color used in chart visualizations.")),kA("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},lf("chartsPurple","The purple color used in chart visualizations."));function oR(e,t){return{op:0,value:e,factor:t}}function sR(e,t){return{op:1,value:e,factor:t}}function rR(e,t){return{op:2,value:e,factor:t}}function aR(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return{op:4,values:t}}function lR(e,t,i,n){return{op:5,value:e,background:t,factor:i,transparency:n}}function cR(e,t){if(null!==e)return"string"===typeof e?"#"===e[0]?hT.fromHex(e):t.getColor(e):e instanceof hT?e:"object"===typeof e?function(e,t){var i,n,o,s;switch(e.op){case 0:return null===(i=cR(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=cR(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(o=cR(e.value,t))||void 0===o?void 0:o.transparent(e.factor);case 3:{const i=cR(e.background,t);return i?null===(s=cR(e.value,t))||void 0===s?void 0:s.makeOpaque(i):cR(e.value,t)}case 4:for(const i of e.values){const e=cR(i,t);if(e)return e}return;case 6:return cR(t.defines(e.if)?e.then:e.else,t);case 5:{const i=cR(e.value,t);if(!i)return;const n=cR(e.background,t);return n?i.isDarkerThan(n)?hT.getLighterColor(i,n,e.factor).transparent(e.transparency):hT.getDarkerColor(i,n,e.factor).transparent(e.transparency):i.transparent(e.factor*e.transparency)}default:throw DC(e)}}(e,t):void 0}const dR="vscode://schemas/workbench-colors",hR=TC.as(LD);hR.registerSchema(dR,SA.getColorSchema());const uR=new mS((()=>hR.notifySchemaChanged(dR)),200);SA.onDidChangeSchema((()=>{uR.isScheduled()||uR.schedule()}));class gR{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new pR(this.x-e.scrollX,this.y-e.scrollY)}}class pR{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new gR(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class fR{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}class mR{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function vR(e){const t=aL(e);return new fR(t.left,t.top,t.width,t.height)}function bR(e,t,i){const n=t.width/e.offsetWidth,o=t.height/e.offsetHeight,s=(i.x-t.x)/n,r=(i.y-t.y)/o;return new mR(s,r)}class _R extends oS{constructor(e,t,i){super(Fk(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new gR(this.posx,this.posy),this.editorPos=vR(i),this.relativePos=bR(i,this.editorPos,this.pos)}}class wR{constructor(e){this._editorViewDomNode=e}_create(e){return new _R(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return Zk(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return Zk(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return Zk(e,TL.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return Zk(e,TL.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return Zk(e,TL.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return Zk(e,"mousemove",(e=>t(this._create(e))))}}class yR{constructor(e){this._editorViewDomNode=e}_create(e){return new _R(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return Zk(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return Zk(e,TL.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return Zk(e,TL.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return Zk(e,"pointermove",(e=>t(this._create(e))))}}class CR extends hv{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new _A),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=Xk(e.ownerDocument,"keydown",(e=>{e.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,(e=>{n(new _R(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),o(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class SR{constructor(e){this._editor=e,this._instanceId=++SR._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new mS((()=>this.garbageCollect()),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const n=this._counter++;i=new kR(t,"dyn-rule-".concat(this._instanceId,"-").concat(n),fL(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}SR._idPool=0;class kR{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElementDisposables=new dv,this._styleElement=yL(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=".".concat(e," {");for(const n in t){const e=t[n];let o;o="object"===typeof e?yA(e.id):e;const s=LR(n);i+="\n\t".concat(s,": ").concat(o,";")}return i+="\n}",i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function LR(e){return e.replace(/(^[A-Z])/,(e=>{let[t]=e;return t.toLowerCase()})).replace(/([A-Z])/g,(e=>{let[t]=e;return"-".concat(t.toLowerCase())}))}class xR extends hv{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){const n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class DR extends xR{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ER{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){const i=[];let n=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=i[n-s-1];return o}}class NR{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class TR extends NR{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class IR{constructor(e,t,i,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=n}}class AR{static from(e){const t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){const n=e[i];t[i]=new AR(n.left,n.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return"[".concat(this.left,",").concat(this.width,"]")}}class MR{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return"[".concat(this.left,",").concat(this.width,"]")}static compare(e,t){return e.left-t.left}}class OR{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class RR{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class PR{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch(Pee){return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(MR.compare);const t=[];let i=0,n=e[0];for(let o=1,s=e.length;o<s;o++){const s=e[o];n.left+n.width+.9>=s.left?n.width=Math.max(n.width,s.left+s.width-n.left):(t[i++]=n,n=s)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||0===e.length)return null;const n=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];n[o]=new MR(Math.max(0,(s.left-t)/i),s.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,o,s){const r=e.children.length-1;if(0>r)return null;if((t=Math.min(r,Math.max(0,t)))===(n=Math.min(r,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(i,s.clientRectDeltaLeft,s.clientRectScale)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let a=e.children[t].firstChild,l=e.children[n].firstChild;if(a&&l||(!a&&0===i&&t>0&&(a=e.children[t-1].firstChild,i=1073741824),!l&&0===o&&n>0&&(l=e.children[n-1].firstChild,o=1073741824)),!a||!l)return null;i=Math.min(a.textContent.length,Math.max(0,i)),o=Math.min(l.textContent.length,Math.max(0,o));const c=this._readClientRects(a,i,l,o,s.endNode);return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(c,s.clientRectDeltaLeft,s.clientRectScale)}}var FR;function BR(e){return e===FR.HIGH_CONTRAST_DARK||e===FR.HIGH_CONTRAST_LIGHT}function VR(e){return e===FR.DARK||e===FR.HIGH_CONTRAST_DARK}!function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST_DARK="hcDark",e.HIGH_CONTRAST_LIGHT="hcLight"}(FR||(FR={}));const WR=!!Of||!(Mf||Qw||$w);let zR=!0;class HR{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(50),o=i.get(38);this.renderWhitespace="off"===o?i.get(98):"none",this.renderControlCharacters=i.get(93),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(66),this.stopRenderingLineAfter=i.get(116),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class jR{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=sy(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return!(!BR(this._options.themeType)&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,r=UT.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(BR(s.themeType)||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&(BR(s.themeType)&&r.push(new UT(t,n,"inline-selected-text",0)),"selection"===this._options.renderWhitespace&&(a||(a=[]),a.push(new ZT(t-1,n-1))))}}const l=new QT(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,r,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==km.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendString('<div style="top:'),n.appendString(String(t)),n.appendString("px;height:"),n.appendString(String(this._options.lineHeight)),n.appendString('px;" class="'),n.appendString(jR.CLASS_NAME),n.appendString('">');const c=eI(l,n);n.appendString("</div>");let d=null;return zR&&WR&&o.isBasicASCII&&s.useMonospaceOptimizations&&0===c.containsForeignElements&&(d=new UR(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),d||(d=GR(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof UR}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof UR?this._renderedViewLine.monospaceAssumptionsAreValid():zR}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof UR&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=this._renderedViewLine.input.stopRenderingLineAfter;if(-1!==o&&t>o+1&&i>o+1)return new RR(!0,[new MR(this.getWidth(n),0)]);-1!==o&&t>o+1&&(t=o+1),-1!==o&&i>o+1&&(i=o+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return s&&s.length>0?new RR(!1,s):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}}jR.CLASS_NAME="view-line";class UR{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const n=Math.floor(t.lineContent.length/300);if(n>0){this._keyColumnPixelOffsetCache=new Float32Array(n);for(let e=0;e<n;e++)this._keyColumnPixelOffsetCache[e]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const e=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*e)}return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,null===e||void 0===e||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||-1!==this._cachedWidth}monospaceAssumptionsAreValid(){if(!this.domNode)return zR;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),zR=!1)}return zR}toSlowRenderedLine(){return GR(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){const o=this._getColumnPixelOffset(e,t,n),s=this._getColumnPixelOffset(e,i,n);return[new MR(o,s-o)]}_getColumnPixelOffset(e,t,i){if(t<=300){const e=this._characterMapping.getHorizontalOffset(t);return this._charWidth*e}const n=Math.floor((t-1)/300)-1,o=300*(n+1)+1;let s=-1;if(this._keyColumnPixelOffsetCache&&(s=this._keyColumnPixelOffsetCache[n],-1===s&&(s=this._actualReadPixelOffset(e,o,i),this._keyColumnPixelOffsetCache[n]=s)),-1===s){const e=this._characterMapping.getHorizontalOffset(t);return this._charWidth*e}const r=this._characterMapping.getHorizontalOffset(o),a=this._characterMapping.getHorizontalOffset(t);return s+this._charWidth*(a-r)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const n=this._characterMapping.getDomPosition(t),o=PR.readHorizontalRanges(this._getReadingTarget(this.domNode),n.partIndex,n.charIndex,n.partIndex,n.charIndex,i);return o&&0!==o.length?o[0].left:-1}getColumnOfNodeOffset(e,t){return QR(this._characterMapping,e,t)}}class KR{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,null===e||void 0===e||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const o=this._readPixelOffset(this.domNode,e,t,n);if(-1===o)return null;const s=this._readPixelOffset(this.domNode,e,i,n);return-1===s?null:[new MR(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){const n=this._readPixelOffset(e,t,i,o);return-1===n?null:[new MR(n,0)]}return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth(n);const t=this._getReadingTarget(e);return t.firstChild?(n.markDidDomLayout(),t.firstChild.offsetWidth):0}if(null!==this._pixelOffsetCache){const o=this._pixelOffsetCache[i];if(-1!==o)return o;const s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(0===this._characterMapping.length){const t=PR.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n);return t&&0!==t.length?t[0].left:-1}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth(n);const o=this._characterMapping.getDomPosition(i),s=PR.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n);if(!s||0===s.length)return-1;const r=s[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getHorizontalOffset(i),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-r)<=1)return t}return r}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new MR(0,this.getWidth(n))];const o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return PR.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,n)}getColumnOfNodeOffset(e,t){return QR(this._characterMapping,e,t)}}class qR extends KR{_readVisibleRangesForRange(e,t,i,n,o){const s=super._readVisibleRangesForRange(e,t,i,n,o);if(!s||0===s.length||i===n||1===i&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){const i=this._readPixelOffset(e,t,n,o);if(-1!==i){const e=s[s.length-1];e.left<i&&(e.width=i-e.left)}}return s}}const GR=Xw?YR:ZR;function YR(e,t,i,n,o){return new qR(e,t,i,n,o)}function ZR(e,t,i,n,o){return new KR(e,t,i,n,o)}function QR(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return e.getColumn(new XT(o,i),n)}class XR{static _nextVisibleColumn(e,t,i){return 9===e?XR.nextRenderTabStop(t,i):Mw(e)||Ow(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const n=Math.min(t-1,e.length),o=e.substring(0,n),s=new kw(o);let r=0;for(;!s.eol();){const e=Cw(o,n,s.offset);s.nextGraphemeLength(),r=this._nextVisibleColumn(e,r,i)}return r}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length,o=new kw(e);let s=0,r=1;for(;!o.eol();){const a=Cw(e,n,o.offset);o.nextGraphemeLength();const l=this._nextVisibleColumn(a,s,i),c=o.offset+1;if(l>=t){return l-t<t-s?c:r}s=l,r=c}return n+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class JR{static whitespaceVisibleColumn(e,t,i){const n=e.length;let o=0,s=-1,r=-1;for(let a=0;a<n;a++){if(a===t)return[s,r,o];o%i===0&&(s=a,r=o);switch(e.charCodeAt(a)){case 32:o+=1;break;case 9:o=XR.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[s,r,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){const o=e.length,[s,r,a]=JR.whitespaceVisibleColumn(e,t,i);if(-1===a)return-1;let l;switch(n){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%i===0)return t;l=a%i<=i/2}if(l){if(-1===s)return-1;let t=r;for(let n=s;n<o;++n){if(t===r+i)return s;switch(e.charCodeAt(n)){case 32:t+=1;break;case 9:t=XR.nextRenderTabStop(t,i);break;default:return-1}}return t===r+i?s:-1}const c=XR.nextRenderTabStop(a,i);let d=a;for(let h=t;h<o;h++){if(d===c)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=XR.nextRenderTabStop(d,i);break;default:return-1}}return d===c?o:-1}}class $R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.hitTarget=e,this.type=0}}class eP{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var tP;!function(e){e.createFromDOMInfo=function(e,t,i){const n=e.getPositionFromDOMInfo(t,i);return n?new eP(n,t,null):new $R(t)}}(tP||(tP={}));class iP{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class nP{static _deduceRage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!t&&e?new Fb(e.lineNumber,e.column,e.lineNumber,e.column):null!==t&&void 0!==t?t:null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,o,s){return{type:e,element:t,mouseColumn:i,position:n,range:o,detail:s}}static createViewZone(e,t,i,n,o){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:o}}static createContentText(e,t,i,n,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:o}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,n){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:n}}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class oP{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowGuard(e){return e.length>=1&&3===e[0]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class sP{constructor(e,t,i){this.viewModel=e.viewModel;const n=e.configuration.options;this.layoutInfo=n.get(143),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(66),this.stickyTabStops=n.get(115),this.typicalHalfwidthCharacterWidth=n.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return sP.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount();let s,r=null,a=null;return i.afterLineNumber!==o&&(a=new Pb(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new Pb(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),s=null===a?r:null===r?a:t<n?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.viewModel.getLineCount(),t=this._context.viewModel.getLineMaxColumn(e);return{range:new Fb(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new Fb(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return sP._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class rP{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,dP._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class aP extends rP{constructor(e,t,i,n,o){super(e,t,i,n),this._ctx=e,o?(this.target=o,this.targetPath=ER.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,"\n\ttarget: ").concat(this.target?this.target.outerHTML:null)}_getMouseColumn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?XR.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return nP.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return nP.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return nP.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return nP.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return nP.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return nP.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return nP.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return nP.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return nP.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new aP(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const lP={isAfterLines:!0};function cP(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class dP{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=ER.collect(t,this._viewHelper.viewDomNode);return!(!oP.isChildOfContentWidgets(i)&&!oP.isChildOfOverflowingContentWidgets(i))||!!oP.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n,o){const s=new sP(this._context,this._viewHelper,e),r=new aP(s,t,i,n,o);try{const e=dP._createMouseTarget(s,r,!1);if(6===e.type&&s.stickyTabStops&&null!==e.position){const t=dP._snapToSoftTabBoundary(e.position,s.viewModel),i=Fb.fromPositions(t,t).plusRange(e.range);return r.fulfillContentText(t,i,e.detail)}return e}catch(a){return r.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfillUnknown();const n=dP._doHitTest(e,t);return 1===n.type?dP.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return oP.isChildOfOverflowGuard(t.targetPath)||oP.isChildOfOverflowingContentWidgets(t.targetPath)||(o=o||t.fulfillUnknown()),o=o||dP._hitTestContentWidget(e,n),o=o||dP._hitTestOverlayWidget(e,n),o=o||dP._hitTestMinimap(e,n),o=o||dP._hitTestScrollbarSlider(e,n),o=o||dP._hitTestViewZone(e,n),o=o||dP._hitTestMargin(e,n),o=o||dP._hitTestViewCursor(e,n),o=o||dP._hitTestTextArea(e,n),o=o||dP._hitTestViewLines(e,n,i),o=o||dP._hitTestScrollbar(e,n),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(oP.isChildOfContentWidgets(t.targetPath)||oP.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(oP.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfillContentText(e.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(n<s.contentLeft)continue;if(n>s.contentLeft+s.width)continue;const i=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(i<=o&&o<=i+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfillViewZone(e,i.position,i)}return null}static _hitTestTextArea(e,t){return oP.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.relativePos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!oP.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new Pb(1,1),lP);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const i=e.viewModel.getLineCount(),n=e.viewModel.getLineMaxColumn(i);return t.fulfillContentEmpty(new Pb(i,n),lP)}if(i){if(oP.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.viewModel.getLineLength(i)){const n=e.getLineWidth(i),o=cP(t.mouseContentHorizontalOffset-n);return t.fulfillContentEmpty(new Pb(i,1),o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=cP(t.mouseContentHorizontalOffset-n),s=new Pb(i,e.viewModel.getLineMaxColumn(i));return t.fulfillContentEmpty(s,o)}}return t.fulfillUnknown()}const n=dP._doHitTest(e,t);return 1===n.type?dP.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(oP.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Pb(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(oP.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Pb(i,n))}}return null}static _hitTestScrollbar(e,t){if(oP.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new Pb(i,n))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(143),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return dP._getMouseColumn(n,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const s=n.lineNumber,r=n.column,a=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>a){const e=cP(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(n,e)}const l=e.visibleRangeForPosition(s,r);if(!l)return t.fulfillUnknown(n);const c=l.left;if(Math.abs(t.mouseContentHorizontalOffset-c)<1)return t.fulfillContentText(n,null,{mightBeForeignElement:!!o,injectedText:o});const d=[];if(d.push({offset:l.left,column:r}),r>1){const t=e.visibleRangeForPosition(s,r-1);t&&d.push({offset:t.left,column:r-1})}if(r<e.viewModel.getLineMaxColumn(s)){const t=e.visibleRangeForPosition(s,r+1);t&&d.push({offset:t.left,column:r+1})}d.sort(((e,t)=>e.offset-t.offset));const h=t.pos.toClientCoordinates(Fk(e.viewDomNode)),u=i.getBoundingClientRect(),g=u.left<=h.clientX&&h.clientX<=u.right;let p=null;for(let f=1;f<d.length;f++){const e=d[f-1],i=d[f];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=i.offset){p=new Fb(s,e.column,s,i.column);const o=Math.abs(e.offset-t.mouseContentHorizontalOffset),r=Math.abs(i.offset-t.mouseContentHorizontalOffset);n=new Pb(s,o<r?e.column:i.column);break}}return t.fulfillContentText(n,p,{mightBeForeignElement:!g||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i),o=n+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>o)){const i=Math.floor((n+o)/2);let s=t.pos.y+(i-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+t.editorPos.height&&(s=t.editorPos.y+t.editorPos.height-1);const r=new gR(t.pos.x,s),a=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates(Fk(e.viewDomNode)));if(1===a.type)return a}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(Fk(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=mL(e.viewDomNode);let n;if(n=i?"undefined"===typeof i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),i=Fk(o),s=i.getComputedStyle(o,null).getPropertyValue("font-style"),r=i.getComputedStyle(o,null).getPropertyValue("font-variant"),a=i.getComputedStyle(o,null).getPropertyValue("font-weight"),l=i.getComputedStyle(o,null).getPropertyValue("font-size"),c=i.getComputedStyle(o,null).getPropertyValue("line-height"),d=i.getComputedStyle(o,null).getPropertyValue("font-family"),h="".concat(s," ").concat(r," ").concat(a," ").concat(l,"/").concat(c," ").concat(d),u=o.innerText;let g,p=e.left,f=0;if(t>e.left+e.width)f=u.length;else{const e=hP.getInstance();for(let i=0;i<u.length+1;i++){if(g=e.getCharWidth(u.charAt(i),h)/2,p+=g,t<p){f=i;break}p+=g}}n.setStart(o.firstChild,f),n.setEnd(o.firstChild,f)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new $R;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,s=i?i.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===jR.CLASS_NAME?tP.createFromDOMInfo(e,t,n.startOffset):new $R(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===jR.CLASS_NAME?tP.createFromDOMInfo(e,o,o.textContent.length):new $R(o)}return new $R}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===jR.CLASS_NAME?tP.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new $R(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,s=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===jR.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return tP.createFromDOMInfo(e,t,0)}else if(s===jR.CLASS_NAME)return tP.createFromDOMInfo(e,i.offsetNode,0)}return new $R(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.model.getOptions(),o=JR.atomicPosition(i,e.column-1,n,2);return-1!==o?new Pb(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new $R;if("function"===typeof e.viewDomNode.ownerDocument.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(Fk(e.viewDomNode)))),1===i.type){const t=e.viewModel.getInjectedTextAt(i.position),n=e.viewModel.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new eP(n,i.spanNode,t))}return i}}class hP{static getInstance(){return hP._INSTANCE||(hP._INSTANCE=new hP),hP._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}hP._INSTANCE=null;class uP extends hv{onclick(e,t){this._register(Zk(e,TL.CLICK,(i=>t(new oS(Fk(e),i)))))}onmousedown(e,t){this._register(Zk(e,TL.MOUSE_DOWN,(i=>t(new oS(Fk(e),i)))))}onmouseover(e,t){this._register(Zk(e,TL.MOUSE_OVER,(i=>t(new oS(Fk(e),i)))))}onmouseleave(e,t){this._register(Zk(e,TL.MOUSE_LEAVE,(i=>t(new oS(Fk(e),i)))))}onkeydown(e,t){this._register(Zk(e,TL.KEY_DOWN,(e=>t(new eS(e)))))}onkeyup(e,t){this._register(Zk(e,TL.KEY_UP,(e=>t(new eS(e)))))}oninput(e,t){this._register(Zk(e,TL.INPUT,t))}onblur(e,t){this._register(Zk(e,TL.BLUR,t))}onfocus(e,t){this._register(Zk(e,TL.FOCUS,t))}ignoreGesture(e){return bA.ignoreTarget(e)}}const gP=11;class pP extends uP{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px","undefined"!==typeof e.top&&(this.bgDomNode.style.top="0px"),"undefined"!==typeof e.left&&(this.bgDomNode.style.left="0px"),"undefined"!==typeof e.bottom&&(this.bgDomNode.style.bottom="0px"),"undefined"!==typeof e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ey.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px","undefined"!==typeof e.top&&(this.domNode.style.top=e.top+"px"),"undefined"!==typeof e.left&&(this.domNode.style.left=e.left+"px"),"undefined"!==typeof e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),"undefined"!==typeof e.right&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new _A),this._register(Xk(this.bgDomNode,TL.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._register(Xk(this.domNode,TL.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._pointerdownRepeatTimer=this._register(new tL),this._pointerdownScheduleRepeatTimer=this._register(new pS)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((()=>{this._pointerdownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24,Fk(e))}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{}),(()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class fP extends hv{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new pS)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{var e;null===(e=this._domNode)||void 0===e||e.setClassName(this._visibleClassName)}),0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}class mP extends uP{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new fP(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new _A),this._shouldRender=!0,this.domNode=sy(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(Zk(this.domNode.domNode,TL.POINTER_DOWN,(e=>this._domNodePointerDown(e))))}_createArrow(e){const t=this._register(new pP(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=sy(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof i&&this.slider.setWidth(i),"number"===typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(Zk(this.slider.domNode,TL.POINTER_DOWN,(e=>{0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"===typeof e.offsetX&&"number"===typeof e.offsetY)t=e.offsetX,i=e.offsetY;else{const n=aL(this.domNode.domNode);t=e.pageX-n.left,i=e.pageY-n.top}const n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{const o=this._sliderOrthogonalPointerPosition(e),s=Math.abs(o-i);if(If&&s>140)return void this._setDesiredScrollPositionNow(n.getScrollPosition());const r=this._sliderPointerPosition(e)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(r))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class vP{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new vP(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const s=Math.max(0,i-e),r=Math.max(0,s-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*r/n))),c=(r-l)/(n-i),d=o*c;return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=vP._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class bP extends mP{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vP(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-gP)/2,i=(t.horizontalScrollbarSize-gP)/2;this._createArrow({className:"scra",icon:Hb.scrollbarButtonLeft,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new sS(null,1,0))}),this._createArrow({className:"scra",icon:Hb.scrollbarButtonRight,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new sS(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class _P extends mP{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vP(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-gP)/2,i=(t.verticalScrollbarSize-gP)/2;this._createArrow({className:"scra",icon:Hb.scrollbarButtonUp,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new sS(null,0,1))}),this._createArrow({className:"scra",icon:Hb.scrollbarButtonDown,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new sS(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class wP{constructor(e,t,i,n,o,s,r){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t|=0,i|=0,n|=0,o|=0,s|=0,r|=0),this.rawScrollLeft=n,this.rawScrollTop=r,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),r+o>s&&(r=s-o),r<0&&(r=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=s,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new wP(this._forceIntegerValues,"undefined"!==typeof e.width?e.width:this.width,"undefined"!==typeof e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,"undefined"!==typeof e.height?e.height:this.height,"undefined"!==typeof e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new wP(this._forceIntegerValues,this.width,this.scrollWidth,"undefined"!==typeof e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,"undefined"!==typeof e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,r=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:r,scrollTopChanged:a}}}class yP extends hv{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new Cv),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new wP(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const n=this._state.withScrollDimensions(e,t);this._setState(n,Boolean(this._smoothScrolling)),null===(i=this._smoothScrolling)||void 0===i||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:"undefined"===typeof e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:"undefined"===typeof e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new kP(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=kP.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class CP{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function SP(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class kP{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,a;return e<t?(r=e+.75*i,a=t-.75*i):(r=e-.75*i,a=t+.75*i),n=SP(e,r),o=SP(a,t),s=.33,function(e){return e<s?n(e/s):o((e-s)/(1-s))}}var n,o,s;return SP(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new CP(e,i,!1)}return new CP(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return kP.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new kP(e,t,n,i)}}class LP{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class xP{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}acceptStandardWheelEvent(e){const t=Fk(e.browserEvent).devicePixelRatio/Uw.INSTANCE.getZoomFactor();If||Mf?this.accept(Date.now(),e.deltaX/t,e.deltaY/t):this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){const n=new LP(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}xP.INSTANCE=new xP;class DP extends uP{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new Cv),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Cv),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:"undefined"!==typeof e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:"undefined"===typeof e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:"undefined"!==typeof e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,Af&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _P(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new bP(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=sy(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=sy(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=sy(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onmouseleave(this._listenOnDomNode,(e=>this._onMouseLeave(e))),this._hideTimeout=this._register(new pS),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=av(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Af&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){"undefined"!==typeof e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),"undefined"!==typeof e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),"undefined"!==typeof e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),"undefined"!==typeof e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),"undefined"!==typeof e.horizontal&&(this._options.horizontal=e.horizontal),"undefined"!==typeof e.vertical&&(this._options.vertical=e.vertical),"undefined"!==typeof e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),"undefined"!==typeof e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),"undefined"!==typeof e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new sS(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=av(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new sS(e))};this._mouseWheelToDispose.push(Zk(this._listenOnDomNode,TL.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){var t;if(null===(t=e.browserEvent)||void 0===t?void 0:t.defaultPrevented)return;const i=xP.INSTANCE;i.acceptStandardWheelEvent(e);let n=!1;if(e.deltaY||e.deltaX){let t=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+t===0?o=t=0:Math.abs(t)>=Math.abs(o)?o=0:t=0),this._options.flipAxes&&([t,o]=[o,t]);const s=!Af&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!s||o||(o=t,t=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,t*=this._options.fastScrollSensitivity);const r=this._scrollable.getFutureScrollPosition();let a={};if(t){const e=50*t,i=r.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,i)}if(o){const e=50*o,t=r.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}if(a=this._scrollable.validateScrollPosition(a),r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),n=!0}}let o=n;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(n)),this._topShadowDomNode.setClassName("shadow".concat(o)),this._topLeftShadowDomNode.setClassName("shadow".concat(s).concat(o).concat(n))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class EP extends DP{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new yP({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>eL(Fk(e),t)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class NP extends DP{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class TP extends DP{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new yP({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>eL(Fk(e),t)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}))),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class IP extends xR{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new dP(this._context,i),this._mouseDownOperation=this._register(new AP(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const n=new wR(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(n.onMouseMove(this.viewHelper.viewDomNode,(e=>{this._onMouseMove(e),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=Zk(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(e=>{this.viewHelper.viewDomNode.contains(e.target)||this._onMouseLeave(new _R(e,!1,this.viewHelper.viewDomNode))})))}))),this._register(n.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e))));let o=0;this._register(n.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>{o=t}))),this._register(Zk(this.viewHelper.viewDomNode,TL.POINTER_UP,(e=>{this._mouseDownOperation.onPointerUp()}))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e,o)))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=xP.INSTANCE;let t=0,i=cy.getZoomLevel(),n=!1,o=0;function s(e){return Af?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}this._register(Zk(this.viewHelper.viewDomNode,TL.MOUSE_WHEEL,(r=>{if(this.viewController.emitMouseWheel(r),!this._context.configuration.options.get(75))return;const a=new sS(r);if(e.acceptStandardWheelEvent(a),e.isPhysicalMouseWheel()){if(s(r)){const e=cy.getZoomLevel(),t=a.deltaY>0?1:-1;cy.setZoomLevel(e+t),a.preventDefault(),a.stopPropagation()}}else Date.now()-t>50&&(i=cy.getZoomLevel(),n=s(r),o=0),t=Date.now(),o+=a.deltaY,n&&(cy.setZoomLevel(i+o/5),a.preventDefault(),a.stopPropagation())}),{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(143)){const e=this._context.configuration.options.get(143).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const i=new pR(e,t).toPageCoordinates(Fk(this.viewHelper.viewDomNode)),n=vR(this.viewHelper.viewDomNode);if(i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width)return null;const o=bR(this.viewHelper.viewDomNode,n,i);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const t=mL(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),n=6===i.type||7===i.type,o=2===i.type||3===i.type||4===i.type,s=3===i.type,r=this._context.configuration.options.get(108),a=8===i.type||5===i.type,l=9===i.type;let c=e.leftButton||e.middleButton;Af&&e.leftButton&&e.ctrlKey&&(c=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(n||s&&r))d(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(a){const n=i.detail;c&&this.viewHelper.shouldSuppressMouseDownOnViewZone(n.viewZoneId)&&(d(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class AP extends hv{constructor(e,t,i,n,o,s){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=n,this._createMouseTarget=o,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new CR(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new MP(this._context,this._viewHelper,this._mouseTargetFactory,((e,t,i)=>this._dispatchMouse(e,t,i)))),this._mouseState=new RP,this._currentSelection=new Bb(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):13!==t.type||"above"!==t.outsidePosition&&"below"!==t.outsidePosition?(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)):this._topBottomDragScrolling.start(t,e))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(90)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!1);NL(e)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=t.y-e.posy,s=Math.max(n.getCurrentScrollTop()-i,0),r=sP.getZoneAtCoord(this._context,s);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return nP.createOutsideEditor(o,e,"above",i)}const a=n.getLineNumberAtVerticalOffset(s);return nP.createOutsideEditor(o,new Pb(a,1),"above",i)}if(e.posy>t.y+t.height){const s=e.posy-t.y-t.height,r=n.getCurrentScrollTop()+e.relativePos.y,a=sP.getZoneAtCoord(this._context,r);if(a){const e=this._helpPositionJumpOverViewZone(a);if(e)return nP.createOutsideEditor(o,e,"below",s)}const l=n.getLineNumberAtVerticalOffset(r);return nP.createOutsideEditor(o,new Pb(l,i.getLineMaxColumn(l)),"below",s)}const s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const i=t.x-e.posx;return nP.createOutsideEditor(o,new Pb(s,1),"left",i)}if(e.posx>t.x+t.width){const n=e.posx-t.x-t.width;return nP.createOutsideEditor(o,new Pb(s,i.getLineMaxColumn(s)),"right",n)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return nP.createViewZone(n.type,n.element,n.mouseColumn,e,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new Pb(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===e.type&&null!==e.detail.injectedText})}}class MP extends hv{constructor(e,t,i,n){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=n,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new OP(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class OP extends hv{constructor(e,t,i,n,o,s){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=n,this._position=o,this._mouseEvent=s,this._lastTime=Date.now(),this._animationFrameDisposable=eL(Fk(s.browserEvent),(()=>this._execute()))}dispose(){this._animationFrameDisposable.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(66),t=this._context.configuration.options.get(143).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(66),t=this._getScrollSpeed()*(this._tick()/1e3)*e,i="above"===this._position.outsidePosition?-t:t;this._context.viewModel.viewLayout.deltaScrollNow(0,i),this._viewHelper.renderNow();const n=this._context.viewLayout.getLinesViewportData(),o="above"===this._position.outsidePosition?n.startLineNumber:n.endLineNumber;let s;{const e=vR(this._viewHelper.viewDomNode),t=this._context.configuration.options.get(143).horizontalScrollbarHeight,i=new gR(this._mouseEvent.pos.x,e.y+e.height-t-.1),n=bR(this._viewHelper.viewDomNode,e,i);s=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),e,i,n,null)}s.position&&s.position.lineNumber===o||(s="above"===this._position.outsidePosition?nP.createOutsideEditor(this._position.mouseColumn,new Pb(o,1),"above",this._position.outsideDistance):nP.createOutsideEditor(this._position.mouseColumn,new Pb(o,this._context.viewModel.getLineMaxColumn(o)),"below",this._position.outsideDistance)),this._dispatchMouse(s,!0,2),this._animationFrameDisposable=eL(Fk(s.element),(()=>this._execute()))}}class RP{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>RP.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}RP.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class PP{get event(){return this.emitter.event}constructor(e,t,i){const n=e=>this.emitter.fire(e);this.emitter=new Cv({onWillAddFirstListener:()=>e.addEventListener(t,n,i),onDidRemoveLastListener:()=>e.removeEventListener(t,n,i)})}dispose(){this.emitter.dispose()}}var FP;!function(e){const t={total:0,min:Number.MAX_VALUE,max:0},i={...t},n={...t},o={...t};let s=0;const r={keydown:0,input:0,render:0};function a(){1===r.keydown&&(performance.mark("keydown/end"),r.keydown=2)}function l(){performance.mark("input/start"),r.input=1,h()}function c(){1===r.input&&(performance.mark("input/end"),r.input=2)}function d(){1===r.render&&(performance.mark("render/end"),r.render=2)}function h(){setTimeout(u)}function u(){2===r.keydown&&2===r.input&&2===r.render&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),g("keydown",t),g("input",i),g("render",n),g("inputlatency",o),s++,performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),r.keydown=0,r.input=0,r.render=0)}function g(e,t){const i=performance.getEntriesByName(e)[0].duration;t.total+=i,t.min=Math.min(t.min,i),t.max=Math.max(t.max,i)}function p(e){return{average:e.total/s,max:e.max,min:e.min}}function f(e){e.total=0,e.min=Number.MAX_VALUE,e.max=0}e.onKeyDown=function(){u(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),r.keydown=1,queueMicrotask(a)},e.onBeforeInput=l,e.onInput=function(){0===r.input&&l(),queueMicrotask(c)},e.onKeyUp=function(){u()},e.onSelectionChange=function(){u()},e.onRenderStart=function(){2===r.keydown&&2===r.input&&0===r.render&&(performance.mark("render/start"),r.render=1,queueMicrotask(d),h())},e.getAndClearMeasurements=function(){if(0===s)return;const e={keydown:p(t),input:p(i),render:p(n),total:p(o),sampleCount:s};return f(t),f(i),f(n),f(o),s=0,e}}(FP||(FP={}));class BP{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=n,this.newlineCountBeforeSelection=o}toString(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]")}static readFromTextArea(e,t){const i=e.getValue(),n=e.getSelectionStart(),o=e.getSelectionEnd();let s;if(t){i.substring(0,n)===t.value.substring(0,t.selectionStart)&&(s=t.newlineCountBeforeSelection)}return new BP(i,n,o,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new BP(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,n,o,s,r,a,l;if(e<=this.selectionStart){const n=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(null!==(i=null===(t=this.selection)||void 0===t?void 0:t.getStartPosition())&&void 0!==i?i:null,n,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(null!==(o=null===(n=this.selection)||void 0===n?void 0:n.getEndPosition())&&void 0!==o?o:null,t,1)}const c=this.value.substring(this.selectionStart,e);if(-1===c.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(null!==(r=null===(s=this.selection)||void 0===s?void 0:s.getStartPosition())&&void 0!==r?r:null,c,1);const d=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(null!==(l=null===(a=this.selection)||void 0===a?void 0:a.getEndPosition())&&void 0!==l?l:null,d,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const n=Math.min(vw(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(bw(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),s=(e.value.substring(n,e.value.length-o),t.value.substring(n,t.value.length-o)),r=e.selectionStart-n,a=e.selectionEnd-n,l=t.selectionStart-n,c=t.selectionEnd-n;if(l===c){const t=e.selectionStart-n;return{text:s,replacePrevCharCnt:t,replaceNextCharCnt:0,positionDelta:0}}return{text:s,replacePrevCharCnt:a-r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(vw(e.value,t.value),e.selectionEnd),n=Math.min(bw(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n),r=(e.selectionStart,e.selectionEnd-i),a=(t.selectionStart,t.selectionEnd-i);return{text:s,replacePrevCharCnt:r,replaceNextCharCnt:o.length-r,positionDelta:a-s.length}}}BP.EMPTY=new BP("",0,0,null,void 0);class VP{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t;return new Fb(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,n){const o=500,s=VP._getPageOfLine(t.startLineNumber,i),r=VP._getRangeForPage(s,i),a=VP._getPageOfLine(t.endLineNumber,i),l=VP._getRangeForPage(a,i);let c=r.intersectRanges(new Fb(1,1,t.startLineNumber,t.startColumn));if(n&&e.getValueLengthInRange(c,1)>o){const t=e.modifyPosition(c.getEndPosition(),-500);c=Fb.fromPositions(t,c.getEndPosition())}const d=e.getValueInRange(c,1),h=e.getLineCount(),u=e.getLineMaxColumn(h);let g=l.intersectRanges(new Fb(t.endLineNumber,t.endColumn,h,u));if(n&&e.getValueLengthInRange(g,1)>o){const t=e.modifyPosition(g.getStartPosition(),o);g=Fb.fromPositions(g.getStartPosition(),t)}const p=e.getValueInRange(g,1);let f;if(s===a||s+1===a)f=e.getValueInRange(t,1);else{const i=r.intersectRanges(t),n=l.intersectRanges(t);f=e.getValueInRange(i,1)+String.fromCharCode(8230)+e.getValueInRange(n,1)}return n&&f.length>1e3&&(f=f.substring(0,o)+String.fromCharCode(8230)+f.substring(f.length-o,f.length)),new BP(d+f+p,d.length,d.length+f.length,t,c.endLineNumber-c.startLineNumber)}}var WP,zP=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},HP=function(e,t){return function(i,n){t(i,n,e)}};!function(e){e.Tap="-monaco-textarea-synthetic-tap"}(WP||(WP={}));const jP=!1;class UP{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}UP.INSTANCE=new UP;class KP{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){const t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let qP=class extends hv{get textAreaState(){return this._textAreaState}constructor(e,t,i,n,o,s){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._accessibilityService=o,this._logService=s,this._onFocus=this._register(new Cv),this.onFocus=this._onFocus.event,this._onBlur=this._register(new Cv),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new Cv),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new Cv),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new Cv),this.onCut=this._onCut.event,this._onPaste=this._register(new Cv),this.onPaste=this._onPaste.event,this._onType=this._register(new Cv),this.onType=this._onType.event,this._onCompositionStart=this._register(new Cv),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new Cv),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new Cv),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new Cv),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new uv),this._asyncTriggerCut=this._register(new mS((()=>this._onCut.fire()),0)),this._textAreaState=BP.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(vv.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,(()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new mS((()=>this.writeNativeTextAreaContent("asyncFocusGain")),0)):this._asyncFocusGainWriteScreenReaderContent.clear()}))),this._hasFocus=!1,this._currentComposition=null;let r=null;this._register(this._textArea.onKeyDown((e=>{const t=new eS(e);(114===t.keyCode||this._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),r=t,this._onKeyDown.fire(t)}))),this._register(this._textArea.onKeyUp((e=>{const t=new eS(e);this._onKeyUp.fire(t)}))),this._register(this._textArea.onCompositionStart((e=>{const t=new KP;if(this._currentComposition)this._currentComposition=t;else{if(this._currentComposition=t,2===this._OS&&r&&r.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===r.code||"ArrowLeft"===r.code))return t.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:e.data});this._browser.isAndroid,this._onCompositionStart.fire({data:e.data})}}))),this._register(this._textArea.onCompositionUpdate((e=>{const t=this._currentComposition;if(!t)return;if(this._browser.isAndroid){const t=BP.readFromTextArea(this._textArea,this._textAreaState),i=BP.deduceAndroidCompositionInput(this._textAreaState,t);return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const i=t.handleCompositionUpdate(e.data);this._textAreaState=BP.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(this._textArea.onCompositionEnd((e=>{const t=this._currentComposition;if(!t)return;if(this._currentComposition=null,this._browser.isAndroid){const e=BP.readFromTextArea(this._textArea,this._textAreaState),t=BP.deduceAndroidCompositionInput(this._textAreaState,e);return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const i=t.handleCompositionUpdate(e.data);this._textAreaState=BP.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionEnd.fire()}))),this._register(this._textArea.onInput((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const t=BP.readFromTextArea(this._textArea,this._textAreaState),i=BP.deduceInput(this._textAreaState,t,2===this._OS);(0!==i.replacePrevCharCnt||1!==i.text.length||!_w(i.text.charCodeAt(0))&&127!==i.text.charCodeAt(0))&&(this._textAreaState=t,""===i.text&&0===i.replacePrevCharCnt&&0===i.replaceNextCharCnt&&0===i.positionDelta||this._onType.fire(i))}))),this._register(this._textArea.onCut((e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(this._textArea.onCopy((e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(this._textArea.onPaste((e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),!e.clipboardData)return;let[t,i]=GP.getTextData(e.clipboardData);t&&(i=i||UP.INSTANCE.get(t),this._onPaste.fire({text:t,metadata:i}))}))),this._register(this._textArea.onFocus((()=>{const e=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!e&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new mS((()=>this.writeNativeTextAreaContent("asyncFocusGain")),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())}))),this._register(this._textArea.onBlur((()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(this._textArea.onSyntheticTap((()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return Zk(this._textArea.ownerDocument,"selectionchange",(t=>{if(FP.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selection)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const r=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===r&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(r),c=this._host.deduceModelPosition(l[0],l[1],l[2]),d=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(d[0],d[1],d[2]),u=new Bb(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(u)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&"render"===e||this._currentComposition||(this._logService.trace("writeTextAreaState(reason: ".concat(e,")")),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};UP.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,i),e.preventDefault(),e.clipboardData&&GP.setTextData(e.clipboardData,t.text,t.html,i)}};qP=zP([HP(4,oA),HP(5,KC)],qP);const GP={getTextData(e){const t=e.getData(kD.text);let i=null;const n=e.getData("vscode-editor-data");if("string"===typeof n)try{i=JSON.parse(n),1!==i.version&&(i=null)}catch(o){}if(0===t.length&&null===i&&e.files.length>0){return[Array.prototype.slice.call(e.files,0).map((e=>e.name)).join("\n"),null]}return[t,i]},setTextData(e,t,i,n){e.setData(kD.text,t),"string"===typeof i&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(n))}};class YP extends hv{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new PP(this._actual,"keydown")).event,this.onKeyUp=this._register(new PP(this._actual,"keyup")).event,this.onCompositionStart=this._register(new PP(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new PP(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new PP(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new PP(this._actual,"beforeinput")).event,this.onInput=this._register(new PP(this._actual,"input")).event,this.onCut=this._register(new PP(this._actual,"cut")).event,this.onCopy=this._register(new PP(this._actual,"copy")).event,this.onPaste=this._register(new PP(this._actual,"paste")).event,this.onFocus=this._register(new PP(this._actual,"focus")).event,this.onBlur=this._register(new PP(this._actual,"blur")).event,this._onSyntheticTap=this._register(new Cv),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown((()=>FP.onKeyDown()))),this._register(this.onBeforeInput((()=>FP.onBeforeInput()))),this._register(this.onInput((()=>FP.onInput()))),this._register(this.onKeyUp((()=>FP.onKeyUp()))),this._register(Zk(this._actual,WP.Tap,(()=>this._onSyntheticTap.fire())))}hasFocus(){const e=mL(this._actual);return e?e.activeElement===this._actual:!!this._actual.isConnected&&this._actual.ownerDocument.activeElement===this._actual}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const n=this._actual;let o=null;const s=mL(n);o=s?s.activeElement:n.ownerDocument.activeElement;const r=Fk(o),a=o===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i)Qw&&r.parent!==r&&n.focus();else{if(a)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(Qw&&r.parent!==r&&n.focus());try{const e=function(e){const t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),function(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}(n,e)}catch(Pee){}}}}class ZP extends IP{constructor(e,t,i){super(e,t,i),this._register(bA.addTarget(this.viewHelper.linesContentDomNode)),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Tap,(e=>this.onTap(e)))),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Change,(e=>this.onChange(e)))),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Contextmenu,(e=>this._onContextMenu(new _R(e,!1,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(Zk(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const n=new yR(this.viewHelper.viewDomNode);this._register(n.onPointerMove(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)))),this._register(n.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,((e,t)=>this._onMouseDown(e,t))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new _R(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===t.type&&null!==t.detail.injectedText})}onChange(e){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e,t)}}class QP extends IP{constructor(e,t,i){super(e,t,i),this._register(bA.addTarget(this.viewHelper.linesContentDomNode)),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Tap,(e=>this.onTap(e)))),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Change,(e=>this.onChange(e)))),this._register(Zk(this.viewHelper.linesContentDomNode,mA.Contextmenu,(e=>this._onContextMenu(new _R(e,!1,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new _R(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(WP.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class XP extends hv{constructor(e,t,i){super(),Ff&&XC?this.handler=this._register(new ZP(e,t,i)):q_.TouchEvent?this.handler=this._register(new QP(e,t,i)):this.handler=this._register(new IP(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class JP extends xR{}const $P=vy("themeService");function eF(e){return{id:e}}function tF(e){switch(e){case FR.DARK:return"vs-dark";case FR.HIGH_CONTRAST_DARK:return"hc-black";case FR.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const iF="base.contributions.theming";const nF=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Cv}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),cv((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function oF(e){return nF.onColorThemeChange(e)}TC.add(iF,nF);class sF extends hv{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const rF=kA("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},lf("lineHighlight","Background color for the highlight of line at the cursor position.")),aF=kA("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:EA},lf("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),lF=(kA("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},lf("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:NA,hcLight:NA},lf("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),kA("editor.symbolHighlightBackground",{dark:FM,light:FM,hcDark:null,hcLight:null},lf("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:NA,hcLight:NA},lf("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),kA("editorCursor.foreground",{dark:"#AEAFAD",light:hT.black,hcDark:hT.white,hcLight:"#0F4A85"},lf("caret","Color of the editor cursor."))),cF=kA("editorCursor.background",null,lf("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),dF=kA("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},lf("editorWhitespaces","Color of whitespace characters in the editor.")),hF=kA("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:hT.white,hcLight:"#292929"},lf("editorLineNumbers","Color of editor line numbers.")),uF=kA("editorIndentGuide.background",{dark:dF,light:dF,hcDark:dF,hcLight:dF},lf("editorIndentGuides","Color of the editor indentation guides."),!1,lf("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),gF=kA("editorIndentGuide.activeBackground",{dark:dF,light:dF,hcDark:dF,hcLight:dF},lf("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,lf("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),pF=kA("editorIndentGuide.background1",{dark:uF,light:uF,hcDark:uF,hcLight:uF},lf("editorIndentGuides1","Color of the editor indentation guides (1).")),fF=kA("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorIndentGuides2","Color of the editor indentation guides (2).")),mF=kA("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorIndentGuides3","Color of the editor indentation guides (3).")),vF=kA("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorIndentGuides4","Color of the editor indentation guides (4).")),bF=kA("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorIndentGuides5","Color of the editor indentation guides (5).")),_F=kA("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorIndentGuides6","Color of the editor indentation guides (6).")),wF=kA("editorIndentGuide.activeBackground1",{dark:gF,light:gF,hcDark:gF,hcLight:gF},lf("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),yF=kA("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),CF=kA("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),SF=kA("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),kF=kA("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),LF=kA("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),xF=kA("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:NA,hcLight:NA},lf("editorActiveLineNumber","Color of editor active line number"),!1,lf("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),DF=(kA("editorLineNumber.activeForeground",{dark:xF,light:xF,hcDark:xF,hcLight:xF},lf("editorActiveLineNumber","Color of editor active line number")),kA("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},lf("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),EF=(kA("editorRuler.foreground",{dark:"#5A5A5A",light:hT.lightgrey,hcDark:hT.white,hcLight:"#292929"},lf("editorRuler","Color of the editor rulers.")),kA("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},lf("editorCodeLensForeground","Foreground color of editor CodeLens")),kA("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},lf("editorBracketMatchBackground","Background color behind matching brackets")),kA("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:EA,hcLight:EA},lf("editorBracketMatchBorder","Color for matching brackets boxes")),kA("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},lf("editorOverviewRulerBorder","Color of the overview ruler border."))),NF=kA("editorOverviewRuler.background",null,lf("editorOverviewRulerBackground","Background color of the editor overview ruler.")),TF=(kA("editorGutter.background",{dark:_M,light:_M,hcDark:_M,hcLight:_M},lf("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),kA("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:hT.fromHex("#fff").transparent(.8),hcLight:EA},lf("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),kA("editorUnnecessaryCode.opacity",{dark:hT.fromHex("#000a"),light:hT.fromHex("#0007"),hcDark:null,hcLight:null},lf("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),IF=(kA("editorGhostText.border",{dark:null,light:null,hcDark:hT.fromHex("#fff").transparent(.8),hcLight:hT.fromHex("#292929").transparent(.8)},lf("editorGhostTextBorder","Border color of ghost text in the editor.")),kA("editorGhostText.foreground",{dark:hT.fromHex("#ffffff56"),light:hT.fromHex("#0007"),hcDark:null,hcLight:null},lf("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),kA("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},lf("editorGhostTextBackground","Background color of the ghost text in the editor.")),new hT(new lT(0,122,204,.6))),AF=(kA("editorOverviewRuler.rangeHighlightForeground",{dark:IF,light:IF,hcDark:IF,hcLight:IF},lf("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),kA("editorOverviewRuler.errorForeground",{dark:new hT(new lT(255,18,18,.7)),light:new hT(new lT(255,18,18,.7)),hcDark:new hT(new lT(255,50,50,1)),hcLight:"#B5200D"},lf("overviewRuleError","Overview ruler marker color for errors."))),MF=kA("editorOverviewRuler.warningForeground",{dark:pM,light:pM,hcDark:fM,hcLight:fM},lf("overviewRuleWarning","Overview ruler marker color for warnings.")),OF=kA("editorOverviewRuler.infoForeground",{dark:mM,light:mM,hcDark:vM,hcLight:vM},lf("overviewRuleInfo","Overview ruler marker color for infos.")),RF=kA("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},lf("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),PF=kA("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},lf("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),FF=kA("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},lf("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),BF=kA("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),VF=kA("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),WF=kA("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),zF=kA("editorBracketHighlight.unexpectedBracket.foreground",{dark:new hT(new lT(255,18,18,.8)),light:new hT(new lT(255,18,18,.8)),hcDark:new hT(new lT(255,50,50,1)),hcLight:""},lf("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),HF=kA("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),jF=kA("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),UF=kA("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),KF=kA("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),qF=kA("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),GF=kA("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),YF=kA("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),ZF=kA("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),QF=kA("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),XF=kA("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),JF=kA("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),$F=kA("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},lf("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));kA("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},lf("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),kA("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},lf("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));oF(((e,t)=>{const i=e.getColor(_M),n=e.getColor(rF),o=n&&!n.isTransparent()?n:i;o&&t.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(o,"; }"))}));class eB extends JP{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Pb(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(66);const t=e.get(67);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(94);const i=e.get(143);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pb(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=Mf?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._context.viewModel.getLineCount(),s=[];for(let r=i;r<=n;r++){const e=r-i,n=this._getLineRenderLineNumber(r);if(!n){s[e]="";continue}let a="";if(r===o&&0===this._context.viewModel.getLineLength(r)){if("off"===this._renderFinalNewline){s[e]="";continue}"dimmed"===this._renderFinalNewline&&(a=" dimmed-line-number")}r===this._activeLineNumber&&(a=" active-line-number"),s[e]='<div class="'.concat(eB.CLASS_NAME).concat(t).concat(a,'" style="left:').concat(this._lineNumbersLeft,"px;width:").concat(this._lineNumbersWidth,'px;">').concat(n,"</div>")}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}eB.CLASS_NAME="line-numbers",oF(((e,t)=>{const i=e.getColor(hF),n=e.getColor(DF);n?t.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(n,"; }")):i&&t.addRule(".monaco-editor .line-numbers.dimmed-line-number { color: ".concat(i.transparent(.4),"; }"))}));class tB extends DR{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=sy(document.createElement("div")),this._domNode.setClassName(tB.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=sy(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(tB.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}tB.CLASS_NAME="glyph-margin",tB.OUTER_CLASS_NAME="margin";const iB="monaco-mouse-cursor-text";const nB=new class{constructor(){this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}},oB=vy("keybindingService");var sB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},rB=function(e,t){return function(i,n){t(i,n,e)}};class aB{constructor(e,t,i,n,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new Pb(this.modelLineNumber,this.distanceToModelLineStart+1),i=new Pb(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(this._previousPresentation=e||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const lB=Qw;let cB=class extends DR{constructor(e,t,i,n,o){super(e),this._keybindingService=n,this._instantiationService=o,this._primaryCursorPosition=new Pb(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const s=this._context.configuration.options,r=s.get(143);this._setAccessibilityOptions(s),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._contentHeight=r.height,this._fontInfo=s.get(50),this._lineHeight=s.get(66),this._emptySelectionClipboard=s.get(37),this._copyWithSyntaxHighlighting=s.get(25),this._visibleTextArea=null,this._selections=[new Bb(1,1,1,1)],this._modelSelections=[new Bb(1,1,1,1)],this._lastRenderPosition=null,this.textArea=sy(document.createElement("textarea")),ER.write(this.textArea,6),this.textArea.setClassName("inputarea ".concat(iB)),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:a}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize="".concat(a*this._fontInfo.spaceWidth,"px"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(s)),this.textArea.setAttribute("aria-required",s.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(s.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",lf("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",s.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=sy(document.createElement("div")),this.textAreaCover.setPosition("absolute");const l={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:e=>this._context.viewModel.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.viewModel.getValueInRange(e,t),getValueLengthInRange:(e,t)=>this._context.viewModel.getValueLengthInRange(e,t),modifyPosition:(e,t)=>this._context.viewModel.modifyPosition(e,t)},c={getDataToCopy:()=>{const e=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,If),t=this._context.viewModel.model.getEOL(),i=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),n=Array.isArray(e)?e:null,o=Array.isArray(e)?e.join(t):e;let s,r=null;if(jP||this._copyWithSyntaxHighlighting&&o.length<65536){const e=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(s=e.html,r=e.mode)}return{isFromEmptySelection:i,multicursorText:n,text:o,html:s,mode:r}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){const e=this._selections[0];if(Af&&e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new BP(i,i.length,i.length,Fb.fromPositions(t),0)}const t=500;if(Af&&!e.isEmpty()&&l.getValueLengthInRange(e,0)<t){const t=l.getValueInRange(e,0);return new BP(t,0,t.length,e,0)}if($w&&!e.isEmpty()){const e="vscode-placeholder";return new BP(e,0,e.length,null,void 0)}return BP.EMPTY}if(ty){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,n]=this._getAndroidWordAtPosition(t);if(i.length>0)return new BP(i,n,n,Fb.fromPositions(t),0)}return BP.EMPTY}return VP.fromEditorSelection(l,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,i)},d=this._register(new YP(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(qP,c,d,Hf,{isAndroid:ty,isChrome:Jw,isFirefox:Qw,isSafari:$w})),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i="undefined"!==typeof e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this.textArea.domNode,i=this._modelSelections[0],{distanceToModelLineStart:n,widthOfHiddenTextBefore:o}=(()=>{const e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),n=e.lastIndexOf("\n"),o=e.substring(n+1),s=o.lastIndexOf("\t"),r=o.length-s-1,a=i.getStartPosition(),l=Math.min(a.column-1,r),c=a.column-1-l,d=o.substring(0,o.length-l),{tabSize:h}=this._context.viewModel.model.getOptions(),u=function(e,t,i,n){if(0===t.length)return 0;const o=e.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const s=e.createElement("span");ry(s,i),s.style.whiteSpace="pre",s.style.tabSize="".concat(n*i.spaceWidth,"px"),s.append(t),o.appendChild(s),e.body.appendChild(o);const r=s.offsetWidth;return e.body.removeChild(o),r}(this.textArea.domNode.ownerDocument,d,this._fontInfo,h);return{distanceToModelLineStart:c,widthOfHiddenTextBefore:u}})(),{distanceToModelLineEnd:s}=(()=>{const e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),n=e.indexOf("\n"),o=-1===n?e:e.substring(0,n),s=o.indexOf("\t"),r=-1===s?o.length:o.length-s-1,a=i.getEndPosition(),l=Math.min(this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,r);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-l}})();this._context.viewModel.revealRange("keyboard",!0,Fb.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new aB(this._context,i.startLineNumber,n,o,s),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName("inputarea ".concat(iB," ime-input")),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName("inputarea ".concat(iB)),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.viewModel.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.viewModel.setHasFocus(!1)}))),this._register(nB.onDidChange((()=>{this._ensureReadOnlyAttribute()})))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=AE('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let n=!0,o=e.column,s=!0,r=e.column,a=0;for(;a<50&&(n||s);){if(n&&o<=1&&(n=!1),n){const e=t.charCodeAt(o-2);0!==i.get(e)?n=!1:o--}if(s&&r>t.length&&(s=!1),s){const e=t.charCodeAt(r-1);0!==i.get(e)?s=!1:r++}a++}return[t.substring(o-1,r-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=AE(this._context.configuration.options.get(129));let n=e.column,o=0;for(;n>1;){const s=t.charCodeAt(n-2);if(0!==i.get(s)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!_w(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){var t,i,n;if(1===e.get(2)){const e=null===(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))||void 0===t?void 0:t.getAriaLabel(),o=null===(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))||void 0===i?void 0:i.getAriaLabel(),s=null===(n=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))||void 0===n?void 0:n.getAriaLabel(),r=lf("accessibilityModeOff","The editor is not accessible at this time.");return e?lf("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",r,e):o?lf("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",r,o):s?lf("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",r,s):r}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===Hm.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const i=e.get(143).wrappingColumn;if(-1!==i&&1!==this._accessibilitySupport){const t=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(i*t.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=lB?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(66),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:n}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize="".concat(n*this._fontInfo.spaceWidth,"px"),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(123))),(e.hasChanged(34)||e.hasChanged(90))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!nB.enabled||e.get(34)&&e.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new Pb(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null===(t=this._visibleTextArea)||void 0===t||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,i=this._visibleTextArea.startPosition,n=this._visibleTextArea.endPosition;if(i&&n&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,s=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let r=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,l=t.left-e.left+1;if(a<this._contentLeft){const e=this._contentLeft-a;a+=e,r+=e,l-=e}l>this._contentWidth&&(l=this._contentWidth);const c=this._context.viewModel.getViewLineData(i.lineNumber),d=c.tokens.findTokenIndexAtOffset(i.column-1),h=d===c.tokens.findTokenIndexAtOffset(n.column-1),u=this._visibleTextArea.definePresentation(h?c.tokens.getPresentation(d):null);this.textArea.domNode.scrollTop=s*this._lineHeight,this.textArea.domNode.scrollLeft=r,this._doRender({lastRenderPosition:null,top:o,left:a,width:l,height:this._lineHeight,useCover:!1,color:(n_.getColorMap()||[])[u.foreground],italic:u.italic,bold:u.bold,underline:u.underline,strikethrough:u.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const i=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(i<0||i>this._contentHeight)this._renderAtTopLeft();else if(Af||2===this._accessibilitySupport){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const n=null!==(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)&&void 0!==e?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=n*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:lB?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;for(;;){if(i=e.indexOf("\n",i+1),-1===i)break;t++}return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:lB?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;ry(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?hT.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration("".concat(e.underline?" underline":"").concat(e.strikethrough?" line-through":"")),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const n=this._context.configuration.options;n.get(57)?i.setClassName("monaco-editor-background textAreaCover "+tB.OUTER_CLASS_NAME):0!==n.get(67).renderType?i.setClassName("monaco-editor-background textAreaCover "+eB.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};function dB(e,t,i){let n=sw(e);return-1===n&&(n=e.length),function(e,t,i){let n=0;for(let s=0;s<e.length;s++)"\t"===e.charAt(s)?n=XR.nextIndentTabStop(n,t):n++;let o="";if(!i){const e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="\t"}for(let s=0;s<n;s++)o+=" ";return o}(e.substring(0,n),t,i)+e.substring(n)}cB=sB([rB(3,oB),rB(4,my)],cB);const hB=()=>!0,uB=()=>!1,gB=e=>" "===e||"\t"===e;class pB{static shouldRecreate(e){return e.hasChanged(143)||e.hasChanged(129)||e.hasChanged(37)||e.hasChanged(76)||e.hasChanged(78)||e.hasChanged(79)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(127)||e.hasChanged(50)||e.hasChanged(90)}constructor(e,t,i,n){var o;this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,r=s.get(143),a=s.get(50);this.readOnly=s.get(90),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(115),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=s.get(127),this.wordSeparators=s.get(129),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(76),this.multiCursorPaste=s.get(78),this.multiCursorLimit=s.get(79),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const d of l)this.surroundingPairs[d.open]=d.close;const c=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=null!==(o=null===c||void 0===c?void 0:c.blockCommentStartToken)&&void 0!==o?o:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const e of t)this._electricChars[e]=!0}return this._electricChars}onElectricCharacter(e,t,i){const n=Ox(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return dB(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return gB;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return hB;case"never":return uB}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return e=>-1!==i.indexOf(e)}visibleColumnFromColumn(e,t){return XR.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const n=XR.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(n<o)return o;const s=e.getLineMaxColumn(t);return n>s?s:n}}class fB{static fromModelState(e){return new mB(e)}static fromViewState(e){return new vB(e)}static fromModelSelection(e){const t=Bb.liftSelection(e),i=new bB(Fb.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return fB.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class mB{constructor(e){this.modelState=e,this.viewState=null}}class vB{constructor(e){this.modelState=null,this.viewState=e}}class bB{constructor(e,t,i,n,o){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=n,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=bB._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new bB(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new Pb(t,i),n):new bB(new Fb(t,i,t,i),0,n,new Pb(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?Bb.fromPositions(e.getStartPosition(),t):Bb.fromPositions(e.getEndPosition(),t)}}class _B{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function wB(e){return"'"===e||'"'===e||"`"===e}class yB{static columnSelect(e,t,i,n,o,s){const r=Math.abs(o-i)+1,a=i>o,l=n>s,c=n<s,d=[];for(let h=0;h<r;h++){const o=i+(a?-h:h),r=e.columnFromVisibleColumn(t,o,n),u=e.columnFromVisibleColumn(t,o,s),g=e.visibleColumnFromColumn(t,new Pb(o,r)),p=e.visibleColumnFromColumn(t,new Pb(o,u));if(c){if(g>s)continue;if(p<n)continue}if(l){if(p>n)continue;if(g<s)continue}d.push(new bB(new Fb(o,r,o,r),0,0,new Pb(o,u),0))}if(0===d.length)for(let h=0;h<r;h++){const e=i+(a?-h:h),n=t.getLineMaxColumn(e);d.push(new bB(new Fb(e,n,e,n),0,0,new Pb(e,n),0))}return{viewStates:d,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,yB.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let a=o;a<=s;a++){const i=t.getLineMaxColumn(a),o=e.visibleColumnFromColumn(t,new Pb(a,i));n=Math.max(n,o)}let r=i.toViewVisualColumn;return r<n&&r++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class CB{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return Bb.fromPositions(i.getEndPosition())}}class SB{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return Bb.fromPositions(i.getStartPosition())}}class kB{constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return Bb.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class LB{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class xB{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class DB{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-xw(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new Pb(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=JR.atomicPosition(o,t.column-1,i,0);if(-1!==s&&s+1>=n)return new Pb(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?DB.leftPositionAtomicSoftTabs(t,i,e.tabSize):DB.leftPosition(t,i);return new xB(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,r=i.selection.startColumn;else{const n=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(DB.clipPositionColumn(n,t),0),l=DB.left(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static clipPositionColumn(e,t){return new Pb(e.lineNumber,DB.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=Lw(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new Pb(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){const o=e.getLineContent(t),s=JR.atomicPosition(o,i-1,n,1);if(-1!==s)return new Pb(t,s+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?DB.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):DB.rightPosition(t,i.lineNumber,i.column);return new xB(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,r=i.selection.endColumn;else{const n=i.position.delta(void 0,o-1),a=t.normalizePosition(DB.clipPositionColumn(n,t),1),l=DB.right(e,t,a);s=l.lineNumber,r=l.column}return i.move(n,s,r,0)}static vertical(e,t,i,n,o,s,r,a){const l=XR.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,c=t.getLineCount(),d=1===i&&1===n,h=i===c&&n===t.getLineMaxColumn(i),u=s<i?d:h;if((i=s)<1?(i=1,n=r?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):i>c?(i=c,n=r?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,l),o=u?0:l-XR.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),void 0!==a){const e=new Pb(i,n),s=t.normalizePosition(e,a);o+=n-s.column,i=s.lineNumber,n=s.column}return new xB(i,n,o)}static down(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i+s,r,4)}static moveDown(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.endLineNumber,r=i.selection.endColumn):(s=i.position.lineNumber,r=i.position.column);let a,l=0;do{a=DB.down(e,t,s+l,r,i.leftoverVisibleColumns,o,!0);if(t.normalizePosition(new Pb(a.lineNumber,a.column),2).lineNumber>s)break}while(l++<10&&s+l<t.getLineCount());return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){const n=i.selection,o=DB.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=DB.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new bB(new Fb(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new Pb(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,o,s,r){return this.vertical(e,t,i,n,o,i-s,r,3)}static moveUp(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.startLineNumber,r=i.selection.startColumn):(s=i.position.lineNumber,r=i.position.column);const a=DB.up(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){const n=i.selection,o=DB.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=DB.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new bB(new Fb(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new Pb(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){const o=i.position.lineNumber,s=t.getLineMinColumn(o),r=t.getLineFirstNonWhitespaceColumn(o)||s;let a;return a=i.position.column===r?s:r,i.move(n,o,a,0)}static moveToEndOfLine(e,t,i,n,o){const s=i.position.lineNumber,r=t.getLineMaxColumn(s);return i.move(n,s,r,o?1073741824-r:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){const o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}}class EB{static deleteRight(e,t,i,n){const o=[];let s=3!==e;for(let r=0,a=n.length;r<a;r++){const e=n[r];let a=e;if(a.isEmpty()){const n=e.getPosition(),o=DB.right(t,i,n);a=new Fb(o.lineNumber,o.column,n.lineNumber,n.column)}a.isEmpty()?o[r]=null:(a.startLineNumber!==a.endLineNumber&&(s=!0),o[r]=new CB(a,""))}return[s,o]}static isAutoClosingPairDelete(e,t,i,n,o,s,r){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let a=0,l=s.length;a<l;a++){const l=s[a],c=l.getPosition();if(!l.isEmpty())return!1;const d=o.getLineContent(c.lineNumber);if(c.column<2||c.column>=d.length+1)return!1;const h=d.charAt(c.column-2),u=n.get(h);if(!u)return!1;if(wB(h)){if("never"===i)return!1}else if("never"===t)return!1;const g=d.charAt(c.column-1);let p=!1;for(const e of u)e.open===h&&e.close===g&&(p=!0);if(!p)return!1;if("auto"===e){let e=!1;for(let t=0,i=r.length;t<i;t++){const i=r[t];if(c.lineNumber===i.startLineNumber&&c.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const n=[];for(let o=0,s=i.length;o<s;o++){const e=i[o].getPosition(),t=new Fb(e.lineNumber,e.column-1,e.lineNumber,e.column+1);n[o]=new CB(t,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);const s=[];let r=2!==e;for(let a=0,l=n.length;a<l;a++){const e=EB.getDeleteRange(n[a],i,t);e.isEmpty()?s[a]=null:(e.startLineNumber!==e.endLineNumber&&(r=!0),s[a]=new CB(e,""))}return[r,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const n=e.getPosition();if(i.useTabStops&&n.column>1){const e=t.getLineContent(n.lineNumber),o=sw(e),s=-1===o?e.length+1:o+1;if(n.column<=s){const e=i.visibleColumnFromColumn(t,n),o=XR.prevIndentTabStop(e,i.indentSize),s=i.columnFromVisibleColumn(t,n.lineNumber,o);return new Fb(n.lineNumber,s,n.lineNumber,n.column)}}return Fb.fromPositions(EB.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=Ww(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new Pb(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){const n=[];let o=null;i.sort(((e,t)=>Pb.compare(e.getStartPosition(),t.getEndPosition())));for(let s=0,r=i.length;s<r;s++){const r=i[s];if(r.isEmpty())if(e.emptySelectionClipboard){const e=r.getPosition();let i,a,l,c;e.lineNumber<t.getLineCount()?(i=e.lineNumber,a=1,l=e.lineNumber+1,c=1):e.lineNumber>1&&(null===o||void 0===o?void 0:o.endLineNumber)!==e.lineNumber?(i=e.lineNumber-1,a=t.getLineMaxColumn(e.lineNumber-1),l=e.lineNumber,c=t.getLineMaxColumn(e.lineNumber)):(i=e.lineNumber,a=1,l=e.lineNumber,c=t.getLineMaxColumn(e.lineNumber));const d=new Fb(i,a,l,c);o=d,d.isEmpty()?n[s]=null:n[s]=new CB(d,"")}else n[s]=null;else n[s]=new CB(r,"")}return new _B(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class NB{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){const i=e.charCodeAt(o),s=t.get(i);if(0===s){if(2===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===s){if(1===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===s&&0!==n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){const o=e.length;for(let s=n;s<o;s++){const n=e.charCodeAt(s),o=t.get(n);if(1===o)return s;if(1===i&&2===o)return s;if(2===i&&0===o)return s}return o}static _findNextWordOnLine(e,t,i){const n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0;const o=e.length;for(let s=i.column-1;s<o;s++){const i=e.charCodeAt(s),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){const n=e.charCodeAt(o),s=t.get(n);if(1===s)return o+1;if(1===i&&2===s)return o+1;if(2===i&&0===s)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;1===s&&o>1&&(o-=1,s=t.getLineMaxColumn(o));let r=NB._findPreviousWordOnLine(e,t,new Pb(o,s));if(0===n)return new Pb(o,r?r.start+1:1);if(1===n)return r&&2===r.wordType&&r.end-r.start===1&&0===r.nextCharClass&&(r=NB._findPreviousWordOnLine(e,t,new Pb(o,r.start+1))),new Pb(o,r?r.start+1:1);if(3===n){for(;r&&2===r.wordType;)r=NB._findPreviousWordOnLine(e,t,new Pb(o,r.start+1));return new Pb(o,r?r.start+1:1)}return r&&s<=r.end+1&&(r=NB._findPreviousWordOnLine(e,t,new Pb(o,r.start+1))),new Pb(o,r?r.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new Pb(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95===e&&95!==t)return new Pb(i,s);if(45===e&&45!==t)return new Pb(i,s);if((gw(e)||uw(e))&&pw(t))return new Pb(i,s);if(pw(e)&&pw(t)&&s+1<n){const e=o.charCodeAt(s);if(gw(e)||uw(e))return new Pb(i,s)}}return new Pb(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,r=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(r=!0,o+=1,s=1);let a=NB._findNextWordOnLine(e,t,new Pb(o,s));if(2===n)a&&2===a.wordType&&a.end-a.start===1&&0===a.nextCharClass&&(a=NB._findNextWordOnLine(e,t,new Pb(o,a.end+1))),s=a?a.end+1:t.getLineMaxColumn(o);else if(3===n){for(r&&(s=0);a&&(2===a.wordType||a.start+1<=s);)a=NB._findNextWordOnLine(e,t,new Pb(o,a.end+1));s=a?a.start+1:t.getLineMaxColumn(o)}else a&&!r&&s>=a.start+1&&(a=NB._findNextWordOnLine(e,t,new Pb(o,a.end+1))),s=a?a.start+1:t.getLineMaxColumn(o);return new Pb(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new Pb(i+1,1):t;const o=e.getLineContent(i);for(let s=t.column+1;s<n;s++){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95!==e&&95===t)return new Pb(i,s);if(45!==e&&45===t)return new Pb(i,s);if((gw(e)||uw(e))&&pw(t))return new Pb(i,s);if(pw(e)&&pw(t)&&s+1<n){const e=o.charCodeAt(s);if(gw(e)||uw(e))return new Pb(i,s)}}return new Pb(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,o=aw(i,n);return o+1<n?new Fb(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(EB.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new Fb(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const r=new Pb(o.positionLineNumber,o.positionColumn);let a=r.lineNumber,l=r.column;if(1===a&&1===l)return null;if(s){const e=this._deleteWordLeftWhitespace(n,r);if(e)return e}let c=NB._findPreviousWordOnLine(i,n,r);return 0===t?c?l=c.start+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a)):(c&&l<=c.end+1&&(c=NB._findPreviousWordOnLine(i,n,new Pb(a,c.start+1))),c?l=c.end+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a))),new Fb(a,l,r.lineNumber,r.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new Pb(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new Fb(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return i.lineNumber>1?new Fb(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new Fb(i.lineNumber,1,i.lineNumber+1,1):new Fb(i.lineNumber,1,i.lineNumber,1);const s=e=>e.start+1<=i.column&&i.column<=e.end+1,r=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new Fb(i.lineNumber,e,i.lineNumber,t)),a=e=>{let t=e.start+1,i=e.end+1,s=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)s=!0,i++;if(!s)for(;t>1&&this._charAtIsWhitespace(n,t-2);)t--;return r(t,i)},l=NB._findPreviousWordOnLine(e,t,i);if(l&&s(l))return a(l);const c=NB._findNextWordOnLine(e,t,i);return c&&s(c)?a(c):l&&c?r(l.end+1,c.start+1):l?r(l.start+1,l.end+1):c?r(c.start+1,c.end+1):r(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=NB._moveWordPartLeft(e,i);return new Fb(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let n=t;n<i;n++){const t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new Fb(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;const r=new Pb(o.positionLineNumber,o.positionColumn);let a=r.lineNumber,l=r.column;const c=n.getLineCount(),d=n.getLineMaxColumn(a);if(a===c&&l===d)return null;if(s){const e=this._deleteWordRightWhitespace(n,r);if(e)return e}let h=NB._findNextWordOnLine(i,n,r);return 2===t?h?l=h.end+1:l<d||a===c?l=d:(a++,h=NB._findNextWordOnLine(i,n,new Pb(a,1)),l=h?h.start+1:n.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=NB._findNextWordOnLine(i,n,new Pb(a,h.end+1))),h?l=h.start+1:l<d||a===c?l=d:(a++,h=NB._findNextWordOnLine(i,n,new Pb(a,1)),l=h?h.start+1:n.getLineMaxColumn(a))),new Fb(a,l,r.lineNumber,r.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=NB._moveWordPartRight(e,i);return new Fb(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new Fb(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=AE(t),o=NB._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return NB._createWordAtPosition(e,i.lineNumber,o);const s=NB._findNextWordOnLine(n,e,i);return s&&1===s.wordType&&s.start<=i.column-1&&i.column-1<=s.end?NB._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,o){const s=AE(e.wordSeparators),r=NB._findPreviousWordOnLine(s,t,o),a=NB._findNextWordOnLine(s,t,o);if(!n){let e,i;return r&&1===r.wordType&&r.start<=o.column-1&&o.column-1<=r.end?(e=r.start+1,i=r.end+1):a&&1===a.wordType&&a.start<=o.column-1&&o.column-1<=a.end?(e=a.start+1,i=a.end+1):(e=r?r.end+1:1,i=a?a.start+1:t.getLineMaxColumn(o.lineNumber)),new bB(new Fb(o.lineNumber,e,o.lineNumber,i),1,0,new Pb(o.lineNumber,i),0)}let l,c;r&&1===r.wordType&&r.start<o.column-1&&o.column-1<r.end?(l=r.start+1,c=r.end+1):a&&1===a.wordType&&a.start<o.column-1&&o.column-1<a.end?(l=a.start+1,c=a.end+1):(l=o.column,c=o.column);const d=o.lineNumber;let h;if(i.selectionStart.containsPosition(o))h=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=l;const e=new Pb(d,h);i.selectionStart.containsPosition(e)&&(h=i.selectionStart.endColumn)}else{h=c;const e=new Pb(d,h);i.selectionStart.containsPosition(e)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class TB{static addCursorDown(e,t,i){const n=[];let o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new fB(r.modelState,r.viewState),n[o++]=i?fB.fromModelState(DB.translateDown(e.cursorConfig,e.model,r.modelState)):fB.fromViewState(DB.translateDown(e.cursorConfig,e,r.viewState))}return n}static addCursorUp(e,t,i){const n=[];let o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new fB(r.modelState,r.viewState),n[o++]=i?fB.fromModelState(DB.translateUp(e.cursorConfig,e.model,r.modelState)):fB.fromViewState(DB.translateUp(e.cursorConfig,e,r.viewState))}return n}static moveToBeginningOfLine(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this._moveToLineStart(e,s,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,s=t.viewState.position.lineNumber,r=e.getLineFirstNonWhitespaceColumn(s);return o||n===r?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return fB.fromViewState(DB.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return fB.fromModelState(DB.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=this._moveToLineEnd(e,r,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),r=o.column===s,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=s-o.column===l-a.column;return r||c?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return fB.fromViewState(DB.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return fB.fromModelState(DB.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.selection.startLineNumber,r=e.model.getLineCount();let a,l=o.modelState.selection.endLineNumber;l===r?a=e.model.getLineMaxColumn(r):(l++,a=1),i[n]=fB.fromModelState(new bB(new Fb(s,1,s,1),0,0,new Pb(l,a),0))}return i}static moveToBeginningOfBuffer(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=fB.fromModelState(DB.moveToBeginningOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=fB.fromModelState(DB.moveToEndOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return fB.fromModelState(new bB(new Fb(1,1,1,1),0,0,new Pb(i,n),0))}static line(e,t,i,n,o){const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Pb(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i){const t=e.model.getLineCount();let i=s.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),fB.fromModelState(new bB(new Fb(s.lineNumber,1,i,n),2,0,new Pb(i,n),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<a)return fB.fromViewState(t.viewState.move(!0,r.lineNumber,1,0));if(s.lineNumber>a){const i=e.getLineCount();let n=r.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),fB.fromViewState(t.viewState.move(!0,n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return fB.fromModelState(t.modelState.move(!0,e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return fB.fromModelState(NB.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new fB(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return fB.fromViewState(new bB(new Fb(i,n,i,n),0,0,new Pb(i,n),0))}static moveTo(e,t,i,n,o){if(i){if(1===t.modelState.selectionStartKind)return this.word(e,t,i,n);if(2===t.modelState.selectionStartKind)return this.line(e,t,i,n,o)}const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Pb(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return fB.fromViewState(t.viewState.move(i,r.lineNumber,r.column,0))}static simpleMove(e,t,i,n,o,s){switch(i){case 0:return 4===s?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===s?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===s?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===s?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===s?t.map((t=>fB.fromViewState(DB.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>fB.fromModelState(DB.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 5:return 2===s?t.map((t=>fB.fromViewState(DB.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n)))):t.map((t=>fB.fromModelState(DB.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n))));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const s=e.getCompletelyVisibleViewRange(),r=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const i=this._firstLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 13:{const i=this._lastLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 12:{const i=Math.round((r.startLineNumber+r.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{const i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this.findPositionInViewportIfOutside(e,r,s,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){const o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new fB(t.modelState,t.viewState);{let s;s=o>i.endLineNumber-1?i.endLineNumber-1:o<i.startLineNumber?i.startLineNumber:o;const r=DB.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return fB.fromViewState(t.viewState.move(n,r.lineNumber,r.column,r.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map((t=>fB.fromViewState(DB.moveLeft(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineLeft(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineLength(r)/2);n[o]=fB.fromViewState(DB.moveLeft(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveRight(e,t,i,n){return t.map((t=>fB.fromViewState(DB.moveRight(e.cursorConfig,e,t.viewState,i,n))))}static _moveHalfLineRight(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineLength(r)/2);n[o]=fB.fromViewState(DB.moveRight(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveDownByViewLines(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=fB.fromViewState(DB.moveDown(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=fB.fromModelState(DB.moveDown(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=fB.fromViewState(DB.moveUp(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){const o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=fB.fromModelState(DB.moveUp(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return fB.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return fB.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMinColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewCenterColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(r)+e.getLineMinColumn(r))/2);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewMaxColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMaxColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}}var IB;function AB(e,t,i,n){const o=oE(t,i.startLineNumber,i.startColumn),s=n.getLanguageConfiguration(o.languageId);if(!s)return null;const r=o.getLineContent(),a=r.substr(0,i.startColumn-1-o.firstCharOffset);let l;if(i.isEmpty())l=r.substr(i.startColumn-1-o.firstCharOffset);else{l=oE(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-o.firstCharOffset)}let c="";if(i.startLineNumber>1&&0===o.firstCharOffset){const e=oE(t,i.startLineNumber-1);e.languageId===o.languageId&&(c=e.getLineContent())}const d=s.onEnter(e,c,a,l);if(!d)return null;const h=d.indentAction;let u=d.appendText;const g=d.removeText||0;u?h===Tx.Indent&&(u="\t"+u):u=h===Tx.Indent||h===Tx.IndentOutdent?"\t":"";let p=nE(t,i.startLineNumber,i.startColumn);return g&&(p=p.substring(0,p.length-g)),{indentAction:h,appendText:u,removeText:g,indentation:p}}!function(e){e.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!zp(e))return!1;const t=e;return!!Wp(t.to)&&(!(!qp(t.select)&&!Kp(t.select))&&(!(!qp(t.by)&&!Wp(t.by))&&!(!qp(t.value)&&!jp(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let i;switch(t.to){case e.RawDirection.Left:i=0;break;case e.RawDirection.Right:i=1;break;case e.RawDirection.Up:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.PrevBlankLine:i=4;break;case e.RawDirection.NextBlankLine:i=5;break;case e.RawDirection.WrappedLineStart:i=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=7;break;case e.RawDirection.WrappedLineColumnCenter:i=8;break;case e.RawDirection.WrappedLineEnd:i=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=10;break;case e.RawDirection.ViewPortTop:i=11;break;case e.RawDirection.ViewPortBottom:i=13;break;case e.RawDirection.ViewPortCenter:i=12;break;case e.RawDirection.ViewPortIfOutside:i=14;break;default:return null}let n=0;switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Character:n=3;break;case e.RawUnit.HalfLine:n=4}return{direction:i,unit:n,select:!!t.select,value:t.value||1}}}(IB||(IB={}));var MB,OB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},RB=function(e,t){return function(i,n){t(i,n,e)}};const PB=Object.create(null);function FB(e,t){if(t<=0)return"";PB[e]||(PB[e]=["",e]);const i=PB[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}let BB=MB=class{static unshiftIndent(e,t,i,n,o){const s=XR.visibleColumnFromColumn(e,t,i);if(o){const e=FB(" ",n);return FB(e,XR.prevIndentTabStop(s,n)/n)}return FB("\t",XR.prevRenderTabStop(s,i)/i)}static shiftIndent(e,t,i,n,o){const s=XR.visibleColumnFromColumn(e,t,i);if(o){const e=FB(" ",n);return FB(e,XR.nextIndentTabStop(s,n)/n)}return FB("\t",XR.nextRenderTabStop(s,i)/i)}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:o,indentSize:s,insertSpaces:r}=this._opts,a=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,c=0;for(let d=i;d<=n;d++,l=c){c=0;const n=e.getLineContent(d);let h,u=sw(n);if((!this._opts.isUnshift||0!==n.length&&0!==u)&&(a||this._opts.isUnshift||0!==n.length)){if(-1===u&&(u=n.length),d>1){if(XR.visibleColumnFromColumn(n,u+1,o)%s!==0&&e.tokenization.isCheapToTokenize(d-1)){const t=AB(this._opts.autoIndent,e,new Fb(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)),this._languageConfigurationService);if(t){if(c=l,t.appendText)for(let e=0,i=t.appendText.length;e<i&&c<s&&32===t.appendText.charCodeAt(e);e++)c++;t.removeText&&(c=Math.max(0,c-t.removeText));for(let e=0;e<c&&(0!==u&&32===n.charCodeAt(u-1));e++)u--}}}this._opts.isUnshift&&0===u||(h=this._opts.isUnshift?MB.unshiftIndent(n,u+1,o,s,r):MB.shiftIndent(n,u+1,o,s,r),this._addEditOperation(t,new Fb(d,1,d,u+1),h),d!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=u+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=r?FB(" ",s):"\t";for(let r=i;r<=n;r++){const n=e.getLineContent(r);let l=sw(n);if((!this._opts.isUnshift||0!==n.length&&0!==l)&&((a||this._opts.isUnshift||0!==n.length)&&(-1===l&&(l=n.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,s);for(let e=0;e<l;e++){if(9===n.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new Fb(r,1,r,l+1),"")}else this._addEditOperation(t,new Fb(r,1,r,1),o),r!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const e=t.getInverseEditOperations()[0];return new Bb(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new Bb(i.startLineNumber,e,i.endLineNumber,i.endColumn):new Bb(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}};BB=MB=OB([RB(2,$D)],BB);class VB{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new Fb(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Fb(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new Bb(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class WB{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new Fb(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new Bb(i.endLineNumber,i.startColumn,i.endLineNumber,i.endColumn-this._charAfter.length)}}function zB(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e<4)return null;const o=(arguments.length>4?arguments[4]:void 0).getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(i<=1)return{indentation:"",action:null};for(let a=i-1;a>0&&""===t.getLineContent(a);a--)if(1===a)return{indentation:"",action:null};const s=function(e,t,i){const n=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.tokenization.getLanguageIdAtPosition(o,0)!==n)return s;const t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;s=o}}return-1}(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const r=t.getLineContent(s);if(o.shouldIncrease(r)||o.shouldIndentNextLine(r))return{indentation:rw(r),action:Tx.Indent,line:s};if(o.shouldDecrease(r))return{indentation:rw(r),action:null,line:s};{if(1===s)return{indentation:rw(t.getLineContent(s)),action:null,line:s};const e=s-1,i=o.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:rw(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:rw(t.getLineContent(s)),action:null,line:s};for(let n=s;n>0;n--){const e=t.getLineContent(n);if(o.shouldIncrease(e))return{indentation:rw(e),action:Tx.Indent,line:n};if(o.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:rw(t.getLineContent(e+1)),action:null,line:e+1}}if(o.shouldDecrease(e))return{indentation:rw(e),action:null,line:n}}return{indentation:rw(t.getLineContent(1)),action:null,line:1}}}class HB{static indent(e,t,i){if(null===t||null===i)return[];const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new BB(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static outdent(e,t,i){const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new BB(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static shiftIndent(e,t,i){return i=i||1,BB.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,BB.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){const o=[];for(let s=0,r=i.length;s<r;s++)o[s]=new CB(i[s],n[s]);return new _B(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){const s=[];for(let r=0,a=i.length;r<a;r++){const e=i[r],t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){const i=new Fb(t.lineNumber,1,t.lineNumber,1);s[r]=new LB(i,n,e,!0)}else s[r]=new CB(e,n)}return new _B(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));const e=ow(i);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,s){const r=this._distributePasteToCursors(e,i,n,o,s);return r?(i=i.sort(Fb.compareRangesUsingStarts),this._distributedPaste(e,t,i,r)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="";const s=zB(e.autoIndent,t,i,!1,e.languageConfigurationService);if(s)n=s.action,o=s.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){if(aw(t.getLineContent(n))>=0)break}if(n<1)return null;const s=t.getLineMaxColumn(n),r=AB(e.autoIndent,t,new Fb(n,s,n,s),e.languageConfigurationService);r&&(o=r.indentation+r.appendText)}return n&&(n===Tx.Indent&&(o=HB.shiftIndent(e,o)),n===Tx.Outdent&&(o=HB.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="";const s=i.getStartPosition();if(e.insertSpaces){const i=e.visibleColumnFromColumn(t,s),n=e.indentSize,r=n-i%n;for(let e=0;e<r;e++)o+=" "}else o="\t";return new CB(i,o,n)}static tab(e,t,i){const n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o];if(s.isEmpty()){const i=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(i)&&t.tokenization.isCheapToTokenize(s.startLineNumber)){let r=this._goodIndentForLine(e,t,s.startLineNumber);r=r||"\t";const a=e.normalizeIndentation(r);if(!i.startsWith(a)){n[o]=new CB(new Fb(s.startLineNumber,1,s.startLineNumber,i.length+1),a,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,s,!0)}else{if(s.startLineNumber===s.endLineNumber){const i=t.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,s,!1);continue}}n[o]=new BB(s,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return n}static compositionType(e,t,i,n,o,s,r,a){const l=n.map((e=>this._compositionType(i,e,o,s,r,a)));return new _B(4,l,{shouldPushStackElementBefore:qB(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){if(!t.isEmpty())return null;const r=t.getPosition(),a=Math.max(1,r.column-n),l=Math.min(e.getLineMaxColumn(r.lineNumber),r.column+o),c=new Fb(r.lineNumber,a,r.lineNumber,l);return e.getValueInRange(c)===i&&0===s?null:new kB(c,i,0,s)}static _typeCommand(e,t,i){return i?new SB(e,t,!0):new CB(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return HB._typeCommand(n,"\n",i);if(!t.tokenization.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){const o=rw(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);return HB._typeCommand(n,"\n"+e.normalizeIndentation(o),i)}const o=AB(e.autoIndent,t,n,e.languageConfigurationService);if(o){if(o.indentAction===Tx.None)return HB._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Tx.Indent)return HB._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Tx.IndentOutdent){const t=e.normalizeIndentation(o.indentation),s=e.normalizeIndentation(o.indentation+o.appendText),r="\n"+s+"\n"+t;return i?new SB(n,r,!0):new kB(n,r,-1,s.length-t.length,!0)}if(o.indentAction===Tx.Outdent){const t=HB.unshiftIndent(e,o.indentation);return HB._typeCommand(n,"\n"+e.normalizeIndentation(t+o.appendText),i)}}const s=rw(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);if(e.autoIndent>=4){const o=function(e,t,i,n,o){if(e<4)return null;t.tokenization.forceTokenization(i.startLineNumber);const s=t.tokenization.getLineTokens(i.startLineNumber),r=Ox(s,i.startColumn-1),a=r.getLineContent();let l,c,d=!1;r.firstCharOffset>0&&s.getLanguageId(0)!==r.languageId?(d=!0,l=a.substr(0,i.startColumn-1-r.firstCharOffset)):l=s.getLineContent().substring(0,i.startColumn-1),c=i.isEmpty()?a.substr(i.startColumn-1-r.firstCharOffset):oE(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset);const h=o.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!h)return null;const u=l,g=rw(l),p={tokenization:{getLineTokens:e=>t.tokenization.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i)},getLineContent:e=>e===i.startLineNumber?u:t.getLineContent(e)},f=rw(s.getLineContent()),m=zB(e,p,i.startLineNumber+1,void 0,o);if(!m){const e=d?f:g;return{beforeEnter:e,afterEnter:e}}let v=d?f:m.indentation;return m.action===Tx.Indent&&(v=n.shiftIndent(v)),h.shouldDecrease(c)&&(v=n.unshiftIndent(v)),{beforeEnter:d?f:g,afterEnter:v}}(e.autoIndent,t,n,{unshiftIndent:t=>HB.unshiftIndent(e,t),shiftIndent:t=>HB.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)},e.languageConfigurationService);if(o){let s=e.visibleColumnFromColumn(t,n.getEndPosition());const r=n.endColumn,a=sw(t.getLineContent(n.endLineNumber));if(n=a>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,a+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new SB(n,"\n"+e.normalizeIndentation(o.afterEnter),!0);{let t=0;return r<=a+1&&(e.insertSpaces||(s=Math.ceil(s/e.indentSize)),t=Math.min(s+1-e.normalizeIndentation(o.afterEnter).length-1,0)),new kB(n,"\n"+e.normalizeIndentation(o.afterEnter),0,t,!0)}}}return HB._typeCommand(n,"\n"+e.normalizeIndentation(s),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.tokenization.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=nE(t,i.startLineNumber,i.startColumn),s=function(e,t,i,n,o,s){if(e<4)return null;const r=oE(t,i.startLineNumber,i.startColumn);if(r.firstCharOffset)return null;const a=s.getLanguageConfiguration(r.languageId).indentRulesSupport;if(!a)return null;const l=r.getLineContent(),c=l.substr(0,i.startColumn-1-r.firstCharOffset);let d;d=i.isEmpty()?l.substr(i.startColumn-1-r.firstCharOffset):oE(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset);if(!a.shouldDecrease(c+d)&&a.shouldDecrease(c+n+d)){const n=zB(e,t,i.startLineNumber,!1,s);if(!n)return null;let r=n.indentation;return n.action!==Tx.Indent&&(r=o.unshiftIndent(r)),r}return null}(e.autoIndent,t,i,n,{shiftIndent:t=>HB.shiftIndent(e,t),unshiftIndent:t=>HB.unshiftIndent(e,t)},e.languageConfigurationService);if(null===s)return null;if(s!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?HB._typeCommand(new Fb(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):HB._typeCommand(new Fb(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,r=i.length;s<r;s++){const r=i[s];if(!r.isEmpty())return!1;const a=r.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const c=wB(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){const s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r].getPosition(),t=new Fb(e.lineNumber,e.column,e.lineNumber,e.column+1);s[r]=new CB(t,o)}return new _B(4,s,{shouldPushStackElementBefore:qB(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some((e=>t.startsWith(e.open))),r=o.some((e=>t.startsWith(e.close)));return!s&&r}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let s=null;for(const r of o)if(null===s||r.open.length>s.open.length){let e=!0;for(const o of i){if(t.getValueInRange(new Fb(o.lineNumber,o.column-r.open.length+1,o.lineNumber,o.column))+n!==r.open){e=!1;break}}e&&(s=r)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const s of n)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o}static _getAutoClosingPairClose(e,t,i,n,o){for(const u of i)if(!u.isEmpty())return null;const s=i.map((e=>{const t=e.getPosition();return o?{lineNumber:t.lineNumber,beforeColumn:t.column-n.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),r=this._findAutoClosingPairOpen(e,t,s.map((e=>new Pb(e.lineNumber,e.beforeColumn))),n);if(!r)return null;let a,l;if(wB(n))a=e.autoClosingQuotes,l=e.shouldAutoCloseBefore.quote;else{!!e.blockCommentStartToken&&r.open.includes(e.blockCommentStartToken)?(a=e.autoClosingComments,l=e.shouldAutoCloseBefore.comment):(a=e.autoClosingBrackets,l=e.shouldAutoCloseBefore.bracket)}if("never"===a)return null;const c=this._findContainedAutoClosingPair(e,r),d=c?c.close:"";let h=!0;for(const u of s){const{lineNumber:i,beforeColumn:o,afterColumn:s}=u,c=t.getLineContent(i),g=c.substring(0,o-1),p=c.substring(s-1);if(p.startsWith(d)||(h=!1),p.length>0){const t=p.charAt(0);if(!HB._isBeforeClosingBrace(e,p)&&!l(t))return null}if(1===r.open.length&&("'"===n||'"'===n)&&"always"!==a){const t=AE(e.wordSeparators);if(g.length>0){const e=g.charCodeAt(g.length-1);if(0===t.get(e))return null}}if(!t.tokenization.isCheapToTokenize(i))return null;t.tokenization.forceTokenization(i);const f=Ox(t.tokenization.getLineTokens(i),o-1);if(!r.shouldAutoClose(f,o-f.firstCharOffset))return null;const m=r.findNeutralCharacter();if(m){const e=t.tokenization.getTokenTypeIfInsertingCharacter(i,o,m);if(!r.isOK(e))return null}}return h?r.close.substring(0,r.close.length-d.length):r.close}static _runAutoClosingOpenCharType(e,t,i,n,o,s,r){const a=[];for(let l=0,c=n.length;l<c;l++){const e=n[l];a[l]=new jB(e,o,!s,r)}return new _B(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return wB(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!HB._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=wB(n);for(const s of i){if(s.isEmpty())return!1;let e=!0;for(let i=s.startLineNumber;i<=s.endLineNumber;i++){const n=t.getLineContent(i),o=i===s.startLineNumber?s.startColumn-1:0,r=i===s.endLineNumber?s.endColumn-1:n.length,a=n.substring(o,r);if(/[^ \t]/.test(a)){e=!1;break}}if(e)return!1;if(o&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){if(wB(t.getValueInRange(s)))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){const s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r],i=t.surroundingPairs[o];s[r]=new VB(e,o,i)}return new _B(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;const s=n.getPosition();i.tokenization.forceTokenization(s.lineNumber);const r=i.tokenization.getLineTokens(s.lineNumber);let a;try{a=t.onElectricCharacter(o,r,s.column)}catch(Pee){return Um(Pee),null}if(!a)return null;if(a.matchOpenBracket){const n=(r.getLineContent()+o).lastIndexOf(a.matchOpenBracket)+1,l=i.bracketPairs.findMatchingBracketUp(a.matchOpenBracket,{lineNumber:s.lineNumber,column:n},500);if(l){if(l.startLineNumber===s.lineNumber)return null;const n=rw(i.getLineContent(l.startLineNumber)),r=t.normalizeIndentation(n),a=i.getLineContent(s.lineNumber),c=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,d=r+a.substring(c-1,s.column-1)+o,h=new Fb(s.lineNumber,1,s.lineNumber,s.column),u=new CB(h,d);return new _B(KB(d,e),[u],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n)return null;let r=null;for(const d of n)if(null===r)r=d.insertedText;else if(r!==d.insertedText)return null;if(!r||1!==r.length)return null;const a=r;let l=!1;for(const d of n)if(0!==d.deletedText.length){l=!0;break}if(l){if(!HB._shouldSurroundChar(t,a)||!t.surroundingPairs.hasOwnProperty(a))return null;const e=wB(a);for(const t of n){if(0!==t.deletedSelectionStart||t.deletedSelectionEnd!==t.deletedText.length)return null;if(/^[ \t]+$/.test(t.deletedText))return null;if(e&&wB(t.deletedText))return null}const i=[];for(const t of o){if(!t.isEmpty())return null;i.push(t.getPosition())}if(i.length!==n.length)return null;const s=[];for(let o=0,r=i.length;o<r;o++)s.push(new WB(i[o],n[o].deletedText,t.surroundingPairs[a]));return new _B(4,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,s,a)){const e=o.map((e=>new CB(new Fb(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new _B(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const c=this._getAutoClosingPairClose(t,i,o,a,!0);return null!==c?this._runAutoClosingOpenCharType(e,t,i,o,a,!0,c):null}static typeWithInterceptors(e,t,i,n,o,s,r){if(!e&&"\n"===r){const e=[];for(let t=0,s=o.length;t<s;t++)e[t]=HB._enter(i,n,!1,o[t]);return new _B(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){const e=[];let t=!1;for(let s=0,a=o.length;s<a;s++)if(e[s]=this._runAutoIndentType(i,n,o[s],r),!e[s]){t=!0;break}if(!t)return new _B(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,n,o,s,r))return this._runAutoClosingOvertype(t,i,n,o,r);if(!e){const e=this._getAutoClosingPairClose(i,n,o,r,!1);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,r,!1,e)}if(!e&&this._isSurroundSelectionType(i,n,o,r))return this._runSurroundSelectionType(t,i,n,o,r);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],r);if(e)return e}const a=[];for(let c=0,d=o.length;c<d;c++)a[c]=new CB(o[c],r);const l=KB(r,t);return new _B(l,a,{shouldPushStackElementBefore:qB(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){const s=[];for(let a=0,l=n.length;a<l;a++)s[a]=new CB(n[a],o);const r=KB(o,e);return new _B(r,s,{shouldPushStackElementBefore:qB(e,r),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];const n=[];for(let o=0,s=i.length;o<s;o++){let s=i[o].positionLineNumber;if(1===s)n[o]=new SB(new Fb(1,1,1,1),"\n");else{s--;const i=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new Fb(s,i,s,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];const n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o].positionLineNumber,r=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new Fb(s,r,s,r))}return n}static lineBreakInsert(e,t,i){const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class jB extends kB{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Fb(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new Fb(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}class UB{constructor(e,t,i,n,o,s){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=n,this.insertedSelectionStart=o,this.insertedSelectionEnd=s}}function KB(e,t){return" "===e?5===t||6===t?6:5:4}function qB(e,t){return!(!YB(e)||YB(t))||5!==e&&GB(e)!==GB(t)}function GB(e){return 6===e||5===e?"space":e}function YB(e){return 4===e||5===e||6===e}var ZB;!function(e){e.editorSimpleInput=new gC("editorSimpleInput",!1,!0),e.editorTextFocus=new gC("editorTextFocus",!1,lf("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),e.focus=new gC("editorFocus",!1,lf("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),e.textInputFocus=new gC("textInputFocus",!1,lf("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),e.readOnly=new gC("editorReadonly",!1,lf("editorReadonly","Whether the editor is read-only")),e.inDiffEditor=new gC("inDiffEditor",!1,lf("inDiffEditor","Whether the context is a diff editor")),e.isEmbeddedDiffEditor=new gC("isEmbeddedDiffEditor",!1,lf("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),e.inMultiDiffEditor=new gC("inMultiDiffEditor",!1,lf("inMultiDiffEditor","Whether the context is a multi diff editor")),e.multiDiffEditorAllCollapsed=new gC("multiDiffEditorAllCollapsed",void 0,lf("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),e.hasChanges=new gC("diffEditorHasChanges",!1,lf("diffEditorHasChanges","Whether the diff editor has changes")),e.comparingMovedCode=new gC("comparingMovedCode",!1,lf("comparingMovedCode","Whether a moved code block is selected for comparison")),e.accessibleDiffViewerVisible=new gC("accessibleDiffViewerVisible",!1,lf("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),e.diffEditorRenderSideBySideInlineBreakpointReached=new gC("diffEditorRenderSideBySideInlineBreakpointReached",!1,lf("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),e.columnSelection=new gC("editorColumnSelection",!1,lf("editorColumnSelection","Whether `editor.columnSelection` is enabled")),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new gC("editorHasSelection",!1,lf("editorHasSelection","Whether the editor has text selected")),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new gC("editorHasMultipleSelections",!1,lf("editorHasMultipleSelections","Whether the editor has multiple selections")),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new gC("editorTabMovesFocus",!1,lf("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInWalkThroughSnippet=new gC("isInEmbeddedEditor",!1,!0),e.canUndo=new gC("canUndo",!1,!0),e.canRedo=new gC("canRedo",!1,!0),e.hoverVisible=new gC("editorHoverVisible",!1,lf("editorHoverVisible","Whether the editor hover is visible")),e.hoverFocused=new gC("editorHoverFocused",!1,lf("editorHoverFocused","Whether the editor hover is focused")),e.stickyScrollFocused=new gC("stickyScrollFocused",!1,lf("stickyScrollFocused","Whether the sticky scroll is focused")),e.stickyScrollVisible=new gC("stickyScrollVisible",!1,lf("stickyScrollVisible","Whether the sticky scroll is visible")),e.standaloneColorPickerVisible=new gC("standaloneColorPickerVisible",!1,lf("standaloneColorPickerVisible","Whether the standalone color picker is visible")),e.standaloneColorPickerFocused=new gC("standaloneColorPickerFocused",!1,lf("standaloneColorPickerFocused","Whether the standalone color picker is focused")),e.inCompositeEditor=new gC("inCompositeEditor",void 0,lf("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),e.notInCompositeEditor=e.inCompositeEditor.toNegated(),e.languageId=new gC("editorLangId","",lf("editorLangId","The language identifier of the editor")),e.hasCompletionItemProvider=new gC("editorHasCompletionItemProvider",!1,lf("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),e.hasCodeActionsProvider=new gC("editorHasCodeActionsProvider",!1,lf("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),e.hasCodeLensProvider=new gC("editorHasCodeLensProvider",!1,lf("editorHasCodeLensProvider","Whether the editor has a code lens provider")),e.hasDefinitionProvider=new gC("editorHasDefinitionProvider",!1,lf("editorHasDefinitionProvider","Whether the editor has a definition provider")),e.hasDeclarationProvider=new gC("editorHasDeclarationProvider",!1,lf("editorHasDeclarationProvider","Whether the editor has a declaration provider")),e.hasImplementationProvider=new gC("editorHasImplementationProvider",!1,lf("editorHasImplementationProvider","Whether the editor has an implementation provider")),e.hasTypeDefinitionProvider=new gC("editorHasTypeDefinitionProvider",!1,lf("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),e.hasHoverProvider=new gC("editorHasHoverProvider",!1,lf("editorHasHoverProvider","Whether the editor has a hover provider")),e.hasDocumentHighlightProvider=new gC("editorHasDocumentHighlightProvider",!1,lf("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),e.hasDocumentSymbolProvider=new gC("editorHasDocumentSymbolProvider",!1,lf("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),e.hasReferenceProvider=new gC("editorHasReferenceProvider",!1,lf("editorHasReferenceProvider","Whether the editor has a reference provider")),e.hasRenameProvider=new gC("editorHasRenameProvider",!1,lf("editorHasRenameProvider","Whether the editor has a rename provider")),e.hasSignatureHelpProvider=new gC("editorHasSignatureHelpProvider",!1,lf("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),e.hasInlayHintsProvider=new gC("editorHasInlayHintsProvider",!1,lf("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),e.hasDocumentFormattingProvider=new gC("editorHasDocumentFormattingProvider",!1,lf("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),e.hasDocumentSelectionFormattingProvider=new gC("editorHasDocumentSelectionFormattingProvider",!1,lf("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),e.hasMultipleDocumentFormattingProvider=new gC("editorHasMultipleDocumentFormattingProvider",!1,lf("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),e.hasMultipleDocumentSelectionFormattingProvider=new gC("editorHasMultipleDocumentSelectionFormattingProvider",!1,lf("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))}(ZB||(ZB={}));class QB extends ox{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var XB,JB,$B;!function(e){e.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!zp(e))return!1;const t=e;return!!Wp(t.to)&&(!(!qp(t.by)&&!Wp(t.by))&&(!(!qp(t.value)&&!jp(t.value))&&!(!qp(t.revealCursor)&&!Kp(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},e.parse=function(t){let i,n;switch(t.to){case e.RawDirection.Up:i=1;break;case e.RawDirection.Right:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.Left:i=4;break;default:return null}switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Page:n=3;break;case e.RawUnit.HalfPage:n=4;break;case e.RawUnit.Editor:n=5;break;case e.RawUnit.Column:n=6;break;default:n=2}return{direction:i,unit:n,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(XB||(XB={})),function(e){e.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!zp(e))return!1;const t=e;return!(!jp(t.lineNumber)&&!Wp(t.lineNumber))&&!(!qp(t.at)&&!Wp(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(JB||(JB={}));class eV{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(by).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const i=vL();return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(i),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const i=e.get(by).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))}))}_runEditorCommand(e,t,i){const n=this.runEditorCommand(e,t,i);return n||!0}}!function(e){class t extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;e.model.pushStackElement();e.setCursorStates(t.source,3,[TB.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&2!==t.revealType&&e.revealPrimaryCursor(t.source,!0,!0)}}e.MoveTo=sx(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=sx(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends QB{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);null!==i&&(e.setCursorStates(t.source,3,i.viewStates.map((e=>fB.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source))}}e.ColumnSelect=sx(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){if("undefined"===typeof n.position||"undefined"===typeof n.viewPosition||"undefined"===typeof n.mouseColumn)return null;const o=e.model.validatePosition(n.position),s=e.coordinatesConverter.validateViewPosition(new Pb(n.viewPosition.lineNumber,n.viewPosition.column),o),r=n.doColumnSelect?i.fromViewLineNumber:s.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return yB.columnSelect(e.cursorConfig,e,r,a,s.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=sx(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return yB.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=sx(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return yB.columnSelectRight(e.cursorConfig,e,i)}});class n extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return yB.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=sx(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=sx(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return yB.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=sx(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=sx(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends QB{constructor(){super({id:"cursorMove",precondition:void 0,metadata:IB.metadata})}runCoreEditorCommand(e,t){const i=IB.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,s._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return TB.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return TB.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=s,e.CursorMove=sx(new s);class r extends QB{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,TB.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=sx(new r({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=sx(new r({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1039}})),e.CursorRight=sx(new r({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=sx(new r({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1041}})),e.CursorUp=sx(new r({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=sx(new r({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=sx(new r({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:11}})),e.CursorPageUpSelect=sx(new r({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1035}})),e.CursorDown=sx(new r({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=sx(new r({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=sx(new r({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:12}})),e.CursorPageDownSelect=sx(new r({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1036}})),e.CreateCursor=sx(new class extends QB{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;let i;i=t.wholeLine?TB.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):TB.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null;for(let i=0,r=n.length;i<r;i++){const r=n[i];if((!o||r.modelState.selection.containsPosition(o))&&(!s||r.viewState.selection.containsPosition(s)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=sx(new class extends QB{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=TB.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class a extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,TB.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=sx(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=sx(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=fB.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=sx(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=sx(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,TB.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=sx(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:ZB.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:lf("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=sx(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:ZB.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:lf("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.position.lineNumber,r=e.model.getLineMaxColumn(s);i[n]=fB.fromModelState(o.modelState.move(this._inSelectionMode,s,r,0))}return i}}e.CursorLineEnd=sx(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=sx(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,TB.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=sx(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=sx(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3086,mac:{primary:3088}}}));class u extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,TB.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=sx(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=sx(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends QB{constructor(){super({id:"editorScroll",precondition:void 0,metadata:XB.metadata})}determineScrollMethod(e){return[6].includes(e.unit)&&[4,2].includes(e.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(e.unit)&&[1,3].includes(e.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(e,t){const i=XB.parse(t);if(!i)return;const n=this.determineScrollMethod(i);n&&n(e,t.source,i)}_runVerticalEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[TB.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.viewLayout.setScrollPosition({scrollTop:n},0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.viewLayout.getFutureViewport(),n=e.getCompletelyVisibleViewRangeAtScrollTop(i.top),o=e.coordinatesConverter.convertViewRangeToModelRange(n);let s;s=1===t.direction?Math.max(1,o.startLineNumber-t.value):Math.min(e.model.getLineCount(),o.startLineNumber+t.value);const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Pb(s,1));return e.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}if(5===t.unit){let i=0;return 3===t.direction&&(i=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(i)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.viewLayout.getCurrentScrollTop()+n*e.cursorConfig.lineHeight}_runHorizontalEditorScroll(e,t,i){const n=this._computeDesiredScrollLeft(e,i);e.viewLayout.setScrollPosition({scrollLeft:n},0)}_computeDesiredScrollLeft(e,t){const i=(4===t.direction?-1:1)*t.value;return e.viewLayout.getCurrentScrollLeft()+i*e.cursorConfig.typicalHalfwidthCharacterWidth}}e.EditorScrollImpl=g,e.EditorScroll=sx(new g),e.ScrollLineUp=sx(new class extends QB{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Up,by:XB.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollPageUp=sx(new class extends QB{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Up,by:XB.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollEditorTop=sx(new class extends QB{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Up,by:XB.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollLineDown=sx(new class extends QB{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Down,by:XB.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollPageDown=sx(new class extends QB{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Down,by:XB.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollEditorBottom=sx(new class extends QB{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Down,by:XB.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollLeft=sx(new class extends QB{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Left,by:XB.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}}),e.ScrollRight=sx(new class extends QB{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus}})}runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:XB.RawDirection.Right,by:XB.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}});class p extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[TB.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),2!==t.revealType&&e.revealPrimaryCursor(t.source,!0,!0))}}e.WordSelect=sx(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=sx(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=sx(new class extends QB{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),s=n[i];o[i]=TB.word(e,s,s.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class f extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[TB.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),2!==t.revealType&&e.revealPrimaryCursor(t.source,!1,!0))}}e.LineSelect=sx(new f({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=sx(new f({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends QB{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){if(!t.position)return;const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=TB.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=sx(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=sx(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=sx(new class extends QB{constructor(){super({id:"cancelSelection",precondition:ZB.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[TB.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=sx(new class extends QB{constructor(){super({id:"removeSecondaryCursors",precondition:ZB.hasMultipleSelections,kbOpts:{weight:1,kbExpr:ZB.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),qI(lf("removedCursor","Removed secondary cursors"))}}),e.RevealLine=sx(new class extends QB{constructor(){super({id:"revealLine",precondition:void 0,metadata:JB.metadata})}runCoreEditorCommand(e,t){const i=t,n=i.lineNumber||0;let o="number"===typeof n?n+1:parseInt(n)+1;o<1&&(o=1);const s=e.model.getLineCount();o>s&&(o=s);const r=new Fb(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(i.at)switch(i.at){case JB.RawAtArgument.Top:a=3;break;case JB.RawAtArgument.Center:a=1;break;case JB.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(r);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends eV{constructor(){super(ux)}runDOMCommand(e){Qw&&(e.focus(),e.select()),e.ownerDocument.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[TB.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=sx(new class extends QB{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){t.selection&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[fB.fromModelSelection(t.selection)]))}})}($B||($B={}));const tV=Gy.and(ZB.textInputFocus,ZB.columnSelection);function iV(e,t){AC.registerKeybindingRule({id:e,primary:t,when:tV,weight:1})}function nV(e){return e.register(),e}var oV,sV;iV($B.CursorColumnSelectLeft.id,1039),iV($B.CursorColumnSelectRight.id,1041),iV($B.CursorColumnSelectUp.id,1040),iV($B.CursorColumnSelectPageUp.id,1035),iV($B.CursorColumnSelectDown.id,1042),iV($B.CursorColumnSelectPageDown.id,1036),function(e){class t extends ox{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=sx(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:ZB.writable,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,HB.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=sx(new class extends t{constructor(){super({id:"outdent",precondition:ZB.writable,kbOpts:{weight:0,kbExpr:Gy.and(ZB.editorTextFocus,ZB.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,HB.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=sx(new class extends t{constructor(){super({id:"tab",precondition:ZB.writable,kbOpts:{weight:0,kbExpr:Gy.and(ZB.editorTextFocus,ZB.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,HB.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=sx(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=EB.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=sx(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:ZB.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=EB.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends eV{constructor(){super(dx)}runDOMCommand(e){e.ownerDocument.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(90))return t.getModel().undo()}},e.Redo=new class extends eV{constructor(){super(hx)}runDOMCommand(e){e.ownerDocument.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(90))return t.getModel().redo()}}}(oV||(oV={}));class rV extends tx{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(by).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function aV(e,t){nV(new rV("default:"+e,e)),nV(new rV(e,e,t))}aV("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),aV("replacePreviousChar"),aV("compositionType"),aV("compositionStart"),aV("compositionEnd"),aV("paste"),aV("cut");class lV{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){$B.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Pb(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Mf&&t.get(106),n=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):2===e.mouseDownCount?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){$B.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){$B.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),$B.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),$B.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){$B.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){$B.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){$B.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){$B.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){$B.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){$B.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){$B.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){$B.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){$B.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class cV{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;null===(t=this.onKeyDown)||void 0===t||t.call(this,e)}emitKeyUp(e){var t;null===(t=this.onKeyUp)||void 0===t||t.call(this,e)}emitContextMenu(e){var t;null===(t=this.onContextMenu)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;null===(t=this.onMouseMove)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;null===(t=this.onMouseLeave)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;null===(t=this.onMouseDown)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;null===(t=this.onMouseUp)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;null===(t=this.onMouseDrag)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;null===(t=this.onMouseDrop)||void 0===t||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;null===(e=this.onMouseDropCanceled)||void 0===e||e.call(this)}emitMouseWheel(e){var t;null===(t=this.onMouseWheel)||void 0===t||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return cV.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),5!==i.type&&8!==i.type||(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new Pb(e.afterLineNumber,1)).lineNumber}}}class dV{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new ev("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,s=0;for(let r=i;r<=n;r++){const i=r-this._rendLineNumberStart;e<=r&&r<=t&&(0===s?(o=i,s=1):s++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,s)}onLinesChanged(e,t){const i=e+t-1;if(0===this.getCount())return!1;const n=this.getStartLineNumber(),o=this.getEndLineNumber();let s=!1;for(let r=e;r<=i;r++)r>=n&&r<=o&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const s=[];for(let d=0;d<i;d++)s[d]=this._createLine();const r=e-this._rendLineNumberStart,a=this._lines.slice(0,r),l=this._lines.slice(r,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(s).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o];if(s.toLineNumber<t||s.fromLineNumber>i)continue;const r=Math.max(t,s.fromLineNumber),a=Math.min(i,s.toLineNumber);for(let e=r;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class hV{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new dV((()=>this._host.createVisibleLine()))}_createDomNode(){const e=sy(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(143)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new uV(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class uV{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,s=Math.min(i,o.rendLineNumberStart-1);e<=s&&(this._insertLinesBefore(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,s=i;e<=s&&(this._insertLinesAfter(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const s=e.rendLineNumberStart,r=e.lines;for(let a=t;a<=i;a++){const e=s+a;r[a].layoutLine(e,n[e-o])}}_insertLinesBefore(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){uV._ttPolicy&&(i=uV._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let r=e.linesLength-1;r>=0;r--){const t=e.lines[r];n[r]&&(t.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");uV._ttPolicy&&(t=uV._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(i[o]){const e=n.firstChild,i=t.getDomNode();i.parentNode.replaceChild(e,i),t.setDomNode(e)}}}_finishRendering(e,t,i){const n=uV._sb,o=e.linesLength,s=e.lines,r=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=s[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+r,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=s[e];if(l[e]=!1,a[e])continue;o.renderLine(e+r,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}uV._ttPolicy=xx("editorViewLayer",{createHTML:e=>e}),uV._sb=new $x(1e5);class gV extends DR{constructor(e){super(e),this._visibleLines=new hV(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration.options.get(50);ry(this.domNode,t),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new pV(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let o=t;o<=i;o++){this._visibleLines.getVisibleLine(o).onConfigurationChanged(e)}const n=this._context.configuration.options.get(50);return ry(this.domNode,n),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class pV{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=sy(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(66)}renderLine(e,t,i,n){let o="";for(let s=0,r=this._dynamicOverlays.length;s<r;s++){o+=this._dynamicOverlays[s].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendString('<div style="position:absolute;top:'),n.appendString(String(t)),n.appendString("px;width:100%;height:"),n.appendString(String(this._lineHeight)),n.appendString('px;">'),n.appendString(o),n.appendString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class fV extends gV{constructor(e){super(e);const t=this._context.configuration.options.get(143);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class mV extends gV{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),ry(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;ry(this.domNode,t.get(50));const i=t.get(143);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class vV extends DR{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=sy(document.createElement("div")),ER.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=sy(document.createElement("div")),ER.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new bV(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,n,o){this._widgets[e.getId()].setPosition(t,i,n,o),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class bV{constructor(e,t,i){this._primaryAnchor=new _V(null,null),this._secondaryAnchor=new _V(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=sy(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(143);this._fixedOverflowWidgets=n.get(42),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(66),e.hasChanged(143)){const e=t.get(143);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){function n(e,t,i){if(!e)return new _V(null,null);const n=t.model.validatePosition(e);if(t.coordinatesConverter.modelPositionIsVisible(n)){const o=t.coordinatesConverter.convertModelPositionToViewPosition(n,null!==i&&void 0!==i?i:void 0);return new _V(e,o)}return new _V(e,null)}this._affinity=e,this._primaryAnchor=n(t,this._context.viewModel,this._affinity),this._secondaryAnchor=n(i,this._context.viewModel,this._affinity)}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(null===t||void 0===t?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,n){this._setPosition(n,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n){const o=e.top,s=o,r=e.top+e.height,a=o-i,l=s>=i,c=r,d=n.viewportHeight-r>=i;let h=e.left;return h+t>n.scrollLeft+n.viewportWidth&&(h=n.scrollLeft+n.viewportWidth-t),h<n.scrollLeft&&(h=n.scrollLeft),{fitsAbove:l,aboveTop:a,fitsBelow:d,belowTop:c,left:h}}_layoutHorizontalSegmentInPage(e,t,i,n){var o;const s=Math.max(15,t.left-n),r=Math.min(t.left+t.width+n,e.width-15),a=this._viewDomNode.domNode.ownerDocument.defaultView;let l=t.left+i-(null!==(o=null===a||void 0===a?void 0:a.scrollX)&&void 0!==o?o:0);if(l+n>r){const e=l-(r-n);l-=e,i-=e}if(l<s){const e=l-s;l-=e,i-=e}return[i,l]}_layoutBoxInPage(e,t,i,n){var o,s;const r=e.top-i,a=e.top+e.height,l=aL(this._viewDomNode.domNode),c=this._viewDomNode.domNode.ownerDocument,d=c.defaultView,h=l.top+r-(null!==(o=null===d||void 0===d?void 0:d.scrollY)&&void 0!==o?o:0),u=l.top+a-(null!==(s=null===d||void 0===d?void 0:d.scrollY)&&void 0!==s?s:0),g=oL(c.body),[p,f]=this._layoutHorizontalSegmentInPage(g,l,e.left-n.scrollLeft+this._contentLeft,t),m=h>=22,v=u+i<=g.height-22;return this._fixedOverflowWidgets?{fitsAbove:m,aboveTop:Math.max(h,22),fitsBelow:v,belowTop:u,left:f}:{fitsAbove:m,aboveTop:r,fitsBelow:v,belowTop:a,left:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new wV(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var t,i;return{primary:n(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:n((null===(t=this._secondaryAnchor.viewPosition)||void 0===t?void 0:t.lineNumber)===(null===(i=this._primaryAnchor.viewPosition)||void 0===i?void 0:i.lineNumber)?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function n(t,i,n){if(!t)return null;const o=e.visibleRangeForPosition(t);if(!o)return null;const s=1===t.column&&3===i?0:o.left,r=e.getVerticalOffsetForLineNumber(t.lineNumber)-e.scrollTop;return new yV(r,s,n)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const n=this._context.configuration.options.get(50);let o=t.left;return o=o<e.left?Math.max(o,e.left-i+n.typicalFullwidthCharacterWidth):Math.min(o,e.left+i-n.typicalFullwidthCharacterWidth),new yV(e.top,o,e.height)}_prepareRenderWidget(e){if(!this._preference||0===this._preference.length)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let e=null;if("function"===typeof this._actual.beforeRender&&(e=CV(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeOffsetWidth=e.width,this._cachedDomNodeOffsetHeight=e.height;else{const e=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(e.width),this._cachedDomNodeOffsetHeight=Math.round(e.height)}}const n=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let o;o=this.allowEditorOverflow?this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let s=1;s<=2;s++)for(const e of this._preference)if(1===e){if(!o)return null;if(2===s||o.fitsAbove)return{coordinate:new wV(o.aboveTop,o.left),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new wV(n.top,n.left)),position:0}:{coordinate:new wV(n.top,n.left),position:0};if(!o)return null;if(2===s||o.fitsBelow)return{coordinate:new wV(o.belowTop,o.left),position:2}}return null}onBeforeRender(e){this._primaryAnchor.viewPosition&&this._preference&&(this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"===typeof this._actual.afterRender&&CV(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"===typeof this._actual.afterRender&&CV(this._actual.afterRender,this._actual,this._renderData.position)}}class _V{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class wV{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class yV{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function CV(e,t){try{for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return e.call(t,...n)}catch(cf){return null}}class SV extends JP{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Bb(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=this._selections.map((e=>e.positionLineNumber));t.sort(((e,t)=>e-t)),bp(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);const i=this._selections.every((e=>e.isEmpty()));return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const r=[];for(let a=i;a<=n;a++){const e=a-i;for(;s<o&&this._cursorLineNumbers[s]<a;)s++;s<o&&this._cursorLineNumbers[s]===a?r[e]=t:r[e]=""}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class kV extends SV{_renderOne(e){const t="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'.concat(t,'" style="width:').concat(Math.max(e.scrollWidth,this._contentWidth),"px; height:").concat(this._lineHeight,'px;"></div>')}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class LV extends SV{_renderOne(e){const t="current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'.concat(t,'" style="width:').concat(this._contentLeft,"px; height:").concat(this._lineHeight,'px;"></div>')}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}oF(((e,t)=>{const i=e.getColor(rF);if(i&&(t.addRule(".monaco-editor .view-overlays .current-line { background-color: ".concat(i,"; }")),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: ".concat(i,"; border: none; }"))),!i||i.isTransparent()||e.defines(aF)){const i=e.getColor(aF);i&&(t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid ".concat(i,"; }")),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ".concat(i,"; }")),BR(e.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class xV extends JP{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(i[n++]=e)}i=i.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:Fb.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,r=[];for(let a=o;a<=s;a++){r[a-o]=""}this._renderWholeLineDecorations(e,i,r),this._renderNormalDecorations(e,i,r),this._renderResult=r}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let r=0,a=t.length;r<a;r++){const e=t[r];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(e.range.startLineNumber,o),c=Math.min(e.range.endLineNumber,s);for(let t=l;t<=c;t++){i[t-o]+=a}}}_renderNormalDecorations(e,t,i){var n;const o=String(this._lineHeight),s=e.visibleRange.startLineNumber;let r=null,a=!1,l=null,c=!1;for(let d=0,h=t.length;d<h;d++){const h=t[d];if(h.options.isWholeLine)continue;const u=h.options.className,g=Boolean(h.options.showIfCollapsed);let p=h.range;g&&1===p.endColumn&&p.endLineNumber!==p.startLineNumber&&(p=new Fb(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.viewModel.getLineMaxColumn(p.endLineNumber-1))),r===u&&a===g&&Fb.areIntersectingOrTouching(l,p)?l=Fb.plusRange(l,p):(null!==r&&this._renderNormalDecoration(e,l,r,c,a,o,s,i),r=u,a=g,l=p,c=null!==(n=h.options.shouldFillLineOnLineBreak)&&void 0!==n&&n)}null!==r&&this._renderNormalDecoration(e,l,r,c,a,o,s,i)}_renderNormalDecoration(e,t,i,n,o,s,r,a){const l=e.linesVisibleRangesForRange(t,"findMatch"===i);if(l)for(let c=0,d=l.length;c<d;c++){const e=l[c];if(e.outsideRenderedLine)continue;const t=e.lineNumber-r;if(o&&1===e.ranges.length){const t=e.ranges[0];if(t.width<this._typicalHalfwidthCharacterWidth){const i=Math.round(t.left+t.width/2),n=Math.max(0,Math.round(i-this._typicalHalfwidthCharacterWidth/2));e.ranges[0]=new AR(n,this._typicalHalfwidthCharacterWidth)}}for(let o=0,r=e.ranges.length;o<r;o++){const l=n&&e.continuesOnNextLine&&1===r,c=e.ranges[o],d='<div class="cdr '+i+'" style="left:'+String(c.left)+(l?"px;width:100%;height:":"px;width:"+String(c.width)+"px;height:")+s+'px;"></div>';a[t]+=d}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class DV extends DR{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,s=o.get(102),r=o.get(74),a=o.get(40),l=o.get(105),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+tF(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new NP(t.domNode,c,this._context.viewLayout.getScrollable())),ER.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=sy(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(n,1)};this._register(Zk(i.domNode,"scroll",(e=>d(i.domNode,!0,!0)))),this._register(Zk(t.domNode,"scroll",(e=>d(t.domNode,!0,!1)))),this._register(Zk(n.domNode,"scroll",(e=>d(n.domNode,!0,!1)))),this._register(Zk(this.scrollbarDomNode.domNode,"scroll",(e=>d(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(143);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(72).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(102)||e.hasChanged(74)||e.hasChanged(40)){const e=this._context.configuration.options,t=e.get(102),i=e.get(74),n=e.get(40),o=e.get(105),s={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(s)}return e.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+tF(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class EV extends hv{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}!function(e){e[e.Disabled=0]="Disabled",e[e.EnabledForActive=1]="EnabledForActive",e[e.Enabled=2]="Enabled"}(sV||(sV={}));class NV{constructor(e,t,i,n,o,s){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=n,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=s,-1!==e===(-1!==t))throw new Error}}class TV{constructor(e,t){this.top=e,this.endColumn=t}}class IV extends EV{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return function(e,t){let i=0,n=0;const o=e.length;for(;n<o;){const o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new ev("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide);let r=-2,a=-1,l=-2,c=-1;const d=e=>{if(-1!==r&&(-2===r||r>e-1)){r=-1,a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){r=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<n;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let h=-2,u=-1,g=-2,p=-1;const f=e=>{if(-2===h){h=-1,u=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){h=t,u=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,p=-1;for(let t=e;t<n;t++){const e=this._computeIndentLevel(t);if(e>=0){g=t,p=e;break}}}};let m=0,v=!0,b=0,_=!0,w=0,y=0;for(let C=0;v||_;C++){const o=e-C,r=e+C;C>1&&(o<1||o<t)&&(v=!1),C>1&&(r>n||r>i)&&(_=!1),C>5e4&&(v=!1,_=!1);let g=-1;if(v&&o>=1){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,c=e,g=Math.ceil(e/this.textModel.getOptions().indentSize)):(d(o),g=this._getIndentLevelForWhitespaceLine(s,a,c))}let S=-1;if(_&&r<=n){const e=this._computeIndentLevel(r-1);e>=0?(h=r-1,u=e,S=Math.ceil(e/this.textModel.getOptions().indentSize)):(f(r),S=this._getIndentLevelForWhitespaceLine(s,u,p))}if(0!==C){if(1===C){if(r<=n&&S>=0&&y+1===S){v=!1,m=r,b=r,w=S;continue}if(o>=1&&g>=0&&g-1===y){_=!1,m=o,b=o,w=g;continue}if(m=e,b=e,w=y,0===w)return{startLineNumber:m,endLineNumber:b,indent:w}}v&&(g>=w?m=o:v=!1),_&&(S>=w?b=r:_=!1)}else y=g}return{startLineNumber:m,endLineNumber:b,indent:w}}getLinesBracketGuides(e,t,i,n){var o;const s=[];for(let d=e;d<=t;d++)s.push([]);const r=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new Fb(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let a;if(i&&r.length>0){a=null===(o=iN((e<=i.lineNumber&&i.lineNumber<=t?r:this.textModel.bracketPairs.getBracketPairsInRange(Fb.fromPositions(i)).toArray()).filter((e=>Fb.strictContainsPosition(e.range,i))),(e=>true)))||void 0===o?void 0:o.range}const l=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,c=new AV;for(const d of r){if(!d.closingBracketRange)continue;const i=a&&d.range.equalsRange(a);if(!i&&!n.includeInactive)continue;const o=c.getInlineClassName(d.nestingLevel,d.nestingLevelOfEqualBracketType,l)+(n.highlightActive&&i?" "+c.activeClassName:""),r=d.openingBracketRange.getStartPosition(),h=d.closingBracketRange.getStartPosition(),u=n.horizontalGuides===sV.Enabled||n.horizontalGuides===sV.EnabledForActive&&i;if(d.range.startLineNumber===d.range.endLineNumber){u&&s[d.range.startLineNumber-e].push(new NV(-1,d.openingBracketRange.getEndPosition().column,o,new TV(!1,h.column),-1,-1));continue}const g=this.getVisibleColumnFromPosition(h),p=this.getVisibleColumnFromPosition(d.openingBracketRange.getStartPosition()),f=Math.min(p,g,d.minVisibleColumnIndentation+1);let m=!1;sw(this.textModel.getLineContent(d.closingBracketRange.startLineNumber))<d.closingBracketRange.startColumn-1&&(m=!0);const v=Math.max(r.lineNumber,e),b=Math.min(h.lineNumber,t),_=m?1:0;for(let t=v;t<b+_;t++)s[t-e].push(new NV(f,-1,o,null,t===r.lineNumber?r.column:-1,t===h.lineNumber?h.column:-1));u&&(r.lineNumber>=e&&p>f&&s[r.lineNumber-e].push(new NV(f,-1,o,new TV(!1,r.column),-1,-1)),h.lineNumber<=t&&g>f&&s[h.lineNumber-e].push(new NV(f,-1,o,new TV(!m,h.column),-1,-1)))}for(const d of s)d.sort(((e,t)=>e.visibleColumn-t.visibleColumn));return s}getVisibleColumnFromPosition(e){return XR.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),r=new Array(t-e+1);let a=-2,l=-1,c=-2,d=-1;for(let h=e;h<=t;h++){const t=h-e,o=this._computeIndentLevel(h-1);if(o>=0)a=h-1,l=o,r[t]=Math.ceil(o/n.indentSize);else{if(-2===a){a=-1,l=-1;for(let e=h-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e,l=t;break}}}if(-1!==c&&(-2===c||c<h-1)){c=-1,d=-1;for(let e=h;e<i;e++){const t=this._computeIndentLevel(e);if(t>=0){c=e,d=t;break}}}r[t]=this._getIndentLevelForWhitespaceLine(s,l,d)}}return r}_getIndentLevelForWhitespaceLine(e,t,i){const n=this.textModel.getOptions();return-1===t||-1===i?0:t<i?1+Math.floor(t/n.indentSize):t===i||e?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class AV{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-".concat(e%30)}}class MV extends JP{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(144),n=t.get(50);this._lineHeight=t.get(66),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144),n=t.get(50);return this._lineHeight=t.get(66),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var t;const i=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(i))&&(this._primaryPosition=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,c=this._primaryPosition,d=this.getGuidesByLine(s,Math.min(r+1,this._context.viewModel.getLineCount()),c),h=[];for(let u=s;u<=r;u++){const r=u-s,c=d[r];let g="";const p=null!==(i=null===(t=e.visibleRangeForPosition(new Pb(u,1)))||void 0===t?void 0:t.left)&&void 0!==i?i:0;for(const t of c){const i=-1===t.column?p+(t.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new Pb(u,t.column)).left;if(i>a||this._maxIndentLeft>0&&i>this._maxIndentLeft)break;const s=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",r=t.horizontalLine?(null!==(o=null===(n=e.visibleRangeForPosition(new Pb(u,t.horizontalLine.endColumn)))||void 0===n?void 0:n.left)&&void 0!==o?o:i+this._spaceWidth)-i:this._spaceWidth;g+='<div class="core-guide '.concat(t.className," ").concat(s,'" style="left:').concat(i,"px;height:").concat(l,"px;width:").concat(r,'px"></div>')}h[r]=g}this._renderResult=h}getGuidesByLine(e,t,i){const n=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?sV.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?sV.EnabledForActive:sV.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let s=0,r=0,a=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&i){const n=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=n.startLineNumber,r=n.endLineNumber,a=n.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),c=[];for(let d=e;d<=t;d++){const t=new Array;c.push(t);const i=n?n[d-e]:[],h=new Bp(i),u=o?o[d-e]:0;for(let e=1;e<=u;e++){const n=(e-1)*l+1,o=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===i.length)&&s<=d&&d<=r&&e===a;t.push(...h.takeWhile((e=>e.visibleColumn<n))||[]);const c=h.peek();c&&c.visibleColumn===n&&!c.horizontalLine||t.push(new NV(n,-1,"core-guide-indent lvl-".concat((e-1)%30)+(o?" indent-active":""),null,-1,-1))}t.push(...h.takeWhile((e=>!0))||[])}return c}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function OV(e){if(!e||!e.isTransparent())return e}oF(((e,t)=>{const i=[{bracketColor:RF,guideColor:HF,guideColorActive:YF},{bracketColor:PF,guideColor:jF,guideColorActive:ZF},{bracketColor:FF,guideColor:UF,guideColorActive:QF},{bracketColor:BF,guideColor:KF,guideColorActive:XF},{bracketColor:VF,guideColor:qF,guideColorActive:JF},{bracketColor:WF,guideColor:GF,guideColorActive:$F}],n=new AV,o=[{indentColor:pF,indentColorActive:wF},{indentColor:fF,indentColorActive:yF},{indentColor:mF,indentColorActive:CF},{indentColor:vF,indentColorActive:SF},{indentColor:bF,indentColorActive:kF},{indentColor:_F,indentColorActive:LF}],s=i.map((t=>{var i,n;const o=e.getColor(t.bracketColor),s=e.getColor(t.guideColor),r=e.getColor(t.guideColorActive),a=OV(null!==(i=OV(s))&&void 0!==i?i:null===o||void 0===o?void 0:o.transparent(.3)),l=OV(null!==(n=OV(r))&&void 0!==n?n:o);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter(Gp),r=o.map((t=>{const i=e.getColor(t.indentColor),n=e.getColor(t.indentColorActive),o=OV(i),s=OV(n);if(o&&s)return{indentColor:o,indentColorActive:s}})).filter(Gp);if(s.length>0){for(let e=0;e<30;e++){const i=s[e%s.length];t.addRule(".monaco-editor .".concat(n.getInlineClassNameOfLevel(e).replace(/ /g,".")," { --guide-color: ").concat(i.guideColor,"; --guide-color-active: ").concat(i.guideColorActive,"; }"))}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .vertical.".concat(n.activeClassName," { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }")),t.addRule(".monaco-editor .horizontal-top.".concat(n.activeClassName," { border-top: 1px solid var(--guide-color-active); }")),t.addRule(".monaco-editor .horizontal-bottom.".concat(n.activeClassName," { border-bottom: 1px solid var(--guide-color-active); }"))}if(r.length>0){for(let e=0;e<30;e++){const i=r[e%r.length];t.addRule(".monaco-editor .lines-content .core-guide-indent.lvl-".concat(e," { --indent-color: ").concat(i.indentColor,"; --indent-color-active: ").concat(i.indentColorActive,"; }"))}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}}));class RV{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class PV{constructor(){this._currentVisibleRange=new Fb(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class FV{constructor(e,t,i,n,o,s,r){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=o,this.stopScrollTop=s,this.scrollType=r,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class BV{constructor(e,t,i,n,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=o,this.type="selections";let s=t[0].startLineNumber,r=t[0].endLineNumber;for(let a=1,l=t.length;a<l;a++){const e=t[a];s=Math.min(s,e.startLineNumber),r=Math.max(r,e.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=r}}class VV extends DR{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new hV(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(50),s=n.get(144);this._lineHeight=n.get(66),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(99),this._cursorSurroundingLines=n.get(29),this._cursorSurroundingLinesStyle=n.get(30),this._canUseLayerHinting=!n.get(32),this._viewLineOptions=new HR(i,this._context.theme.type),ER.write(this.domNode,7),this.domNode.setClassName("view-lines ".concat(iB)),ry(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new mS((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new mS((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new PV,this._horizontalRevealRequest=null,this._stickyScrollEnabled=n.get(114).enabled,this._maxNumberStickyLines=n.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new jR(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(144)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),n=t.get(144);return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(99),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(114).enabled,this._maxNumberStickyLines=t.get(114).maxLineCount,ry(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new HR(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new FV(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new BV(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(n))return new Pb(n,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let r=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(e,t);const a=this._context.viewModel.getLineMinColumn(n);return r<a&&(r=a),new Pb(n,r)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===jR.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const n=new RV(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getWidth(n);return this._updateLineWidthsSlowIfDomDidLayout(n),o}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=Fb.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;const o=[];let s=0;const r=new RV(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pb(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let d=n.startLineNumber;d<=n.endLineNumber;d++){if(d<l||d>c)continue;const e=d===n.startLineNumber?n.startColumn:1,h=d!==n.endLineNumber,u=h?this._context.viewModel.getLineMaxColumn(d):n.endColumn,g=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(d,e,u,r);if(g){if(t&&d<i){const e=a;a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Pb(d+1,1)).lineNumber,e!==a&&(g.ranges[g.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new IR(g.outsideRenderedLine,d,AR.from(g.ranges),h)}}return this._updateLineWidthsSlowIfDomDidLayout(r),0===s?null:o}_visibleRangesForLineRange(e,t,i){if(this.shouldRender())return null;if(e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const n=new RV(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,n);return this._updateLineWidthsSlowIfDomDidLayout(n),o}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new OR(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let s=t;s<=i;s++){const t=this._visibleLines.getVisibleLine(s);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth(null)):o=!1}return o&&1===t&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth(null);n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Mf&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o,s){const r=e.top,a=e.height,l=r+a;let c,d,h;if(o&&o.length>0){let e=o[0].startLineNumber,t=o[0].endLineNumber;for(let i=1,n=o.length;i<n;i++){const n=o[i];e=Math.min(e,n.startLineNumber),t=Math.max(t,n.endLineNumber)}c=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!n)return-1;c=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight}let u,g=0,p=0;if(("mouse"===t||i)&&"default"===this._cursorSurroundingLinesStyle)i||(g=this._lineHeight);else{const e=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);g=this._stickyScrollEnabled?Math.max(e,this._maxNumberStickyLines)*this._lineHeight:e*this._lineHeight,p=Math.max(0,e-1)*this._lineHeight}if(i||0!==s&&4!==s||(p+=this._lineHeight),d-=g,h+=p,h-d>a){if(!c)return-1;u=d}else if(5===s||6===s)if(6===s&&r<=d&&h<=l)u=r;else{const e=d-Math.max(5*this._lineHeight,.2*a),t=h-a;u=Math.max(t,e)}else if(1===s||2===s)if(2===s&&r<=d&&h<=l)u=r;else{const e=(d+h)/2;u=Math.max(0,e-a/2)}else u=this._computeMinimumScrolling(r,l,d,h,3===s,4===s);return u}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(143),n=t.left,o=n+t.width-i.verticalScrollbarWidth;let s=1073741824,r=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)s=Math.min(s,Math.round(e.left)),r=Math.max(r,Math.round(e.left+e.width))}else for(const a of e.selections){if(a.startLineNumber!==a.endLineNumber)return null;const e=this._visibleRangesForLineRange(a.startLineNumber,a.startColumn,a.endColumn);if(!e)return null;for(const t of e.ranges)s=Math.min(s,Math.round(t.left)),r=Math.max(r,Math.round(t.left+t.width))}if(e.minimalReveal||(s=Math.max(0,s-VV.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding),"selections"===e.type&&r-s>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(n,o,s,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,i,n,o,s){o=!!o,s=!!s;const r=(t|=0)-(e|=0);return(n|=0)-(i|=0)<r?o?i:s?Math.max(0,n-r):i<e?i:n>t?Math.max(0,n-r):e:i}}VV.HORIZONTAL_EXTRA_PX=30;class WV{constructor(e,t,i,n){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i),this.zIndex=null!==n&&void 0!==n?n:0}}class zV{constructor(e,t){this.className=e,this.zIndex=t}}class HV{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class jV extends JP{_render(e,t,i){const n=[];for(let r=e;r<=t;r++){n[r-e]=new HV}if(0===i.length)return n;i.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,s=0;for(let r=0,a=i.length;r<a;r++){const a=i[r],l=a.className,c=a.zIndex;let d=Math.max(a.startLineNumber,e)-e;const h=Math.min(a.endLineNumber,t)-e;o===l?(d=Math.max(s+1,d),s=Math.max(s,h)):(o=l,s=h);for(let e=d;e<=s;e++)n[e].add(new zV(l,c))}return n}}class UV extends DR{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(143);this.domNode=sy(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=sy(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return(i.preference.lane!==t.lane||i.preference.zIndex!==t.zIndex||!Fb.equalsRange(i.preference.range,t.range))&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){var t;const i=e.getId();if(this._widgets[i]){const e=this._widgets[i].domNode.domNode;delete this._widgets[i],null===(t=e.parentNode)||void 0===t||t.removeChild(e),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var i,n,o;const s=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,a=e.getDecorationsInViewport();for(const l of a){const e=l.options.glyphMarginClassName;if(!e)continue;const a=Math.max(l.range.startLineNumber,s),c=Math.min(l.range.endLineNumber,r),d=Math.min(null!==(n=null===(i=l.options.glyphMargin)||void 0===i?void 0:i.position)&&void 0!==n?n:1,this._glyphMarginDecorationLaneCount),h=null!==(o=l.options.zIndex)&&void 0!==o?o:0;for(let i=a;i<=c;i++)t.push(new KV(i,d,h,e))}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const e=o.preference.range,{startLineNumber:s,endLineNumber:r}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(Fb.lift(e));if(!s||!r||r<i||s>n)continue;const a=Math.max(s,i),l=Math.min(o.preference.lane,this._glyphMarginDecorationLaneCount);t.push(new qV(a,l,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.lane===t.lane?e.zIndex===t.zIndex?t.type===e.type?0===e.type&&0===t.type?e.className<t.className?-1:1:0:t.type-e.type:t.zIndex-e.zIndex:e.lane-t.lane:e.lineNumber-t.lineNumber)),t}prepareRender(e){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(const n of Object.values(this._widgets))n.renderInfo=null;const t=new Bp(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const e=t.peek();if(!e)break;const n=t.takeWhile((t=>t.lineNumber===e.lineNumber&&t.lane===e.lane));if(!n||0===n.length)break;const o=n[0];if(0===o.type){const e=[];for(const t of n){if(t.zIndex!==o.zIndex||t.type!==o.type)break;0!==e.length&&e[e.length-1]===t.className||e.push(t.className)}i.push(o.accept(e.join(" ")))}else o.widget.renderInfo={lineNumber:o.lineNumber,lane:o.lane}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const e of Object.values(this._widgets))e.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const e=this._managedDomNodes.pop();null===e||void 0===e||e.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(i.renderInfo){const n=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+(i.renderInfo.lane-1)*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(n),i.domNode.setLeft(o),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}else i.domNode.setDisplay("none");for(let i=0;i<this._decorationGlyphsToRender.length;i++){const n=this._decorationGlyphsToRender[i],o=e.viewportData.relativeVerticalOffset[n.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+(n.lane-1)*this._lineHeight;let r;i<this._managedDomNodes.length?r=this._managedDomNodes[i]:(r=sy(document.createElement("div")),this._managedDomNodes.push(r),this.domNode.appendChild(r)),r.setClassName("cgmr codicon "+n.combinedClassName),r.setPosition("absolute"),r.setTop(o),r.setLeft(s),r.setWidth(t),r.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const e=this._managedDomNodes.pop();null===e||void 0===e||e.domNode.remove()}}}class KV{constructor(e,t,i,n){this.lineNumber=e,this.lane=t,this.zIndex=i,this.className=n,this.type=0}accept(e){return new GV(this.lineNumber,this.lane,e)}}class qV{constructor(e,t,i,n){this.lineNumber=e,this.lane=t,this.zIndex=i,this.widget=n,this.type=1}}class GV{constructor(e,t,i){this.lineNumber=e,this.lane=t,this.combinedClassName=i}}class YV extends jV{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(143);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.linesDecorationsClassName,r=e.options.zIndex;s&&(i[n++]=new WV(e.range.startLineNumber,e.range.endLineNumber,s,r));const a=e.options.firstLineDecorationClassName;a&&(i[n++]=new WV(e.range.startLineNumber,e.range.startLineNumber,a,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',s=[];for(let r=t;r<=i;r++){const e=r-t,i=n[e].getDecorations();let a="";for(const t of i)a+='<div class="cldr '+t.className+o;s[e]=a}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class ZV extends jV{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.marginClassName,r=e.options.zIndex;s&&(i[n++]=new WV(e.range.startLineNumber,e.range.endLineNumber,s,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){const e=s-t,i=n[e].getDecorations();let r="";for(const t of i)r+='<div class="cmdr '+t.className+'" style=""></div>';o[e]=r}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class QV{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=QV._clamp(e),this.g=QV._clamp(t),this.b=QV._clamp(i),this.a=QV._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}QV.Empty=new QV(0,0,0,0);class XV extends hv{static getInstance(){return this._INSTANCE||(this._INSTANCE=rv(new XV)),this._INSTANCE}constructor(){super(),this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(n_.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}_updateColorMap(){const e=n_.getColorMap();if(!e)return this._colors=[QV.Empty],void(this._backgroundIsLight=!0);this._colors=[QV.Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new QV(t.r,t.g,t.b,Math.round(255*t.a))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}XV._INSTANCE=null;const JV=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class $V{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=$V.soften(e,.8),this.charDataLight=$V.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=bE(e[n]*t);return i}renderChar(e,t,i,n,o,s,r,a,l,c,d){const h=1*this.scale,u=2*this.scale,g=d?1:u;if(t+h>e.width||i+g>e.height)return void console.warn("bad render request outside image data");const p=c?this.charDataLight:this.charDataNormal,f=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,l),m=4*e.width,v=r.r,b=r.g,_=r.b,w=o.r-v,y=o.g-b,C=o.b-_,S=Math.max(s,a),k=e.data;let L=f*h*u,x=i*m+4*t;for(let D=0;D<g;D++){let e=x;for(let t=0;t<h;t++){const t=p[L++]/255*(s/255);k[e++]=v+w*t,k[e++]=b+y*t,k[e++]=_+C*t,k[e++]=S}x+=m}}blockRenderChar(e,t,i,n,o,s,r,a){const l=1*this.scale,c=2*this.scale,d=a?1:c;if(t+l>e.width||i+d>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,u=o/255*.5,g=s.r,p=s.g,f=s.b,m=g+(n.r-g)*u,v=p+(n.g-p)*u,b=f+(n.b-f)*u,_=Math.max(o,r),w=e.data;let y=i*h+4*t;for(let C=0;C<d;C++){let e=y;for(let t=0;t<l;t++)w[e++]=m,w[e++]=v,w[e++]=b,w[e++]=_;y+=h}}}const eW={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},tW=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=eW[e[i]]<<4|15&eW[e[i+1]];return t},iW={1:tv((()=>tW("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:tv((()=>tW("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class nW{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=iW[e]?new $V(iW[e](),e):nW.createFromSampleData(nW.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="".concat(16,"px"),t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font="bold ".concat(16,"px ",e),i.textBaseline="middle";let n=0;for(const o of JV)i.fillText(String.fromCharCode(o),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");const i=nW._downsample(e,t);return new $V(i,t)}static _downsampleChar(e,t,i,n,o){const s=1*o,r=2*o;let a=n,l=0;for(let c=0;c<r;c++){const n=c/r*16,o=(c+1)/r*16;for(let r=0;r<s;r++){const c=r/s*10,d=(r+1)/s*10;let h=0,u=0;for(let i=n;i<o;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=c;t<d;t++){const i=1-(t-Math.floor(t)),s=n+4*Math.floor(t),r=i*o;u+=r,h+=e[s]*e[s+3]/255*r}}const g=h/u;l=Math.max(l,g),i[a++]=bE(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let s=0,r=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,r,o,s,t)),s+=i,r+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}class oW{constructor(e,t,i){const n=e.options,o=n.get(141),s=n.get(143),r=s.minimap,a=n.get(50),l=n.get(72);this.renderMinimap=r.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=r.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(104),this.paddingTop=n.get(83).top,this.paddingBottom=n.get(83).bottom,this.showSlider=l.showSlider,this.autohide=l.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(66),this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=r.minimapCanvasInnerWidth,this.canvasInnerHeight=r.minimapCanvasInnerHeight,this.canvasOuterWidth=r.minimapCanvasOuterWidth,this.canvasOuterHeight=r.minimapCanvasOuterHeight,this.isSampling=r.minimapIsSampling,this.editorHeight=s.height,this.fontScale=r.minimapScale,this.minimapLineHeight=r.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=tv((()=>nW.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=oW._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=oW._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor($O);return i?new QV(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(eR);return t?QV._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class sW{constructor(e,t,i,n,o,s,r,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.topPaddingLineCount=r,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,n,o,s,r,a,l,c,d){const h=e.pixelRatio,u=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/u),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){let t=a*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(t+=Math.max(0,o-e.lineHeight-e.paddingBottom));const i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),s=n/(c-o),d=l*s,h=n>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),g=Math.floor(e.paddingTop/e.lineHeight);return new sW(l,c,h,s,d,i,g,1,Math.min(r,u))}let f;if(s&&i!==r){const e=i-t+1;f=Math.floor(e*u/h)}else{const e=o/p;f=Math.floor(e*u/h)}const m=Math.floor(e.paddingTop/p);let v,b=Math.floor(e.paddingBottom/p);if(e.scrollBeyondLastLine){const e=o/p;b=Math.max(b,e-1)}if(b>0){v=(m+r+b-o/p-1)*u/h}else v=Math.max(0,(m+r)*u/h-f);v=Math.min(e.minimapHeight-f,v);const _=v/(c-o),w=l*_;if(g>=m+r+b){return new sW(l,c,v>0,_,w,f,m,1,r)}{let i,o;i=t>1?t+m:Math.max(1,l/p);let s=Math.max(1,Math.floor(i-w*h/u));s<m?(o=m-s+1,s=1):(o=0,s=Math.max(1,s-m)),d&&d.scrollHeight===c&&(d.scrollTop>l&&(s=Math.min(s,d.startLineNumber),o=Math.max(o,d.topPaddingLineCount)),d.scrollTop<l&&(s=Math.max(s,d.startLineNumber),o=Math.min(o,d.topPaddingLineCount)));const a=Math.min(r,s-o+g-1),v=(l-n)/p;let b;return b=l>=e.paddingTop?(t-s+o+v)*u/h:l/e.paddingTop*(o+v)*u/h,new sW(l,c,!0,_,b,f,o,s,a)}}}class rW{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}rW.INVALID=new rW(-1);class aW{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new dV((()=>rW.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let i=0,n=t.length;i<n;i++)if(-1===t[i].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class lW{constructor(e,t,i,n){this._backgroundFillData=lW._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,s=i.b,r=i.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let c=0;c<t;c++)for(let t=0;t<e;t++)a[l]=n,a[l+1]=o,a[l+2]=s,a[l+3]=r,l+=4;return a}}class cW{static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const{minimapLineCount:n}=Dm.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),o=t/n,s=o/2;if(!i||0===i.minimapLines.length){const e=[];if(e[0]=1,n>1){for(let t=0,i=n-1;t<i;t++)e[t]=Math.round(t*o+s);e[n-1]=t}return[new cW(o,e),[]]}const r=i.minimapLines,a=r.length,l=[];let c=0,d=0,h=1;let u=[],g=null;for(let p=0;p<n;p++){const e=Math.max(h,Math.round(p*o)),i=Math.max(e,Math.round((p+1)*o));for(;c<a&&r[c]<e;){if(u.length<10){const e=c+1+d;g&&"deleted"===g.type&&g._oldIndex===c-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:c,deleteFromLineNumber:e,deleteToLineNumber:e},u.push(g)),d--}c++}let f;if(c<a&&r[c]<=i)f=r[c],c++;else if(f=0===p?1:p+1===n?t:Math.round(p*o+s),u.length<10){const e=c+1+d;g&&"inserted"===g.type&&g._i===p-1?g.insertToLineNumber++:(g={type:"inserted",_i:p,insertFromLineNumber:e,insertToLineNumber:e},u.push(g)),d++}l[p]=f,h=f}if(u.length<10)for(;c<a;){const e=c+1+d;g&&"deleted"===g.type&&g._oldIndex===c-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:c,deleteFromLineNumber:e,deleteToLineNumber:e},u.push(g)),d--,c++}else u=[{type:"flush"}];return[new cW(o,l),u]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class dW extends DR{constructor(e){super(e),this.tokensColorTracker=XV.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new oW(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=cW.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new hW(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new oW(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return!!t&&this._actual.onLinesChanged(t[0],t[1]-t[0]+1)}return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=cW.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Bb(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new Fb(n,1,o,this._context.viewModel.getLineMaxColumn(o))}else i=new Fb(e,1,t,this._context.viewModel.getLineMaxColumn(t));const n=this._context.viewModel.getMinimapDecorationsInRange(i);if(this._samplingState){const e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new uI(new Fb(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new Fb(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class hW extends hv{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ZO),this._domNode=sy(document.createElement("div")),ER.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=sy(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=sy(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=sy(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=sy(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=sy(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Xk(this._domNode.domNode,TL.POINTER_DOWN,(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===e.button&&this._lastRenderData){const t=aL(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e,i,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)})),this._sliderPointerMoveMonitor=new _A,this._sliderPointerDownListener=Xk(this._slider.domNode,TL.POINTER_DOWN,(e=>{e.preventDefault(),e.stopPropagation(),0===e.button&&this._lastRenderData&&this._startSliderDragging(e,e.pageY,this._lastRenderData.renderedLayout)})),this._gestureDisposable=bA.addTarget(this._domNode.domNode),this._sliderTouchStartListener=Zk(this._domNode.domNode,mA.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=Zk(this._domNode.domNode,mA.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=Xk(this._domNode.domNode,mA.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const n=e.pageX;this._slider.toggleClassName("active",!0);const o=(e,o)=>{const s=aL(this._domNode.domNode),r=Math.min(Math.abs(o-n),Math.abs(o-s.left),Math.abs(o-s.left-s.width));if(If&&r>140)return void this._model.setScrollTop(i.scrollTop);const a=e-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(a))};e.pageY!==t&&o(e.pageY,n),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>o(e.pageY,e.pageX)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return"always"===this._model.options.showSlider?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new lW(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return null===(i=this._lastRenderData)||void 0===i||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ZO),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=sW.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(Fb.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,r=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const c=new uW(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,c,e,s),this._renderDecorationsLineHighlights(l,i,c,e,s);const d=new uW(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,d,e,s,a,r,n),this._renderDecorationsHighlights(l,i,d,e,s,a,r,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,r=0;for(const a of t){const t=n.intersectWithViewport(a);if(!t)continue;const[l,c]=t;for(let e=l;e<=c;e++)i.set(e,!0);const d=n.getYForLineNumber(l,o),h=n.getYForLineNumber(c,o);r>=d||(r>s&&e.fillRect(8,s,e.canvas.width,r-s),s=d),r=h}r>s&&e.fillRect(8,s,e.canvas.width,r-s)}_renderDecorationsLineHighlights(e,t,i,n,o){const s=new Map;for(let r=t.length-1;r>=0;r--){const a=t[r],l=a.options.minimap;if(!l||l.position!==RE.Inline)continue;const c=n.intersectWithViewport(a.range);if(!c)continue;const[d,h]=c,u=l.getColor(this._theme.value);if(!u||u.isTransparent())continue;let g=s.get(u.toString());g||(g=u.transparent(.5).toString(),s.set(u.toString(),g)),e.fillStyle=g;for(let t=d;t<=h;t++){if(i.has(t))continue;i.set(t,!0);const s=n.getYForLineNumber(d,o);e.fillRect(8,s,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,r,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=n.intersectWithViewport(l);if(!t)continue;const[c,d]=t;for(let h=c;h<=d;h++)this.renderDecorationOnLine(e,i,l,this._selectionColor,n,h,o,o,s,r,a)}}_renderDecorationsHighlights(e,t,i,n,o,s,r,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const c=n.intersectWithViewport(l.range);if(!c)continue;const[d,h]=c,u=t.getColor(this._theme.value);if(u&&!u.isTransparent())for(let g=d;g<=h;g++)switch(t.position){case RE.Inline:this.renderDecorationOnLine(e,i,l.range,u,n,g,o,o,s,r,a);continue;case RE.Gutter:{const t=n.getYForLineNumber(g,o),i=2;this.renderDecoration(e,u,i,t,2,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,r,a,l,c,d){const h=o.getYForLineNumber(s,a);if(h+r<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:u,endLineNumber:g}=i,p=u===s?i.startColumn:1,f=g===s?i.endColumn:this._model.getLineMaxColumn(s),m=this.getXOffsetForPosition(t,s,p,l,c,d),v=this.getXOffsetForPosition(t,s,f,l,c,d);this.renderDecoration(e,n,m,h,v-m,r)}getXOffsetForPosition(e,t,i,n,o,s){if(1===i)return 8;if((i-1)*o>=s)return s;let r=e.get(t);if(!r){const i=this._model.getLineContent(t);r=[8];let a=8;for(let e=1;e<i.length+1;e++){const t=i.charCodeAt(e-1),l=a+(9===t?n*o:Mw(t)?2*o:o);if(l>=s){r[e]=s;break}r[e]=l,a=l}e.set(t,r)}return i-1<r.length?r[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new aW(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;const[s,r,a]=hW._renderUntouchedLines(o,e.topPaddingLineCount,t,i,n,this._lastRenderData),l=this._model.getMinimapLinesRenderingData(t,i,a),c=this._model.getOptions().tabSize,d=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,u=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,p=g.backgroundIsLight(),f=this._model.options.renderMinimap,m=this._model.options.charRenderer(),v=this._model.options.fontScale,b=this._model.options.minimapCharWidth,_=(1===f?2:3)*v,w=n>_?Math.floor((n-_)/2):0,y=h.a/255,C=new QV(Math.round((h.r-d.r)*y+d.r),Math.round((h.g-d.g)*y+d.g),Math.round((h.b-d.b)*y+d.b),255);let S=e.topPaddingLineCount*n;const k=[];for(let D=0,E=i-t+1;D<E;D++)a[D]&&hW._renderLine(o,C,h.a,p,f,b,g,u,m,S,w,c,l[D],v,n),k[D]=new rW(S),S+=n;const L=-1===s?0:s,x=(-1===r?o.height:r)-L;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,L,o.width,x),new aW(e,o,k)}static _renderUntouchedLines(e,t,i,n,o,s){const r=[];if(!s){for(let e=0,t=n-i+1;e<t;e++)r[e]=!0;return[-1,-1,r]}const a=s._get(),l=a.imageData.data,c=a.rendLineNumberStart,d=a.lines,h=d.length,u=e.width,g=e.data,p=(n-i+1)*o*u*4;let f=-1,m=-1,v=-1,b=-1,_=-1,w=-1,y=t*o;for(let C=i;C<=n;C++){const e=C-i,t=C-c,n=t>=0&&t<h?d[t].dy:-1;if(-1===n){r[e]=!0,y+=o;continue}const s=n*u*4,a=(n+o)*u*4,S=y*u*4,k=(y+o)*u*4;b===s&&w===S?(b=a,w=k):(-1!==v&&(g.set(l.subarray(v,b),_),-1===f&&0===v&&v===_&&(f=b),-1===m&&b===p&&v===_&&(m=v)),v=s,b=a,_=S,w=k),r[e]=!1,y+=o}-1!==v&&(g.set(l.subarray(v,b),_),-1===f&&0===v&&v===_&&(f=b),-1===m&&b===p&&v===_&&(m=v));return[-1===f?-1:f/(4*u),-1===m?-1:m/(4*u),r]}static _renderLine(e,t,i,n,o,s,r,a,l,c,d,h,u,g,p){const f=u.content,m=u.tokens,v=e.width-s,b=1===p;let _=8,w=0,y=0;for(let C=0,S=m.getCount();C<S;C++){const u=m.getEndOffset(C),p=m.getForeground(C),S=r.getColor(p);for(;w<u;w++){if(_>v)return;const r=f.charCodeAt(w);if(9===r){const e=h-(w+y)%h;y+=e-1,_+=e*s}else if(32===r)_+=s;else{const h=Mw(r)?2:1;for(let u=0;u<h;u++)if(2===o?l.blockRenderChar(e,_,c+d,S,a,t,i,b):l.renderChar(e,_,c+d,r,S,a,t,i,g,n,b),_+=s,_>v)return}}}}}class uW{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class gW extends DR{constructor(e){super(e);const t=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=sy(document.createElement("div")),ER.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=sy(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?(this._updateMaxMinWidth(),!1):(i.preference=t,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var e,t;let i=0;const n=Object.keys(this._widgets);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=null===(t=(e=this._widgets[s].widget).getMinContentWidthInPx)||void 0===t?void 0:t.call(e);"undefined"!==typeof r&&(i=Math.max(i,r))}this._context.viewLayout.setOverlayWidgetsMinWidth(i)}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.setTop("")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._renderWidget(this._widgets[e])}}}class pW{constructor(e,t){const i=e.options;this.lineHeight=i.get(66),this.pixelRatio=i.get(141),this.overviewRulerLanes=i.get(82),this.renderBorder=i.get(81);const n=t.getColor(EF);this.borderColor=n?n.toString():null,this.hideCursor=i.get(59);const o=t.getColor(lF);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(72),r=s.enabled,a=s.side,l=t.getColor(NF),c=n_.getDefaultBackground();this.backgroundColor=l||(r&&"right"===a?c:null);const d=i.get(143).overviewRuler;this.top=d.top,this.right=d.right,this.domWidth=d.width,this.domHeight=d.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,u]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=u}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,s=e+t;return[[0,e,s,e,e+t+o,e,s,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&hT.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class fW extends DR{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=sy(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=n_.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new pW(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Pb.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return!!e.affectsOverviewRuler&&this._markRenderingIsMaybeNeeded()}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return!!e.scrollHeightChanged&&this._markRenderingIsNeeded()}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return!!this._updateSettings(!1)&&this._markRenderingIsNeeded()}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(e?hT.Format.CSS.formatHexA(e):""),void this._domNode.setDisplay("none");const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(gI.compareByRenderingProps),1!==this._actualShouldRender||gI.equalsArr(this._renderedDecorations,t)||(this._actualShouldRender=2),1!==this._actualShouldRender||bp(this._renderedCursorPositions,this._cursorPositions,((e,t)=>e.lineNumber===t.lineNumber))||(this._actualShouldRender=2),1===this._actualShouldRender)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,n=this._settings.canvasHeight,o=this._settings.lineHeight,s=this._context.viewLayout,r=n/this._context.viewLayout.getScrollHeight(),a=6*this._settings.pixelRatio|0,l=a/2|0,c=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(c.fillStyle=hT.Format.CSS.formatHexA(e),c.fillRect(0,0,i,n)):(c.clearRect(0,0,i,n),c.fillStyle=hT.Format.CSS.formatHexA(e),c.fillRect(0,0,i,n)):c.clearRect(0,0,i,n);const d=this._settings.x,h=this._settings.w;for(const u of t){const e=u.color,t=u.data;c.fillStyle=e;let i=0,g=0,p=0;for(let u=0,f=t.length/3;u<f;u++){const e=t[3*u],f=t[3*u+1],m=t[3*u+2];let v=s.getVerticalOffsetForLineNumber(f)*r|0,b=(s.getVerticalOffsetForLineNumber(m)+o)*r|0;if(b-v<a){let e=(v+b)/2|0;e<l?e=l:e+l>n&&(e=n-l),v=e-l,b=e+l}v>p+1||e!==i?(0!==u&&c.fillRect(d[i],g,h[i],p-g),i=e,g=v,p=b):b>p&&(p=b)}c.fillRect(d[i],g,h[i],p-g)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,t=e/2|0,i=this._settings.x[7],o=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let a=-100,l=-100;for(let d=0,h=this._cursorPositions.length;d<h;d++){const h=this._cursorPositions[d];let u=s.getVerticalOffsetForLineNumber(h.lineNumber)*r|0;u<t?u=t:u+t>n&&(u=n-t);const g=u-t,p=g+e;g>l+1?(0!==d&&c.fillRect(i,a,o,l-a),a=g,l=p):p>l&&(l=p)}c.fillRect(i,a,o,l-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,n),c.stroke(),c.moveTo(0,0),c.lineTo(i,0),c.stroke())}}class mW{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class vW{constructor(e,t,i,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class bW{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(vW.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2),s=[];for(let r=0,a=this._zones.length;r<a;r++){const a=this._zones[r];if(!e){const e=a.getColorZones();if(e){s.push(e);continue}}const l=this._getVerticalOffsetForLine(a.startLineNumber),c=0===a.heightInLines?this._getVerticalOffsetForLine(a.endLineNumber)+t:l+a.heightInLines*t,d=Math.floor(n*l),h=Math.floor(n*c);let u=Math.floor((d+h)/2),g=h-u;g<o&&(g=o),u-g<0&&(u=g),u+g>i&&(u=i-g);const p=a.color;let f=this._color2Id[p];f||(f=++this._lastAssignedId,this._color2Id[p]=f,this._id2Color[f]=p);const m=new mW(u-g,u+g,f);a.setColorZone(m),s.push(m)}return this._colorZonesInvalid=!1,s.sort(mW.compare),s}}class _W extends xR{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=sy(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new bW((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(66)),this._zoneManager.setPixelRatio(i.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(66)&&(this._zoneManager.setLineHeight(t.get(66)),this._render()),e.hasChanged(141)&&(this._zoneManager.setPixelRatio(t.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,r=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==o?(e.fillRect(0,s,n,r-s),o=t,e.fillStyle=i[o],s=l,r=c):r>=l?r=Math.max(r,c):(e.fillRect(0,s,n,r-s),s=l,r=c)}e.fillRect(0,s,n,r-s)}}class wW extends DR{constructor(e){super(e),this.domNode=sy(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.viewModel.model.getOptions(),n=i;let o=t-e;for(;o>0;){const e=sy(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?"1px 0 0 0 ".concat(n.color," inset"):""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}class yW extends DR{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(102);this._useShadows=t.useShadows,this._domNode=sy(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(143);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(102);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class CW{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class SW{constructor(e,t){this.lineNumber=e,this.ranges=t}}function kW(e){return new CW(e)}function LW(e){return new SW(e.lineNumber,e.ranges.map(kW))}class xW extends JP{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const r=t[t.length-1].lineNumber;if(r===e.endLineNumber)for(let e=i.length-1;!s&&e>=0;e--)i[e].lineNumber===r&&(s=i[e].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let r=0,a=t.length;r<a;r++){const e=t[r].ranges[0],i=e.left,l=e.left+e.width,c={top:0,bottom:0},d={top:0,bottom:0};if(r>0){const e=t[r-1].ranges[0].left,o=t[r-1].ranges[0].left+t[r-1].ranges[0].width;DW(i-e)<n?c.top=2:i>e&&(c.top=1),DW(l-o)<n?d.top=2:e<l&&l<o&&(d.top=1)}else o&&(c.top=o.startStyle.top,d.top=o.endStyle.top);if(r+1<a){const e=t[r+1].ranges[0].left,o=t[r+1].ranges[0].left+t[r+1].ranges[0].width;DW(i-e)<n?c.bottom=2:e<i&&i<o&&(c.bottom=1),DW(l-o)<n?d.bottom=2:l<o&&(d.bottom=1)}else s&&(c.bottom=s.startStyle.bottom,d.bottom=s.endStyle.bottom);e.startStyle=c,e.endStyle=d}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(LW);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let c=0,d=n.length;c<d;c++){const d=n[c],h=d.lineNumber,u=h-t,g=i&&(h===l||h===a)?r:s,p=i&&h===a?1:0;let f="",m="";for(let e=0,t=d.ranges.length;e<t;e++){const t=d.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){f+=this._createSelectionPiece(p,g,xW.SELECTION_CLASS_NAME,t.left-xW.ROUNDED_PIECE_WIDTH,xW.ROUNDED_PIECE_WIDTH);let i=xW.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+xW.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+xW.SELECTION_BOTTOM_RIGHT),f+=this._createSelectionPiece(p,g,i,t.left-xW.ROUNDED_PIECE_WIDTH,xW.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){f+=this._createSelectionPiece(p,g,xW.SELECTION_CLASS_NAME,t.left+t.width,xW.ROUNDED_PIECE_WIDTH);let e=xW.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+xW.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+xW.SELECTION_BOTTOM_LEFT),f+=this._createSelectionPiece(p,g,e,t.left+t.width,xW.ROUNDED_PIECE_WIDTH)}}let i=xW.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+xW.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+xW.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+xW.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+xW.SELECTION_BOTTOM_RIGHT)}m+=this._createSelectionPiece(p,g,i,t.left,t.width)}e[u][0]+=f,e[u][1]+=m}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){t[s-i]=["",""]}const o=[];for(let s=0,r=this._selections.length;s<r;s++){const n=this._selections[s];if(n.isEmpty()){o[s]=null;continue}const r=this._getVisibleRangesWithStyle(n,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=r,this._actualRenderOneSelection(t,i,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((e=>{let[t,i]=e;return t+i}))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function DW(e){return e<0?-e:e}xW.SELECTION_CLASS_NAME="selected-text",xW.SELECTION_TOP_LEFT="top-left-radius",xW.SELECTION_BOTTOM_LEFT="bottom-left-radius",xW.SELECTION_TOP_RIGHT="top-right-radius",xW.SELECTION_BOTTOM_RIGHT="bottom-right-radius",xW.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",xW.ROUNDED_PIECE_WIDTH=10,oF(((e,t)=>{const i=e.getColor(OM);i&&!i.isTransparent()&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: ".concat(i,"; }"))}));class EW{constructor(e,t,i,n,o,s,r){this.top=e,this.left=t,this.paddingLeft=i,this.width=n,this.height=o,this.textContent=s,this.textContentClassName=r}}class NW{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=sy(document.createElement("div")),this._domNode.setClassName("cursor ".concat(iB)),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),ry(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Pb(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),ry(this._domNode,i),!0}onCursorPositionChanged(e,t){return this._domNode.domNode.style.transitionProperty=t?"none":"",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=function(e,t){t>0&&ww(e.charCodeAt(t))&&t--;const i=t+Lw(e,t);return[i-xw(e,i),i]}(i,t-1);return[new Pb(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="",i="";const[n,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===Cm.Line||this._cursorStyle===Cm.LineThin){const s=e.visibleRangeForPosition(n);if(!s||s.outsideRenderedLine)return null;const r=Fk(this._domNode.domNode);let a;this._cursorStyle===Cm.Line?(a=UL(r,this._lineCursorWidth>0?this._lineCursorWidth:2),a>2&&(t=o,i=this._getTokenClassName(n))):a=UL(r,1);let l=s.left,c=0;a>=2&&l>=1&&(c=1,l-=c);const d=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta;return new EW(d,l,c,a,this._lineHeight,t,i)}const s=e.linesVisibleRangesForRange(new Fb(n.lineNumber,n.column,n.lineNumber,n.column+o.length),!1);if(!s||0===s.length)return null;const r=s[0];if(r.outsideRenderedLine||0===r.ranges.length)return null;const a=r.ranges[0],l="\t"===o||a.width<1?this._typicalHalfwidthCharacterWidth:a.width;this._cursorStyle===Cm.Block&&(t=o,i=this._getTokenClassName(n));let c=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return this._cursorStyle!==Cm.Underline&&this._cursorStyle!==Cm.UnderlineThin||(c+=this._lineHeight-2,d=2),new EW(c,a.left,0,l,d,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor ".concat(iB," ").concat(this._renderData.textContentClassName)),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class TW extends DR{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new NW(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=sy(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new pS,this._cursorFlatBlinkInterval=new tL,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const n=this._secondaryCursors.length!==t.length||"explicit"===this._cursorSmoothCaretAnimation&&3!==i;if(this._primaryCursor.onCursorPositionChanged(e,n),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new NW(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o],n)}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),TW.BLINK_INTERVAL,Fk(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),TW.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Cm.Line:e+=" cursor-line-style";break;case Cm.Block:e+=" cursor-block-style";break;case Cm.Underline:e+=" cursor-underline-style";break;case Cm.LineThin:e+=" cursor-line-thin-style";break;case Cm.BlockOutline:e+=" cursor-block-outline-style";break;case Cm.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return"on"!==this._cursorSmoothCaretAnimation&&"explicit"!==this._cursorSmoothCaretAnimation||(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,s=this._secondaryCursors.length;o<s;o++){const n=this._secondaryCursors[o].render(e);n&&(t[i++]=n)}this._renderData=t}getLastRenderData(){return this._renderData}}TW.BLINK_INTERVAL=500,oF(((e,t)=>{const i=e.getColor(lF);if(i){let n=e.getColor(cF);n||(n=i.opposite()),t.addRule(".monaco-editor .cursors-layer .cursor { background-color: ".concat(i,"; border-color: ").concat(i,"; color: ").concat(n,"; }")),BR(e.type)&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ".concat(n,"; border-right: 1px solid ").concat(n,"; }"))}}));const IW=()=>{throw new Error("Invalid change accessor")};class AW extends DR{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=sy(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=sy(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=this._zones[s],a=this._computeWhitespaceProps(r.delegate);r.isInHiddenArea=a.isInHiddenArea;const l=t.get(s);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(s,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,i;return null!==(i=null!==(t=e.ordinal)&&void 0!==t?t:e.afterColumn)&&void 0!==i?i:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if("undefined"!==typeof e.afterColumn)t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Pb(i,this._context.viewModel.model.getLineMaxColumn(i))}i=t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),o=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace((i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{return e(t)}catch(Pee){Um(Pee)}}(e,n),n.addZone=IW,n.removeZone=IW,n.layoutZone=IW})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:sy(t.domNode),marginDomNode:t.marginDomNode?sy(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"===typeof e.heightInPx?e.heightInPx:"number"===typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"===typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"===typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(Pee){Um(Pee)}}_safeCallOnDomNodeTop(e,t){if("function"===typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(Pee){Um(Pee)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(const s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,n=!0);const o=Object.keys(this._zones);for(let s=0,r=o.length;s<r;s++){const t=o[s],n=this._zones[t];let r=0,a=0,l="none";i.hasOwnProperty(t)?(r=i[t].verticalOffset-e.bigNumbersDelta,a=i[t].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(i[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(r),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(r),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class MW{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class OW{constructor(e,t,i){this.configuration=e,this.theme=new MW(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class RW{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new Fb(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class PW extends DR{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=sy(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const t=this._context.configuration.options.get(143),i=t.contentWidth-t.verticalScrollbarWidth;this.contentWidth!==i&&(this.contentWidth=i,e=!0);const n=t.contentLeft;return this.contentLeft!==n&&(this.contentLeft=n,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var t;let i=0;const n=e.getDecorationsInViewport();for(const o of n){if(!o.options.blockClassName)continue;let n,s,r=this.blocks[i];r||(r=this.blocks[i]=sy(document.createElement("div")),this.domNode.appendChild(r)),o.options.blockIsAfterEnd?(n=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!1),s=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0)):(n=e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!0),s=o.range.isEmpty()&&!o.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0));const[a,l,c,d]=null!==(t=o.options.blockPadding)&&void 0!==t?t:[0,0,0,0];r.setClassName("blockDecorations-block "+o.options.blockClassName),r.setLeft(this.contentLeft-d),r.setWidth(this.contentWidth+d+l),r.setTop(n-e.scrollTop-a),r.setHeight(s-n+a+c),i++}for(let o=i;o<this.blocks.length;o++)this.blocks[o].domNode.remove();this.blocks.length=i}}class FW extends JP{constructor(e){super(),this._context=e,this._options=new BW(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new BW(this._context.configuration);return this._options.equals(t)?e.hasChanged(143):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,"selection"===this._options.renderWhitespace}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if("none"===this._options.renderWhitespace)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber-t+1,n=new Array(i);for(let s=0;s<i;s++)n[s]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,n);this._renderResult=[];for(let s=e.viewportData.startLineNumber;s<=e.viewportData.endLineNumber;s++){const t=s-e.viewportData.startLineNumber,i=o.data[t];let n=null;if("selection"===this._options.renderWhitespace){const e=this._selection;for(const t of e){if(t.endLineNumber<s||t.startLineNumber>s)continue;const e=t.startLineNumber===s?t.startColumn:i.minColumn,o=t.endLineNumber===s?t.endColumn:i.maxColumn;e<o&&(n||(n=[]),n.push(new ZT(e-1,o-1)))}}this._renderResult[t]=this._applyRenderWhitespace(e,s,n,i)}}_applyRenderWhitespace(e,t,i,n){if("selection"===this._options.renderWhitespace&&!i)return"";if("trailing"===this._options.renderWhitespace&&n.continuesWithWrappedLine)return"";const o=this._context.theme.getColor(dF),s=this._options.renderWithSVG,r=n.content,a=-1===this._options.stopRenderingLineAfter?r.length:Math.min(this._options.stopRenderingLineAfter,r.length),l=n.continuesWithWrappedLine,c=n.minColumn-1,d="boundary"===this._options.renderWhitespace,h="trailing"===this._options.renderWhitespace,u=this._options.lineHeight,g=this._options.middotWidth,p=this._options.wsmiddotWidth,f=this._options.spaceWidth,m=Math.abs(p-f)<Math.abs(g-f)?11825:183,v=this._options.canUseHalfwidthRightwardsArrow;let b,_="",w=!1,y=sw(r);-1===y?(w=!0,y=a,b=a):b=aw(r);let C=0,S=i&&i[C],k=0;for(let L=c;L<a;L++){const n=r.charCodeAt(L);if(S&&L>=S.endOffset&&(C++,S=i&&i[C]),9!==n&&32!==n)continue;if(h&&!w&&L<=b)continue;if(d&&L>=y&&L<=b&&32===n){const e=L-1>=0?r.charCodeAt(L-1):0,t=L+1<a?r.charCodeAt(L+1):0;if(32!==e&&32!==t)continue}if(d&&l&&L===a-1){const e=L-1>=0?r.charCodeAt(L-1):0;if(32===n&&32!==e&&9!==e)continue}if(i&&(!S||S.startOffset>L||S.endOffset<=L))continue;const o=e.visibleRangeForPosition(new Pb(t,L+1));o&&(s?(k=Math.max(k,o.left),_+=9===n?this._renderArrow(u,f,o.left):'<circle cx="'.concat((o.left+f/2).toFixed(2),'" cy="').concat((u/2).toFixed(2),'" r="').concat((f/7).toFixed(2),'" />')):_+=9===n?'<div class="mwh" style="left:'.concat(o.left,"px;height:").concat(u,'px;">').concat(v?String.fromCharCode(65515):String.fromCharCode(8594),"</div>"):'<div class="mwh" style="left:'.concat(o.left,"px;height:").concat(u,'px;">').concat(String.fromCharCode(m),"</div>"))}return s?(k=Math.round(k+f),'<svg style="position:absolute;width:'.concat(k,"px;height:").concat(u,'px" viewBox="0 0 ').concat(k," ").concat(u,'" xmlns="http://www.w3.org/2000/svg" fill="').concat(o,'">')+_+"</svg>"):_}_renderArrow(e,t,i){const n=e/2,o=i,s={x:0,y:t/7/2},r={x:.8*t,y:s.y},a={x:r.x-.2*r.x,y:r.y+.2*r.x},l={x:a.x+.1*r.x,y:a.y+.1*r.x},c={x:l.x+.35*r.x,y:l.y-.35*r.x},d=[s,r,a,l,c,{x:c.x,y:-c.y},{x:l.x,y:-l.y},{x:a.x,y:-a.y},{x:r.x,y:-r.y},{x:s.x,y:-s.y}].map((e=>"".concat((o+e.x).toFixed(2)," ").concat((n+e.y).toFixed(2)))).join(" L ");return'<path d="M '.concat(d,'" />')}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class BW{constructor(e){const t=e.options,i=t.get(50),n=t.get(38);"off"===n?(this.renderWhitespace="none",this.renderWithSVG=!1):"svg"===n?(this.renderWhitespace=t.get(98),this.renderWithSVG=!0):(this.renderWhitespace=t.get(98),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(66),this.stopRenderingLineAfter=t.get(116)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}var VW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},WW=function(e,t){return function(i,n){t(i,n,e)}};let zW=class extends xR{constructor(e,t,i,n,o,s,r){super(),this._instantiationService=r,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Bb(1,1,1,1)],this._renderAnimationFrame=null;const a=new lV(t,n,o,e);this._context=new OW(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(cB,this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=sy(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=sy(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=sy(document.createElement("div")),ER.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new DV(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new VV(this._context,this._linesContent),this._viewZones=new AW(this._context),this._viewParts.push(this._viewZones);const l=new fW(this._context);this._viewParts.push(l);const c=new yW(this._context);this._viewParts.push(c);const d=new fV(this._context);this._viewParts.push(d),d.addDynamicOverlay(new kV(this._context)),d.addDynamicOverlay(new xW(this._context)),d.addDynamicOverlay(new MV(this._context)),d.addDynamicOverlay(new xV(this._context)),d.addDynamicOverlay(new FW(this._context));const h=new mV(this._context);this._viewParts.push(h),h.addDynamicOverlay(new LV(this._context)),h.addDynamicOverlay(new ZV(this._context)),h.addDynamicOverlay(new YV(this._context)),h.addDynamicOverlay(new eB(this._context)),this._glyphMarginWidgets=new UV(this._context),this._viewParts.push(this._glyphMarginWidgets);const u=new tB(this._context);u.getDomNode().appendChild(this._viewZones.marginDomNode),u.getDomNode().appendChild(h.getDomNode()),u.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(u),this._contentWidgets=new vV(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new TW(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new gW(this._context),this._viewParts.push(this._overlayWidgets);const g=new wW(this._context);this._viewParts.push(g);const p=new PW(this._context);this._viewParts.push(p);const f=new dW(this._context);if(this._viewParts.push(f),l){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(l.getDomNode(),e.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(g.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this._overflowGuardContainer.appendChild(p.domNode),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new XP(this._context,a,this._createPointerHandlerHelper()))}_computeGlyphMarginLaneCount(){const e=this._context.viewModel.model;let t=[];t=t.concat(e.getAllMarginDecorations().map((e=>{var t,i;const n=null!==(i=null===(t=e.options.glyphMargin)||void 0===t?void 0:t.position)&&void 0!==i?i:OE.Left;return{range:e.range,lane:n}}))),t=t.concat(this._glyphMarginWidgets.getWidgets().map((t=>({range:e.validateRange(t.preference.range),lane:t.preference.lane})))),t.sort(((e,t)=>Fb.compareRangesUsingStarts(e.range,t.range)));let i=null,n=null;for(const o of t)if(o.lane===OE.Left&&(!i||Fb.compareRangesUsingEnds(i,o.range)<0)&&(i=o.range),o.lane===OE.Right&&(!n||Fb.compareRangesUsingEnds(n,o.range)<0)&&(n=o.range),i&&n){if(i.endLineNumber<n.startLineNumber){i=null;continue}if(n.endLineNumber<i.startLineNumber){n=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new iP(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Pb(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const e=this._context.configuration.options.get(143);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+tF(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new ev;if(null===this._renderAnimationFrame){const e=this._createCoordinatedRendering();this._renderAnimationFrame=jW.INSTANCE.scheduleCoordinatedRendering({window:Fk(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new ev;try{return e.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new ev;return e.renderText()},prepareRender:(t,i)=>{if(this._store.isDisposed)throw new ev;return e.prepareRender(t,i)},render:(t,i)=>{if(this._store.isDisposed)throw new ev;return e.render(t,i)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();HW((()=>e.prepareRenderText()));const t=HW((()=>e.renderText()));if(t){const[i,n]=t;HW((()=>e.prepareRender(i,n))),HW((()=>e.render(i,n)))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),FP.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new RW(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new TR(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new Pb(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?cV.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new _W(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,n,o,s,r,a,l;this._contentWidgets.setWidgetPosition(e.widget,null!==(i=null===(t=e.position)||void 0===t?void 0:t.position)&&void 0!==i?i:null,null!==(o=null===(n=e.position)||void 0===n?void 0:n.secondaryPosition)&&void 0!==o?o:null,null!==(r=null===(s=e.position)||void 0===s?void 0:s.preference)&&void 0!==r?r:null,null!==(l=null===(a=e.position)||void 0===a?void 0:a.positionAffinity)&&void 0!==l?l:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};function HW(e){try{return e()}catch(Pee){return Um(Pee),null}}zW=VW([WW(6,my)],zW);class jW{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(-1!==t&&(this._coordinatedRenderings.splice(t,1),0===this._coordinatedRenderings.length)){for(const[e,t]of this._animationFrameRunners)t.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,$k(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)HW((()=>i.prepareRenderText()));const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];t[i]=HW((()=>n.renderText()))}for(let i=0,n=e.length;i<n;i++){const n=e[i],o=t[i];if(!o)continue;const[s,r]=o;HW((()=>n.prepareRender(s,r)))}for(let i=0,n=e.length;i<n;i++){const n=e[i],o=t[i];if(!o)continue;const[s,r]=o;HW((()=>n.render(s,r)))}}}jW.INSTANCE=new jW;class UW{constructor(e,t,i,n,o,s,r){this.id=e,this.label=t,this.alias=i,this.metadata=n,this._precondition=o,this._run=s,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}function KW(e){let t=0,i=0,n=0,o=0;for(let s=0,r=e.length;s<r;s++){const a=e.charCodeAt(s);13===a?(0===t&&(i=s),t++,s+1<r&&10===e.charCodeAt(s+1)?(o|=2,s++):o|=3,n=s+1):10===a&&(o|=1,0===t&&(i=s),t++,n=s+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}class qW{constructor(e,t,i,n){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=n}}class GW{constructor(e,t,i,n,o,s){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class YW extends GW{constructor(e,t,i,n,o,s,r){super(e,t,i,n,o,s),this.minVisibleColumnIndentation=r}}class ZW{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return"".concat(this.lineCount,",").concat(this.columnCount)}}ZW.zero=new ZW(0,0);const QW=0;function XW(e){return 0===e}const JW=2**26;function $W(e,t){return e*JW+t}function ez(e){const t=e,i=Math.floor(t/JW);return new ZW(i,t-i*JW)}function tz(e,t){let i=e+t;return t>=JW&&(i-=e%JW),i}function iz(e,t){return e.reduce(((e,i)=>tz(e,t(i))),QW)}function nz(e,t){return e===t}function oz(e,t){const i=e,n=t;if(n-i<=0)return QW;const o=Math.floor(i/JW),s=Math.floor(n/JW),r=n-s*JW;if(o===s){return $W(0,r-(i-o*JW))}return $W(s-o,r)}function sz(e,t){return e<t}function rz(e,t){return e<=t}function az(e,t){return e>=t}function lz(e){return $W(e.lineNumber-1,e.column-1)}function cz(e,t){const i=e,n=Math.floor(i/JW),o=i-n*JW,s=t,r=Math.floor(s/JW);return new Fb(n+1,o+1,r+1,s-r*JW+1)}class dz{static fromModelContentChanges(e){const t=e.map((e=>{const t=Fb.lift(e.range);return new dz(lz(t.getStartPosition()),lz(t.getEndPosition()),function(e){const t=ow(e);return $W(t.length-1,t[t.length-1].length)}(e.text))})).reverse();return t}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return"[".concat(ez(this.startOffset),"...").concat(ez(this.endOffset),") -> ").concat(ez(this.newLength))}}class hz{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>uz.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return null===i?null:oz(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?$W(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):$W(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=ez(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?$W(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):$W(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!rz(i,e))break;{this.nextEditIdx++;const e=ez(i),n=ez(this.translateOldToCur(t.endOffsetBeforeObj)),o=e.lineCount-n.lineCount;this.deltaOldToNewLineCount+=o;const s=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=e.columnCount-n.columnCount;this.deltaOldToNewColumnCount=s+r,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class uz{static from(e){return new uz(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=ez(t),this.endOffsetAfterObj=ez(tz(e,i)),this.offsetObj=ez(e)}}const gz=[];class pz{static create(e,t){if(e<=128&&0===t.length){let i=pz.cache[e];return i||(i=new pz(e,t),pz.cache[e]=i),i}return new pz(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let n=i>>5;if(0===n){const e=1<<i|this.items;return e===this.items?this:pz.create(e,this.additionalItems)}n--;const o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(31&i),pz.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===gz&&e.additionalItems===gz)return t===this.items?this:t===e.items?e:pz.create(t,gz);const i=[];for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){const t=this.additionalItems[n]||0,o=e.additionalItems[n]||0;i.push(t|o)}return pz.create(t,i)}intersects(e){if(0!==(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!==(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}pz.cache=new Array(129),pz.empty=pz.create(0,gz);const fz={getKey:e=>e};class mz{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class vz{get length(){return this._length}constructor(e){this._length=e}}class bz extends vz{static create(e,t,i){let n=e.length;return t&&(n=tz(n,t.length)),i&&(n=tz(n,i.length)),new bz(n,e,t,i,t?t.missingOpeningBracketIds:pz.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new bz(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(tz(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class _z extends vz{static create23(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=tz(o,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=tz(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new yz(o,e.listHeight+1,e,t,i,s):new wz(o,e.listHeight+1,e,t,i,s)}static getEmpty(){return new Sz(QW,0,[],pz.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;let t=this;for(;4===t.kind;){const e=t.childrenLength;if(0===e)throw new ev;t=t.getChild(e-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){const e=this.getChild(n);t=tz(t,e.length),i=i.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){const e=this.getChild(o);e&&(i=Math.min(i,e.computeMinIndentation(n,t)),n=tz(n,e.length))}return this.cachedMinIndentation=i,i}}class wz extends _z{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,n,o,s){super(e,t,s),this._item1=i,this._item2=n,this._item3=o}deepClone(){return new wz(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class yz extends wz{toMutable(){return new wz(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class Cz extends _z{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,n){super(e,t,n),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Cz(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class Sz extends Cz{toMutable(){return new Cz(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const kz=[];class Lz extends vz{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return kz}deepClone(){return this}}class xz extends Lz{get kind(){return 0}get missingOpeningBracketIds(){return pz.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=ez(e),n=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,o=(s=tz(e,this.length),Math.floor(s/JW)+1);var s;let r=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){const e=t.getLineFirstNonWhitespaceColumn(a),i=t.getLineContent(a);if(0===e)continue;const n=XR.visibleColumnFromColumn(i,e,t.getOptions().tabSize);r=Math.min(r,n)}return r}}class Dz extends Lz{static create(e,t,i){return new Dz(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return pz.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Ez extends Lz{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Nz{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}}class Tz{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Iz(this.textModel,this.bracketTokens),this._offset=QW,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return $W(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=tz(this._offset,e);const t=ez(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=tz(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class Iz{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const n=this.lineTokens,o=n.getCount();let s=null;if(this.lineTokenOffset<o){const r=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&r===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=0===zT.getTokenType(r),l=zT.containsBalancedBrackets(r),c=n.getEndOffset(this.lineTokenOffset);if(l&&a&&this.lineCharOffset<c){const e=n.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,c),i=this.bracketTokens.getSingleLanguageBracketTokens(e),o=i.regExpGlobal;if(o){o.lastIndex=0;const e=o.exec(t);e&&(s=i.getToken(e[0]),s&&(this.lineCharOffset+=e.index))}}if(i+=c-this.lineCharOffset,s){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}return this.lineCharOffset+=s.length,s}this.lineTokenOffset++,this.lineCharOffset=c}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3)break}if(i>1500)break}const n=(o=e,s=t,r=this.lineIdx,a=this.lineCharOffset,o!==r?$W(r-o,a):$W(0,a-s));var o,s,r,a;return new Nz(n,0,-1,pz.getEmpty(),new xz(n))}}class Az{constructor(e,t){this.text=e,this._offset=QW,this.idx=0;const i=t.getRegExpStr(),n=i?new RegExp(i+"|\n","gi"):null,o=[];let s,r=0,a=0,l=0,c=0;const d=[];for(let g=0;g<60;g++)d.push(new Nz($W(0,g),0,-1,pz.getEmpty(),new xz($W(0,g))));const h=[];for(let g=0;g<60;g++)h.push(new Nz($W(1,g),0,-1,pz.getEmpty(),new xz($W(1,g))));if(n)for(n.lastIndex=0;null!==(s=n.exec(e));){const e=s.index,i=s[0];if("\n"===i)r++,a=e+1;else{if(l!==e){let t;if(c===r){const i=e-l;if(i<d.length)t=d[i];else{const e=$W(0,i);t=new Nz(e,0,-1,pz.getEmpty(),new xz(e))}}else{const i=r-c,n=e-a;if(1===i&&n<h.length)t=h[n];else{const e=$W(i,n);t=new Nz(e,0,-1,pz.getEmpty(),new xz(e))}}o.push(t)}o.push(t.getToken(i)),l=e+i.length,c=r}}const u=e.length;if(l!==u){const e=c===r?$W(0,u-l):$W(r-c,u-a);o.push(new Nz(e,0,-1,pz.getEmpty(),new xz(e)))}this.length=$W(r,u-a),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new Jm}}class Mz{static createFromLanguage(e,t){function i(e){return t.getKey("".concat(e.languageId,":::").concat(e.bracketText))}const n=new Map;for(const o of e.bracketsNew.openingBrackets){const e=$W(0,o.bracketText.length),t=i(o),s=pz.getEmpty().add(t,fz);n.set(o.bracketText,new Nz(e,1,t,s,Dz.create(e,o,s)))}for(const o of e.bracketsNew.closingBrackets){const e=$W(0,o.bracketText.length);let t=pz.getEmpty();const s=o.getOpeningBrackets();for(const n of s)t=t.add(i(n),fz);n.set(o.bracketText,new Nz(e,2,i(s[0]),t,Dz.create(e,o,t)))}return new Mz(n)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){let t=ew(e);/^[\w ]+/.test(e)&&(t="\\b".concat(t));/[\w ]+$/.test(e)&&(t="".concat(t,"\\b"));return t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(2===i.kind&&i.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class Oz{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Mz.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function Rz(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return null;if(1===e.length)return e[0];let i=e.length;for(;i>3;){const n=i>>1;for(let o=0;o<n;o++){const n=o<<1;e[o]=_z.create23(e[n],e[n+1],n+3===i?e[n+2]:null,t)}i=n}return _z.create23(e[0],e[1],i>=3?e[2]:null,t)}function Pz(e,t){return Math.abs(e.listHeight-t.listHeight)}function Fz(e,t){return e.listHeight===t.listHeight?_z.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){e=e.toMutable();let i=e;const n=[];let o;for(;;){if(t.listHeight===i.listHeight){o=t;break}if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let s=n.length-1;s>=0;s--){const e=n[s];o?e.childrenLength>=3?o=_z.create23(e.unappendChild(),o,null,!1):(e.appendChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?_z.create23(e,o,null,!1):e}(e,t):function(e,t){e=e.toMutable();let i=e;const n=[];for(;t.listHeight!==i.listHeight;){if(4!==i.kind)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let o=t;for(let s=n.length-1;s>=0;s--){const e=n[s];o?e.childrenLength>=3?o=_z.create23(o,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(o),o=void 0):e.handleChildrenChanged()}return o?_z.create23(o,e,null,!1):e}(t,e)}class Bz{constructor(e){this.lastOffset=QW,this.nextNodes=[e],this.offsets=[QW],this.idxs=[]}readLongestNodeAt(e,t){if(sz(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Wz(this.nextNodes);if(!i)return;const n=Wz(this.offsets);if(sz(e,n))return;if(sz(n,e))if(tz(n,i.length)<=e)this.nextNodeAfterCurrent();else{const e=Vz(i);-1!==e?(this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const e=Vz(i);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(e)),this.offsets.push(n),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=Wz(this.offsets),t=Wz(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=Wz(this.nextNodes),n=Vz(i,this.idxs[this.idxs.length-1]);if(-1!==n){this.nextNodes.push(i.getChild(n)),this.offsets.push(tz(e,t.length)),this.idxs[this.idxs.length-1]=n;break}this.idxs.pop()}}}function Vz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(;;){if(t++,t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function Wz(e){return e.length>0?e[e.length-1]:void 0}function zz(e,t,i,n){return new Hz(e,t,i,n).parseDocument()}class Hz{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new Bz(i):void 0,this.positionMapper=new hz(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(pz.getEmpty(),0);return e||(e=_z.getEmpty()),e}parseList(e,t){const i=[];for(;;){let n=this.tryReadChildFromCache(e);if(!n){const i=this.tokenizer.peek();if(!i||2===i.kind&&i.bracketIds.intersects(e))break;n=this.parseChild(e,t+1)}4===n.kind&&0===n.childrenLength||i.push(n)}const n=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function i(){if(t>=e.length)return null;const i=t,n=e[i].listHeight;for(t++;t<e.length&&e[t].listHeight===n;)t++;return t-i>=2?Rz(0===i&&t===e.length?e:e.slice(i,t),!1):e[i]}let n=i(),o=i();if(!o)return n;for(let s=i();s;s=i())Pz(n,o)<=Pz(o,s)?(n=Fz(n,o),o=s):o=Fz(o,s);return Fz(n,o)}(i):Rz(i,this.createImmutableLists);return n}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!XW(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(i=>{if(null!==t&&!sz(i.length,t))return!1;return i.canBeReused(e)}));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new Ez(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new xz(i.length);const n=e.merge(i.bracketIds),o=this.parseList(n,t+1),s=this.tokenizer.peek();return s&&2===s.kind&&(s.bracketId===i.bracketId||s.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),bz.create(i.astNode,o,s.astNode)):bz.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}function jz(e,t){if(0===e.length)return t;if(0===t.length)return e;const i=new Bp(Kz(e)),n=Kz(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let o=i.dequeue();function s(e){if(void 0===e){const e=i.takeWhile((e=>!0))||[];return o&&e.unshift(o),e}const t=[];for(;o&&!XW(e);){const[n,s]=o.splitAt(e);t.push(n),e=oz(n.lengthAfter,e),o=null!==s&&void 0!==s?s:i.dequeue()}return XW(e)||t.push(new Uz(!1,e,e)),t}const r=[];function a(e,t,i){if(r.length>0&&nz(r[r.length-1].endOffset,e)){const e=r[r.length-1];r[r.length-1]=new dz(e.startOffset,t,tz(e.newLength,i))}else r.push({startOffset:e,endOffset:t,newLength:i})}let l=QW;for(const c of n){const e=s(c.lengthBefore);if(c.modified){const t=tz(l,iz(e,(e=>e.lengthBefore)));a(l,t,c.lengthAfter),l=t}else for(const t of e){const e=l;l=tz(l,t.lengthBefore),t.modified&&a(e,l,t.lengthAfter)}}return r}class Uz{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=oz(e,this.lengthAfter);return nz(t,QW)?[this,void 0]:this.modified?[new Uz(this.modified,this.lengthBefore,e),new Uz(this.modified,QW,t)]:[new Uz(this.modified,e,e),new Uz(this.modified,t,t)]}toString(){return"".concat(this.modified?"M":"U",":").concat(ez(this.lengthBefore)," -> ").concat(ez(this.lengthAfter))}}function Kz(e){const t=[];let i=QW;for(const n of e){const e=oz(i,n.startOffset);XW(e)||t.push(new Uz(!1,e,e));const o=oz(n.startOffset,n.endOffset);t.push(new Uz(!0,o,n.newLength)),i=n.endOffset}return t}class qz extends hv{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new Cv,this.denseKeyProvider=new mz,this.brackets=new Oz(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new Az(this.textModel.getValue(),e);this.initialAstWithoutTokens=zz(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens(e){let{ranges:t}=e;const i=t.map((e=>new dz($W(e.fromLineNumber-1,0),$W(e.toLineNumber,0),$W(e.toLineNumber-e.fromLineNumber+1,0))));this.handleEdits(i,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=dz.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=jz(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=jz(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const n=t;return zz(new Tz(this.textModel,this.brackets),e,n,i)}getBracketsInRange(e,t){this.flushQueue();const i=$W(e.startLineNumber-1,e.startColumn-1),n=$W(e.endLineNumber-1,e.endColumn-1);return new Vp((e=>{const o=this.initialAstWithoutTokens||this.astWithTokens;Zz(o,QW,o.length,i,n,e,0,0,new Map,t)}))}getBracketPairsInRange(e,t){this.flushQueue();const i=lz(e.getStartPosition()),n=lz(e.getEndPosition());return new Vp((e=>{const o=this.initialAstWithoutTokens||this.astWithTokens,s=new Qz(e,t,this.textModel);Xz(o,QW,o.length,i,n,s,0,new Map)}))}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Yz(t,QW,t.length,lz(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Gz(t,QW,t.length,lz(e))}}function Gz(e,t,i,n){if(4===e.kind||2===e.kind){const o=[];for(const n of e.children)i=tz(t,n.length),o.push({nodeOffsetStart:t,nodeOffsetEnd:i}),t=i;for(let t=o.length-1;t>=0;t--){const{nodeOffsetStart:i,nodeOffsetEnd:s}=o[t];if(sz(i,n)){const o=Gz(e.children[t],i,s,n);if(o)return o}}return null}if(3===e.kind)return null;if(1===e.kind){const n=cz(t,i);return{bracketInfo:e.bracketInfo,range:n}}return null}function Yz(e,t,i,n){if(4===e.kind||2===e.kind){for(const o of e.children){if(sz(n,i=tz(t,o.length))){const e=Yz(o,t,i,n);if(e)return e}t=i}return null}if(3===e.kind)return null;if(1===e.kind){const n=cz(t,i);return{bracketInfo:e.bracketInfo,range:n}}return null}function Zz(e,t,i,n,o,s,r,a,l,c){let d=arguments.length>10&&void 0!==arguments[10]&&arguments[10];if(r>200)return!0;e:for(;;)switch(e.kind){case 4:{const a=e.childrenLength;for(let d=0;d<a;d++){const a=e.getChild(d);if(a){if(i=tz(t,a.length),rz(t,o)&&az(i,n)){if(az(i,o)){e=a;continue e}if(!Zz(a,t,i,n,o,s,r,0,l,c))return!1}t=i}}return!0}case 2:{const d=!c||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo);let h=0;if(l){let t=l.get(e.openingBracket.text);void 0===t&&(t=0),h=t,d&&(t++,l.set(e.openingBracket.text,t))}const u=e.childrenLength;for(let g=0;g<u;g++){const u=e.getChild(g);if(u){if(i=tz(t,u.length),rz(t,o)&&az(i,n)){if(az(i,o)&&1!==u.kind){e=u,d?(r++,a=h+1):a=h;continue e}if(d||1!==u.kind||!e.closingBracket){if(!Zz(u,t,i,n,o,s,d?r+1:r,d?h+1:h,l,c,!e.closingBracket))return!1}}t=i}}return null===l||void 0===l||l.set(e.openingBracket.text,h),!0}case 3:{const e=cz(t,i);return s(new qW(e,r-1,0,!0))}case 1:{const e=cz(t,i);return s(new qW(e,r-1,a-1,d))}case 0:return!0}}class Qz{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function Xz(e,t,i,n,o,s,r,a){var l;if(r>200)return!0;let c=!0;if(2===e.kind){let d=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),d=t,t++,a.set(e.openingBracket.text,t)}const h=tz(t,e.openingBracket.length);let u=-1;if(s.includeMinIndentation&&(u=e.computeMinIndentation(t,s.textModel)),c=s.push(new YW(cz(t,i),cz(t,h),e.closingBracket?cz(tz(h,(null===(l=e.child)||void 0===l?void 0:l.length)||QW),i):void 0,r,d,e,u)),t=h,c&&e.child){const l=e.child;if(i=tz(t,l.length),rz(t,o)&&az(i,n)&&(c=Xz(l,t,i,n,o,s,r+1,a),!c))return!1}null===a||void 0===a||a.set(e.openingBracket.text,d)}else{let i=t;for(const t of e.children){const e=i;if(i=tz(i,t.length),rz(e,o)&&rz(n,i)&&(c=Xz(t,e,i,n,o,s,r,a),!c))return!1}}return c}class Jz extends hv{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new uv),this.onDidChangeEmitter=new Cv,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const i=new dv;this.bracketPairsTree.value=(e=i.add(new qz(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=i,{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}),i.add(this.bracketPairsTree.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire());var e,t}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||Vp.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||Vp.empty}getBracketsInRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(i=this.bracketPairsTree.value)||void 0===i?void 0:i.object.getBracketsInRange(e,t))||Vp.empty}findMatchingBracketUp(e,t,i){const n=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column);if(this.canBuildAST){const i=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!i)return null;const n=this.getBracketPairsInRange(Fb.fromPositions(t,t)).findLast((e=>i.closes(e.openingBracketInfo)));return n?n.openingBracketRange:null}{const t=e.toLowerCase(),s=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!s)return null;const r=s.textIsBracket[t];return r?tH(this._findMatchingBracketUp(r,n,$z(i))):null}}matchBracket(e,t){if(this.canBuildAST){const t=this.getBracketPairsInRange(Fb.fromPositions(e,e)).filter((t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e)))).findLastMaxBy(Op((t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange),Fb.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{const i=$z(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),s=t.getLanguageId(n);let r=Math.max(0,e.column-1-i.maxBracketLength);for(let l=n-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=r)break;if(Px(t.getStandardTokenType(l))||t.getLanguageId(l)!==s){r=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let l=n+1;l<o;l++){const e=t.getStartOffset(l);if(e>=a)break;if(Px(t.getStandardTokenType(l))||t.getLanguageId(l)!==s){a=e;break}}return{searchStartOffset:r,searchEndOffset:a}}_matchBracket(e,t){const i=e.lineNumber,n=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const r=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(r&&!Px(n.getStandardTokenType(s))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,n,r,s),c=null;for(;;){const n=lD.findNextBracketInRange(r.forwardRegex,i,o,a,l);if(!n)break;if(n.startColumn<=e.column&&e.column<=n.endColumn){const e=o.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),i=this._matchFoundBracket(n,r.textIsBracket[e],r.textIsOpenBracket[e],t);if(i){if(i instanceof eH)return null;c=i}}a=n.endColumn-1}if(c)return c}if(s>0&&n.getStartOffset(s)===e.column-1){const r=s-1,a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(r)).brackets;if(a&&!Px(n.getStandardTokenType(r))){const{searchStartOffset:s,searchEndOffset:l}=this._establishBracketSearchOffsets(e,n,a,r),c=lD.findPrevBracketInRange(a.reversedRegex,i,o,s,l);if(c&&c.startColumn<=e.column&&e.column<=c.endColumn){const e=o.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),i=this._matchFoundBracket(c,a.textIsBracket[e],a.textIsOpenBracket[e],t);if(i)return i instanceof eH?null:i}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof eH?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageId,o=e.reversedRegex;let s=-1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100===0&&!i())return eH.INSTANCE;const c=lD.findPrevBracketInRange(o,t,n,a,l);if(!c)break;const d=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?s++:e.isClose(d)&&s--,0===s)return c;l=c.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this.textModel.tokenization.getLineTokens(l),i=e.getCount(),o=this.textModel.getLineContent(l);let s=i-1,r=o.length,c=o.length;l===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,c=t.column-1);let d=!0;for(;s>=0;s--){const t=e.getLanguageId(s)===n&&!Px(e.getStandardTokenType(s));if(t)d?r=e.getStartOffset(s):(r=e.getStartOffset(s),c=e.getEndOffset(s));else if(d&&r!==c){const e=a(l,o,r,c);if(e)return e}d=t}if(d&&r!==c){const e=a(l,o,r,c);if(e)return e}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageId,o=e.forwardRegex;let s=1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100===0&&!i())return eH.INSTANCE;const c=lD.findNextBracketInRange(o,t,n,a,l);if(!c)break;const d=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(d)?s++:e.isClose(d)&&s--,0===s)return c;a=c.endColumn-1}return null},l=this.textModel.getLineCount();for(let c=t.lineNumber;c<=l;c++){const e=this.textModel.tokenization.getLineTokens(c),i=e.getCount(),o=this.textModel.getLineContent(c);let s=0,r=0,l=0;c===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,l=t.column-1);let d=!0;for(;s<i;s++){const t=e.getLanguageId(s)===n&&!Px(e.getStandardTokenType(s));if(t)d||(r=e.getStartOffset(s)),l=e.getEndOffset(s);else if(d&&r!==l){const e=a(c,o,r,l);if(e)return e}d=t}if(d&&r!==l){const e=a(c,o,r,l);if(e)return e}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(i))||null;let n=null,o=null,s=null;for(let r=i.lineNumber;r>=1;r--){const e=this.textModel.tokenization.getLineTokens(r),t=e.getCount(),a=this.textModel.getLineContent(r);let l=t-1,c=a.length,d=a.length;if(r===i.lineNumber){l=e.findTokenIndexAtOffset(i.column-1),c=i.column-1,d=i.column-1;const t=e.getLanguageId(l);n!==t&&(n=t,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let h=!0;for(;l>=0;l--){const t=e.getLanguageId(l);if(n!==t){if(o&&s&&h&&c!==d){const e=lD.findPrevBracketInRange(o.reversedRegex,r,a,c,d);if(e)return this._toFoundBracket(s,e);h=!1}n=t,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const i=!!o&&!Px(e.getStandardTokenType(l));if(i)h?c=e.getStartOffset(l):(c=e.getStartOffset(l),d=e.getEndOffset(l));else if(s&&o&&h&&c!==d){const e=lD.findPrevBracketInRange(o.reversedRegex,r,a,c,d);if(e)return this._toFoundBracket(s,e)}h=i}if(s&&o&&h&&c!==d){const e=lD.findPrevBracketInRange(o.reversedRegex,r,a,c,d);if(e)return this._toFoundBracket(s,e)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(i))||null;const n=this.textModel.getLineCount();let o=null,s=null,r=null;for(let a=i.lineNumber;a<=n;a++){const e=this.textModel.tokenization.getLineTokens(a),t=e.getCount(),n=this.textModel.getLineContent(a);let l=0,c=0,d=0;if(a===i.lineNumber){l=e.findTokenIndexAtOffset(i.column-1),c=i.column-1,d=i.column-1;const t=e.getLanguageId(l);o!==t&&(o=t,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let h=!0;for(;l<t;l++){const t=e.getLanguageId(l);if(o!==t){if(r&&s&&h&&c!==d){const e=lD.findNextBracketInRange(s.forwardRegex,a,n,c,d);if(e)return this._toFoundBracket(r,e);h=!1}o=t,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,r=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const i=!!s&&!Px(e.getStandardTokenType(l));if(i)h||(c=e.getStartOffset(l)),d=e.getEndOffset(l);else if(r&&s&&h&&c!==d){const e=lD.findNextBracketInRange(s.forwardRegex,a,n,c,d);if(e)return this._toFoundBracket(r,e)}h=i}if(r&&s&&h&&c!==d){const e=lD.findNextBracketInRange(s.forwardRegex,a,n,c,d);if(e)return this._toFoundBracket(r,e)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const e=Fb.fromPositions(i),t=this.getBracketPairsInRange(Fb.fromPositions(i,i)).findLast((t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e)));return t?[t.openingBracketRange,t.closingBracketRange]:null}const n=$z(t),o=this.textModel.getLineCount(),s=new Map;let r=[];const a=(e,t)=>{if(!s.has(e)){const i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;s.set(e,i)}r=s.get(e)};let l=0;const c=(e,t,i,o,s)=>{for(;;){if(n&&++l%100===0&&!n())return eH.INSTANCE;const a=lD.findNextBracketInRange(e.forwardRegex,t,i,o,s);if(!a)break;const c=i.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),d=e.textIsBracket[c];if(d&&(d.isOpen(c)?r[d.index]++:d.isClose(c)&&r[d.index]--,-1===r[d.index]))return this._matchFoundBracket(a,d,!1,n);o=a.endColumn-1}return null};let d=null,h=null;for(let u=i.lineNumber;u<=o;u++){const e=this.textModel.tokenization.getLineTokens(u),t=e.getCount(),n=this.textModel.getLineContent(u);let o=0,s=0,r=0;if(u===i.lineNumber){o=e.findTokenIndexAtOffset(i.column-1),s=i.column-1,r=i.column-1;const t=e.getLanguageId(o);d!==t&&(d=t,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,a(d,h))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(d!==t){if(h&&l&&s!==r){const e=c(h,u,n,s,r);if(e)return tH(e);l=!1}d=t,h=this.languageConfigurationService.getLanguageConfiguration(d).brackets,a(d,h)}const i=!!h&&!Px(e.getStandardTokenType(o));if(i)l||(s=e.getStartOffset(o)),r=e.getEndOffset(o);else if(h&&l&&s!==r){const e=c(h,u,n,s,r);if(e)return tH(e)}l=i}if(h&&l&&s!==r){const e=c(h,u,n,s,r);if(e)return tH(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const n=e.getBracketInfo(i);return n?{range:t,bracketInfo:n}:null}}function $z(e){if("undefined"===typeof e)return()=>!0;{const t=Date.now();return()=>Date.now()-t<=e}}class eH{constructor(){this._searchCanceledBrand=void 0}}function tH(e){return e instanceof eH?null:e}eH.INSTANCE=new eH;class iH extends hv{constructor(e){super(),this.textModel=e,this.colorProvider=new nH,this.onDidChangeEmitter=new Cv,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,n){if(n)return[];if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(e,!0).map((e=>({id:"bracket".concat(e.range.toString(),"-").concat(e.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}))).toArray()}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Fb(1,1,this.textModel.getLineCount(),1),e,t):[]}}class nH{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-".concat(e%30)}}function oH(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}oF(((e,t)=>{const i=[RF,PF,FF,BF,VF,WF],n=new nH;t.addRule(".monaco-editor .".concat(n.unexpectedClosingBracketClassName," { color: ").concat(e.getColor(zF),"; }"));const o=i.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let s=0;s<30;s++){const e=o[s%o.length];t.addRule(".monaco-editor .".concat(n.getInlineClassNameOfLevel(s)," { color: ").concat(e,"; }"))}}));class sH{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}toString(){return 0===this.oldText.length?"(insert@".concat(this.oldPosition,' "').concat(oH(this.newText),'")'):0===this.newText.length?"(delete@".concat(this.oldPosition,' "').concat(oH(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(oH(this.oldText),'" with "').concat(oH(this.newText),'")')}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;Gx(e,n,i),i+=4;for(let o=0;o<n;o++)Kx(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=qx(e,t);return Jx(e,t+=4,i)}writeSize(){return 8+sH._writeStringSize(this.oldText)+sH._writeStringSize(this.newText)}write(e,t){return Gx(e,this.oldPosition,t),t+=4,Gx(e,this.newPosition,t),t+=4,t=sH._writeString(e,this.oldText,t),t=sH._writeString(e,this.newText,t)}static read(e,t,i){const n=qx(e,t),o=qx(e,t+=4);t+=4;const s=sH._readString(e,t);t+=sH._writeStringSize(s);const r=sH._readString(e,t);return t+=sH._writeStringSize(r),i.push(new sH(n,s,o,r)),t}}class rH{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=rH._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=rH._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,s;if(n.oldEnd===i.newEnd)o=i,s=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,r]=rH._splitPrev(i,n.oldLength);o=e,s=n,i=r,n=this._getCurr(++t)}else{const[t,r]=rH._splitCurr(n,i.newLength);o=i,s=t,i=this._getPrev(++e),n=r}this._result[this._resultLen++]=new sH(o.oldPosition,o.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const o=rH._merge(this._result);return rH._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=rH._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=rH._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new sH(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new sH(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new sH(e.oldPosition,e.oldText,e.newPosition,i),new sH(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new sH(e.oldPosition,i,e.newPosition,e.newText),new sH(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let i=0,n=e[0];for(let o=1;o<e.length;o++){const s=e[o];n.oldEnd===s.oldPosition?n=new sH(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}function aH(e){return 47===e||92===e}function lH(e){return e.replace(/[\\/]/g,hb.sep)}function cH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hb.sep;if(!e)return"";const i=e.length,n=e.charCodeAt(0);if(aH(n)){if(aH(e.charCodeAt(1))&&!aH(e.charCodeAt(2))){let n=3;const o=n;for(;n<i&&!aH(e.charCodeAt(n));n++);if(o!==n&&!aH(e.charCodeAt(n+1)))for(n+=1;n<i;n++)if(aH(e.charCodeAt(n)))return e.slice(0,n+1).replace(/[\\/]/g,t)}return t}if(hH(n)&&58===e.charCodeAt(1))return aH(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let o=e.indexOf("://");if(-1!==o)for(o+=3;o<i;o++)if(aH(e.charCodeAt(o)))return e.slice(0,o+1);return""}function dH(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bb;if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!mw(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}function hH(e){return e>=65&&e<=90||e>=97&&e<=122}function uH(e){return Ib(e,!0)}class gH{constructor(e){this._ignorePathCasing=e}compare(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t?0:lw(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.scheme===t.scheme){if(e.scheme===Ck.file)return dH(uH(e),uH(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(wH(e.authority,t.authority))return dH(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Lb.joinPath(e,...i)}basenameOrAuthority(e){return mH(e)||e.authority}basename(e){return hb.basename(e.path)}extname(e){return hb.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===Ck.file?t=Lb.file(fb(uH(e))).path:(t=hb.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error('dirname("'.concat(e.toString,")) resulted in a relative path")),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===Ck.file?Lb.file(ub(uH(e))).path:hb.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!wH(e.authority,t.authority))return;if(e.scheme===Ck.file){const i=pb(uH(e),uH(t));return If?lH(i):i}let i=e.path||"/";const n=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(i.length,n.length);e<t&&(i.charCodeAt(e)===n.charCodeAt(e)||i.charAt(e).toLowerCase()===n.charAt(e).toLowerCase());e++);i=n.substr(0,e)+i.substr(e)}return hb.relative(i,n)}resolvePath(e,t){if(e.scheme===Ck.file){const i=Lb.file(gb(uH(e),t));return e.with({authority:i.authority,path:i.path})}var i;return-1===(i=t).indexOf("/")&&(i=lH(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),t=i,e.with({path:hb.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&fw(e,t)}hasTrailingPathSeparator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bb;if(e.scheme===Ck.file){const i=uH(e);return i.length>cH(i).length&&i[i.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e){return yH(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:bb)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bb,i=!1;if(e.scheme===Ck.file){const n=uH(e);i=void 0!==n&&n.length===cH(n).length&&n[n.length-1]===t}else{t="/";const n=e.path;i=1===n.length&&47===n.charCodeAt(n.length-1)}return i||yH(e,t)?e:e.with({path:e.path+"/"})}}const pH=new gH((()=>!1)),fH=(new gH((e=>e.scheme!==Ck.file||!Mf)),new gH((e=>!0)),pH.isEqual.bind(pH)),mH=(pH.isEqualOrParent.bind(pH),pH.getComparisonKey.bind(pH),pH.basenameOrAuthority.bind(pH),pH.basename.bind(pH)),vH=(pH.extname.bind(pH),pH.dirname.bind(pH)),bH=(pH.joinPath.bind(pH),pH.normalizePath.bind(pH)),_H=(pH.relativePath.bind(pH),pH.resolvePath.bind(pH)),wH=(pH.isAbsolutePath.bind(pH),pH.isEqualAuthority.bind(pH)),yH=pH.hasTrailingPathSeparator.bind(pH);pH.removeTrailingPathSeparator.bind(pH),pH.addTrailingPathSeparator.bind(pH);var CH;function SH(e){return e.toString()}!function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach((e=>{const[t,n]=e.split(":");t&&n&&i.set(t,n)}));const n=t.path.substring(0,t.path.indexOf(";"));return n&&i.set(e.META_DATA_MIME,n),i}}(CH||(CH={}));class kH{static create(e,t){const i=e.getAlternativeVersionId(),n=DH(e);return new kH(i,i,n,n,t,t,[])}constructor(e,t,i,n,o,s,r){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=r}append(e,t,i,n,o){var s,r;t.length>0&&(this.changes=(s=this.changes,r=t,null===s||0===s.length?r:new rH(s,r).compress())),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(Gx(e,t?t.length:0,i),i+=4,t)for(const n of t)Gx(e,n.selectionStartLineNumber,i),i+=4,Gx(e,n.selectionStartColumn,i),i+=4,Gx(e,n.positionLineNumber,i),i+=4,Gx(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=qx(e,t);t+=4;for(let o=0;o<n;o++){const n=qx(e,t),o=qx(e,t+=4),s=qx(e,t+=4),r=qx(e,t+=4);t+=4,i.push(new Bb(n,o,s,r))}return t}serialize(){let e=10+kH._writeSelectionsSize(this.beforeCursorState)+kH._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;Gx(t,this.beforeVersionId,i),i+=4,Gx(t,this.afterVersionId,i),i+=4,Zx(t,this.beforeEOL,i),i+=1,Zx(t,this.afterEOL,i),i+=1,i=kH._writeSelections(t,this.beforeCursorState,i),i=kH._writeSelections(t,this.afterCursorState,i),Gx(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=qx(t,i);i+=4;const o=qx(t,i);i+=4;const s=Yx(t,i);i+=1;const r=Yx(t,i);i+=1;const a=[];i=kH._readSelections(t,i,a);const l=[];i=kH._readSelections(t,i,l);const c=qx(t,i);i+=4;const d=[];for(let h=0;h<c;h++)i=sH.read(t,i,d);return new kH(n,o,s,r,a,l,d)}}class LH{get type(){return 0}get resource(){return Lb.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,n){this.label=e,this.code=t,this.model=i,this._data=kH.create(i,n)}toString(){return(this._data instanceof kH?this._data:kH.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(Lb.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof kH}append(e,t,i,n,o){this._data instanceof kH&&this._data.append(e,t,i,n,o)}close(){this._data instanceof kH&&(this._data=this._data.serialize())}open(){this._data instanceof kH||(this._data=kH.deserialize(this._data))}undo(){if(Lb.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof kH&&(this._data=this._data.serialize());const e=kH.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Lb.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof kH&&(this._data=this._data.serialize());const e=kH.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof kH&&(this._data=this._data.serialize()),this._data.byteLength+168}}class xH{get resources(){return this._editStackElementsArr.map((e=>e.resource))}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const e=SH(n.resource);this._editStackElementsMap.set(e,n)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=SH(e);return this._editStackElementsMap.has(t)}setModel(e){const t=SH(Lb.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=SH(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,i,n,o){const s=SH(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=SH(e);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).heapSize()}return 0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push("".concat(mH(t.resource),": ").concat(t));return"{".concat(e.join(", "),"}")}}function DH(e){return"\n"===e.getEOL()?0:1}function EH(e){return!!e&&(e instanceof LH||e instanceof xH)}class NH{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);EH(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);EH(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(EH(i)&&i.canAppend(this._model))return i;const n=new LH(lf("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(n,t),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],DH(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,n){const o=this._getOrCreateEditStackElement(e,n),s=this._model.applyEdits(t,!0),r=NH._computeCursorState(i,s),a=s.map(((e,t)=>({index:t,textChange:e.textChange})));return a.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),o.append(this._model,a.map((e=>e.textChange)),DH(this._model),this._model.getAlternativeVersionId(),r),r}static _computeCursorState(e,t){try{return e?e(t):null}catch(Pee){return Um(Pee),null}}}class TH{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function IH(e,t,i,n,o){let s;for(o.spacesDiff=0,o.looksLikeAlignment=!1,s=0;s<t&&s<n;s++){if(e.charCodeAt(s)!==i.charCodeAt(s))break}let r=0,a=0;for(let u=s;u<t;u++){32===e.charCodeAt(u)?r++:a++}let l=0,c=0;for(let u=s;u<n;u++){32===i.charCodeAt(u)?l++:c++}if(r>0&&a>0)return;if(l>0&&c>0)return;const d=Math.abs(a-c),h=Math.abs(r-l);if(0===d)return o.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));h%d!==0||(o.spacesDiff=h/d)}function AH(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,s=0,r="",a=0;const l=[2,4,6,8,3,5,7],c=[0,0,0,0,0,0,0,0,0],d=new TH;for(let g=1;g<=n;g++){const n=e.getLineLength(g),l=e.getLineContent(g),h=n<=65536;let u=!1,p=0,f=0,m=0;for(let t=0,i=n;t<i;t++){const i=h?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===i)m++;else{if(32!==i){u=!0,p=t;break}f++}}if(!u)continue;if(m>0?o++:f>1&&s++,IH(r,a,l,p,d),d.looksLikeAlignment&&(!i||t!==d.spacesDiff))continue;const v=d.spacesDiff;v<=8&&c[v]++,r=l,a=p}let h=i;o!==s&&(h=o<s);let u=t;if(h){let e=h?0:.1*n;l.forEach((t=>{const i=c[t];i>e&&(e=i,u=t)})),4===u&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(u=2)}return{insertSpaces:h,tabSize:u}}function MH(e){return(1&e.metadata)>>>0}function OH(e,t){e.metadata=254&e.metadata|t<<0}function RH(e){return(2&e.metadata)>>>1===1}function PH(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function FH(e){return(4&e.metadata)>>>2===1}function BH(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function VH(e){return(64&e.metadata)>>>6===1}function WH(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}function zH(e,t){e.metadata=231&e.metadata|t<<3}function HH(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class jH{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,OH(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,BH(this,!1),WH(this,!1),zH(this,1),HH(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,PH(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;const t=this.options.className;BH(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),WH(this,null!==this.options.glyphMarginClassName),zH(this,this.options.stickiness),HH(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const UH=new jH(null,0,0);UH.parent=UH,UH.left=UH,UH.right=UH,OH(UH,0);class KH{constructor(){this.root=UH,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o,s){return this.root===UH?[]:function(e,t,i,n,o,s,r){let a=e.root,l=0,c=0,d=0,h=0;const u=[];let g=0;for(;a!==UH;)if(RH(a))PH(a.left,!1),PH(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;else{if(!RH(a.left)){if(c=l+a.maxEnd,c<t){PH(a,!0);continue}if(a.left!==UH){a=a.left;continue}}if(d=l+a.start,d>i)PH(a,!0);else{if(h=l+a.end,h>=t){a.setCachedOffsets(d,h,s);let e=!0;n&&a.ownerId&&a.ownerId!==n&&(e=!1),o&&FH(a)&&(e=!1),r&&!VH(a)&&(e=!1),e&&(u[g++]=a)}PH(a,!0),a.right===UH||RH(a.right)||(l+=a.delta,a=a.right)}}return PH(e.root,!1),u}(this,e,t,i,n,o,s)}search(e,t,i,n){return this.root===UH?[]:function(e,t,i,n,o){let s=e.root,r=0,a=0,l=0;const c=[];let d=0;for(;s!==UH;){if(RH(s)){PH(s.left,!1),PH(s.right,!1),s===s.parent.right&&(r-=s.parent.delta),s=s.parent;continue}if(s.left!==UH&&!RH(s.left)){s=s.left;continue}a=r+s.start,l=r+s.end,s.setCachedOffsets(a,l,n);let e=!0;t&&s.ownerId&&s.ownerId!==t&&(e=!1),i&&FH(s)&&(e=!1),o&&!VH(s)&&(e=!1),e&&(c[d++]=s),PH(s,!0),s.right===UH||RH(s.right)||(r+=s.delta,s=s.right)}return PH(e.root,!1),c}(this,e,t,i,n)}collectNodesFromOwner(e){return function(e,t){let i=e.root;const n=[];let o=0;for(;i!==UH;)RH(i)?(PH(i.left,!1),PH(i.right,!1),i=i.parent):i.left===UH||RH(i.left)?(i.ownerId===t&&(n[o++]=i),PH(i,!0),i.right===UH||RH(i.right)||(i=i.right)):i=i.left;return PH(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root;const i=[];let n=0;for(;t!==UH;)RH(t)?(PH(t.left,!1),PH(t.right,!1),t=t.parent):t.left===UH||RH(t.left)?t.right===UH||RH(t.right)?(i[n++]=t,PH(t,!0)):t=t.right:t=t.left;return PH(e.root,!1),i}(this)}insert(e){YH(this,e),this._normalizeDeltaIfNecessary()}delete(e){ZH(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,s=0,r=0,a=0;const l=[];let c=0;for(;n!==UH;)if(RH(n))PH(n.left,!1),PH(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!RH(n.left)){if(s=o+n.maxEnd,s<t){PH(n,!0);continue}if(n.left!==UH){n=n.left;continue}}r=o+n.start,r>i?PH(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(r,a,0),l[c++]=n),PH(n,!0),n.right===UH||RH(n.right)||(o+=n.delta,n=n.right))}return PH(e.root,!1),l}(this,e,e+t);for(let s=0,r=o.length;s<r;s++){ZH(this,o[s])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,s=0,r=0,a=0;const l=n-(i-t);for(;o!==UH;)if(RH(o))PH(o.left,!1),PH(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),ej(o),o=o.parent;else{if(!RH(o.left)){if(r=s+o.maxEnd,r<t){PH(o,!0);continue}if(o.left!==UH){o=o.left;continue}}a=s+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),PH(o,!0)):(PH(o,!0),o.right===UH||RH(o.right)||(s+=o.delta,o=o.right))}PH(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,r=o.length;s<r;s++){const r=o[s];r.start=r.cachedAbsoluteStart,r.end=r.cachedAbsoluteEnd,GH(r,e,e+t,i,n),r.maxEnd=r.end,YH(this,r)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==UH;)t.left===UH||RH(t.left)?t.right===UH||RH(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,ej(t),PH(t,!0),PH(t.left,!1),PH(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;PH(e.root,!1)}(this))}}function qH(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function GH(e,t,i,n,o){const s=function(e){return(24&e.metadata)>>>3}(e),r=0===s||2===s,a=1===s||2===s,l=i-t,c=n,d=Math.min(l,c),h=e.start;let u=!1;const g=e.end;let p=!1;t<=h&&g<=i&&function(e){return(32&e.metadata)>>>5===1}(e)&&(e.start=t,u=!0,e.end=t,p=!0);{const e=o?1:l>0?2:0;!u&&qH(h,r,t,e)&&(u=!0),!p&&qH(g,a,t,e)&&(p=!0)}if(d>0&&!o){const e=l>c?2:0;!u&&qH(h,r,t+d,e)&&(u=!0),!p&&qH(g,a,t+d,e)&&(p=!0)}{const n=o?1:0;!u&&qH(h,r,i,n)&&(e.start=t+c,u=!0),!p&&qH(g,a,i,n)&&(e.end=t+c,p=!0)}const f=c-l;u||(e.start=Math.max(0,h+f)),p||(e.end=Math.max(0,g+f)),e.start>e.end&&(e.end=e.start)}function YH(e,t){if(e.root===UH)return t.parent=UH,t.left=UH,t.right=UH,OH(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,s=t.end;for(;;){if(ij(o,s,n.start+i,n.end+i)<0){if(n.left===UH){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===UH){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=UH,t.right=UH,OH(t,1)}(e,t),tj(t.parent);let i=t;for(;i!==e.root&&1===MH(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===MH(t)?(OH(i.parent,0),OH(t,0),OH(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,XH(e,i)),OH(i.parent,0),OH(i.parent.parent,1),JH(e,i.parent.parent))}else{const t=i.parent.parent.left;1===MH(t)?(OH(i.parent,0),OH(t,0),OH(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,JH(e,i)),OH(i.parent,0),OH(i.parent.parent,1),XH(e,i.parent.parent))}return OH(e.root,0),t}function ZH(e,t){let i,n;if(t.left===UH?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===UH?(i=t.left,n=t):(n=function(e){for(;e.left!==UH;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,OH(i,0),t.detach(),QH(),ej(i),void(e.root.parent=UH);const o=1===MH(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,OH(n,MH(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==UH&&(n.left.parent=n),n.right!==UH&&(n.right.parent=n)),t.detach(),o)return tj(i.parent),n!==t&&(tj(n),tj(n.parent)),void QH();let s;for(tj(i),tj(i.parent),n!==t&&(tj(n),tj(n.parent));i!==e.root&&0===MH(i);)i===i.parent.left?(s=i.parent.right,1===MH(s)&&(OH(s,0),OH(i.parent,1),XH(e,i.parent),s=i.parent.right),0===MH(s.left)&&0===MH(s.right)?(OH(s,1),i=i.parent):(0===MH(s.right)&&(OH(s.left,0),OH(s,1),JH(e,s),s=i.parent.right),OH(s,MH(i.parent)),OH(i.parent,0),OH(s.right,0),XH(e,i.parent),i=e.root)):(s=i.parent.left,1===MH(s)&&(OH(s,0),OH(i.parent,1),JH(e,i.parent),s=i.parent.left),0===MH(s.left)&&0===MH(s.right)?(OH(s,1),i=i.parent):(0===MH(s.left)&&(OH(s.right,0),OH(s,1),XH(e,s),s=i.parent.left),OH(s,MH(i.parent)),OH(i.parent,0),OH(s.left,0),JH(e,i.parent),i=e.root));OH(i,0),QH()}function QH(){UH.parent=UH,UH.delta=0,UH.start=0,UH.end=0}function XH(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==UH&&(i.left.parent=t),i.parent=t.parent,t.parent===UH?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,ej(t),ej(i)}function JH(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==UH&&(i.right.parent=t),i.parent=t.parent,t.parent===UH?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,ej(t),ej(i)}function $H(e){let t=e.end;if(e.left!==UH){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==UH){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function ej(e){e.maxEnd=$H(e)}function tj(e){for(;e!==UH;){const t=$H(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function ij(e,t,i,n){return e===i?t-n:e-i}class nj{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==oj)return sj(this.right);let e=this;for(;e.parent!==oj&&e.parent.left!==e;)e=e.parent;return e.parent===oj?oj:e.parent}prev(){if(this.left!==oj)return rj(this.left);let e=this;for(;e.parent!==oj&&e.parent.right!==e;)e=e.parent;return e.parent===oj?oj:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const oj=new nj(null,0);function sj(e){for(;e.left!==oj;)e=e.left;return e}function rj(e){for(;e.right!==oj;)e=e.right;return e}function aj(e){return e===oj?0:e.size_left+e.piece.length+aj(e.right)}function lj(e){return e===oj?0:e.lf_left+e.piece.lineFeedCnt+lj(e.right)}function cj(){oj.parent=oj}function dj(e,t){const i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==oj&&(i.left.parent=t),i.parent=t.parent,t.parent===oj?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function hj(e,t){const i=t.left;t.left=i.right,i.right!==oj&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===oj?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function uj(e,t){let i,n;if(t.left===oj?(n=t,i=n.right):t.right===oj?(n=t,i=n.left):(n=sj(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),cj(),void(e.root.parent=oj);const o=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,fj(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,fj(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==oj&&(n.left.parent=n),n.right!==oj&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,fj(e,n)),t.detach(),i.parent.left===i){const t=aj(i),n=lj(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){const o=t-i.parent.size_left,s=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,pj(e,i.parent,o,s)}}if(fj(e,i.parent),o)return void cj();let s;for(;i!==e.root&&0===i.color;)i===i.parent.left?(s=i.parent.right,1===s.color&&(s.color=0,i.parent.color=1,dj(e,i.parent),s=i.parent.right),0===s.left.color&&0===s.right.color?(s.color=1,i=i.parent):(0===s.right.color&&(s.left.color=0,s.color=1,hj(e,s),s=i.parent.right),s.color=i.parent.color,i.parent.color=0,s.right.color=0,dj(e,i.parent),i=e.root)):(s=i.parent.left,1===s.color&&(s.color=0,i.parent.color=1,hj(e,i.parent),s=i.parent.left),0===s.left.color&&0===s.right.color?(s.color=1,i=i.parent):(0===s.left.color&&(s.right.color=0,s.color=1,dj(e,s),s=i.parent.left),s.color=i.parent.color,i.parent.color=0,s.left.color=0,hj(e,i.parent),i=e.root));i.color=0,cj()}function gj(e,t){for(fj(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&dj(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,hj(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&hj(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,dj(e,t.parent.parent))}e.root.color=0}function pj(e,t,i,n){for(;t!==e.root&&t!==oj;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function fj(e,t){let i=0,n=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(i=aj((t=t.parent).left)-t.size_left,n=lj(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}oj.parent=oj,oj.left=oj,oj.right=oj,oj.color=0;const mj=65535;function vj(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class bj{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function _j(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=[0];let n=1;for(let o=0,s=e.length;o<s;o++){const t=e.charCodeAt(o);13===t?o+1<s&&10===e.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===t&&(i[n++]=o+1)}return t?vj(i):i}class wj{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class yj{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Cj{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==oj&&e.iterate(e.root,(e=>(e!==oj&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Sj{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let n=0;n<i.length;n++){const o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){const e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class kj{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new yj("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=oj,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=_j(e[o].buffer));const t=new wj(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,t)}this._searchCache=new Sj(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=65535-Math.floor(21845),i=2*t;let n="",o=0;const s=[];if(this.iterate(this.root,(r=>{const a=this.getNodeContent(r),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;const c=n.replace(/\r\n|\r|\n/g,e);return s.push(new yj(c,_j(c))),n=a,o=l,!0})),o>0){const t=n.replace(/\r\n|\r|\n/g,e);s.push(new yj(t,_j(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Cj(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==oj;)if(n.left!==oj&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){i+=n.size_left;return i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const n=e;for(;t!==oj;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){const e=this.getOffsetAt(i+1,1);return new Pb(i+1,n-e+1)}return new Pb(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===oj){const t=this.getOffsetAt(i+1,1);return new Pb(i+1,n-e-t+1)}t=t.right}return new Pb(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node;const n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==oj;){const e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=e.substring(n,n+t.remainder);break}s+=e.substr(n,i.piece.length),i=i.next()}return s}getLinesContent(){const e=[];let t=0,i="",n=!1;return this.iterate(this.root,(o=>{if(o===oj)return!0;const s=o.piece;let r=s.length;if(0===r)return!0;const a=this._buffers[s.bufferIndex].buffer,l=this._buffers[s.bufferIndex].lineStarts,c=s.start.line,d=s.end.line;let h=l[c]+s.start.column;if(n&&(10===a.charCodeAt(h)&&(h++,r--),e[t++]=i,i="",n=!1,0===r))return!0;if(c===d)return this._EOLNormalized||13!==a.charCodeAt(h+r-1)?i+=a.substr(h,r):(n=!0,i+=a.substr(h,r-1)),!0;i+=this._EOLNormalized?a.substring(h,Math.max(h,l[c+1]-this._EOLLength)):a.substring(h,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=c+1;n<d;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[d]+s.end.column-1)?i=a.substr(l[d],s.end.column):(n=!0,0===s.end.column?t--:i=a.substr(l[d],s.end.column-1)),!0})),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{const t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,r,a,l,c,d){const h=this._buffers[e.piece.bufferIndex],u=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,o),p=this.offsetInBuffer(e.piece.bufferIndex,s);let f;const m={line:0,column:0};let v,b;t._wordSeparators?(v=h.buffer.substring(g,p),b=e=>e+g,t.reset(0)):(v=h.buffer,b=e=>e,t.reset(g));do{if(f=t.next(v),f){if(b(f.index)>=p)return c;this.positionInBuffer(e,b(f.index)-u,m);const t=this.getLineFeedCnt(e.piece.bufferIndex,o,m),s=m.line===o.line?m.column-o.column+n:m.column+1,r=s+f[0].length;if(d[c++]=UE(new Fb(i+t,s,i+t,r),f,a),b(f.index)+f[0].length>=p)return c;if(c>=l)return c}}while(f);return c}findMatchesLineByLine(e,t,i,n){const o=[];let s=0;const r=new YE(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];const l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder);const d=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,r,e.startLineNumber,e.startColumn,c,d,t,i,n,s,o),o;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){const l=this.getLineFeedCnt(u.piece.bufferIndex,c,u.piece.end);if(l>=1){const a=this._buffers[u.piece.bufferIndex].lineStarts,d=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[c.line+l],p=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(u,r,h,p,c,this.positionInBuffer(u,g-d),t,i,n,s,o),s>=n)return o;h+=l}const d=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(d,e.endColumn-1);return s=this._findMatchesInLine(t,r,a,e.endLineNumber,d,s,o,i,n),o}if(s=this._findMatchesInLine(t,r,this.getLineContent(h).substr(d),h,d,s,o,i,n),s>=n)return o;h++,a=this.nodeAt2(h,1),u=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){const a=h===e.startLineNumber?e.startColumn-1:0,l=this.getLineContent(h).substring(a,e.endColumn-1);return s=this._findMatchesInLine(t,r,l,e.endLineNumber,a,s,o,i,n),o}const g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,r,h,g,c,d,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,r,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,d=i.length;let h=-a;for(;-1!==(h=i.indexOf(t,h+a));)if((!c||GE(c,i,d,h,a))&&(r[s++]=new BE(new Fb(n,h+1+o,n,h+1+a+o),null),s>=l))return s;return s}let d;t.reset(0);do{if(d=t.next(i),d&&(r[s++]=UE(new Fb(n,d.index+1+o,n,d.index+1+d[0].length+o),d,a),s>=l))return s}while(d);return s}insert(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==oj){const{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),s=i.piece,r=s.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&o+s.length===e&&t.length<mj)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){const e=[];let o=new wj(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),this.offsetInBuffer(r,s.end)-this.offsetInBuffer(r,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){const e={line:o.start.line+1,column:0};o=new wj(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){const o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);const l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let c=i;for(let t=0;t<l.length;t++)c=this.rbInsertRight(c,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{const e=this.createNewPieces(t);let i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===oj)return;const i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){const s=this.positionInBuffer(o,i.remainder),r=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const e=o.next();return uj(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,r),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,s,r),void this.computeBufferMetadata())}const r=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&r.push(o);const l=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,l),0===s.piece.length&&r.push(s);for(let d=o.next();d!==oj&&d!==s;d=d.next())r.push(d);const c=0===o.piece.length?o.prev():o;this.deleteNodes(r),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const n=t.piece,o={line:n.start.line+1,column:0},s=new wj(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=s,e+="\n",pj(this,t,-1,-1),0===t.piece.length&&i.push(t)}const n=this.createNewPieces(e);let o=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)o=this.rbInsertLeft(o,n[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]);let o=n;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){const n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,r=s[n.start.line]+n.start.column+t;let a=n.start.line,l=n.end.line,c=0,d=0,h=0;for(;a<=l&&(c=a+(l-a)/2|0,h=s[c],c!==l);)if(d=s[c+1],r<h)l=c-1;else{if(!(r>=d))break;a=c+1}return i?(i.line=c,i.column=r-h,null):{line:c,column:r-h}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;const n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;const o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;const r=s-1;return 13===this._buffers[e].buffer.charCodeAt(r)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)uj(this,e[t])}createNewPieces(e){if(e.length>mj){const t=[];for(;e.length>mj;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,mj),e=e.substring(mj));const o=_j(n);t.push(new wj(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new yj(n,o))}const i=_j(e);return t.push(new wj(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new yj(e,i)),t}let t=this._buffers[0].buffer.length;const i=_j(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,r={line:s,column:o-this._buffers[0].lineStarts[s]},a=new wj(0,n,r,this.getLineFeedCnt(0,n,r),o-t);return this._lastChangeBufferPos=r,[a]}getLineRawContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.root,n="";const o=this._searchCache.get2(e);if(o){i=o.node;const s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),r=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){const n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return r.substring(a+s,a+n-t)}n=r.substring(a+s,a+i.piece.length)}else{let o=0;const s=e;for(;i!==oj;)if(i.left!==oj&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const n=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:s-(e-1-i.lf_left)}),a.substring(l+n,l+r-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){const t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(s+t,s+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==oj;){const e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(s,s+o-t),n}{const t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==oj;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,r=this.offsetInBuffer(i.bufferIndex,s),a=this.getLineFeedCnt(i.bufferIndex,i.start,s),l=a-n,c=r-o,d=i.length+c;e.piece=new wj(i.bufferIndex,i.start,s,a,d),pj(this,e,c,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,r=this.getLineFeedCnt(i.bufferIndex,s,i.end),a=r-n,l=o-this.offsetInBuffer(i.bufferIndex,s),c=i.length+l;e.piece=new wj(i.bufferIndex,s,i.end,r,c),pj(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,s=n.end,r=n.length,a=n.lineFeedCnt,l=t,c=this.getLineFeedCnt(n.bufferIndex,n.start,l),d=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new wj(n.bufferIndex,n.start,l,c,d),pj(this,e,d-r,c-a);const h=new wj(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=_j(t,!1);for(let h=0;h<o.length;h++)o[h]+=n;if(i){const e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,r={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,r),d=c-l;e.piece=new wj(e.piece.bufferIndex,e.piece.start,r,c,a),this._lastChangeBufferPos=r,pj(this,e,t.length,d)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==oj;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;const i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==oj;)if(i.left!==oj&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==oj;){if(i.piece.lineFeedCnt>0){const e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"===typeof e)return 10===e.charCodeAt(0);if(e===oj||0===e.piece.lineFeedCnt)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;if(n===i.length-1)return!1;return!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o)}endWithCR(e){return"string"===typeof e?13===e.charCodeAt(e.length-1):e!==oj&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],n=this._buffers[e.piece.bufferIndex].lineStarts;let o;o=0===e.piece.end.column?{line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,r=e.piece.lineFeedCnt-1;e.piece=new wj(e.piece.bufferIndex,e.piece.start,o,r,s),pj(this,e,-1,-1),0===e.piece.length&&i.push(e);const a={line:t.piece.start.line+1,column:0},l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new wj(t.piece.bufferIndex,a,t.piece.end,c,l),pj(this,t,-1,-1),0===t.piece.length&&i.push(t);const d=this.createNewPieces("\r\n");this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)uj(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)uj(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new wj(e.bufferIndex,t,e.end,o,n),pj(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===oj)return t(oj);const i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===oj)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(n,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){const i=new nj(t,1);i.left=oj,i.right=oj,i.parent=oj,i.size_left=0,i.lf_left=0;if(this.root===oj)this.root=i,i.color=0;else if(e.right===oj)e.right=i,i.parent=e;else{const t=sj(e.right);t.left=i,i.parent=t}return gj(this,i),i}rbInsertLeft(e,t){const i=new nj(t,1);if(i.left=oj,i.right=oj,i.parent=oj,i.size_left=0,i.lf_left=0,this.root===oj)this.root=i,i.color=0;else if(e.left===oj)e.left=i,i.parent=e;else{const t=rj(e.left);t.right=i,i.parent=t}return gj(this,i),i}}class Lj extends hv{constructor(e,t,i,n,o,s,r){super(),this._onDidChangeContent=this._register(new Cv),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new kj(e,i,r)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,n=this.getPositionAt(e),o=this.getPositionAt(i);return new Fb(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),n=this.getOffsetAt(e.endLineNumber,e.endColumn);let o=0;const s=this._getEndOfLine(t),r=this.getEOL();if(s.length!==r.length){o=(s.length-r.length)*(e.endLineNumber-e.startLineNumber)}return n-i+o}getCharacterCountInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const s=this.getLineContent(t),r=t===n?e.startColumn-1:0,a=t===o?e.endColumn-1:s.length;for(let e=r;e<a;e++)_w(s.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=sw(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=aw(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,r=!0,a=[];for(let p=0;p<e.length;p++){const t=e[p];r&&t._isTracked&&(r=!1);const i=t.range;if(t.text){let e=!0;s||(e=!Tw(t.text),s=e),!n&&e&&(n=Ew(t.text)),!o&&e&&(o=Aw(t.text))}let l="",c=0,d=0,h=0;if(t.text){let e;[c,d,h,e]=KW(t.text);const i=this.getEOL();l=0===e||e===("\r\n"===i?2:1)?t.text:t.text.replace(/\r\n|\r|\n/g,i)}a[p]={sortIndex:p,identifier:t.identifier||null,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i),text:l,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(Lj._sortOpsAscending);let l=!1;for(let p=0,f=a.length-1;p<f;p++){const e=a[p].range.getEndPosition(),t=a[p+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}r&&(a=this._reduceOperations(a));const c=i||t?Lj._getInverseEditRanges(a):[],d=[];if(t)for(let p=0;p<a.length;p++){const e=a[p],t=c[p];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let i=t.startLineNumber;i<=t.endLineNumber;i++){let n="";i===t.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==sw(n))||d.push({lineNumber:i,oldContent:n})}}let h=null;if(i){let e=0;h=[];for(let t=0;t<a.length;t++){const i=a[t],n=c[t],o=this.getValueInRange(i.range),s=i.rangeOffset+e;e+=i.text.length-o.length,h[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new sH(i.rangeOffset,o,s,i.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const u=this._doApplyEdits(a);let g=null;if(t&&d.length>0){d.sort(((e,t)=>t.lineNumber-e.lineNumber)),g=[];for(let e=0,t=d.length;e<t;e++){const t=d[e].lineNumber;if(e>0&&d[e-1].lineNumber===t)continue;const i=d[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===sw(n)&&g.push(t)}}return this._onDidChangeContent.fire(),new zE(h,u,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new Fb(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let s=i.startLineNumber,r=i.startColumn;const a=[];for(let u=0,g=e.length;u<g;u++){const i=e[u],n=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new Fb(s,r,n.startLineNumber,n.startColumn))),i.text.length>0&&a.push(i.text),s=n.endLineNumber,r=n.endColumn}const l=a.join(""),[c,d,h]=KW(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Lj._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const n=e[i],o=n.range.startLineNumber,s=n.range.startColumn,r=n.range.endLineNumber,a=n.range.endColumn;if(o===r&&s===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new Fb(o,s,r,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){const t=[];let i=0,n=0,o=null;for(let s=0,r=e.length;s<r;s++){const r=e[s];let a,l,c;if(o?o.range.endLineNumber===r.range.startLineNumber?(a=i,l=n+(r.range.startColumn-o.range.endColumn)):(a=i+(r.range.startLineNumber-o.range.endLineNumber),l=r.range.startColumn):(a=r.range.startLineNumber,l=r.range.startColumn),r.text.length>0){const e=r.eolCount+1;c=1===e?new Fb(a,l,a,l+r.firstLineLength):new Fb(a,l,a+e-1,r.lastLineLength+1)}else c=new Fb(a,l,a,l);i=c.endLineNumber,n=c.endColumn,t.push(c),o=r}return t}static _sortOpsAscending(e,t){const i=Fb.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=Fb.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class xj{constructor(e,t,i,n,o,s,r,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=r,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){const e=i[o].buffer.replace(/\r\n|\r|\n/g,t),n=_j(e);i[o]=new yj(e,n)}const n=new Lj(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class Dj{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&Pw(e)&&(this.BOM=Rw,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,s=0,r=!0;for(let l=0,c=t.length;l<c;l++){const a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(s++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):r&&9!==a&&(a<32||a>126)&&(r=!1)}const a=new bj(vj(e),n,o,s,r);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new yj(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=Ew(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Aw(e)))}finish(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._finish(),new xj(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=_j(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class Ej{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(0===t)return void this.insert(e,i);if(0===i)return void this.delete(e,t);const n=this._store.slice(0,e),o=this._store.slice(e+t),s=function(e,t){const i=[];for(let n=0;n<e;n++)i[n]=t;return i}(i,this._default);this._store=n.concat(s,o)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const i=[];for(let n=0;n<t;n++)i[n]=this._default;this._store=Dp(this._store,e,i)}}class Nj{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class Tj{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e)return void i.appendLineTokens(t)}this._tokens.push(new Nj(e,[t]))}finalize(){return this._tokens}}class Ij{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Mj(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class Aj extends Ij{constructor(e,t,i,n){super(e,t),this._textModel=i,this._languageIdCodec=n}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const n=this.getFirstInvalidLine();if(!n||n.lineNumber>t)break;const o=this._textModel.getLineContent(n.lineNumber),s=Pj(this._languageIdCodec,i,this.tokenizationSupport,o,!0,n.startState);e.add(n.lineNumber,s.tokens),this.store.setEndState(n.lineNumber,s.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const n=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),s=o.substring(0,e.column-1)+t+o.substring(e.column-1),r=Pj(this._languageIdCodec,n,this.tokenizationSupport,s,!0,i),a=new HT(r.tokens,s,this._languageIdCodec);if(0===a.getCount())return 0;const l=a.findTokenIndexAtOffset(e.column-1);return a.getStandardTokenType(l)}tokenizeLineWithEdit(e,t,i){const n=e.lineNumber,o=e.column,s=this.getStartState(n);if(!s)return null;const r=this._textModel.getLineContent(n),a=r.substring(0,o-1)+i+r.substring(o-1+t),l=this._textModel.getLanguageIdAtPosition(n,0),c=Pj(this._languageIdCodec,l,this.tokenizationSupport,a,!0,s);return new HT(c.tokens,a,this._languageIdCodec)}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let n=this.guessStartState(t);const o=this._textModel.getLanguageId();for(let s=t;s<=i;s++){const t=this._textModel.getLineContent(s),i=Pj(this._languageIdCodec,o,this.tokenizationSupport,t,!0,n);e.add(s,i.tokens),n=i.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let n=null;for(let r=e-1;t>1&&r>=1;r--){const e=this._textModel.getLineFirstNonWhitespaceColumn(r);if(0!==e&&(e<t&&(i.push(this._textModel.getLineContent(r)),t=e,n=this.getStartState(r),n)))break}n||(n=this.tokenizationSupport.getInitialState()),i.reverse();const o=this._textModel.getLanguageId();let s=n;for(const r of i){s=Pj(this._languageIdCodec,o,this.tokenizationSupport,r,!1,s).endState}return s}}class Mj{constructor(e){this.lineCount=e,this._tokenizationStateStore=new Oj,this._invalidEndStatesLineNumbers=new Rj,this._invalidEndStatesLineNumbers.addRange(new eN(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new ev("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new eN(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new eN(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[e]=KW(t.text);this.acceptChange(new cN(t.range.startLineNumber,t.range.endLineNumber+1),e+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new eN(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(e,t){return 1===e?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(null===t)return null;const i=this.getStartState(t,e);if(!i)throw new ev("Start state must be defined");return{lineNumber:t,startState:i}}}class Oj{constructor(){this._lineEndStates=new Ej(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return(!i||!i.equals(t))&&(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class Rj{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex((t=>t.contains(e)));if(-1!==t){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new eN(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new eN(i.start,e):this._ranges.splice(t,1,new eN(i.start,e),new eN(e+1,i.endExclusive))}}addRange(e){eN.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let n=i;for(;!(n>=this._ranges.length||e.endExclusive<this._ranges[n].start);)n++;const o=t-e.length;for(let s=n;s<this._ranges.length;s++)this._ranges[s]=this._ranges[s].delta(o);if(i===n){const n=new eN(e.start,e.start+t);n.isEmpty||this._ranges.splice(i,0,n)}else{const t=Math.min(e.start,this._ranges[i].start),s=Math.max(e.endExclusive,this._ranges[n-1].endExclusive),r=new eN(t,s+o);r.isEmpty?this._ranges.splice(i,n-i):this._ranges.splice(i,n-i,r)}}toString(){return this._ranges.map((e=>e.toString())).join(" + ")}}function Pj(e,t,i,n,o,s){let r=null;if(i)try{r=i.tokenizeEncoded(n,o,s.clone())}catch(Pee){Um(Pee)}return r||(r=WT(e.encodeLanguageId(t),s)),HT.convertToEndOffset(r.tokens,n.length),r}class Fj{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){!this._isScheduled&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._isScheduled=!0,vS((e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)})))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{!this._isDisposed&&this._tokenizerWithStateStore._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?zf(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new Tj,i=mv.create(!1);do{if(i.elapsed()>1)break;if(this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){var t;const i=null===(t=this._tokenizerWithStateStore)||void 0===t?void 0:t.getFirstInvalidLine();return i?(this._tokenizerWithStateStore.updateTokensUntilLine(e,i.lineNumber),i.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new cN(e,t))}}const Bj=new Uint32Array(0).buffer;class Vj{static deleteBeginning(e,t){return null===e||e===Bj?e:Vj.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===Bj)return e;const i=Wj(e),n=i[i.length-2];return Vj.delete(e,t,n)}static delete(e,t,i){if(null===e||e===Bj||t===i)return e;const n=Wj(e),o=n.length>>>1;if(0===t&&n[n.length-2]===i)return Bj;const s=HT.findIndexInTokensArray(n,t),r=s>0?n[s-1<<1]:0;if(i<n[s<<1]){const r=i-t;for(let e=s;e<o;e++)n[e<<1]-=r;return e}let a,l;r!==t?(n[s<<1]=t,a=s+1<<1,l=t):(a=s<<1,l=r);const c=i-t;for(let h=s+1;h<o;h++){const e=n[h<<1]-c;e>l&&(n[a++]=e,n[a++]=n[1+(h<<1)],l=e)}if(a===n.length)return e;const d=new Uint32Array(a);return d.set(n.subarray(0,a),0),d.buffer}static append(e,t){if(t===Bj)return e;if(e===Bj)return t;if(null===e)return e;if(null===t)return null;const i=Wj(e),n=Wj(t),o=n.length>>>1,s=new Uint32Array(i.length+n.length);s.set(i,0);let r=i.length;const a=i[i.length-2];for(let l=0;l<o;l++)s[r++]=n[l<<1]+a,s[r++]=n[1+(l<<1)];return s.buffer}static insert(e,t,i){if(null===e||e===Bj)return e;const n=Wj(e),o=n.length>>>1;let s=HT.findIndexInTokensArray(n,t);if(s>0){n[s-1<<1]===t&&s--}for(let r=s;r<o;r++)n[r<<1]+=i;return e}}function Wj(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class zj{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==Bj)return new HT(Wj(n),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=Hj(this._languageIdCodec.encodeLanguageId(e)),new HT(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const n=i?Wj(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=zT.getLanguageId(n[1])!==e),!t)return Bj}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=Hj(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=Dp(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const s=zj._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);const r=this._lineTokens[t];return this._lineTokens[t]=s,!!o&&!zj._equals(r,s)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Wj(e),n=Wj(t);if(i.length!==n.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Pb(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=Vj.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=Vj.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=Vj.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Vj.append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=Vj.deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=Vj.insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=Vj.insert(this._lineTokens[n],e.column-1,i))}setMultilineTokens(e,t){if(0===e.length)return{changes:[]};const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];let s=0,r=0,a=!1;for(let e=o.startLineNumber;e<=o.endLineNumber;e++)if(a)this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),o.getLineTokens(e),!1),r=e;else{this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),o.getLineTokens(e),!0)&&(a=!0,s=e,r=e)}a&&i.push({fromLineNumber:s,toLineNumber:r})}return{changes:i}}}function Hj(e){return(32768|e<<0|2<<24|1024)>>>0}class jj{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let n=null;for(let o=0,s=this._pieces.length;o<s;o++){const e=this._pieces[o];if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(e.removeTokens(i),e.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};continue}const[t,r]=e.split(i);t.isEmpty()?n=n||{index:o}:r.isEmpty()||(this._pieces.splice(o,1,t,r),o++,s++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=Dp(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const i=this._pieces;if(0===i.length)return t;const n=i[jj._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const o=t.getCount(),s=n.getCount();let r=0;const a=[];let l=0,c=0;const d=(e,t)=>{e!==c&&(c=e,a[l++]=e,a[l++]=t)};for(let h=0;h<s;h++){const e=n.getStartCharacter(h),i=n.getEndCharacter(h),s=n.getMetadata(h),a=((1&s?2048:0)|(2&s?4096:0)|(4&s?8192:0)|(8&s?16384:0)|(16&s?16744448:0)|(32&s?4278190080:0))>>>0,l=~a>>>0;for(;r<o&&t.getEndOffset(r)<=e;)d(t.getEndOffset(r),t.getMetadata(r)),r++;for(r<o&&t.getStartOffset(r)<e&&d(e,t.getMetadata(r));r<o&&t.getEndOffset(r)<i;)d(t.getEndOffset(r),t.getMetadata(r)&l|s&a),r++;if(r<o)d(i,t.getMetadata(r)&l|s&a),t.getEndOffset(r)===i&&r++;else{const e=Math.min(Math.max(0,r-1),o-1);d(i,t.getMetadata(e)&l|s&a)}}for(;r<o;)d(t.getEndOffset(r),t.getMetadata(r)),r++;return new HT(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const s of this._pieces)s.acceptEdit(e,t,i,n,o)}}class Uj extends EV{constructor(e,t,i,n,o,s){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this._bracketPairsTextModelPart=n,this._languageId=o,this._attachedViews=s,this._semanticTokens=new jj(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new Cv),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new Cv),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new Cv),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Kj(this._languageService.languageIdCodec,this._textModel,(()=>this._languageId),this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}))),this._register(this.grammarTokens.onDidChangeTokens((e=>{this._emitModelTokensChangedEvent(e)}))),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((e=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})))}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[e,i,n]=KW(t.text);this._semanticTokens.acceptEdit(t.range,e,i,n,t.text.length>0?t.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(e)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this.grammarTokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new ev("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this.grammarTokens.forceTokenization(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this.grammarTokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this.grammarTokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this.grammarTokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this.grammarTokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),n=this.getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[s,r]=Uj._findLanguageBoundaries(n,o),a=nm(t.column,this.getLanguageConfiguration(n.getLanguageId(o)).getWordDefinition(),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(o>0&&s===t.column-1){const[s,r]=Uj._findLanguageBoundaries(n,o-1),a=nm(t.column,this.getLanguageConfiguration(n.getLanguageId(o-1)).getWordDefinition(),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,r=e.getCount();s<r&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new Pb(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}setLanguageId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}class Kj extends hv{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i,n){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new uv),this._tokens=new zj(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new uv),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new Cv),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new Cv),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new pv),this._register(n_.onDidChange((e=>{const t=this.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&this.resetTokenization()}))),this.resetTokenization(),this._register(n.onDidChangeVisibleRanges((e=>{let{view:t,state:i}=e;if(i){let e=this._attachedViewStates.get(t);e||(e=new qj((()=>this.refreshRanges(e.lineRanges))),this._attachedViewStates.set(t,e)),e.handleStateChange(i)}else this._attachedViewStates.deleteAndDispose(t)})))}resetTokenization(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;this._tokens.flush(),null===(t=this._debugBackgroundTokens)||void 0===t||t.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Mj(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[i,n]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const e=n_.get(this.getLanguageId());if(!e)return[null,null];let t;try{t=e.getInitialState()}catch(Pee){return Um(Pee),[null,null]}return[e,t]})();if(this._tokenizer=i&&n?new Aj(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const e={setTokens:e=>{this.setTokens(e)},backgroundTokenizationFinished:()=>{if(2===this._backgroundTokenizationState)return;this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(e,t)=>{var i;if(!this._tokenizer)return;const n=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==n&&e>=n&&(null===(i=this._tokenizer)||void 0===i||i.store.setEndState(e,t))}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,e)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Fj(this._tokenizer,e),this._defaultBackgroundTokenizer.handleChanges()),(null===i||void 0===i?void 0:i.backgroundTokenizerShouldOnlyVerifyTokens)&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new zj(this._languageIdCodec),this._debugBackgroundStates=new Mj(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:e=>{var t;null===(t=this._debugBackgroundTokens)||void 0===t||t.setMultilineTokens(e,this._textModel)},backgroundTokenizationFinished(){},setEndState:(e,t)=>{var i;null===(i=this._debugBackgroundStates)||void 0===i||i.setEndState(e,t)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;null===(e=this._defaultBackgroundTokenizer)||void 0===e||e.handleChanges()}handleDidChangeContent(e){var t,i,n;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const i of e.changes){const[e,n]=KW(i.text);this._tokens.acceptEdit(i.range,e,n),null===(t=this._debugBackgroundTokens)||void 0===t||t.acceptEdit(i.range,e,n)}null===(i=this._debugBackgroundStates)||void 0===i||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),null===(n=this._defaultBackgroundTokenizer)||void 0===n||n.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=cN.joinMany([...this._attachedViewStates].map((e=>{let[t,i]=e;return i.lineRanges})));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var i,n;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const o=new Tj,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(o,e,t),r=this.setTokens(o.finalize());if(s)for(const a of r.changes)null===(i=this._backgroundTokenizer.value)||void 0===i||i.requestTokens(a.fromLineNumber,a.toLineNumber+1);null===(n=this._defaultBackgroundTokenizer)||void 0===n||n.checkFinished()}forceTokenization(e){var t,i;const n=new Tj;null===(t=this._tokenizer)||void 0===t||t.updateTokensUntilLine(n,e),this.setTokens(n.finalize()),null===(i=this._defaultBackgroundTokenizer)||void 0===i||i.checkFinished()}isCheapToTokenize(e){return!this._tokenizer||this._tokenizer.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){var t;const i=this._textModel.getLineContent(e),n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,i);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const o=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,i);!n.equals(o)&&(null===(t=this._debugBackgroundTokenizer.value)||void 0===t?void 0:t.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return n}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const n=this._textModel.validatePosition(new Pb(e,t));return this.forceTokenization(n.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const n=this._textModel.validatePosition(e);return this.forceTokenization(n.lineNumber),this._tokenizer.tokenizeLineWithEdit(n,t,i)}get hasTokens(){return this._tokens.hasTokens}}class qj extends hv{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new mS((()=>this.update()),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){bp(this._computedLineRanges,this._lineRanges,((e,t)=>e.equals(t)))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class Gj{constructor(){this.changeType=1}}class Yj{static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Yj(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Yj(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}}class Zj{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class Qj{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Xj{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Jj{constructor(){this.changeType=5}}class $j{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new $j(i,n,o,s)}}class eU{constructor(e){this.changes=e}}class tU{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=$j.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=tU._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new tU(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing,a=e.isFlush||t.isFlush;return{changes:i,eol:n,isEolChange:e.isEolChange&&t.isEolChange,versionId:o,isUndoing:s,isRedoing:r,isFlush:a}}}const iU=vy("undoRedoService");class nU{constructor(e,t){this.resource=e,this.elements=t}}class oU{constructor(){this.id=oU._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}oU._ID=0,oU.None=new oU;class sU{constructor(){this.id=sU._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}sU._ID=0,sU.None=new sU;var rU,aU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},lU=function(e,t){return function(i,n){t(i,n,e)}};function cU(e,t){let i;var n;return"string"===typeof e?i=function(e){const t=new Dj;return t.acceptChunk(e),t.finish()}(e):i=(n=e)&&"function"===typeof n.read?function(e){const t=new Dj;let i;for(;"string"===typeof(i=e.read());)t.acceptChunk(i);return t.finish()}(e):e,i.create(t)}let dU=0;class hU{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;for(;;){const n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const uU=()=>{throw new Error("Invalid change accessor")};let gU=rU=class extends hv{static resolveOptions(e,t){if(t.detectIndentation){const i=AH(e,t.tabSize,t.insertSpaces);return new FE({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new FE(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}onDidChangeContentOrInjectedText(e){return lv(this._eventEmitter.fastEvent((t=>e(t))),this._onDidChangeInjectedText.event((t=>e(t))))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;super(),this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=r,this._onWillDispose=this._register(new Cv),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new xU((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new Cv),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new Cv),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new Cv),this._eventEmitter=this._register(new DU),this._languageSelectionListener=this._register(new uv),this._deltaDecorationCallCnt=0,this._attachedViews=new EU,dU++,this.id="$model"+dU,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource="undefined"===typeof n||null===n?Lb.parse("inmemory://model/"+dU):n,this._attachedEditorCount=0;const{textBuffer:a,disposable:l}=cU(e,i.defaultEOL);this._buffer=a,this._bufferDisposable=l,this._options=rU.resolveOptions(this._buffer,i);const c="string"===typeof t?t:t.languageId;"string"!==typeof t&&(this._languageSelectionListener.value=t.onDidChange((()=>this._setLanguage(t.languageId)))),this._bracketPairs=this._register(new Jz(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new IV(this,this._languageConfigurationService)),this._decorationProvider=this._register(new iH(this)),this._tokenizationTextModelPart=new Uj(this._languageService,this._languageConfigurationService,this,this._bracketPairs,c,this._attachedViews);const d=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new Fb(1,1,d,this._buffer.getLineLength(d)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=h>rU.LARGE_FILE_SIZE_THRESHOLD||d>rU.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=h>rU.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=h>rU._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=Fw(dU),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new mU,this._commandManager=new NH(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))),this._languageService.requestRichLanguageFeatures(c)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Lj([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=hv.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new tU(e,t)))}setValue(e){if(this._assertNotDisposed(),null===e||void 0===e)throw Qm();const{textBuffer:t,disposable:i}=cU(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,s,r,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),isEolChange:a,versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:r}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new mU,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new $j([new Gj],this._versionId,!1,!1),this._createContentChanged2(new Fb(1,1,o,s),0,n,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new $j([new Jj],this._versionId,!1,!1),this._createContentChanged2(new Fb(1,1,o,s),0,n,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range,s=n.cachedAbsoluteStart-n.start,r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);n.cachedAbsoluteStart=r,n.cachedAbsoluteEnd=a,n.cachedVersionId=e,n.start=r-s,n.end=a-s,ej(n)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t="undefined"!==typeof e.tabSize?e.tabSize:this._options.tabSize,i="undefined"!==typeof e.indentSize?e.indentSize:this._options.originalIndentSize,n="undefined"!==typeof e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o="undefined"!==typeof e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s="undefined"!==typeof e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,r=new FE({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(r))return;const a=this._options.createChangeEvent(r);this._options=r,this._bracketPairs.handleDidChangeOptions(a),this._decorationProvider.handleDidChangeOptions(a),this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();const i=AH(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),dB(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.findMatches(Iw.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new ev("Operation would exceed heap memory limits");const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new hU(this._buffer.createSnapshot(e))}getValueLength(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ev("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ev("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new ev("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ev("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ev("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new ev("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!==typeof i||isNaN(i)?1:i),s=Math.floor("number"!==typeof n||isNaN(n)?1:n);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{const e=this.getLineMaxColumn(o);s>=e&&(s=e)}const r=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!==typeof r||isNaN(r)?1:r),c=Math.floor("number"!==typeof a||isNaN(a)?1:a);if(l<1)l=1,c=1;else if(l>t)l=t,c=this.getLineMaxColumn(l);else if(c<=1)c=1;else{const e=this.getLineMaxColumn(l);c>=e&&(c=e)}return i===o&&n===s&&r===l&&a===c&&e instanceof Fb&&!(e instanceof Bb)?e:new Fb(o,s,l,c)}_isValidPosition(e,t,i){if("number"!==typeof e||"number"!==typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){if(_w(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!==typeof e||isNaN(e)?1:e),o=Math.floor("number"!==typeof t||isNaN(t)?1:t),s=this._buffer.getLineCount();if(n<1)return new Pb(1,1);if(n>s)return new Pb(s,this.getLineMaxColumn(s));if(o<=1)return new Pb(n,1);const r=this.getLineMaxColumn(n);if(o>=r)return new Pb(n,r);if(1===i){if(_w(this._buffer.getLineCharCode(n,o-2)))return new Pb(n,o-1)}return new Pb(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof Pb&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,s,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,r=_w(e),a=_w(t);return!r&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof Fb&&!(e instanceof Bb)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,s=i.lineNumber,r=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,i=_w(e),a=_w(t);return i||a?n===s&&o===r?new Fb(n,o-1,s,r-1):i&&a?new Fb(n,o-1,s,r+1):i?new Fb(n,o-1,s,r):new Fb(n,o,s,r+1):new Fb(n,o,s,r)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new Fb(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:999;this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>Fb.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let c;if(l.push(a.reduce(((e,t)=>Fb.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!i&&e.indexOf("\n")<0){const t=new jE(e,i,n,o).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,s,r)}else c=t=>qE.findMatches(this,new jE(e,i,n,o),t,s,r);return l.map(c).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new jE(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new Fb(r.lineNumber,r.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,s,1);return qE.findNextMatch(this,new jE(e,i,n,o),r,s),c.length>0?c[0]:(l=new Fb(1,1,r.lineNumber,this.getLineMaxColumn(r.lineNumber)),c=this.findMatchesLineByLine(l,t,s,1),c.length>0?c[0]:null)}return qE.findNextMatch(this,new jE(e,i,n,o),r,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);return qE.findPreviousMatch(this,new jE(e,i,n,o),r,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof VE?e:new VE(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,n){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const i=t.map((e=>({range:this.validateRange(e.range),text:e.text})));let n=!0;if(e)for(let t=0,o=e.length;t<o;t++){const o=e[t];let s=!1;for(let e=0,t=i.length;e<t;e++){const t=i[e].range,n=t.startLineNumber>o.endLineNumber,r=o.startLineNumber>t.endLineNumber;if(!n&&!r){s=!0;break}}if(!s){n=!1;break}}if(n)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){const n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n);let s=!0;for(let e=0,t=i.length;e<t;e++){const t=i[e].range,r=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&(!(n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(0))&&!(n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(r.length-1)))){s=!1;break}}if(s){const e=new Fb(n,1,n,o);t.push(new VE(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,n)}_applyUndo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new Fb(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new Fb(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==s.length){for(let i=0,n=s.length;i<n;i++){const e=s[i];this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}const e=[];this._increaseVersionId();let t=i;for(let i=0,n=s.length;i<n;i++){const n=s[i],[r]=KW(n.text);this._onDidChangeDecorations.fire();const a=n.range.startLineNumber,l=n.range.endLineNumber,c=l-a,d=r,h=Math.min(c,d),u=d-c,g=o-t-u+a,p=g,f=g+d,m=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Pb(p,1)),this.getOffsetAt(new Pb(f,this.getLineMaxColumn(f))),0),v=Yj.fromDecorations(m),b=new Bp(v);for(let t=h;t>=0;t--){const i=a+t,n=g+t;b.takeFromEndWhile((e=>e.lineNumber>n));const o=b.takeFromEndWhile((e=>e.lineNumber===n));e.push(new Zj(i,this.getLineContent(n),o))}if(h<c){const t=a+h;e.push(new Qj(t+1,l))}if(h<d){const i=new Bp(v),n=a+h,s=d-h,r=o-t-s+n+1,l=[],c=[];for(let e=0;e<s;e++){const t=r+e;c[e]=this.getLineContent(t),i.takeWhile((e=>e.lineNumber<t)),l[e]=i.takeWhile((e=>e.lineNumber===t))}e.push(new Xj(n+1,a+d,c,l))}t+=u}this._emitContentChangedEvent(new $j(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=Array.from(e).map((e=>new Zj(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeInjectedText.fire(new eU(t))}changeDecorations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,LU(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)};let n=null;try{n=t(i)}catch(Pee){Um(Pee)}return i.addDecoration=uU,i.changeDecoration=uU,i.changeDecorationOptions=uU,i.removeDecoration=uU,i.deltaDecorations=uU,n}deltaDecorations(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Um(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:kU[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),r=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,o),n.setOptions(kU[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this.getLineCount(),r=Math.min(s,Math.max(1,e)),a=Math.min(s,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new Fb(r,1,a,l),d=this._getDecorationsInRange(c,i,n,o);return Tp(d,this._decorationProvider.getDecorationsInRange(c,i,n)),d}getDecorationsInRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this.validateRange(e),r=this._getDecorationsInRange(s,t,i,o);return Tp(r,this._decorationProvider.getDecorationsInRange(s,t,i,n)),r}getOverviewRulerDecorations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Yj.fromDecorations(n).filter((t=>t.lineNumber===e))}getAllDecorations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,n){const o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,o,s,t,i,n)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=this.getVersionId(),s=t.length;let r=0;const a=i.length;let l=0;this._onDidChangeDecorations.beginDeferredEmit();try{const c=new Array(a);for(;r<s||l<a;){let d=null;if(r<s){do{d=this._decorations[t[r++]]}while(!d&&r<s);if(d){if(d.options.after){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(d.options.before){const e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(d),n||this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(l<a){if(!d){const e=++this._lastDecorationId,t="".concat(this._instanceId,";").concat(e);d=new jH(t,0,0),this._decorations[t]=d}const t=i[l],s=this._validateRangeRelaxedNoAllocations(t.range),r=LU(t.options),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),h=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);d.ownerId=e,d.reset(o,a,h,s),d.setOptions(r),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber),n||this._onDidChangeDecorations.checkAffectedAndFire(r),this._decorationsTree.insert(d),c[l]=d.id,l++}else d&&delete this._decorations[d.id]}return c}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){"string"===typeof e?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange((()=>this._setLanguage(e.languageId,t))),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}};function pU(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function fU(e){return!!e.options.after||!!e.options.before}gU._MODEL_SYNC_LIMIT=52428800,gU.LARGE_FILE_SIZE_THRESHOLD=20971520,gU.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,gU.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456,gU.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Zf.tabSize,indentSize:Zf.indentSize,insertSpaces:Zf.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Zf.trimAutoWhitespace,largeFileOptimizations:Zf.largeFileOptimizations,bracketPairColorizationOptions:Zf.bracketPairColorizationOptions},gU=rU=aU([lU(4,iU),lU(5,_D),lU(6,$D)],gU);class mU{constructor(){this._decorationsTree0=new KH,this._decorationsTree1=new KH,this._injectedTextDecorationsTree=new KH}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o,s){const r=e.getVersionId(),a=this._intervalSearch(t,i,n,o,r,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,n,o,s){const r=this._decorationsTree0.intervalSearch(e,t,i,n,o,s),a=this._decorationsTree1.intervalSearch(e,t,i,n,o,s),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o,s);return r.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o,!1);return this._ensureNodesHaveRanges(e,s).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,n).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,i,n,o){const s=e.getVersionId(),r=this._search(t,i,n,s,o);return this._ensureNodesHaveRanges(e,r)}_search(e,t,i,n,o){if(i)return this._decorationsTree1.search(e,t,n,o);{const i=this._decorationsTree0.search(e,t,n,o),s=this._decorationsTree1.search(e,t,n,o),r=this._injectedTextDecorationsTree.search(e,t,n,o);return i.concat(s).concat(r)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){fU(e)?this._injectedTextDecorationsTree.insert(e):pU(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){fU(e)?this._injectedTextDecorationsTree.delete(e):pU(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){fU(e)?this._injectedTextDecorationsTree.resolveNode(e,t):pU(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function vU(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class bU{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class _U extends bU{constructor(e){super(e),this._resolvedColor=null,this.position="number"===typeof e.position?e.position:ME.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"===typeof e)return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class wU{constructor(e){var t;this.position=null!==(t=null===e||void 0===e?void 0:e.position)&&void 0!==t?t:OE.Left}}class yU extends bU{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"===typeof e?hT.fromHex(e):t.getColor(e.id)}}class CU{static from(e){return e instanceof CU?e:new CU(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class SU{static register(e){return new SU(e)}static createDynamic(e){return new SU(e)}constructor(e){var t,i,n,o,s,r;this.description=e.description,this.blockClassName=e.blockClassName?vU(e.blockClassName):null,this.blockDoesNotCollapse=null!==(t=e.blockDoesNotCollapse)&&void 0!==t?t:null,this.blockIsAfterEnd=null!==(i=e.blockIsAfterEnd)&&void 0!==i?i:null,this.blockPadding=null!==(n=e.blockPadding)&&void 0!==n?n:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?vU(e.className):null,this.shouldFillLineOnLineBreak=null!==(o=e.shouldFillLineOnLineBreak)&&void 0!==o?o:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new _U(e.overviewRuler):null,this.minimap=e.minimap?new yU(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new wU(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?vU(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?vU(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?vU(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?vU(e.marginClassName):null,this.inlineClassName=e.inlineClassName?vU(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?vU(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?vU(e.afterContentClassName):null,this.after=e.after?CU.from(e.after):null,this.before=e.before?CU.from(e.before):null,this.hideInCommentTokens=null!==(s=e.hideInCommentTokens)&&void 0!==s&&s,this.hideInStringTokens=null!==(r=e.hideInStringTokens)&&void 0!==r&&r}}SU.EMPTY=SU.register({description:"empty"});const kU=[SU.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),SU.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),SU.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),SU.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function LU(e){return e instanceof SU?e:SU.createDynamic(e)}class xU extends hv{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new Cv),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class DU extends hv{constructor(){super(),this._fastEmitter=this._register(new Cv),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new Cv),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}class EU{constructor(){this._onDidChangeVisibleRanges=new Cv,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new NU((t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})}));return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class NU{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map((e=>new cN(e.startLineNumber,e.endLineNumber+1)));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class TU{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new bB(new Fb(1,1,1,1),0,0,new Pb(1,1),0),new bB(new Fb(1,1,1,1),0,0,new Pb(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new fB(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?Bb.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):Bb.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),r=this._validatePositionWithCache(e,n,i,s),a=this._validatePositionWithCache(e,o,n,r);return i.equals(s)&&n.equals(r)&&o.equals(a)?t:new bB(Fb.fromPositions(r,a),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+n.column-r.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=TU._validateViewState(e.viewModel,i)),t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),s=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new bB(i,t.selectionStartKind,n,o,s)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new bB(n,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new bB(n,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new Pb(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new Pb(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new Fb(n.lineNumber,n.column,o.lineNumber,o.column),r=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new bB(s,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class IU{constructor(e){this.context=e,this.cursors=[new TU(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((e=>e.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((e=>e.asCursorState()))}getViewPositions(){return this.cursors.map((e=>e.viewState.position))}getTopMostViewPosition(){return(e=this.cursors,t=Op((e=>e.viewState.position),Pb.compare),aN(e,((e,i)=>-t(e,i)))).viewState.position;var e,t}getBottomMostViewPosition(){return function(e,t){if(0===e.length)return;let i=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(o,i)>=0&&(i=o)}return i}(this.cursors,Op((e=>e.viewState.position),Pb.compare)).viewState.position}getSelections(){return this.cursors.map((e=>e.modelState.selection))}getViewSelections(){return this.cursors.map((e=>e.viewState.selection))}setSelections(e){this.setStates(fB.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){const e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new TU(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Op((e=>e.selection),Fb.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],s=n.selection,r=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=r.isEmpty()||s.isEmpty()?r.getStartPosition().isBeforeOrEqual(s.getEndPosition()):r.getStartPosition().isBefore(s.getEndPosition()),a){const s=n.index<o.index?i:i+1,r=n.index<o.index?i+1:i,a=t[r].index,l=t[s].index,c=t[r].selection,d=t[s].selection;if(!c.equalsSelection(d)){const i=c.plusRange(d),n=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,o=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let r,h;a===this.lastAddedCursorIndex?(r=n,this.lastAddedCursorIndex=l):r=o,h=r?new Bb(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new Bb(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[s].selection=h;const u=fB.fromModelSelection(h);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(r,1),this._removeSecondaryCursor(a-1),i--}}}}class AU{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class MU{constructor(){this.type=0}}class OU{constructor(){this.type=1}}class RU{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class PU{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class FU{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class BU{constructor(){this.type=5}}class VU{constructor(e){this.type=6,this.isFocused=e}}class WU{constructor(){this.type=7}}class zU{constructor(){this.type=8}}class HU{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class jU{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class UU{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class KU{constructor(e,t,i,n,o,s,r){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=o,this.revealHorizontal=s,this.scrollType=r,this.type=12}}class qU{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class GU{constructor(e){this.theme=e,this.type=14}}class YU{constructor(e){this.type=15,this.ranges=e}}class ZU{constructor(){this.type=16}}class QU{constructor(){this.type=17}}class XU extends hv{constructor(){super(),this._onEvent=this._register(new Cv),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const i=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(i)return void(this._outgoingEvents[t]=i)}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new JU),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class JU{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class $U{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new $U(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class eK{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new eK(this.oldHasFocus,e.hasFocus)}}class tK{constructor(e,t,i,n,o,s,r,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=r,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new tK(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class iK{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class nK{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class oK{constructor(e,t,i,n,o,s,r){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=r}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return oK._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new oK(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class sK{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class rK{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class aK{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class lK{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class cK{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class dK{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class hK{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class uK extends hv{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new AU(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new IU(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=av(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new AU(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;const s=this.context.cursorConfig.multiCursorLimit;null!==n&&n.length>s&&(n=n.slice(0,s),o=!0);const r=gK.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,r,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,o,s){const r=this._cursors.getViewPositions();let a=null,l=null;r.length>1?l=this._cursors.getViewSelections():a=Fb.fromPositions(r[0],r[0]),e.emitViewEvent(new KU(t,i,a,l,n,o,s))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const e=t[n];let o=1,s=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(s=e.position.column);let r=o,a=s;e.selectionStart&&e.selectionStart.lineNumber&&(r=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),i.push({selectionStartLineNumber:r,selectionStartColumn:a,positionLineNumber:o,positionColumn:s})}this.setStates(e,"restoreState",0,fB.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof eU){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new IU(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const t=fB.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,t)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,fB.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,fB.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],n=[];for(let r=0,a=e.length;r<a;r++)i.push({range:e[r],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[r],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new pK(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=fK.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof jB&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const s=gK.from(this._model,this);if(s.equals(n))return!1;const r=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new PU(a,r,i)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some(((e,t)=>!e.modelState.equals(n.cursorState[t].modelState)))){const a=n?n.cursorState.map((e=>e.modelState.selection)):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new oK(a,r,l,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const s=o[1],r=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(s);if(!r||1!==r.length)return null;const a=r[0].open,l=n.text.length-o[2].length-1,c=n.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);const s=[],r=[],a=this._model.pushEditOperations(this.getSelections(),i,(e=>{if(o)for(let i=0,n=o.length;i<n;i++){const[t,n]=o[i],a=e[i],l=a.range.startLineNumber,c=a.range.startColumn-1+t,d=a.range.startColumn-1+n;s.push(new Fb(l,d+1,l,d+2)),r.push(new Fb(l,c+1,l,d+2))}const t=n(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),s.length>0&&this._pushAutoClosedAction(s,r)}_executeEdit(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.context.cursorConfig.readOnly)return;const o=gK.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){Um(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return pK.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new vK(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((()=>{"keyboard"===t&&this._executeEditOperation(HB.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))}),e,t)}type(e,t,i){this._executeEdit((()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=Lw(t,i),n=t.substr(i,e);this._executeEditOperation(HB.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(HB.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,i)}compositionType(e,t,i,n,o,s){if(0!==t.length||0!==i||0!==n)this._executeEdit((()=>{this._executeEditOperation(HB.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))}),e,s);else if(0!==o){const t=this.getSelections().map((e=>{const t=e.getPosition();return new Bb(t.lineNumber,t.column+o,t.lineNumber,t.column+o)}));this.setSelections(e,s,t,0)}}paste(e,t,i,n,o){this._executeEdit((()=>{this._executeEditOperation(HB.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(EB.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,i){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new _B(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}executeCommands(e,t,i){this._executeEdit((()=>{this._executeEditOperation(new _B(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}}class gK{static from(e,t){return new gK(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class pK{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(Fb.compareRangesUsingStarts),e.sort(Fb.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class fK{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let s=0,r=n.trackedRanges.length;s<r;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const s=[];for(let l=0,c=n.length;l<c;l++)o.hasOwnProperty(n[l].identifier.major.toString())||s.push(n[l]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let r=e.model.pushEditOperations(e.selectionsBefore,s,(i=>{const n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor,s=[];for(let r=0;r<e.selectionsBefore.length;r++)n[r].length>0?(n[r].sort(o),s[r]=t[r].computeCursorState(e.model,{getInverseEditOperations:()=>n[r],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new Bb(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new Bb(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):s[r]=e.selectionsBefore[r];return s}));r||(r=e.selectionsBefore);const a=[];for(const l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)r.splice(l,1);return r}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){const s=t[o];if(s){const t=this._getEditOperationsFromCommand(e,o,s);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){const n=[];let o=0;const s=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Fb.isEmpty(e)&&""===s||n.push({identifier:{major:t,minor:o++},range:e,text:s,forceMoveMarkers:r,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let r=!1;const a={addEditOperation:s,addTrackedEditOperation:(e,t,i)=>{r=!0,s(e,t,i)},trackSelection:(t,i)=>{const n=Bb.liftSelection(t);let o;if(n.isEmpty())if("boolean"===typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const s=e.trackedRanges.length,r=e.model._setTrackedRange(null,n,o);return e.trackedRanges[s]=r,e.trackedRangesDirection[s]=n.getDirection(),s.toString()}};try{i.getEditOperations(e.model,a)}catch(Pee){return Um(Pee),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:r}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-Fb.compareRangesUsingEnds(e.range,t.range)));const t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(Fb.getStartPosition(n.range).isBefore(Fb.getEndPosition(o.range))){let s;s=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[s.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===s&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}class mK{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class vK{static _capture(e,t){const i=[];for(const n of t){if(n.startLineNumber!==n.endLineNumber)return null;i.push(new mK(e.getLineContent(n.startLineNumber),n.startColumn-1,n.endColumn-1))}return i}constructor(e,t){this._original=vK._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=vK._capture(e,t);if(!i)return null;if(this._original.length!==i.length)return null;const n=[];for(let o=0,s=this._original.length;o<s;o++)n.push(vK._deduceOutcome(this._original[o],i[o]));return n}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,vw(e.text,t.text)),n=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,bw(e.text,t.text)),o=e.text.substring(i,e.text.length-n),s=t.text.substring(i,t.text.length-n);return new UB(o,e.startSelection-i,e.endSelection-i,s,t.startSelection-i,t.endSelection-i)}}function bK(e,t,i,n,o,s,r){let a="<div>",l=n,c=0,d=!0;for(let h=0,u=t.getCount();h<u;h++){const u=t.getEndOffset(h);if(u<=n)continue;let g="";for(;l<u&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:{let e=s-(l+c)%s;for(c+=e-1;e>0;)r&&d?(g+="&#160;",d=!1):(g+=" ",d=!0),e--;break}case 60:g+="&lt;",d=!1;break;case 62:g+="&gt;",d=!1;break;case 38:g+="&amp;",d=!1;break;case 0:g+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:g+="\ufffd",d=!1;break;case 13:g+="&#8203",d=!1;break;case 32:r&&d?(g+="&#160;",d=!1):(g+=" ",d=!0);break;default:g+=String.fromCharCode(t),d=!1}}if(a+='<span style="'.concat(t.getInlineStyle(h,i),'">').concat(g,"</span>"),u>o||l>=o)break}return a+="</div>",a}class _K{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class wK{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class yK{constructor(e,t,i,n){this._instanceId=Fw(++yK.INSTANCE_COUNT),this._pendingChanges=new _K,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{const i={insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new wK(s,e,i,n,o)),s},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}};e(i)}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const s=e=>{const t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},r=s(this._arr).concat(s(e));r.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=yK.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(i?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._checkPendingChanges(),e|=0;return this._lineHeight*e+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(t);if(e>=s+i)n=t+1;else{if(e>=s)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let s=0|this._lineCount,r=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,c;-1===r?(r=a,c=s+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));let d=o,h=d;const u=5e5;let g=0;o>=u&&(g=Math.floor(o/u)*u,g=Math.floor(g/i)*i,h-=g);const p=[],f=e+(t-e)/2;let m=-1;for(let w=n;w<=s;w++){if(-1===m){(d<=f&&f<d+i||d>f)&&(m=w)}for(d+=i,p[w-n]=h,h+=i;c===w;)h+=l,d+=l,r++,r>=a?c=s+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));if(d>=t){s=w;break}}-1===m&&(m=s);const v=0|this.getVerticalOffsetForLineNumber(s);let b=n,_=s;return b<_&&o<e&&b++,b<_&&v+i>t&&_--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:p,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];const o=[];for(let s=i;s<=n;s++){const e=this.getVerticalOffsetForWhitespaceIndex(s),i=this.getHeightForWhitespaceIndex(s);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:e,height:i})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}yK.INSTANCE_COUNT=0;class CK{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class SK extends hv{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new Cv),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new CK(0,0,0,0),this._scrollable=this._register(new yP({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new $U(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class kK extends hv{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(143),s=n.get(83);this._linesLayout=new yK(t,n.get(66),s.top,s.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new SK(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new CK(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(66)&&this._linesLayout.setLineHeight(t.get(66)),e.hasChanged(83)){const e=t.get(83);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(143)){const e=t.get(143),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),s=o.contentWidth;this._scrollable.setScrollDimensions(new CK(i,o.contentWidth,n,this._getContentHeight(i,n,s)))}else this._updateHeight();e.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(102);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(104)?o+=Math.max(0,t-n.get(66)-n.get(83).bottom):n.get(102).ignoreHorizontalScrollbarInContentHeight||(o+=this._getHorizontalScrollbarHeight(e,i)),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new CK(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new rI(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new rI(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(144),n=e.get(50),o=e.get(143);if(i.isViewportWrapping){const i=e.get(72);return t>o.contentWidth+n.typicalHalfwidthCharacterWidth&&i.enabled&&"right"===i.side?t+o.verticalScrollbarWidth:t}{const i=e.get(103)*n.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+i+o.verticalScrollbarWidth,s,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new CK(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class LK{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let s;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new Pb(n.startLineNumber,1),0,!1,!0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new Pb(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);s=new Fb(e.lineNumber,e.column,t.lineNumber,t.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new uI(s,o),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Fb(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(n,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const n=this._linesCollection.getDecorationsInRange(e,this.editorId,Em(this.configuration.options),t,i),o=e.startLineNumber,s=e.endLineNumber,r=[];let a=0;const l=[];for(let c=o;c<=s;c++)l[c-o]=[];for(let c=0,d=n.length;c<d;c++){const e=n[c],t=e.options;if(!xK(this.model,e))continue;const i=this._getOrCreateViewModelDecoration(e),d=i.range;if(r[a++]=i,t.inlineClassName){const e=new dI(d,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing?3:0),i=Math.max(o,d.startLineNumber),n=Math.min(s,d.endLineNumber);for(let t=i;t<=n;t++)l[t-o].push(e)}if(t.beforeContentClassName&&o<=d.startLineNumber&&d.startLineNumber<=s){const e=new dI(new Fb(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn),t.beforeContentClassName,1);l[d.startLineNumber-o].push(e)}if(t.afterContentClassName&&o<=d.endLineNumber&&d.endLineNumber<=s){const e=new dI(new Fb(d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn),t.afterContentClassName,2);l[d.endLineNumber-o].push(e)}}return{decorations:r,inlineDecorations:l}}}function xK(e,t){return(!t.options.hideInCommentTokens||!function(e,t){return DK(e,t.range,(e=>1===e))}(e,t))&&(!t.options.hideInStringTokens||!function(e,t){return DK(e,t.range,(e=>2===e))}(e,t))}function DK(e,t,i){for(let n=t.startLineNumber;n<=t.endLineNumber;n++){const o=e.tokenization.getLineTokens(n),s=n===t.startLineNumber,r=n===t.endLineNumber;let a=s?o.findTokenIndexAtOffset(t.startColumn-1):0;for(;a<o.getCount();){if(r){if(o.getStartOffset(a)>t.endColumn-1)break}if(!i(o.getStandardTokenType(a)))return!1;a++}}return!0}function EK(e,t){return null===e?t?TK.INSTANCE:IK.INSTANCE:new NK(e,t)}class NK{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const n=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i];let s;if(null!==this._projectionData.injectionOffsets){const i=this._projectionData.injectionOffsets.map(((e,t)=>new Yj(0,0,e+1,this._projectionData.injectionOptions[t],0)));s=Yj.applyInjectedText(e.getLineContent(t),i).substring(n,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=MK(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,o,s,r){this._assertVisible();const a=this._projectionData,l=a.injectionOffsets,c=a.injectionOptions;let d,h=null;if(l){h=[];let e=0,t=0;for(let i=0;i<a.getOutputLineCount();i++){const n=new Array;h[i]=n;const o=i>0?a.breakOffsets[i-1]:0,s=a.breakOffsets[i];for(;t<l.length;){const r=c[t].content.length,d=l[t]+e,h=d+r;if(d>s)break;if(o<h){const e=c[t];if(e.inlineClassName){const t=i>0?a.wrappedTextIndentLength:0,r=t+Math.max(d-o,0),l=t+Math.min(h-o,s-o);r!==l&&n.push(new hI(r,l,e.inlineClassName,e.inlineClassNameAffectsLetterSpacing))}}if(!(h<=s))break;e+=r,t++}}}d=l?e.tokenization.getLineTokens(t).withInserted(l.map(((e,t)=>({offset:e,text:c[t].content,tokenMetadata:HT.defaultTokenMetadata})))):e.tokenization.getLineTokens(t);for(let u=i;u<i+n;u++){const e=o+u-i;s[e]?r[e]=this._getViewLineData(d,h?h[u]:null,u):r[e]=null}}_getViewLineData(e,t,i){this._assertVisible();const n=this._projectionData,o=i>0?n.wrappedTextIndentLength:0,s=i>0?n.breakOffsets[i-1]:0,r=n.breakOffsets[i],a=e.sliceAndInflate(s,r,o);let l=a.getLineContent();i>0&&(l=MK(n.wrappedTextIndentLength)+l);const c=this._projectionData.getMinOutputOffset(i)+1,d=l.length+1,h=i+1<this.getViewLineCount(),u=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new lI(l,h,c,d,u,a,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this._assertVisible();return this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();return e+this._projectionData.translateToOutputPosition(t-1).outputLineIndex}normalizePosition(e,t,i){const n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class TK{constructor(){}isVisible(){return!0}setVisible(e){return e?this:IK.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const n=e.tokenization.getLineTokens(t),o=n.getLineContent();return new lI(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,s,r){s[o]?r[o]=this.getViewLineData(e,t,0):r[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Pb(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}TK.INSTANCE=new TK;class IK{constructor(){}isVisible(){return!1}setVisible(e){return e?TK.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,r){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}IK.INSTANCE=new IK;const AK=[""];function MK(e){if(e>=AK.length)for(let t=1;t<=e;t++)AK[t]=OK(t);return AK[e]}function OK(e){return new Array(e+1).join(" ")}class RK{constructor(e,t,i,n,o,s,r,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=r,this.wrappingColumn=a,this.wrappingIndent=l,this.wordBreak=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new BK(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),r=new Bp(Yj.fromDecorations(n));for(let p=0;p<o;p++){const e=r.takeWhile((e=>e.lineNumber===p+1));s.addRequest(i[p],e,t?t[p]:null)}const a=s.finalize(),l=[],c=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(Fb.compareRangesUsingStarts);let d=1,h=0,u=-1,g=u+1<c.length?h+1:o+2;for(let p=0;p<o;p++){const e=p+1;e===g&&(u++,d=c[u].startLineNumber,h=c[u].endLineNumber,g=u+1<c.length?h+1:o+2);const t=e>=d&&e<=h,i=EK(a[p],!t);l[p]=i.getViewLineCount(),this.modelLineProjections[p]=i}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new yE(l)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e)))}setHiddenAreas(e){const t=function(e){if(0===e.length)return[];const t=e.slice();t.sort(Fb.compareRangesUsingStarts);const i=[];let n=t[0].startLineNumber,o=t[0].endLineNumber;for(let s=1,r=t.length;s<r;s++){const e=t[s];e.startLineNumber>o+1?(i.push(new Fb(n,1,o,1)),n=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return i.push(new Fb(n,1,o,1)),i}(e.map((e=>this.model.validateRange(e)))),i=this.hiddenAreasDecorationIds.map((e=>this.model.getDecorationRange(e))).sort(Fb.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}const n=t.map((e=>({range:e,options:SU.EMPTY})));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,n);const o=t;let s=1,r=0,a=-1,l=a+1<o.length?r+1:this.modelLineProjections.length+2,c=!1;for(let d=0;d<this.modelLineProjections.length;d++){const e=d+1;e===l&&(a++,s=o[a].startLineNumber,r=o[a].endLineNumber,l=a+1<o.length?r+1:this.modelLineProjections.length+2);let t=!1;if(e>=s&&e<=r?this.modelLineProjections[d].isVisible()&&(this.modelLineProjections[d]=this.modelLineProjections[d].setVisible(!1),t=!0):(c=!0,this.modelLineProjections[d].isVisible()||(this.modelLineProjections[d]=this.modelLineProjections[d].setVisible(!0),t=!0)),t){const e=this.modelLineProjections[d].getViewLineCount();this.projectedModelLineLineCounts.setValue(d,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.modelLineProjections.length)&&this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n,o){const s=this.fontInfo.equals(e),r=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===n,c=this.wordBreak===o;if(s&&r&&a&&l&&c)return!1;const d=s&&r&&!a&&l&&c;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n,this.wordBreak=o;let h=null;if(d){h=[];for(let e=0,t=this.modelLineProjections.length;e<t;e++)h[e]=this.modelLineProjections[e].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const n=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new jU(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),s=1===t?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let r=0;const a=[],l=[];for(let c=0,d=n.length;c<d;c++){const e=EK(n[c],!o);a.push(e);const t=e.getViewLineCount();r+=t,l[c]=t}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(a).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,l),new UU(s,s+r-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];const n=t-1,o=this.modelLineProjections[n].getViewLineCount(),s=EK(i,this.modelLineProjections[n].isVisible());this.modelLineProjections[n]=s;const r=this.modelLineProjections[n].getViewLineCount();let a=!1,l=0,c=-1,d=0,h=-1,u=0,g=-1;o>r?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+r-1,u=c+1,g=u+(o-r)-1,a=!0):o<r?(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+o-1,d=c+1,h=d+(r-o)-1,a=!0):(l=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,c=l+r-1),this.projectedModelLineLineCounts.setValue(n,r);return[a,l<=c?new HU(l,c-l+1):null,d<=h?new UU(d,h):null,u<=g?new jU(u,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.modelLineProjections.length||this.modelLineProjections[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),r=this.model.guides.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),a=this.convertModelPositionToViewPosition(r.startLineNumber,1),l=this.convertModelPositionToViewPosition(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:r.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new PK(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Pb(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new Pb(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array;let s=this.getModelStartPositionOfViewLine(i),r=new Array;for(let a=i.modelLineNumber;a<=n.modelLineNumber;a++){const e=this.modelLineProjections[a-1];if(e.isVisible()){const t=a===i.modelLineNumber?i.modelLineWrappedLineIdx:0,o=a===n.modelLineNumber?n.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<o;e++)r.push(new PK(a,e))}if(!e.isVisible()&&s){const e=new Pb(a-1,this.model.getLineMaxColumn(a-1)+1),t=Fb.fromPositions(s,e);o.push(new FK(t,r)),r=[],s=null}else e.isVisible()&&!s&&(s=new Pb(a,1))}if(s){const e=Fb.fromPositions(s,this.getModelEndPositionOfViewLine(n));o.push(new FK(e,r))}return o}getViewLinesBracketGuides(e,t,i,n){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(const r of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=r.modelRange.startLineNumber,t=this.model.guides.getLinesBracketGuides(e,r.modelRange.endLineNumber,o,n);for(const i of r.viewLines){const n=t[i.modelLineNumber-e].map((e=>{if(-1!==e.forWrappedLinesAfterColumn){if(this.modelLineProjections[i.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesAfterColumn).lineNumber>=i.modelLineWrappedLineIdx)return}if(-1!==e.forWrappedLinesBeforeOrAtColumn){if(this.modelLineProjections[i.modelLineNumber-1].getViewPositionOfModelPosition(0,e.forWrappedLinesBeforeOrAtColumn).lineNumber<i.modelLineWrappedLineIdx)return}if(!e.horizontalLine)return e;let t=-1;if(-1!==e.column){const n=this.modelLineProjections[i.modelLineNumber-1].getViewPositionOfModelPosition(0,e.column);if(n.lineNumber===i.modelLineWrappedLineIdx)t=n.column;else if(n.lineNumber<i.modelLineWrappedLineIdx)t=this.getMinColumnOfViewLine(i);else if(n.lineNumber>i.modelLineWrappedLineIdx)return}const n=this.convertModelPositionToViewPosition(i.modelLineNumber,e.horizontalLine.endColumn),o=this.modelLineProjections[i.modelLineNumber-1].getViewPositionOfModelPosition(0,e.horizontalLine.endColumn);return o.lineNumber===i.modelLineWrappedLineIdx?new NV(e.visibleColumn,t,e.className,new TV(e.horizontalLine.top,n.column),-1,-1):o.lineNumber<i.modelLineWrappedLineIdx||-1!==e.visibleColumn?void 0:new NV(e.visibleColumn,t,e.className,new TV(e.horizontalLine.top,this.getMaxColumnOfViewLine(i)),-1,-1)}));s.push(n.filter((e=>!!e)))}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const s=[],r=[],a=i.lineNumber-1,l=n.lineNumber-1;let c=null;for(let g=a;g<=l;g++){const e=this.modelLineProjections[g];if(e.isVisible()){const t=e.getViewLineNumberOfModelPosition(0,g===a?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=n-t+1;let l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,n)&&(l=0===t?1:2),s.push(o),r.push(l),null===c&&(c=new Pb(g+1,0))}else null!==c&&(o=o.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,g)),c=null)}null!==c&&(o=o.concat(this.model.guides.getLinesIndentGuides(c.lineNumber,n.lineNumber)),c=null);const d=t-e+1,h=new Array(d);let u=0;for(let g=0,p=o.length;g<p;g++){let e=o[g];const t=Math.min(d-u,s[g]),i=r[g];let n;n=2===i?0:1===i?1:t;for(let o=0;o<t;o++)o===n&&(e=0),h[u++]=e}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const s=n.index,r=n.remainder,a=[];for(let l=s,c=this.model.getLineCount();l<c;l++){const n=this.modelLineProjections[l];if(!n.isVisible())continue;const c=l===s?r:0;let d=n.getViewLineCount()-c,h=!1;if(o+d>t&&(h=!0,d=t-o+1),n.getViewLinesData(this.model,l+1,c,d,o-e,i,a),o+=d,h)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=n.index,s=n.remainder,r=this.modelLineProjections[o],a=r.getViewLineMinColumn(this.model,o+1,s),l=r.getViewLineMaxColumn(this.model,o+1,s);t<a&&(t=a),t>l&&(t=l);const c=r.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new Pb(o+1,c)).equals(i)?new Pb(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Fb(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Pb(i.modelLineNumber,n))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Fb(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this.model.validatePosition(new Pb(e,t)),r=s.lineNumber,a=s.column;let l=r-1,c=!1;if(o)for(;l<this.modelLineProjections.length&&!this.modelLineProjections[l].isVisible();)l++,c=!0;else for(;l>0&&!this.modelLineProjections[l].isVisible();)l--,c=!0;if(0===l&&!this.modelLineProjections[l].isVisible())return new Pb(n?0:1,1);const d=1+this.projectedModelLineLineCounts.getPrefixSum(l);let h;return h=c?o?this.modelLineProjections[l].getViewPositionOfModelPosition(d,1,i):this.modelLineProjections[l].getViewPositionOfModelPosition(d,this.model.getLineMaxColumn(l+1),i):this.modelLineProjections[r-1].getViewPositionOfModelPosition(d,a,i),h}convertModelRangeToViewRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return Fb.fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Fb(t.lineNumber,t.column,i.lineNumber,i.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const e=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(0===i&&!this.modelLineProjections[i].isVisible())return 1;const n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,n,o){const s=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-s.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Fb(s.lineNumber,1,r.lineNumber,r.column),t,i,n,o);let a=[];const l=s.lineNumber-1,c=r.lineNumber-1;let d=null;for(let p=l;p<=c;p++){if(this.modelLineProjections[p].isVisible())null===d&&(d=new Pb(p+1,p===l?s.column:1));else if(null!==d){const e=this.model.getLineMaxColumn(p);a=a.concat(this.model.getDecorationsInRange(new Fb(d.lineNumber,d.column,p,e),t,i,n)),d=null}}null!==d&&(a=a.concat(this.model.getDecorationsInRange(new Fb(d.lineNumber,d.column,r.lineNumber,r.column),t,i,n)),d=null),a.sort(((e,t)=>{const i=Fb.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i}));const h=[];let u=0,g=null;for(const p of a){const e=p.id;g!==e&&(g=e,h[u++]=p)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return 0===t.modelLineWrappedLineIdx?this.model.getLineIndentColumn(t.modelLineNumber):0}}class PK{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class FK{constructor(e,t){this.modelRange=e,this.viewLines=t}}class BK{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,n){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,n)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class VK{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new WK(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new jU(t,i)}onModelLinesInserted(e,t,i,n){return new UU(t,i)}onModelLineChanged(e,t,i){return[!1,new HU(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new lI(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);const o=[];for(let s=e;s<=t;s++){const t=s-e;o[t]=i[t]?this.getViewLineData(s):null}return o}getDecorationsInRange(e,t,i,n,o){return this.model.getDecorationsInRange(e,t,i,n,o)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class WK{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class zK extends hv{constructor(e,t,i,n,o,s,r,a,l){if(super(),this.languageConfigurationService=r,this._themeService=a,this._attachedView=l,this.hiddenAreasModel=new UK,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new XU,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new pB(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new mS((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStart=HK.create(this.model),this.model.isTooLargeForTokenization())this._lines=new VK(this.model);else{const e=this._configuration.options,t=e.get(50),i=e.get(137),s=e.get(144),r=e.get(136),a=e.get(128);this._lines=new RK(this._editorId,this.model,n,o,t,this.model.getOptions().tabSize,i,s.wrappingColumn,r,a)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new uK(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new kK(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._handleVisibleLinesChanged(),e.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new qU(e)),this._eventDispatcher.emitOutgoingEvent(new tK(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new LK(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(XV.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new ZU)}))),this._register(this._themeService.onDidColorThemeChange((e=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new GU(e))}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new Fb(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new VU(e)),this._eventDispatcher.emitOutgoingEvent(new eK(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new MU)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new OU)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new Pb(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new qK(t,this._viewportStart.startLineDelta)}return new qK(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),n=this._configuration.options,o=n.get(50),s=n.get(137),r=n.get(144),a=n.get(136),l=n.get(128);this._lines.setWrappingSettings(o,s,r.wrappingColumn,a,l)&&(e.emitViewEvent(new BU),e.emitViewEvent(new zU),e.emitViewEvent(new FU(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(90)&&(this._decorations.reset(),e.emitViewEvent(new FU(null))),t.hasChanged(97)&&(this._decorations.reset(),e.emitViewEvent(new FU(null))),e.emitViewEvent(new RU(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),pB.shouldRecreate(t)&&(this.cursorConfig=new pB(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e instanceof tU?e.rawContentChangedEvent.changes:e.changes,s=e instanceof tU?e.rawContentChangedEvent.versionId:null,r=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),r.addRequest(e.detail,t,null);break}}const a=r.finalize(),l=new Bp(a);for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new BU),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(s,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=l.takeCount(e.detail.length),o=this._lines.onModelLinesInserted(s,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=l.dequeue(),[o,r,a,c]=this._lines.onModelLineChanged(s,e.lineNumber,i);n=o,r&&t.emitViewEvent(r),a&&(t.emitViewEvent(a),this.viewLayout.onLinesInserted(a.fromLineNumber,a.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}}null!==s&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new zU),t.emitViewEvent(new FU(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const e=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStart.startLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();e instanceof tU&&t.emitOutgoingEvent(new cK(e.contentChangedEvent)),this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()}))),this._register(this.model.onDidChangeTokens((e=>{const t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Pb(n.fromLineNumber,1)).lineNumber,s=this.coordinatesConverter.convertModelPositionToViewPosition(new Pb(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:s}}this._eventDispatcher.emitSingleViewEvent(new YU(t)),this._eventDispatcher.emitOutgoingEvent(new hK(e))}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new WU),this.cursorConfig=new pB(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new lK(e))}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new pB(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new aK(e))}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new BU),e.emitViewEvent(new zU),e.emitViewEvent(new FU(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new pB(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new dK(e))}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new FU(e)),this._eventDispatcher.emitOutgoingEvent(new rK(e))})))}setHiddenAreas(e,t){var i;this.hiddenAreasModel.setHiddenAreas(t,e);const n=this.hiddenAreasModel.getMergedRanges();if(n===this.previousHiddenAreas)return;this.previousHiddenAreas=n;const o=this._captureStableViewport();let s=!1;try{const e=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(n),s&&(e.emitViewEvent(new BU),e.emitViewEvent(new zU),e.emitViewEvent(new FU(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const t=null===(i=o.viewportStartModelPosition)||void 0===i?void 0:i.lineNumber,r=t&&n.some((e=>e.startLineNumber<=t&&t<=e.endLineNumber));r||o.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new nK)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(143),t=this._configuration.options.get(66),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new Fb(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];const n=[];let o=0,s=t.startLineNumber,r=t.startColumn;const a=t.endLineNumber,l=t.endColumn;for(let c=0,d=i.length;c<d;c++){const e=i[c].startLineNumber,t=i[c].endLineNumber;t<s||(e>a||(s<e&&(n[o++]=new Fb(s,r,e-1,this.model.getLineMaxColumn(e-1))),s=t+1,r=1))}return(s<a||s===a&&r<l)&&(n[o++]=new Fb(s,r,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new Fb(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new Fb(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new Pb(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=sw(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=aw(this.getLineContent(e));return-1===t?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const i=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,i)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(e);return s.inlineDecorations&&(t=[...t,...s.inlineDecorations.map((t=>t.toInlineDecoration(e)))]),new cI(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,t,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const n=this._lines.getViewLinesData(e,t,i);return new aI(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,Em(this._configuration.options)),i=new jK;for(const n of t){const t=n.options,o=t.overviewRuler;if(!o)continue;const s=o.position;if(0===s)continue;const r=o.getColor(e.value),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(r,t.zIndex,a,l,s)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;null===e||void 0===e||e.invalidateCachedColor();const i=t.options.minimap;null===i||void 0===i||i.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);return this.model.modifyPosition(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(Fb.compareRangesUsingStarts);let o=!1,s=!1;for(const a of e)a.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const i=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){const t=[];let n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}const r=[];for(const a of e)a.isEmpty()||r.push(this.model.getValueInRange(a,i?2:0));return 1===r.length?r[0]:r}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===UD)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new Fb(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(50),s=this._getColorMap();let r;if(/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Vm.fontFamily)r=Vm.fontFamily;else{r=o.fontFamily,r=r.replace(/"/g,"'");if(!/[,']/.test(r)){/[+ ]/.test(r)&&(r="'".concat(r,"'"))}r="".concat(r,", ").concat(Vm.fontFamily)}return{mode:i,html:'<div style="'+"color: ".concat(s[1],";")+"background-color: ".concat(s[2],";")+"font-family: ".concat(r,";")+"font-weight: ".concat(o.fontWeight,";")+"font-size: ".concat(o.fontSize,"px;")+"line-height: ".concat(o.lineHeight,"px;")+'white-space: pre;">'+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=this.getTabSize();let a="";for(let l=i;l<=o;l++){const e=this.model.tokenization.getLineTokens(l),c=e.getLineContent(),d=l===i?n-1:0,h=l===o?s-1:c.length;a+=""===c?"<br>":bK(c,e.inflate(),t,d,h,r,If)}return a}_getColorMap(){const e=n_.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=hT.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector((n=>this._cursor.setStates(n,e,t,i)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._withViewEventsCollector((n=>this._cursor.setSelections(n,e,t,i)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new sK):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit((n=>this._cursor.executeEdits(n,e,t,i)))}startComposition(){this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((i=>this._cursor.type(i,e,t)))}compositionType(e,t,i,n,o){this._executeCursorEdit((s=>this._cursor.compositionType(s,e,t,i,n,o)))}paste(e,t,i,n){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,i,n)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((i=>this._cursor.executeCommand(i,e,t)))}executeCommands(e,t){this._executeCursorEdit((i=>this._cursor.executeCommands(i,e,t)))}revealPrimaryCursor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._withViewEventsCollector((n=>this._cursor.revealPrimary(n,e,i,0,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new Fb(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new KU(e,!1,i,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new Fb(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new KU(e,!1,i,null,0,!0,0))))}revealRange(e,t,i,n,o){this._withViewEventsCollector((s=>s.emitViewEvent(new KU(e,!1,i,null,n,t,o))))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new QU),this._eventDispatcher.emitOutgoingEvent(new iK))}_withViewEventsCollector(e){try{return e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class HK{static create(e){const t=e._setTrackedRange(null,new Fb(1,1,1,1),1);return new HK(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,n,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=n,this._startLineDelta=o}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new Pb(t,e.getLineMinColumn(t))),n=e.model._setTrackedRange(this._modelTrackedRange,new Fb(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),s=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=n,this._startLineDelta=s-o}invalidate(){this._isValid=!1}}class jK{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){const s=this._asMap[e];if(s){const e=s.data,t=e[e.length-3],r=e[e.length-1];if(t===o&&r+1>=i)return void(n>r&&(e[e.length-1]=n));e.push(o,i,n)}else{const s=new gI(e,t,[o,i,n]);this._asMap[e]=s,this.asArray.push(s)}}}class UK{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&KK(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce(((e,t)=>function(e,t){const i=[];let n=0,o=0;for(;n<e.length&&o<t.length;){const s=e[n],r=t[o];if(s.endLineNumber<r.startLineNumber-1)i.push(e[n++]);else if(r.endLineNumber<s.startLineNumber-1)i.push(t[o++]);else{const e=Math.min(s.startLineNumber,r.startLineNumber),t=Math.max(s.endLineNumber,r.endLineNumber);i.push(new Fb(e,1,t,1)),n++,o++}}for(;n<e.length;)i.push(e[n++]);for(;o<t.length;)i.push(t[o++]);return i}(e,t)),[]);return KK(this.ranges,e)||(this.ranges=e),this.ranges}}function KK(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].equalsRange(t[i]))return!1;return!0}class qK{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),n=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:n+this.startLineDelta},1)}}class GK{constructor(){this._entries=new Map;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const[n,o]of t)this.set(n,o)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var YK;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(YK||(YK={})),function(e){const t="error",i="warning",n="info";e.fromValue=function(o){return o?fw(t,o)?e.Error:fw(i,o)||fw("warn",o)?e.Warning:fw(n,o)?e.Info:e.Ignore:e.Ignore},e.toString=function(o){switch(o){case e.Error:return t;case e.Warning:return i;case e.Info:return n;default:return"ignore"}}}(YK||(YK={}));const ZK=YK;var QK=ZK;const XK=vy("notificationService");class JK{constructor(e,t,i,n,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let i=this.breakOffsets[e]-t;return e>0&&(i+=this.wrappedTextIndentLength),i}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let i=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&i>this.injectionOffsets[n];n++)i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length;return i}translateToOutputPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=e;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=0,n=this.breakOffsets.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;const r=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=s)n=o-1;else{if(!(e>r))break;i=o+1}else if(e<s)n=o-1;else{if(!(e>=r))break;i=o+1}}let r=e-s;return o>0&&(r+=this.wrappedTextIndentLength),new tq(o,r)}normalizeOutputPosition(e,t,i){if(null!==this.injectionOffsets){const n=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(o!==n)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(0===i){if(e>0&&t===this.getMinOutputOffset(e))return new tq(e-1,this.getMaxOutputOffset(e-1))}else if(1===i){if(e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new tq(e+1,this.getMinOutputOffset(e+1))}return new tq(e,t)}outputPositionToOffsetInInputWithInjections(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));return(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t){if(e===i.offsetInInputWithInjections+i.length&&$K(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let e=i.offsetInInputWithInjections;if(eq(this.injectionOptions[i.injectedTextIndex].cursorStops))return e;let t=i.injectedTextIndex-1;for(;t>=0&&this.injectionOffsets[t]===this.injectionOffsets[i.injectedTextIndex]&&!$K(this.injectionOptions[t].cursorStops)&&(e-=this.injectionOptions[t].content.length,!eq(this.injectionOptions[t].cursorStops));)t--;return e}}if(1===t||4===t){let e=i.offsetInInputWithInjections+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}if(0===t||3===t){let e=i.offsetInInputWithInjections,t=i.injectedTextIndex;for(;t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t];)e-=this.injectionOptions[t-1].content.length,t--;return e}DC(t)}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let o=0;o<t.length;o++){const s=i[o].content.length,r=t[o]+n,a=t[o]+n+s;if(r>e)break;if(e<=a)return{injectedTextIndex:o,offsetInInputWithInjections:r,length:s};n+=s}}}}function $K(e){return null===e||void 0===e||(e===PE.Right||e===PE.Both)}function eq(e){return null===e||void 0===e||(e===PE.Left||e===PE.Both)}class tq{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}toPosition(e){return new Pb(e+this.outputLineIndex,this.outputOffset+1)}}class iq{static create(e){return new iq(e.get(132),e.get(131))}constructor(e,t){this.classifier=new nq(e,t)}createLineBreaksComputer(e,t,i,n,o){const s=[],r=[],a=[];return{addRequest:(e,t,i)=>{s.push(e),r.push(t),a.push(i)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let e=0,d=s.length;e<d;e++){const d=r[e],h=a[e];!h||h.injectionOptions||d?c[e]=aq(this.classifier,s[e],d,t,i,l,n,o):c[e]=rq(this.classifier,h,s[e],t,i,l,n,o)}return oq.length=0,sq.length=0,c}}}}class nq extends kE{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let oq=[],sq=[];function rq(e,t,i,n,o,s,r,a){if(-1===o)return null;const l=i.length;if(l<=1)return null;const c="keepAll"===a,d=t.breakOffsets,h=t.breakOffsetsVisibleColumn,u=hq(i,n,o,s,r),g=o-u,p=oq,f=sq;let m=0,v=0,b=0,_=o;const w=d.length;let y=0;if(y>=0){let e=Math.abs(h[y]-_);for(;y+1<w;){const t=Math.abs(h[y+1]-_);if(t>=e)break;e=t,y++}}for(;y<w;){let t=y<0?0:d[y],o=y<0?0:h[y];v>t&&(t=v,o=b);let r=0,a=0,u=0,C=0;if(o<=_){let b=o,w=0===t?0:i.charCodeAt(t-1),y=0===t?0:e.get(w),S=!0;for(let o=t;o<l;o++){const t=o,l=i.charCodeAt(o);let d,h;if(_w(l)?(o++,d=0,h=2):(d=e.get(l),h=lq(l,b,n,s)),t>v&&dq(w,y,l,d,c)&&(r=t,a=b),b+=h,b>_){t>v?(u=t,C=b-h):(u=o+1,C=b),b-a>g&&(r=0),S=!1;break}w=l,y=d}if(S){m>0&&(p[m]=d[d.length-1],f[m]=h[d.length-1],m++);break}}if(0===r){let l=o,d=i.charCodeAt(t),h=e.get(d),p=!1;for(let n=t-1;n>=v;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){p=!0;break}let f,m;if(ww(o)?(n--,f=0,m=2):(f=e.get(o),m=Mw(o)?s:1),l<=_){if(0===u&&(u=t,C=l),l<=_-g)break;if(dq(o,f,d,h,c)){r=t,a=l;break}}l-=m,d=o,h=f}if(0!==r){const e=g-(C-a);if(e<=n){const t=i.charCodeAt(u);let o;o=_w(t)?2:lq(t,C,n,s),e-o<0&&(r=0)}}if(p){y--;continue}}if(0===r&&(r=u,a=C),r<=v){const e=i.charCodeAt(v);_w(e)?(r=v+2,a=b+2):(r=v+1,a=b+lq(e,b,n,s))}for(v=r,p[m]=r,b=a,f[m]=a,m++,_=a+g;y<0||y<w&&h[y]<a;)y++;let S=Math.abs(h[y]-_);for(;y+1<w;){const e=Math.abs(h[y+1]-_);if(e>=S)break;S=e,y++}}return 0===m?null:(p.length=m,f.length=m,oq=t.breakOffsets,sq=t.breakOffsetsVisibleColumn,t.breakOffsets=p,t.breakOffsetsVisibleColumn=f,t.wrappedTextIndentLength=u,t)}function aq(e,t,i,n,o,s,r,a){const l=Yj.applyInjectedText(t,i);let c,d;if(i&&i.length>0?(c=i.map((e=>e.options)),d=i.map((e=>e.column-1))):(c=null,d=null),-1===o)return c?new JK(d,c,[l.length],[],0):null;const h=l.length;if(h<=1)return c?new JK(d,c,[l.length],[],0):null;const u="keepAll"===a,g=hq(l,n,o,s,r),p=o-g,f=[],m=[];let v=0,b=0,_=0,w=o,y=l.charCodeAt(0),C=e.get(y),S=lq(y,0,n,s),k=1;_w(y)&&(S+=1,y=l.charCodeAt(1),C=e.get(y),k++);for(let L=k;L<h;L++){const t=L,i=l.charCodeAt(L);let o,r;_w(i)?(L++,o=0,r=2):(o=e.get(i),r=lq(i,S,n,s)),dq(y,C,i,o,u)&&(b=t,_=S),S+=r,S>w&&((0===b||S-_>p)&&(b=t,_=S-r),f[v]=b,m[v]=_,v++,w=_+p,b=0),y=i,C=o}return 0!==v||i&&0!==i.length?(f[v]=h,m[v]=S,new JK(d,c,f,m,g)):null}function lq(e,t,i,n){return 9===e?i-t%i:Mw(e)||e<32?n:1}function cq(e,t){return t-e%t}function dq(e,t,i,n,o){return 32!==i&&(2===t&&2!==n||1!==t&&1===n||!o&&3===t&&2!==n||!o&&3===n&&1!==t)}function hq(e,t,i,n,o){let s=0;if(0!==o){const r=sw(e);if(-1!==r){for(let i=0;i<r;i++){s+=9===e.charCodeAt(i)?cq(s,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){s+=cq(s,t)}s+n>i&&(s=0)}}return s}const uq=xx("domLineBreaksComputer",{createHTML:e=>e});class gq{static create(e){return new gq(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,n,o){const s=[],r=[];return{addRequest:(e,t,i)=>{s.push(e),r.push(t)},finalize:()=>function(e,t,i,n,o,s,r,a){var l;function c(e){const i=a[e];if(i){const n=Yj.applyInjectedText(t[e],i),o=i.map((e=>e.options)),s=i.map((e=>e.column-1));return new JK(s,o,[n.length],[],0)}return null}if(-1===o){const e=[];for(let i=0,n=t.length;i<n;i++)e[i]=c(i);return e}const d=Math.round(o*i.typicalHalfwidthCharacterWidth),h=3===s?2:2===s?1:0,u=Math.round(n*h),g=Math.ceil(i.spaceWidth*u),p=document.createElement("div");ry(p,i);const f=new $x(1e4),m=[],v=[],b=[],_=[],w=[];for(let x=0;x<t.length;x++){const e=Yj.applyInjectedText(t[x],a[x]);let o=0,r=0,l=d;if(0!==s)if(o=sw(e),-1===o)o=0;else{for(let i=0;i<o;i++){r+=9===e.charCodeAt(i)?n-r%n:1}const t=Math.ceil(i.spaceWidth*r);t+i.typicalFullwidthCharacterWidth>d?(o=0,r=0):l=d-t}const c=e.substr(o),h=pq(c,r,n,l,f,g);m[x]=o,v[x]=r,b[x]=c,_[x]=h[0],w[x]=h[1]}const y=f.build(),C=null!==(l=null===uq||void 0===uq?void 0:uq.createHTML(y))&&void 0!==l?l:y;p.innerHTML=C,p.style.position="absolute",p.style.top="10000","keepAll"===r?(p.style.wordBreak="keep-all",p.style.overflowWrap="anywhere"):(p.style.wordBreak="inherit",p.style.overflowWrap="break-word");e.document.body.appendChild(p);const S=document.createRange(),k=Array.prototype.slice.call(p.children,0),L=[];for(let x=0;x<t.length;x++){const e=fq(S,k[x],b[x],_[x]);if(null===e){L[x]=c(x);continue}const t=m[x],i=v[x]+u,n=w[x],o=[];for(let a=0,c=e.length;a<c;a++)o[a]=n[e[a]];if(0!==t)for(let a=0,c=e.length;a<c;a++)e[a]+=t;let s,r;const l=a[x];l?(s=l.map((e=>e.options)),r=l.map((e=>e.column-1))):(s=null,r=null),L[x]=new JK(r,s,e,o,i)}return e.document.body.removeChild(p),L}(Qp(this.targetWindow.deref()),s,e,t,i,n,o,r)}}}function pq(e,t,i,n,o,s){if(0!==s){const e=String(s);o.appendString('<div style="text-indent: -'),o.appendString(e),o.appendString("px; padding-left: "),o.appendString(e),o.appendString("px; box-sizing: border-box; width:")}else o.appendString('<div style="width:');o.appendString(String(n)),o.appendString('px;">');const r=e.length;let a=t,l=0;const c=[],d=[];let h=0<r?e.charCodeAt(0):0;o.appendString("<span>");for(let u=0;u<r;u++){0!==u&&u%16384===0&&o.appendString("</span><span>"),c[u]=l,d[u]=a;const t=h;h=u+1<r?e.charCodeAt(u+1):0;let n=1,s=1;switch(t){case 9:n=i-a%i,s=n;for(let e=1;e<=n;e++)e<n?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 32:32===h?o.appendCharCode(160):o.appendASCIICharCode(32);break;case 60:o.appendString("&lt;");break;case 62:o.appendString("&gt;");break;case 38:o.appendString("&amp;");break;case 0:o.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.appendCharCode(65533);break;default:Mw(t)&&s++,t<32?o.appendCharCode(9216+t):o.appendCharCode(t)}l+=n,a+=s}return o.appendString("</span>"),c[e.length]=l,d[e.length]=a,o.appendString("</div>"),[c,d]}function fq(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),s=[];try{mq(e,o,n,0,null,i.length-1,null,s)}catch(r){return console.log(r),null}return 0===s.length?null:(s.push(i.length),s)}function mq(e,t,i,n,o,s,r,a){if(n===s)return;if(o=o||vq(e,t,i[n],i[n+1]),r=r||vq(e,t,i[s],i[s+1]),Math.abs(o[0].top-r[0].top)<=.1)return;if(n+1===s)return void a.push(s);const l=n+(s-n)/2|0,c=vq(e,t,i[l],i[l+1]);mq(e,t,i,n,o,l,c,a),mq(e,t,i,l,c,s,r,a)}function vq(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}class bq extends hv{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new pv),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const n of t)this._pending.has(n.id)?Um(new Error("Cannot have two contributions with the same id ".concat(n.id))):this._pending.set(n.id,n);this._instantiateSome(0),this._register(Jk(Fk(this._editor.getDomNode()),(()=>{this._instantiateSome(1)}))),this._register(Jk(Fk(this._editor.getDomNode()),(()=>{this._instantiateSome(2)}))),this._register(Jk(Fk(this._editor.getDomNode()),(()=>{this._instantiateSome(3)}),5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)"function"===typeof i.saveViewState&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)"function"===typeof i.restoreViewState&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var e;this._register(Jk(Fk(null===(e=this._editor)||void 0===e?void 0:e.getDomNode()),(()=>{this._instantiateSome(1)}),50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const e=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,e),"function"===typeof e.restoreViewState&&0!==t.instantiation&&console.warn("Editor contribution '".concat(t.id,"' should be eager instantiated because it uses saveViewState / restoreViewState."))}catch(i){Um(i)}}}}var _q,wq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},yq=function(e,t){return function(i,n){t(i,n,e)}};let Cq=0;class Sq{constructor(e,t,i,n,o,s){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o,this.attachedView=s}dispose(){av(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let kq=_q=class extends hv{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,t,i,n,o,s,r,a,l,c,d,h){var u;super(),this.languageConfigurationService=d,this._deliveryQueue=new Sv,this._contributions=this._register(new bq),this._onDidDispose=this._register(new Cv),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Lq({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Lq({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new xq(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new xq(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new xq(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new xq(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new xq(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new xq(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new Cv({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),o.willCreateCodeEditor();const g={...t};let p;this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++Cq,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,g,c)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(143)){const e=t.get(143);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(r.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=o,this._commandService=s,this._themeService=a,this._register(new Dq(this,this._contextKeyService)),this._register(new Eq(this,this._contextKeyService,h)),this._instantiationService=n.createChild(new GK([pC,this._contextKeyService])),this._modelData=null,this._focusTracker=new Nq(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={},p=Array.isArray(i.contributions)?i.contributions:ax.getEditorContributions(),this._contributions.initialize(this,p,this._instantiationService);for(const m of ax.getEditorActions()){if(this._actions.has(m.id)){Um(new Error("Cannot have two actions with the same id ".concat(m.id)));continue}const e=new UW(m.id,m.label,m.alias,m.metadata,null!==(u=m.precondition)&&void 0!==u?u:void 0,(()=>this._instantiationService.invokeFunction((e=>Promise.resolve(m.runEditorCommand(e,this,null))))),this._contextKeyService);this._actions.set(e.id,e)}const f=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new XL(this._domElement,{onDragOver:e=>{if(!f())return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null===t||void 0===t?void 0:t.position)&&this.showDropIndicatorAt(t.position)},onDrop:async e=>{if(!f())return;if(this.removeDropIndicator(),!e.dataTransfer)return;const t=this.getTargetAtClientPoint(e.clientX,e.clientY);(null===t||void 0===t?void 0:t.position)&&this._onDropIntoEditor.fire({position:t.position,event:e})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;null===(t=this._modelData)||void 0===t||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i){return new cA(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return FT.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?NB.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),e):null}getValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===this._modelData&&null===e)return;if(this._modelData&&this._modelData.model===e)return;const t=this.hasTextFocus(),i=this._detachModel();this._attachModel(e),t&&this.hasModel()&&this.focus();const n={oldModelUrl:i?i.uri:null,newModelUrl:e?e.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(n),this._postDetachModelCleanup(i),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,n){const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(s.lineNumber,n)}getTopForLineNumber(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._modelData?_q._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?_q._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber,n)}getBottomForLineNumber(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._modelData?_q._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e,t){var i;null===(i=this._modelData)||void 0===i||i.viewModel.setHiddenAreas(e.map((e=>Fb.lift(e))),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return XR.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this._modelData){if(!Pb.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!Fb.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,0,t)}revealLineInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,2,t)}revealLineNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!==typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Fb(e,1,e,1),t,!1,i)}revealPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,0,!0,t)}revealPositionInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,2,!0,t)}revealPositionNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!Pb.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Fb(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const i=Bb.isISelection(e),n=Fb.isIRange(e);if(!i&&!n)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){const i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new Bb(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,t,0,i)}revealLinesInCenter(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,t,2,i)}revealLinesNearTop(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!==typeof e||"number"!==typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Fb(e,1,t,1),i,!1,n)}revealRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,2,!0,t)}revealRangeNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,6,!0,t)}revealRangeAtTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!Fb.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Fb.lift(e),t,i,n)}setSelections(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!Bb.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?e.length>0&&this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]),this._contributions.restoreViewState(t.contributionsState||{});const i=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(i)}}handleInitialized(){var e;null===(e=this._getViewModel())||void 0===e||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=i;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run(i)).then(void 0,Um):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const s=this._modelData.viewModel,r=s.getSelection().getStartPosition();s.paste(t,i,n,e);const a=s.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new Fb(r.lineNumber,r.column,a.lineNumber,a.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=ax.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,Um)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(90)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(90)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new Tq(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Em(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,Em(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){this._modelData&&0!==e.length&&this._modelData.model.changeDecorations((t=>{t.deltaDecorations(e,[])}))}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._configuration.observeContainer(e),t||this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const e=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(143);return{top:_q._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft(),height:i.get(66)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){ry(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),n=new zK(this._id,this._configuration,e,gq.create(Fk(this._domElement)),iq.create(this._configuration.options),(e=>eL(Fk(this._domElement),e)),this.languageConfigurationService,this._themeService,i);t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(n.onEvent((t=>{switch(t.kind){case 0:this._onDidContentSizeChange.fire(t);break;case 1:this._editorTextFocus.setValue(t.hasFocus);break;case 2:this._onDidScrollChange.fire(t);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(t.reachedMaxCursorCount){const e=lf("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",this.getOption(79));this._notificationService.prompt(QK.Warning,e,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:lf("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const e=[];for(let o=0,s=t.selections.length;o<s;o++)e[o]=t.selections[o].getPosition();const i={position:e[0],secondaryPositions:e.slice(1),reason:t.reason,source:t.source};this._onDidChangeCursorPosition.fire(i);const n={selection:t.selections[0],secondarySelections:t.selections.slice(1),modelVersionId:t.modelVersionId,oldSelections:t.oldSelections,oldModelVersionId:t.oldModelVersionId,source:t.source,reason:t.reason};this._onDidChangeCursorSelection.fire(n);break}case 7:this._onDidChangeModelDecorations.fire(t.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(t.event);break;case 10:this._onDidChangeModelContent.fire(t.event);break;case 11:this._onDidChangeModelOptions.fire(t.event);break;case 12:this._onDidChangeModelTokens.fire(t.event)}})));const[o,s]=this._createView(n);if(s){this._domElement.appendChild(o.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addOverlayWidget(this._overlayWidgets[i])}t=Object.keys(this._glyphMarginWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addGlyphMarginWidget(this._glyphMarginWidgets[i])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Sq(e,n,o,s,t,i)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,i,n)=>{if(i||n){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n};this._commandService.executeCommand("compositionType",o)}else{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new cV(e.coordinatesConverter);i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new zW(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){null===e||void 0===e||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}showDropIndicatorAt(e){const t=[{range:new Fb(e.lineNumber,e.column,e.lineNumber,e.column),options:_q.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}};kq.dropIntoEditorDecorationOptions=SU.register({description:"workbench-dnd-target",className:"dnd-target"}),kq=_q=wq([yq(3,my),yq(4,by),yq(5,Ny),yq(6,pC),yq(7,$P),yq(8,XK),yq(9,oA),yq(10,$D),yq(11,kT)],kq);class Lq extends hv{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new Cv(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new Cv(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class xq extends Cv{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class Dq extends hv{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=ZB.editorSimpleInput.bindTo(t),this._editorFocus=ZB.focus.bindTo(t),this._textInputFocus=ZB.textInputFocus.bindTo(t),this._editorTextFocus=ZB.editorTextFocus.bindTo(t),this._tabMovesFocus=ZB.tabMovesFocus.bindTo(t),this._editorReadonly=ZB.readOnly.bindTo(t),this._inDiffEditor=ZB.inDiffEditor.bindTo(t),this._editorColumnSelection=ZB.columnSelection.bindTo(t),this._hasMultipleSelections=ZB.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=ZB.hasNonEmptySelection.bindTo(t),this._canUndo=ZB.canUndo.bindTo(t),this._canRedo=ZB.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._register(nA.onDidChangeTabFocus((e=>this._tabMovesFocus.set(e)))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(nA.getTabFocusMode()),this._editorReadonly.set(e.get(90)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class Eq extends hv{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=ZB.languageId.bindTo(t),this._hasCompletionItemProvider=ZB.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=ZB.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=ZB.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=ZB.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=ZB.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=ZB.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=ZB.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=ZB.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=ZB.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=ZB.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=ZB.hasReferenceProvider.bindTo(t),this._hasRenameProvider=ZB.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=ZB.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=ZB.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=ZB.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=ZB.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=ZB.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=ZB.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=ZB.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Ck.walkThroughSnippet)})):this.reset()}}class Nq extends hv{constructor(e){super(),this._onChange=this._register(new Cv),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(OL(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}class Tq{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations((i=>{this._isChangingDecorations||e.call(t,i)}),i)}getRange(e){return this._editor.hasModel()?e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e]):null}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const n=e.getDecorationRange(i);n&&t.push(n)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations((t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)}))}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)}))}finally{this._isChangingDecorations=!1}return t}}const Iq=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Aq=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Mq(e){return Iq+encodeURIComponent(e.toString())+Aq}const Oq=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Rq=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');oF(((e,t)=>{const i=e.getColor(gM);i&&t.addRule(".monaco-editor .".concat("squiggly-error",' { background: url("data:image/svg+xml,',Mq(i),'") repeat-x bottom left; }'));const n=e.getColor(pM);n&&t.addRule(".monaco-editor .".concat("squiggly-warning",' { background: url("data:image/svg+xml,',Mq(n),'") repeat-x bottom left; }'));const o=e.getColor(mM);o&&t.addRule(".monaco-editor .".concat("squiggly-info",' { background: url("data:image/svg+xml,',Mq(o),'") repeat-x bottom left; }'));const s=e.getColor(bM);s&&t.addRule(".monaco-editor .".concat("squiggly-hint",' { background: url("data:image/svg+xml,',Oq+encodeURIComponent(s.toString())+Rq,'") no-repeat bottom left; }'));const r=e.getColor(TF);r&&t.addRule(".monaco-editor.showUnused .".concat("squiggly-inline-unnecessary"," { opacity: ",r.rgba.a,"; }"))}));var Pq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Fq=function(e,t){return function(i,n){t(i,n,e)}};let Bq=class extends hv{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new Cv),this._onCodeEditorAdd=this._register(new Cv),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Cv),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new Cv),this._onDiffEditorAdd=this._register(new Cv),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Cv),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Jf,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}async openCodeEditor(e,t,i){for(const n of this._codeEditorOpenHandlers){const o=await n(e,t,i);if(null!==o)return o}return null}registerCodeEditorOpenHandler(e){return cv(this._codeEditorOpenHandlers.unshift(e))}};Bq=Pq([Fq(0,$P)],Bq);var Vq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Wq=function(e,t){return function(i,n){t(i,n,e)}};let zq=class extends Bq{constructor(e,t){super(t),this._register(this.onCodeEditorAdd((()=>this._checkContextKey()))),this._register(this.onCodeEditorRemove((()=>this._checkContextKey()))),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((async(e,t,i)=>t?this.doOpenEditor(t,e):null)))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===Ck.http||i===Ck.https)return KL(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"===typeof i.endLineNumber&&"number"===typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};zq=Vq([Wq(0,pC),Wq(1,$P)],zq),CD(by,zq,0);const Hq=vy("layoutService");var jq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Uq=function(e,t){return function(i,n){t(i,n,e)}};let Kq=class{get mainContainer(){var e,t;return null!==(t=null===(e=Lp(this._codeEditorService.listCodeEditors()))||void 0===e?void 0:e.getContainerDomNode())&&void 0!==t?t:q_.document.body}get activeContainer(){var e,t;const i=null!==(e=this._codeEditorService.getFocusedCodeEditor())&&void 0!==e?e:this._codeEditorService.getActiveCodeEditor();return null!==(t=null===i||void 0===i?void 0:i.getContainerDomNode())&&void 0!==t?t:this.mainContainer}get mainContainerDimension(){return oL(this.mainContainer)}get activeContainerDimension(){return oL(this.activeContainer)}get containers(){return yp(this._codeEditorService.listCodeEditors().map((e=>e.getContainerDomNode())))}getContainer(){return this.activeContainer}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=vv.None,this.onDidLayoutActiveContainer=vv.None,this.onDidLayoutContainer=vv.None,this.onDidChangeActiveContainer=vv.None,this.onDidAddContainer=vv.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};Kq=jq([Uq(0,by)],Kq);let qq=class extends Kq{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};qq=jq([Uq(1,by)],qq),CD(Hq,Kq,1);const Gq=vy("dialogService");var Yq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Zq=function(e,t){return function(i,n){t(i,n,e)}};const Qq=!1;function Xq(e){return e.scheme===Ck.file?e.fsPath:e.path}let Jq=0;class $q{constructor(e,t,i,n,o,s,r){this.id=++Jq,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.isValid=!0}setValid(e){this.isValid=e}toString(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.isValid?"  VALID":"INVALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}class eG{constructor(e,t){this.resourceLabel=e,this.reason=t}}class tG{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements){(0===n.reason?e:t).push(n.resourceLabel)}const i=[];return e.length>0&&i.push(lf({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(lf({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class iG{constructor(e,t,i,n,o,s,r){this.id=++Jq,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=r,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"===typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new tG),this.removedResources.has(t)||this.removedResources.set(t,new eG(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new tG),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new eG(e,0)))}toString(){return"[id:".concat(this.id,"] [group:").concat(this.groupId,"] [").concat(this.invalidatedResources?"INVALID":"  VALID","] ").concat(this.actual.constructor.name," - ").concat(this.actual)}}class nG{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push("* ".concat(this.strResource,":"));for(let t=0;t<this._past.length;t++)e.push("   * [UNDO] ".concat(this._past[t]));for(let t=this._future.length-1;t>=0;t--)e.push("   * [REDO] ".concat(this._future[t]));return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new nU(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let r=0,a=this._past.length;r<a;r++,n++){const s=this._past[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let r=this._future.length-1;r>=0;r--,n++){const o=this._future[r];i&&(n>=t||o.id!==e.elements[n])&&(i=!1,s=r),i||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==s&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class oG{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const sG=new nG("","");sG.locked=!0;let rG=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log("AFTER ".concat(e,": "));const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oU.None,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sU.None;if(0===e.type){const n=Xq(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new $q(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],s=[];for(const t of e.resources){const e=Xq(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),s.push(i))}1===o.length?this._pushElement(new $q(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new iG(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new nG(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=Xq(o.resource),t=this.getUriComparisonKey(o.resource),i=new $q(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=Xq(o.resource),t=this.getUriComparisonKey(o.resource),i=new $q(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"===typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new nU(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&(s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n))}return[t,i]}canUndo(e){if(e instanceof sU){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){Um(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const s=this._acquireLocks(i);let r;try{r=t()}catch(a){return s(),n.dispose(),this._onError(a,e)}return r?r.then((()=>(s(),n.dispose(),o())),(t=>(s(),n.dispose(),this._onError(t,e)))):(s(),n.dispose(),o())}async _invokeWorkspacePrepare(e){if("undefined"===typeof e.actual.prepareUndoRedo)return hv.None;const t=e.actual.prepareUndoRedo();return"undefined"===typeof t?hv.None:t}_invokeResourcePrepare(e,t){if(1!==e.actual.type||"undefined"===typeof e.actual.prepareUndoRedo)return t(hv.None);const i=e.actual.prepareUndoRedo();return i?"function"===typeof(n=i).dispose&&0===n.dispose.length?t(i):i.then((e=>t(e))):t(hv.None);var n}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||sG);return new oG(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new aG(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new aG}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,lf({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,lf({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const r of i.editStacks)r.getClosestPastElement()!==t&&o.push(r.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,lf({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const r of i.editStacks)r.locked&&s.push(r.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,lf({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,lf({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,n){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let o;!function(e){e[e.All=0]="All",e[e.This=1]="This",e[e.Cancel=2]="Cancel"}(o||(o={}));const{result:s}=await this._dialogService.prompt({type:ZK.Info,message:lf("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:lf({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>o.All},{label:lf({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>o.This}],cancelButton:{run:()=>o.Cancel}});if(s===o.Cancel)return;if(s===o.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,t,i,!1);if(r)return r.returnValue;n=!0}let o;try{o=await this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),i,o,(()=>this._continueUndoInGroup(t.groupId,n)))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new oG([e]),n,(()=>this._continueUndoInGroup(t.groupId,i))))));{const e=lf({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestPastElement();s&&(s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n))}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof sU){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"===typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{Qq}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:lf("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:lf({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:lf("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&(s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n))}return[t,i]}canRedo(e){if(e instanceof sU){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new aG(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new aG}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,lf({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,lf({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const r of i.editStacks)r.getClosestFutureElement()!==t&&o.push(r.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,lf({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const r of i.editStacks)r.locked&&s.push(r.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,lf({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,lf({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let n;try{n=await this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const r of i.editStacks)r.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n,(()=>this._continueRedoInGroup(t.groupId)))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new oG([e]),i,(()=>this._continueRedoInGroup(t.groupId))))));{const e=lf({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const s=o.getClosestFutureElement();s&&(s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n))}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof sU){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"===typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{Qq}}}};rG=Yq([Zq(0,Gq),Zq(1,XK)],rG);class aG{constructor(e){this.returnValue=e}}function lG(e,t,i){return Math.min(Math.max(e,t),i)}CD(iU,rG,1);class cG{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class dG{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const hG=vy("environmentService");var uG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},gG=function(e,t){return function(i,n){t(i,n,e)}};const pG=vy("ILanguageFeatureDebounceService");var fG;!function(e){const t=new WeakMap;let i=0;e.of=function(e){let n=t.get(e);return void 0===n&&(n=++i,t.set(e,n)),n}}(fG||(fG={}));class mG{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class vG{constructor(e,t,i,n,o,s){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=o,this._max=s,this._cache=new HN(50,.7)}_key(e){return e.id+this._registry.all(e).reduce(((e,t)=>Nk(fG.of(t),e)),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?lG(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let n=this._cache.get(i);n||(n=new dG(6),this._cache.set(i,n));const o=lG(n.update(t),this._min,this._max);return Sk(e.uri,"output")||this._logService.trace("[DEBOUNCE: ".concat(this._name,"] for ").concat(e.uri.toString()," is ").concat(o,"ms")),o}_overall(){const e=new cG;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){return lG(0|this._overall()||this._default,this._min,this._max)}}let bG=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){var n,o,s;const r=null!==(n=null===i||void 0===i?void 0:i.min)&&void 0!==n?n:50,a=null!==(o=null===i||void 0===i?void 0:i.max)&&void 0!==o?o:r**2,l=null!==(s=null===i||void 0===i?void 0:i.key)&&void 0!==s?s:void 0,c="".concat(fG.of(e),",").concat(r).concat(l?","+l:"");let d=this._data.get(c);return d||(this._isDev?d=new vG(this._logService,t,e,0|this._overallAverage()||1.5*r,r,a):(this._logService.debug("[DEBOUNCE: ".concat(t,"] is disabled in developed mode")),d=new mG(1.5*r)),this._data.set(c,d)),d}_overallAverage(){const e=new cG;for(const t of this._data.values())e.update(t.default());return e.value}};bG=uG([gG(0,KC),gG(1,hG)],bG),CD(pG,bG,1);var _G=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},wG=function(e,t){return function(i,n){t(i,n,e)}};let yG=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new SG}getMetadata(e,t,i){const n=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n);let s;if(o)s=o.metadata,this._logService.getLevel()===qC.Trace&&this._logService.trace("SemanticTokensProviderStyling [CACHED] ".concat(e," / ").concat(t,": foreground ").concat(zT.getForeground(s),", fontStyle ").concat(zT.getFontStyle(s).toString(2)));else{let o=this._legend.tokenTypes[e];const r=[];if(o){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&r.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===qC.Trace&&(this._logService.trace("SemanticTokensProviderStyling: unknown token modifier index: ".concat(t.toString(2)," for legend: ").concat(JSON.stringify(this._legend.tokenModifiers))),r.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(o,r,i);if("undefined"===typeof n)s=2147483647;else{if(s=0,"undefined"!==typeof n.italic){s|=1|(n.italic?1:0)<<11}if("undefined"!==typeof n.bold){s|=2|(n.bold?2:0)<<11}if("undefined"!==typeof n.underline){s|=4|(n.underline?4:0)<<11}if("undefined"!==typeof n.strikethrough){s|=8|(n.strikethrough?8:0)<<11}if(n.foreground){s|=16|n.foreground<<15}0===s&&(s=2147483647)}}else this._logService.getLevel()===qC.Trace&&this._logService.trace("SemanticTokensProviderStyling: unknown token type index: ".concat(e," for legend: ").concat(JSON.stringify(this._legend.tokenTypes))),s=2147483647,o="not-in-legend";this._hashTable.add(e,t,n,s),this._logService.getLevel()===qC.Trace&&this._logService.trace("SemanticTokensProviderStyling ".concat(e," (").concat(o,") / ").concat(t," (").concat(r.join(" "),"): foreground ").concat(zT.getForeground(s),", fontStyle ").concat(zT.getFontStyle(s).toString(2)))}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn("Overlapping semantic tokens detected at lineNumber ".concat(e,", column ").concat(t)))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn("Semantic token with invalid length detected at lineNumber ".concat(e,", column ").concat(t)))}warnInvalidEditStart(e,t,i,n,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn("Invalid semantic tokens edit detected (previousResultId: ".concat(e,", resultId: ").concat(t,") at edit #").concat(i,": The provided start offset ").concat(n," is outside the previous data (length ").concat(o,").")))}};yG=_G([wG(1,$P),wG(2,_D),wG(3,KC)],yG);class CG{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class SG{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=SG._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<SG._SIZES.length?2/3*this._currentLength:0),this._elements=[],SG._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=SG._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<SG._SIZES.length?2/3*this._currentLength:0),this._elements=[],SG._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new CG(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}SG._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];const kG=vy("semanticTokensStylingService");var LG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},xG=function(e,t){return function(i,n){t(i,n,e)}};let DG=class extends hv{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new yG(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};DG=LG([xG(0,$P),xG(1,KC),xG(2,_D)],DG),CD(kG,DG,1);const EG="**",NG="/",TG="[/\\\\]",IG="[^/\\\\]",AG=/\//g;function MG(e,t){switch(e){case 0:return"";case 1:return"".concat(IG,"*?");default:return"(?:".concat(TG,"|").concat(IG,"+").concat(TG).concat(t?"|".concat(TG).concat(IG,"+"):"",")*?")}}function OG(e,t){if(!e)return[];const i=[];let n=!1,o=!1,s="";for(const r of e){switch(r){case t:if(!n&&!o){i.push(s),s="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}s+=r}return s&&i.push(s),i}function RG(e){if(!e)return"";let t="";const i=OG(e,NG);if(i.every((e=>e===EG)))t=".*";else{let e=!1;i.forEach(((n,o)=>{if(n===EG){if(e)return;t+=MG(2,o===i.length-1)}else{let e=!1,s="",r=!1,a="";for(const i of n)if("}"!==i&&e)s+=i;else if(!r||"]"===i&&a)switch(i){case"{":e=!0;continue;case"[":r=!0;continue;case"}":{const i=OG(s,","),n="(?:".concat(i.map((e=>RG(e))).join("|"),")");t+=n,e=!1,s="";break}case"]":t+="["+a+"]",r=!1,a="";break;case"?":t+=IG;continue;case"*":t+=MG(1);continue;default:t+=ew(i)}else{let e;e="-"===i?i:"^"!==i&&"!"!==i||a?i===NG?"":ew(i):"^",a+=e}o<i.length-1&&(i[o+1]!==EG||o+2<i.length)&&(t+=TG)}e=n===EG}))}return t}const PG=/^\*\*\/\*\.[\w\.-]+$/,FG=/^\*\*\/([\w\.-]+)\/?$/,BG=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,VG=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,WG=/^\*\*((\/[\w\.-]+)+)\/?$/,zG=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,HG=new HN(1e4),jG=function(){return!1},UG=function(){return null};function KG(e,t){if(!e)return UG;let i;i="string"!==typeof e?e.pattern:e,i=i.trim();const n="".concat(i,"_").concat(!!t.trimForExclusions);let o,s=HG.get(n);return s||(s=PG.test(i)?function(e,t){return function(i,n){return"string"===typeof i&&i.endsWith(e)?t:null}}(i.substr(4),i):(o=FG.exec(GG(i,t)))?function(e,t){const i="/".concat(e),n="\\".concat(e),o=function(o,s){return"string"!==typeof o?null:s?s===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}(o[1],i):(t.trimForExclusions?VG:BG).test(i)?function(e,t){const i=QG(e.slice(1,-1).split(",").map((e=>KG(e,t))).filter((e=>e!==UG)),e),n=i.length;if(!n)return UG;if(1===n)return i[0];const o=function(t,n){for(let o=0,s=i.length;o<s;o++)if(i[o](t,n))return e;return null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(i,t):(o=WG.exec(GG(i,t)))?YG(o[1].substr(1),i,!0):(o=zG.exec(GG(i,t)))?YG(o[1],i,!1):function(e){try{const t=new RegExp("^".concat(RG(e),"$"));return function(i){return t.lastIndex=0,"string"===typeof i&&t.test(i)?e:null}}catch(t){return UG}}(i),HG.set(n,s)),qG(s,e)}function qG(e,t){if("string"===typeof t)return e;const i=function(i,n){return dH(i,t.base,!Mf)?e(tw(i.substr(t.base.length),bb),n):null};return i.allBasenames=e.allBasenames,i.allPaths=e.allPaths,i.basenames=e.basenames,i.patterns=e.patterns,i}function GG(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function YG(e,t,i){const n=bb===hb.sep,o=n?e:e.replace(AG,bb),s=bb+o,r=hb.sep+e;let a;return a=i?function(i,a){return"string"!==typeof i||i!==o&&!i.endsWith(s)&&(n||i!==e&&!i.endsWith(r))?null:t}:function(i,s){return"string"!==typeof i||i!==o&&(n||i!==e)?null:t},a.allPaths=[(i?"*/":"./")+e],a}function ZG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return jG;if("string"===typeof e||function(e){const t=e;if(!t)return!1;return"string"===typeof t.base&&"string"===typeof t.pattern}(e)){const i=KG(e,t);if(i===UG)return jG;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=QG(Object.getOwnPropertyNames(e).map((i=>function(e,t,i){if(!1===t)return UG;const n=KG(e,i);if(n===UG)return UG;if("boolean"===typeof t)return n;if(t){const i=t.when;if("string"===typeof i){const t=(t,o,s,r)=>{if(!r||!n(t,o))return null;const a=r(i.replace("$(basename)",(()=>s)));return aS(a)?a.then((t=>t?e:null)):a?e:null};return t.requiresSiblings=!0,t}}return n}(i,e[i],t))).filter((e=>e!==UG))),n=i.length;if(!n)return UG;if(!i.some((e=>!!e.requiresSiblings))){if(1===n)return i[0];const e=function(e,t){let n;for(let o=0,s=i.length;o<s;o++){const s=i[o](e,t);if("string"===typeof s)return s;aS(s)&&(n||(n=[]),n.push(s))}return n?(async()=>{for(const e of n){const t=await e;if("string"===typeof t)return t}return null})():null},t=i.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o,s;for(let r=0,a=i.length;r<a;r++){const a=i[r];a.requiresSiblings&&n&&(t||(t=mb(e)),o||(o=t.substr(0,t.length-vb(e).length)));const l=a(e,t,o,n);if("string"===typeof l)return l;aS(l)&&(s||(s=[]),s.push(l))}return s?(async()=>{for(const e of s){const t=await e;if("string"===typeof t)return t}return null})():null},s=i.find((e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(e,t)}function QG(e,t){const i=e.filter((e=>!!e.basenames));if(i.length<2)return e;const n=i.reduce(((e,t)=>{const i=t.basenames;return i?e.concat(i):e}),[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce(((e,t)=>{const i=t.patterns;return i?e.concat(i):e}),[]);const s=function(e,t){if("string"!==typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};s.basenames=n,s.patterns=o,s.allBasenames=n;const r=e.filter((e=>!e.basenames));return r.push(s),r}function XG(e,t,i,n,o,s){if(Array.isArray(e)){let r=0;for(const a of e){const e=XG(a,t,i,n,o,s);if(10===e)return e;e>r&&(r=e)}return r}if("string"===typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:c,pattern:d,scheme:h,hasAccessToAllModels:u,notebookType:g}=e;if(!n&&!u)return 0;g&&o&&(t=o);let p=0;if(h)if(h===t.scheme)p=10;else{if("*"!==h)return 0;p=5}if(c)if(c===i)p=10;else{if("*"!==c)return 0;p=Math.max(p,5)}if(g)if(g===s)p=10;else{if("*"!==g||void 0===s)return 0;p=Math.max(p,5)}if(d){let e;if(e="string"===typeof d?d:{...d,base:ub(d.base)},e!==t.fsPath&&(r=e,a=t.fsPath,!r||"string"!==typeof a||!ZG(r)(a,void 0,l)))return 0;p=10}return p}return 0;var r,a,l}function JG(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(JG):!!e.exclusive)}class $G{constructor(e,t,i,n){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=n}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(i=e.notebookUri)||void 0===i?void 0:i.toString())}}class eY{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),cv((()=>{if(i){const e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,(e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))})),t}_orderedForEach(e,t){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;const n=null===(t=this._notebookInfoResolver)||void 0===t?void 0:t.call(this,e.uri),o=n?new $G(e.uri,e.getLanguageId(),n.uri,n.type):new $G(e.uri,e.getLanguageId(),void 0,void 0);if(!(null===(i=this._lastCandidate)||void 0===i?void 0:i.equals(o))){this._lastCandidate=o;for(const t of this._entries)if(t._score=XG(t.selector,o.uri,o.languageId,HE(e),o.notebookUri,o.notebookType),JG(t.selector)&&t._score>0){for(const e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(eY._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:tY(e.selector)&&!tY(t.selector)?1:!tY(e.selector)&&tY(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function tY(e){return"string"!==typeof e&&(Array.isArray(e)?e.some(tY):Boolean(e.isBuiltin))}CD(kT,class{constructor(){this.referenceProvider=new eY(this._score.bind(this)),this.renameProvider=new eY(this._score.bind(this)),this.codeActionProvider=new eY(this._score.bind(this)),this.definitionProvider=new eY(this._score.bind(this)),this.typeDefinitionProvider=new eY(this._score.bind(this)),this.declarationProvider=new eY(this._score.bind(this)),this.implementationProvider=new eY(this._score.bind(this)),this.documentSymbolProvider=new eY(this._score.bind(this)),this.inlayHintsProvider=new eY(this._score.bind(this)),this.colorProvider=new eY(this._score.bind(this)),this.codeLensProvider=new eY(this._score.bind(this)),this.documentFormattingEditProvider=new eY(this._score.bind(this)),this.documentRangeFormattingEditProvider=new eY(this._score.bind(this)),this.onTypeFormattingEditProvider=new eY(this._score.bind(this)),this.signatureHelpProvider=new eY(this._score.bind(this)),this.hoverProvider=new eY(this._score.bind(this)),this.documentHighlightProvider=new eY(this._score.bind(this)),this.multiDocumentHighlightProvider=new eY(this._score.bind(this)),this.selectionRangeProvider=new eY(this._score.bind(this)),this.foldingRangeProvider=new eY(this._score.bind(this)),this.linkProvider=new eY(this._score.bind(this)),this.inlineCompletionsProvider=new eY(this._score.bind(this)),this.completionProvider=new eY(this._score.bind(this)),this.linkedEditingRangeProvider=new eY(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new eY(this._score.bind(this)),this.documentSemanticTokensProvider=new eY(this._score.bind(this)),this.documentOnDropEditProvider=new eY(this._score.bind(this)),this.documentPasteEditProvider=new eY(this._score.bind(this))}_score(e){var t;return null===(t=this._notebookTypeResolver)||void 0===t?void 0:t.call(this,e)}},1);const iY=vy("IWorkspaceEditService");class nY{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(oY.is(e))return oY.lift(e);if(sY.is(e))return sY.lift(e);throw new Error("Unsupported edit")}))}}class oY extends nY{static is(e){return e instanceof oY||zp(e)&&Lb.isUri(e.resource)&&zp(e.textEdit)}static lift(e){return e instanceof oY?e:new oY(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.resource=e,this.textEdit=t,this.versionId=i}}class sY extends nY{static is(e){return e instanceof sY||zp(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof sY?e:new sY(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(arguments.length>3?arguments[3]:void 0),this.oldResource=e,this.newResource=t,this.options=i}}const rY={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},aY={...Object.freeze({id:"editor",order:5,type:"object",title:lf("editorConfigurationTitle","Editor"),scope:5}),properties:{"editor.tabSize":{type:"number",default:Zf.tabSize,minimum:1,markdownDescription:lf("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:lf("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:Zf.insertSpaces,markdownDescription:lf("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:Zf.detectIndentation,markdownDescription:lf("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:Zf.trimAutoWhitespace,description:lf("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Zf.largeFileOptimizations,description:lf("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[lf("wordBasedSuggestions.off","Turn off Word Based Suggestions."),lf("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),lf("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),lf("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:lf("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[lf("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),lf("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),lf("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:lf("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:lf("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:lf("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:lf("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:lf("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:lf("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:lf("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:lf("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:lf("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:lf("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:lf("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:lf("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:rY.maxComputationTime,description:lf("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:rY.maxFileSize,description:lf("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:rY.renderSideBySide,description:lf("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:rY.renderSideBySideInlineBreakpoint,description:lf("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:rY.useInlineViewWhenSpaceIsLimited,description:lf("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:rY.renderMarginRevertIcon,description:lf("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:rY.ignoreTrimWhitespace,description:lf("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:rY.renderIndicators,description:lf("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:rY.diffCodeLens,description:lf("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:rY.diffWordWrap,markdownEnumDescriptions:[lf("wordWrap.off","Lines will never wrap."),lf("wordWrap.on","Lines will wrap at the viewport width."),lf("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:rY.diffAlgorithm,markdownEnumDescriptions:[lf("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),lf("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:rY.hideUnchangedRegions.enabled,markdownDescription:lf("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:rY.hideUnchangedRegions.revealLineCount,markdownDescription:lf("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:rY.hideUnchangedRegions.minimumLineCount,markdownDescription:lf("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:rY.hideUnchangedRegions.contextLineCount,markdownDescription:lf("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:rY.experimental.showMoves,markdownDescription:lf("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:rY.experimental.showEmptyDecorations,description:lf("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};for(const i of Wm){const e=i.schema;if("undefined"!==typeof e)if("undefined"!==typeof(lY=e).type||"undefined"!==typeof lY.anyOf)aY.properties["editor.".concat(i.name)]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(aY.properties[t]=e[t])}var lY;let cY=null;function dY(){return null===cY&&(cY=Object.create(null),Object.keys(aY.properties).forEach((e=>{cY[e]=!0}))),cY}TC.as(DD).registerConfiguration(aY);class hY{static insert(e,t){return{range:new Fb(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function uY(e){return Object.isFrozen(e)?e:function(e){if(!e||"object"!==typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(ef.call(e,i)){const n=e[i];"object"!==typeof n||Object.isFrozen(n)||Hp(n)||t.push(n)}}return e}(e)}class gY{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;this._contents=e,this._keys=t,this._overrides=i,this.raw=n,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(null===(e=this.raw)||void 0===e?void 0:e.length){const e=this.raw.map((e=>{if(e instanceof gY)return e;const t=new pY("");return t.parseRaw(e),t.configurationModel}));this._rawConfiguration=e.reduce(((e,t)=>t===e?t:e.merge(t)),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?bD(this.contents,e):this.contents}inspect(e,t){const i=this.rawConfiguration.getValue(e);return{value:i,override:t?this.rawConfiguration.getOverrideValue(e,t):void 0,merged:t?this.rawConfiguration.override(t).getValue(e):i}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?bD(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(){var e,t;const i=$p(this.contents),n=$p(this.overrides),o=[...this.keys],s=(null===(e=this.raw)||void 0===e?void 0:e.length)?[...this.raw]:[this];for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];for(const c of a)if(s.push(...(null===(t=c.raw)||void 0===t?void 0:t.length)?c.raw:[c]),!c.isEmpty()){this.mergeContents(i,c.contents);for(const e of c.overrides){const[t]=n.filter((t=>bp(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=kp(t.keys)):n.push($p(e))}for(const e of c.keys)-1===o.indexOf(e)&&o.push(e)}return new gY(i,o,n,s.every((e=>e instanceof gY))?void 0:s)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!==typeof t||!Object.keys(t).length)return this;const i={};for(const n of kp([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[n];const o=t[n];o&&("object"===typeof e&&"object"===typeof o?(e=$p(e),this.mergeContents(e,o)):e=o),i[n]=e}return new gY(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&zp(e[i])&&zp(t[i])?this.mergeContents(e[i],t[i]):e[i]=$p(t[i])}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=e=>{e&&(i?this.mergeContents(i,e):i=$p(e))};for(const o of this.overrides)1===o.identifiers.length&&o.identifiers[0]===e?t=o.contents:o.identifiers.includes(e)&&n(o.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);-1!==t&&(this.keys.splice(t,1),mD(this.contents,e),VD.test(e)&&this.overrides.splice(this.overrides.findIndex((t=>bp(t.identifiers,WD(e)))),1))}updateValue(e,t,i){fD(this.contents,e,t,(e=>console.error(e))),(i=i||-1===this.keys.indexOf(e))&&this.keys.push(e),VD.test(e)&&this.overrides.push({identifiers:WD(e),keys:Object.keys(this.contents[e]),contents:pD(this.contents[e],(e=>console.error(e)))})}}class pY{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new gY}parseRaw(e,t){this._raw=e;const{contents:i,keys:n,overrides:o,restricted:s,hasExcludedProperties:r}=this.doParseRaw(e,t);this._configurationModel=new gY(i,n,o,r?[e]:void 0),this._restrictedConfigurations=s||[]}doParseRaw(e,t){const i=TC.as(DD).getConfigurationProperties(),n=this.filter(e,i,!0,t);return{contents:pD(e=n.raw,(e=>console.error("Conflict in settings file ".concat(this._name,": ").concat(e)))),keys:Object.keys(e),overrides:this.toOverrides(e,(e=>console.error("Conflict in settings file ".concat(this._name,": ").concat(e)))),restricted:n.restricted,hasExcludedProperties:n.hasExcludedProperties}}filter(e,t,i,n){var o,s,r;let a=!1;if(!(null===n||void 0===n?void 0:n.scopes)&&!(null===n||void 0===n?void 0:n.skipRestricted)&&!(null===(o=null===n||void 0===n?void 0:n.exclude)||void 0===o?void 0:o.length))return{raw:e,restricted:[],hasExcludedProperties:a};const l={},c=[];for(const d in e)if(VD.test(d)&&i){const i=this.filter(e[d],t,!1,n);l[d]=i.raw,a=a||i.hasExcludedProperties,c.push(...i.restricted)}else{const i=t[d],o=i?"undefined"!==typeof i.scope?i.scope:3:void 0;(null===i||void 0===i?void 0:i.restricted)&&c.push(d),(null===(s=n.exclude)||void 0===s?void 0:s.includes(d))||!(null===(r=n.include)||void 0===r?void 0:r.includes(d))&&(void 0!==o&&void 0!==n.scopes&&!n.scopes.includes(o)||n.skipRestricted&&(null===i||void 0===i?void 0:i.restricted))?a=!0:l[d]=e[d]}return{raw:l,restricted:c,hasExcludedProperties:a}}toOverrides(e,t){const i=[];for(const n of Object.keys(e))if(VD.test(n)){const o={};for(const t in e[n])o[t]=e[n][t];i.push({identifiers:WD(n),keys:Object.keys(o),contents:pD(o,t)})}return i}}class fY{constructor(e,t,i,n,o,s,r,a,l,c,d,h,u){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=n,this.defaultConfiguration=o,this.policyConfiguration=s,this.applicationConfiguration=r,this.userConfiguration=a,this.localUserConfiguration=l,this.remoteUserConfiguration=c,this.workspaceConfiguration=d,this.folderConfigurationModel=h,this.memoryConfigurationModel=u}inspect(e,t,i){const n=e.inspect(t,i);return{get value(){return uY(n.value)},get override(){return uY(n.override)},get merged(){return uY(n.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return void 0!==this.userInspectValue.value||void 0!==this.userInspectValue.override?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class mY{constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new gY,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new gY,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new WN,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new gY,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new WN;this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=s,this._folderConfigurations=r,this._memoryConfiguration=a,this._memoryConfigurationByResource=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new WN,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.resource?(i=this._memoryConfigurationByResource.get(n.resource),i||(i=new gY,this._memoryConfigurationByResource.set(n.resource,i))):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,r=new Set;for(const a of n.overrides)for(const t of a.identifiers)void 0!==n.getOverrideValue(e,t)&&r.add(t);return new fY(e,t,n.getValue(e),r.size?[...r]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,o||void 0,s)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource(e,t){let{resource:i}=e,n=this.getWorkspaceConsolidatedConfiguration();if(t&&i){const e=t.getFolder(i);e&&(n=this.getFolderConsolidatedConfiguration(e.uri)||n);const o=this._memoryConfigurationByResource.get(i);o&&(n=n.merge(o))}return n}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),r=e.folders.reduce(((e,t)=>(e.set(Lb.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new WN);return new mY(t,i,n,o,new gY,s,r,new gY,new WN)}static parseConfigurationModel(e){return new gY(e.contents,e.keys,e.overrides)}}class vY{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const e of o)this.affectedKeys.add(e);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=mY.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;const n=this._marker+e,o=this._affectsConfigStr.indexOf(n);if(o<0)return!1;const s=o+n.length;if(s>=this._affectsConfigStr.length)return!1;const r=this._affectsConfigStr.charCodeAt(s);if(r!==this._markerCode1&&r!==this._markerCode2)return!1;if(t){return!of(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}}const bY={kind:0},_Y={kind:1};class wY{constructor(e,t,i){var n;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const o of e){const e=o.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=wY.handleRemovals([].concat(e).concat(t));for(let o=0,s=this._keybindings.length;o<s;o++){const e=this._keybindings[o];if(0===e.chords.length)continue;const t=null===(n=e.when)||void 0===n?void 0:n.substituteConstants();t&&0===t.type||this._addKeyPress(e.chords[0],e)}}static _isTargetedForRemoval(e,t,i){if(t)for(let n=0;n<t.length;n++)if(t[n]!==e.chords[n])return!1;if(i&&1!==i.type){if(!e.when)return!1;if(!function(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)}(i,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let n=0,o=e.length;n<o;n++){const i=e[n];if(i.command&&"-"===i.command.charAt(0)){const e=i.command.substring(1);t.has(e)?t.get(e).push(i):t.set(e,[i])}}if(0===t.size)return e;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o.command||0===o.command.length){i.push(o);continue}if("-"===o.command.charAt(0))continue;const s=t.get(o.command);if(!s||!o.isDefault){i.push(o);continue}let r=!1;for(const e of s){const t=e.when;if(this._isTargetedForRemoval(o,e.chords,t)){r=!0;break}}r||i.push(o)}return i}_addKeyPress(e,t){const i=this._map.get(e);if("undefined"===typeof i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){const e=i[n];if(e.command===t.command)continue;let o=!0;for(let i=1;i<e.chords.length&&i<t.chords.length;i++)if(e.chords[i]!==t.chords[i]){o=!1;break}o&&(wY.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e))}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);"undefined"===typeof t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if("undefined"!==typeof t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&vC(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if("undefined"===typeof i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const e=i[n];if(t.contextMatchesRules(e.when))return e}return i[i.length-1]}resolve(e,t,i){const n=[...t,i];this._log("| Resolving ".concat(n));const o=this._map.get(n[0]);if(void 0===o)return this._log("\\ No keybinding entries."),bY;let s=null;if(n.length<2)s=o;else{s=[];for(let e=0,t=o.length;e<t;e++){const t=o[e];if(n.length>t.chords.length)continue;let i=!0;for(let e=1;e<n.length;e++)if(t.chords[e]!==n[e]){i=!1;break}i&&s.push(t)}}const r=this._findCommand(e,s);return r?n.length<r.chords.length?(this._log("\\ From ".concat(s.length," keybinding entries, awaiting ").concat(r.chords.length-n.length," more chord(s), when: ").concat(yY(r.when),", source: ").concat(CY(r),".")),_Y):(this._log("\\ From ".concat(s.length," keybinding entries, matched ").concat(r.command,", when: ").concat(yY(r.when),", source: ").concat(CY(r),".")),a=r.command,l=r.commandArgs,c=r.bubble,{kind:2,commandId:a,commandArgs:l,isBubble:c}):(this._log("\\ From ".concat(s.length," keybinding entries, no when clauses matched the context.")),bY);var a,l,c}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(wY._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function yY(e){return e?"".concat(e.serialize()):"no when condition"}function CY(e){return e.extensionId?e.isBuiltinExtension?"built-in extension ".concat(e.extensionId):"user extension ".concat(e.extensionId):e.isDefault?"built-in":"user"}const SY=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class kY extends hv{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:vv.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new Cv),this._currentChords=[],this._currentChordChecker=new fS,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=LY.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new pS,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info("[KeybindingService]: ".concat(e))}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),bY;const[n]=i.getDispatchChords();if(null===n)return this._log("\\ Keyboard event cannot be dispatched"),bY;const o=this._contextKeyService.getContext(t),s=this._currentChords.map((e=>{let{keypress:t}=e;return t}));return this._getResolver().resolve(o,s,n)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-e>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw Xm("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(lf("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const e=this._currentChords.map((e=>{let{label:t}=e;return t})).join(", ");this._currentChordStatusMessage=this._notificationService.status(lf("next.chord","({0}) was pressed. Waiting for next key of chord...",e))}}this._scheduleLeaveChordMode(),nB.enabled&&nB.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],nB.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchChords();if(n)return this._ignoreSingleModifiers.has(n)?(this._log("+ Ignoring single modifier ".concat(n," due to it being pressed together with other keys.")),this._ignoreSingleModifiers=LY.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=LY.EMPTY,null===this._currentSingleModifier?(this._log("+ Storing single modifier for possible chord ".concat(n,".")),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log("/ Dispatching single modifier chord ".concat(n," ").concat(n)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log("+ Clearing single modifier due to modifier mismatch: ".concat(this._currentSingleModifier," ").concat(n)),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getChords();return this._ignoreSingleModifiers=new LY(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;let o=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,r=null;if(i){const[t]=e.getSingleModifierDispatchChords();s=t,r=t?[t]:[]}else[s]=e.getDispatchChords(),r=this._currentChords.map((e=>{let{keypress:t}=e;return t}));if(null===s)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,r,s);switch(c.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const e=this._currentChords.map((e=>{let{label:t}=e;return t})).join(", ");this._log('+ Leaving multi-chord mode: Nothing bound to "'.concat(e,", ").concat(l,'".')),this._notificationService.status(lf("missing.chord","The key combination ({0}, {1}) is not a command.",e,l),{hideAfter:1e4}),this._leaveChordMode(),o=!0}return o;case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),o=!0,this._expectAnotherChord(s,l),this._log(1===this._currentChords.length?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),o;case 2:if(this._logService.trace("KeybindingService#dispatch",l,"[ Will dispatch command ".concat(c.commandId," ]")),null===c.commandId||""===c.commandId){if(this.inChordMode){const e=this._currentChords.map((e=>{let{label:t}=e;return t})).join(", ");this._log('+ Leaving chord mode: Nothing bound to "'.concat(e,", ").concat(l,'".')),this._notificationService.status(lf("missing.chord","The key combination ({0}, {1}) is not a command.",e,l),{hideAfter:1e4}),this._leaveChordMode(),o=!0}}else this.inChordMode&&this._leaveChordMode(),c.isBubble||(o=!0),this._log("+ Invoking command ".concat(c.commandId,".")),"undefined"===typeof c.commandArgs?this._commandService.executeCommand(c.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),SY.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:null!==(n=e.getUserSettingsLabel())&&void 0!==n?n:void 0});return o}}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class LY{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}LY.EMPTY=new LY(null);class xY{constructor(e,t,i,n,o,s,r){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?DY(e.getDispatchChords()):[],e&&0===this.chords.length&&(this.chords=DY(e.getSingleModifierDispatchChords())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=r}}function DY(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return[];t.push(n)}return t}class EY{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=i(s);if(null===r)return null;n[o]=MY(s,r,this.modifierLabels[e])}return n.join(" ")}}const NY=new EY({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:lf({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:lf({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:lf({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:lf({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:lf({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:lf({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:lf({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:lf({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),TY=new EY({ctrlKey:lf({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:lf({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:lf({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:lf({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:lf({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:lf({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:lf({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:lf({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:lf({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:lf({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:lf({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:lf({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),IY=new EY({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),AY=new EY({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function MY(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}class OY extends LC{constructor(e,t){if(super(),0===t.length)throw Qm("chords");this._os=e,this._chords=t}getLabel(){return NY.toLabel(this._os,this._chords,(e=>this._getLabel(e)))}getAriaLabel(){return TY.toLabel(this._os,this._chords,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:IY.toLabel(this._os,this._chords,(e=>this._getElectronAccelerator(e)))}getUserSettingsLabel(){return AY.toLabel(this._os,this._chords,(e=>this._getUserSettingsLabel(e)))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((e=>this._getChord(e)))}_getChord(e){return new kC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map((e=>this._getChordDispatch(e)))}getSingleModifierDispatchChords(){return this._chords.map((e=>this._getSingleModifierChordDispatch(e)))}}class RY extends OY{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Kv.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Kv.toString(e.keyCode)}_getElectronAccelerator(e){return Kv.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=Kv.toUserSettingsUS(e.keyCode);return t?t.toLowerCase():t}_getChordDispatch(e){return RY.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Kv.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=jv[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof CC)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new CC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=DY(e.chords.map((e=>this._toKeyCodeChord(e))));return i.length>0?[new RY(i,t)]:[]}}const PY=vy("labelService"),FY=vy("progressService");Object.freeze({total(){},worked(){},done(){}});Object.freeze({report(){}});const BY=vy("editorProgressService");class VY{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class WY{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?cw(e,this._value,0,e.length,this._from,this._to):hw(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class zY{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const e=this._value.charCodeAt(t);if(!(47===e||this._splitOnBackslash&&92===e))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?cw(e,this._value,0,e.length,this._from,this._to):hw(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class HY{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new zY(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return dw(e,this._value.scheme);if(2===this._states[this._stateIdx])return dw(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return lw(e,this._value.query);if(5===this._states[this._stateIdx])return lw(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class jY{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class UY{static forUris(){return new UY(new HY(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1))}static forStrings(){return new UY(new VY)}static forConfigKeys(){return new UY(new WY)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new jY,this._root.segment=i.value());const o=[];for(n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new jY,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(e<0)n.right||(n.right=new jY,n.right.segment=i.value()),o.push([1,n]),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new jY,n.mid.segment=i.value()),o.push([0,n]),n=n.mid}}const s=n.value;n.value=t,n.key=e;for(let r=o.length-1;r>=0;r--){const e=o[r][1];e.updateHeight();const t=e.balanceFactor();if(t<-1||t>1){const t=o[r][0],i=o[r+1][0];if(1===t&&1===i)o[r][1]=e.rotateLeft();else if(-1===t&&-1===i)o[r][1]=e.rotateRight();else if(1===t&&-1===i)e.right=o[r+1][1]=o[r+1][1].rotateRight(),o[r][1]=e.rotateLeft();else{if(-1!==t||1!==i)throw new Error;e.left=o[r+1][1]=o[r+1][1].rotateLeft(),o[r][1]=e.rotateRight()}if(r>0)switch(o[r-1][0]){case-1:o[r-1][1].left=o[r][1];break;case 1:o[r-1][1].right=o[r][1];break;case 0:o[r-1][1].mid=o[r][1]}else this._root=o[0][1]}}return s}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){const t=this._getNode(e);return!(void 0===(null===t||void 0===t?void 0:t.value)&&void 0===(null===t||void 0===t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const n=this._iter.reset(e),o=[];let s=this._root;for(;s;){const e=n.cmp(s.segment);if(e>0)o.push([-1,s]),s=s.left;else if(e<0)o.push([1,s]),s=s.right;else{if(!n.hasNext())break;n.next(),o.push([0,s]),s=s.mid}}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const e=this._min(s.right);if(e.key){const{key:t,value:i,segment:n}=e;this._delete(e.key,!1),s.key=t,s.value=i,s.segment=n}}else{const e=null!==(i=s.left)&&void 0!==i?i:s.right;if(o.length>0){const[t,i]=o[o.length-1];switch(t){case-1:i.left=e;break;case 0:i.mid=e;break;case 1:i.right=e}}else this._root=e}for(let e=o.length-1;e>=0;e--){const t=o[e][1];t.updateHeight();const i=t.balanceFactor();if(i>1?(t.right.balanceFactor()>=0||(t.right=t.right.rotateRight()),o[e][1]=t.rotateLeft()):i<-1&&(t.left.balanceFactor()<=0||(t.left=t.left.rotateLeft()),o[e][1]=t.rotateRight()),e>0)switch(o[e-1][0]){case-1:o[e-1][1].left=o[e][1];break;case 1:o[e-1][1].right=o[e][1];break;case 0:o[e-1][1].mid=o[e][1]}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i,n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let n=this._root;for(;n;){const e=i.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!i.hasNext())return n.mid?this._entries(n.mid):t?n.value:void 0;i.next(),n=n.mid}}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const KY=vy("contextService");class qY{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}lf("codeWorkspace","Code Workspace");const GY="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var YY,ZY,QY,XY,JY,$Y,eZ,tZ;!function(e){e.inspectTokensAction=lf("inspectTokens","Developer: Inspect Tokens")}(YY||(YY={})),function(e){e.gotoLineActionLabel=lf("gotoLineActionLabel","Go to Line/Column...")}(ZY||(ZY={})),function(e){e.helpQuickAccessActionLabel=lf("helpQuickAccess","Show all Quick Access Providers")}(QY||(QY={})),function(e){e.quickCommandActionLabel=lf("quickCommandActionLabel","Command Palette"),e.quickCommandHelp=lf("quickCommandActionHelp","Show And Run Commands")}(XY||(XY={})),function(e){e.quickOutlineActionLabel=lf("quickOutlineActionLabel","Go to Symbol..."),e.quickOutlineByCategoryActionLabel=lf("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(JY||(JY={})),function(e){e.editorViewAccessibleLabel=lf("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessage=lf("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}($Y||($Y={})),function(e){e.toggleHighContrast=lf("toggleHighContrast","Toggle High Contrast Theme")}(eZ||(eZ={})),function(e){e.bulkEditServiceSummary=lf("bulkEditServiceSummary","Made {0} edits in {1} files")}(tZ||(tZ={}));const iZ=vy("workspaceTrustManagementService"),nZ=vy("contextViewService"),oZ=vy("contextMenuService");var sZ,rZ;function aZ(e,t,i){const n=i.mode===rZ.ALIGN?i.offset:i.offset+i.size,o=i.mode===rZ.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},s={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(s)||n.push(s),n}}(sZ||(sZ={})),function(e){e[e.AVOID=0]="AVOID",e[e.ALIGN=1]="ALIGN"}(rZ||(rZ={}));class lZ extends hv{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=hv.None,this.toDisposeOnSetContainer=hv.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=zL(".context-view"),jL(this.view),this.setContainer(e,t),this._register(cv((()=>this.setContainer(null,1))))}setContainer(e,t){var i;this.useFixedPosition=1!==t;const n=this.useShadowDOM;if(this.useShadowDOM=3===t,(e!==this.container||n===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=zL(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=cZ,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(zL("slot"))}else this.container.appendChild(this.view);const t=new dv;lZ.BUBBLE_UP_EVENTS.forEach((e=>{t.add(Xk(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),lZ.BUBBLE_DOWN_EVENTS.forEach((e=>{t.add(Xk(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=t}}show(e){var t,i;this.isVisible()&&this.hide(),Gk(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",HL(this.view),this.toDisposeOnClean=e.render(this.view)||hv.None,this.delegate=e,this.doLayout(),null===(i=(t=this.delegate).focus)||void 0===i||i.call(t)}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||Ff&&XC?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(e instanceof HTMLElement){const i=aL(e),n=function(e){let t=e,i=1;do{const e=nL(t).zoom;null!==e&&void 0!==e&&"1"!==e&&(i*=e),t=t.parentElement}while(null!==t&&t!==t.ownerDocument.documentElement);return i}(e);t={top:i.top*n,left:i.left*n,width:i.width*n,height:i.height*n}}else t=function(e){const t=e;return!!t&&"number"===typeof t.x&&"number"===typeof t.y}(e)?{top:e.y,left:e.x,width:e.width||1,height:e.height||2}:{top:e.posy,left:e.posx,width:2,height:2};const i=lL(this.view),n=hL(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,r=this.delegate.anchorAxisAlignment||0;let a,l;const c=function(){var e,t;return null!==(t=null===(e=_L().defaultView)||void 0===e?void 0:e.window)&&void 0!==t?t:q_}();if(0===r){const e={offset:t.top-c.pageYOffset,size:t.height,position:0===o?0:1},r={offset:t.left,size:t.width,position:0===s?0:1,mode:rZ.ALIGN};a=aZ(c.innerHeight,n,e)+c.pageYOffset,sZ.intersects({start:a,end:a+n},{start:e.offset,end:e.offset+e.size})&&(r.mode=rZ.AVOID),l=aZ(c.innerWidth,i,r)}else{const e={offset:t.left,size:t.width,position:0===s?0:1},r={offset:t.top,size:t.height,position:0===o?0:1,mode:rZ.ALIGN};l=aZ(c.innerWidth,i,e),sZ.intersects({start:l,end:l+i},{start:e.offset,end:e.offset+e.size})&&(r.mode=rZ.AVOID),a=aZ(c.innerHeight,n,r)+c.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===s?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const d=aL(this.container);this.view.style.top="".concat(a-(this.useFixedPosition?aL(this.view).top:d.top),"px"),this.view.style.left="".concat(l-(this.useFixedPosition?aL(this.view).left:d.left),"px"),this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null===t||void 0===t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),jL(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,Fk(e).document.activeElement):t&&!uL(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}lZ.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],lZ.BUBBLE_DOWN_EVENTS=["click"];const cZ='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var dZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},hZ=function(e,t){return function(i,n){t(i,n,e)}};let uZ=class extends hv{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=hv.None,this.contextView=this._register(new lZ(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer((()=>this.layout())))}showContextView(e,t,i){let n;n=t?t===this.layoutService.getContainer(Fk(t))?1:i?3:2:1,this.contextView.setContainer(null!==t&&void 0!==t?t:this.layoutService.activeContainer,n),this.contextView.show(e);const o=cv((()=>{this.currentViewDisposable===o&&this.hideContextView()}));return this.currentViewDisposable=o,o}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=hv.None}};uZ=dZ([hZ(0,Hq)],uZ);let gZ=[],pZ=[],fZ=[];function mZ(e){!function(e,t,i){const n=function(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?ZG(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(hb.sep)>=0}}(e,t);gZ.push(n),n.userConfigured?fZ.push(n):pZ.push(n);i&&!n.userConfigured&&gZ.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn("Overwriting extension <<".concat(n.extension,">> to now point to mime <<").concat(n.mime,">>")),n.filename&&e.filename===n.filename&&console.warn("Overwriting filename <<".concat(n.filename,">> to now point to mime <<").concat(n.mime,">>")),n.filepattern&&e.filepattern===n.filepattern&&console.warn("Overwriting filepattern <<".concat(n.filepattern,">> to now point to mime <<").concat(n.mime,">>")),n.firstline&&e.firstline===n.firstline&&console.warn("Overwriting firstline <<".concat(n.firstline,">> to now point to mime <<").concat(n.mime,">>")))}))}(e,!1,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function vZ(e,t){return function(e,t){let i;if(e)switch(e.scheme){case Ck.file:i=e.fsPath;break;case Ck.data:i=CH.parseMetaData(e).get(CH.META_DATA_LABEL);break;case Ck.vscodeNotebookCell:i=void 0;break;default:i=e.path}if(!i)return[{id:"unknown",mime:kD.unknown}];i=i.toLowerCase();const n=mb(i),o=bZ(i,n,fZ);if(o)return[o,{id:UD,mime:kD.text}];const s=bZ(i,n,pZ);if(s)return[s,{id:UD,mime:kD.text}];if(t){const e=function(e){Pw(e)&&(e=e.substr(1));if(e.length>0)for(let t=gZ.length-1;t>=0;t--){const i=gZ[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i}return}(t);if(e)return[e,{id:UD,mime:kD.text}]}return[{id:"unknown",mime:kD.unknown}]}(e,t).map((e=>e.id))}function bZ(e,t,i){var n;let o,s,r;for(let a=i.length-1;a>=0;a--){const l=i[a];if(t===l.filenameLowercase){o=l;break}if(l.filepattern&&(!s||l.filepattern.length>s.filepattern.length)){const i=l.filepatternOnPath?e:t;(null===(n=l.filepatternLowercase)||void 0===n?void 0:n.call(l,i))&&(s=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&t.endsWith(l.extensionLowercase)&&(r=l)}return o||(s||(r||void 0))}const _Z=Object.prototype.hasOwnProperty,wZ="vs.editor.nullLanguage";class yZ{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(wZ,0),this._register(UD,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||wZ}}class CZ extends hv{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,CZ.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new yZ,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(jD.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){CZ.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},gZ=gZ.filter((e=>e.userConfigured)),pZ=[];const e=[].concat(jD.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),TC.as(DD).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;_Z.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n="text/x-".concat(i),e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)mZ({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const l of t.filenames)mZ({id:i,mime:n,filename:l},this._warnOnOverwrite),e.filenames.push(l);if(Array.isArray(t.filenamePatterns))for(const l of t.filenamePatterns)mZ({id:i,mime:n,filepattern:l},this._warnOnOverwrite);if("string"===typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);"^"!==(o=t).source&&"^$"!==o.source&&"$"!==o.source&&"^\\s*$"!==o.source&&o.exec("")&&0===o.lastIndex||mZ({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(a){console.warn("[".concat(t.id,"]: Invalid regular expression `").concat(e,"`: "),a)}}var o;e.aliases.push(i);let s=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const l of s)l&&0!==l.length&&e.aliases.push(l);const r=null!==s&&s.length>0;if(r&&null===s[0]);else{const t=(r?s[0]:null)||i;!r&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&_Z.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return _Z.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&_Z.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?vZ(e,t):[]}}CZ.instanceCount=0;class SZ extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._onDidRequestBasicLanguageFeatures=this._register(new Cv),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new Cv),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new Cv({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,SZ.instanceCount++,this._registry=this._register(new CZ(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){SZ.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){return Lp(this._registry.guessLanguageIdByFilepathOrFirstLine(e,t),null)}createById(e){return new kZ(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new kZ(this.onDidChange,(()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=UD),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),n_.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}SZ.instanceCount=0;class kZ{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages((()=>this._evaluate()))),this._emitter||(this._emitter=new Cv({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,null===(e=this._emitter)||void 0===e||e.fire(this.languageId))}}const LZ={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:kD.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};new Uint32Array(10);new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function xZ(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i){for(let n=0,o=t.length;n<o;n++){const o=t[n](e,i);if(o)return o}return null}}EZ.bind(void 0,!1);const DZ=EZ.bind(void 0,!0);function EZ(e,t,i){if(!i||i.length<t.length)return null;let n;return n=e?mw(i,t):0===i.indexOf(t),n?t.length>0?[{start:0,end:t.length}]:[]:null}function NZ(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){let o=null;return(o=NZ(e,t,i+1,n+1))?PZ({start:n,end:n+1},o):null}return NZ(e,t,i,n+1)}function TZ(e){return 97<=e&&e<=122}function IZ(e){return 65<=e&&e<=90}function AZ(e){return 48<=e&&e<=57}function MZ(e){return 32===e||9===e||10===e||13===e}const OZ=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach((e=>OZ.add(e.charCodeAt(0))));new Map;function RZ(e){return TZ(e)||IZ(e)||AZ(e)}function PZ(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function FZ(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(IZ(t)||AZ(t)||i>0&&!RZ(e.charCodeAt(i-1)))return i}return e.length}function BZ(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,s=n+1;for(o=BZ(e,t,i+1,n+1);!o&&(s=FZ(t,s))<t.length;)o=BZ(e,t,i+1,s),s++;return null===o?null:PZ({start:n,end:n+1},o)}}function VZ(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s),IZ(n)&&t++,TZ(n)&&i++,MZ(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,s=0;for(let r=0;r<e.length;r++)s=e.charCodeAt(r),IZ(s)&&t++,TZ(s)&&i++,RZ(s)&&n++,AZ(s)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=BZ(e,t,0,o));)o=FZ(t,o+1);return n}const WZ=xZ(DZ,VZ,(function(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]})),zZ=xZ(DZ,VZ,(function(e,t){return NZ(e.toLowerCase(),t.toLowerCase(),0,0)})),HZ=new HN(1e4);function jZ(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e||"string"!==typeof t)return null;let n=HZ.get(e);n||(n=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),HZ.set(e,n));const o=n.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:i?zZ(e,t):WZ(e,t)}function UZ(e,t){const i=rQ(e,e.toLowerCase(),0,t,t.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return i?function(e){if("undefined"===typeof e)return[];const t=[],i=e[1];for(let n=e.length-1;n>1;n--){const o=e[n]+i,s=t[t.length-1];s&&s.end===o?s.end=o+1:t.push({start:o,end:o+1})}return t}(i):null}const KZ=128;function qZ(){const e=[],t=[];for(let i=0;i<=KZ;i++)t[i]=0;for(let i=0;i<=KZ;i++)e.push(t.slice(0));return e}function GZ(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const YZ=GZ(2*KZ),ZZ=GZ(2*KZ),QZ=qZ(),XZ=qZ(),JZ=qZ(),$Z=!1;function eQ(e,t,i,n,o){function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";for(;e.length<t;)e=i+e;return e}let r=" |   |".concat(n.split("").map((e=>s(e,3))).join("|"),"\n");for(let a=0;a<=i;a++)r+=0===a?" |":"".concat(t[a-1],"|"),r+=e[a].slice(0,o+1).map((e=>s(e.toString(),3))).join("|")+"\n";return r}function tQ(e,t){if(t<0||t>=e.length)return!1;const i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!Ow(i)}}function iQ(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function nQ(e,t,i){return t[e]!==i[e]}var oQ;!function(e){e.Default=[-100,0],e.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]}}(oQ||(oQ={}));class sQ{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}function rQ(e,t,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sQ.default;const a=e.length>KZ?KZ:e.length,l=n.length>KZ?KZ:n.length;if(i>=a||s>=l||a-i>l-s)return;if(!function(e,t,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]&&arguments[6];for(;t<i&&o<s;)e[t]===n[o]&&(r&&(YZ[t]=o),t+=1),o+=1;return t===i}(t,i,a,o,s,l,!0))return;!function(e,t,i,n,o,s){let r=e-1,a=t-1;for(;r>=i&&a>=n;)o[r]===s[a]&&(ZZ[r]=a,r--),a--}(a,l,i,s,t,o);let c=1,d=1,h=i,u=s;const g=[!1];for(c=1,h=i;h<a;c++,h++){const r=YZ[h],p=ZZ[h],f=h+1<a?ZZ[h+1]:l;for(d=r-s+1,u=r;u<f;d++,u++){let a=Number.MIN_SAFE_INTEGER,f=!1;u<=p&&(a=aQ(e,t,h,i,n,o,u,l,s,0===QZ[c-1][d-1],g));let m=0;a!==Number.MAX_SAFE_INTEGER&&(f=!0,m=a+XZ[c-1][d-1]);const v=u>r,b=v?XZ[c][d-1]+(QZ[c][d-1]>0?-5:0):0,_=u>r+1&&QZ[c][d-1]>0,w=_?XZ[c][d-2]+(QZ[c][d-2]>0?-5:0):0;if(_&&(!v||w>=b)&&(!f||w>=m))XZ[c][d]=w,JZ[c][d]=3,QZ[c][d]=0;else if(v&&(!f||b>=m))XZ[c][d]=b,JZ[c][d]=2,QZ[c][d]=0;else{if(!f)throw new Error("not possible");XZ[c][d]=m,JZ[c][d]=1,QZ[c][d]=QZ[c-1][d-1]+1}}}if($Z&&function(e,t,i,n){e=e.substr(t),i=i.substr(n),console.log(eQ(XZ,e,e.length,i,i.length)),console.log(eQ(JZ,e,e.length,i,i.length)),console.log(eQ(QZ,e,e.length,i,i.length))}(e,i,n,s),!g[0]&&!r.firstMatchCanBeWeak)return;c--,d--;const p=[XZ[c][d],s];let f=0,m=0;for(;c>=1;){let e=d;do{const t=JZ[c][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);f>1&&t[i+c-1]===o[s+d-1]&&!nQ(e+s-1,n,o)&&f+1>QZ[c][e]&&(e=d),e===d?f++:f=1,m||(m=e),c--,d=e-1,p.push(d)}l===a&&r.boostFullMatch&&(p[0]+=2);const v=m-a;return p[0]-=v,p}function aQ(e,t,i,n,o,s,r,a,l,c,d){if(t[i]!==s[r])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return r===i-n?h=e[i]===o[r]?7:5:!nQ(r,o,s)||0!==r&&nQ(r-1,o,s)?!tQ(s,r)||0!==r&&tQ(s,r-1)?(tQ(s,r-1)||iQ(s,r-1))&&(h=5,u=!0):h=5:(h=e[i]===o[r]?7:5,u=!0),h>1&&i===n&&(d[0]=!0),u||(u=nQ(r,o,s)||tQ(s,r-1)||iQ(s,r-1)),i===n?r>l&&(h-=u?3:5):h+=c?u?2:0:u?0:1,r+1===a&&(h-=u?3:5),h}sQ.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};const lQ="$(",cQ=new RegExp("\\$\\(".concat(Ey.iconNameExpression,"(?:").concat(Ey.iconModifierExpression,")?\\)"),"g"),dQ=new RegExp("(\\\\)?".concat(cQ.source),"g");const hQ=new RegExp("\\\\".concat(cQ.source),"g");const uQ=new RegExp("(\\s)?(\\\\)?".concat(cQ.source,"(\\s)?"),"g");function gQ(e){return-1===e.indexOf(lQ)?e:e.replace(uQ,((e,t,i,n)=>i?e:t||n||""))}const pQ=new RegExp("\\$\\(".concat(Ey.iconNameCharacter,"+\\)"),"g");function fQ(e){pQ.lastIndex=0;let t="";const i=[];let n=0;for(;;){const o=pQ.lastIndex,s=pQ.exec(e),r=e.substring(o,null===s||void 0===s?void 0:s.index);if(r.length>0){t+=r;for(let e=0;e<r.length;e++)i.push(n)}if(!s)break;n+=s[0].length}return{text:t,iconOffsets:i}}function mQ(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{text:n,iconOffsets:o}=t;if(!o||0===o.length)return jZ(e,n,i);const s=tw(n," "),r=n.length-s.length,a=jZ(e,s,i);if(a)for(const l of a){const e=o[l.start+r]+r;l.start+=e,l.end+=e}return a}class vQ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,n,o;if(this.value=e,"string"!==typeof this.value)throw Qm("value");"boolean"===typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n,this.supportHtml=null!==(o=t.supportHtml)&&void 0!==o&&o)}appendText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var i;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}(this.supportThemeIcons?(i=e,i.replace(dQ,((e,t)=>t?e:"\\".concat(e)))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=' "'.concat(this._escape(this._escape(i,'"'),")"),'"')),this.value+=")",this}_escape(e,t){const i=new RegExp(ew(t),"g");return e.replace(i,((t,i)=>"\\"!==e.charAt(i-1)?"\\".concat(t):t))}}function bQ(e){return e instanceof vQ||!(!e||"object"!==typeof e)&&("string"===typeof e.value&&("boolean"===typeof e.isTrusted||"object"===typeof e.isTrusted||void 0===e.isTrusted)&&("boolean"===typeof e.supportThemeIcons||void 0===e.supportThemeIcons))}function _Q(e){return e.replace(/"/g,"&quot;")}function wQ(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1"):e}class yQ{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){var n;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(void 0===e||Wp(e)||e instanceof HTMLElement)o=e;else if(Xp(e.markdown)){this._hoverWidget||this.show(lf("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new Mv;const i=this._cancellationTokenSource.token;if(o=await e.markdown(i),void 0===o&&(o=e.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}else o=null!==(n=e.markdown)&&void 0!==n?n:e.markdownNotSupportedFallback;this.show(o,t,i)}show(e,t,i){const n=this._hoverWidget;if(this.hasContent(e)){const o={content:e,target:this.target,appearance:{showPointer:"element"===this.hoverDelegate.placement,skipFadeInAnimation:!this.fadeInAnimation||!!n},position:{hoverPosition:2},...i};this._hoverWidget=this.hoverDelegate.showHover(o,t)}null===n||void 0===n||n.dispose()}hasContent(e){return!!e&&(!bQ(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}function CQ(e,t,i,n){let o,s;const r=(t,i)=>{var n;const r=void 0!==s;t&&(null===s||void 0===s||s.dispose(),s=void 0),i&&(null===o||void 0===o||o.dispose(),o=void 0),r&&(null===(n=e.onDidHideHover)||void 0===n||n.call(e))},a=(o,r,a)=>new pS((async()=>{s&&!s.isDisposed||(s=new yQ(e,a||t,o>0),await s.update(i,r,n))}),o),l=Zk(t,TL.MOUSE_OVER,(()=>{if(o)return;const i=new dv;i.add(Zk(t,TL.MOUSE_LEAVE,(e=>r(!1,e.fromElement===t)),!0));i.add(Zk(t,TL.MOUSE_DOWN,(()=>r(!0,!0)),!0));const n={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>{n.x=e.x+10,e.target instanceof HTMLElement&&e.target.classList.contains("action-label")&&r(!0,!0)};i.add(Zk(t,TL.MOUSE_MOVE,e,!0))}i.add(a(e.delay,!1,n)),o=i}),!0),c=Zk(t,TL.FOCUS,(()=>{if(o)return;const i={targetElements:[t],dispose:()=>{}},n=new dv;n.add(Zk(t,TL.BLUR,(()=>r(!0,!0)),!0)),n.add(a(e.delay,!1,i)),o=n}),!0);return{show:e=>{r(!1,!0),a(0,e)},hide:()=>{r(!0,!0)},update:async(e,t)=>{i=e,await(null===s||void 0===s?void 0:s.update(i,void 0,t))},dispose:()=>{l.dispose(),c.dispose(),r(!0,!0)}}}function SQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=kQ(t);return xQ(i,function(e,t){const i={type:1,children:[]};let n=0,o=i;const s=[],r=new LQ(e);for(;!r.eos();){let e=r.next();const i="\\"===e&&0!==EQ(r.peek(),t);if(i&&(e=r.next()),!i&&DQ(e,t)&&e===r.peek()){r.advance(),2===o.type&&(o=s.pop());const i=EQ(e,t);if(o.type===i||5===o.type&&6===i)o=s.pop();else{const e={type:i,children:[]};5===i&&(e.index=n,n++),o.children.push(e),s.push(o),o=e}}else if("\n"===e)2===o.type&&(o=s.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),s.push(o),o=t}else o.content+=e}2===o.type&&(o=s.pop());s.length;return i}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),i}function kQ(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}class LQ{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function xQ(e,t,i,n){let o;if(2===t.type)o=document.createTextNode(t.content||"");else if(3===t.type)o=document.createElement("b");else if(4===t.type)o=document.createElement("i");else if(7===t.type&&n)o=document.createElement("code");else if(5===t.type&&i){const e=document.createElement("a");i.disposables.add(Xk(e,"click",(e=>{i.callback(String(t.index),e)}))),o=e}else 8===t.type?o=document.createElement("br"):1===t.type&&(o=e);o&&e!==o&&e.appendChild(o),o&&Array.isArray(t.children)&&t.children.forEach((e=>{xQ(o,e,i,n)}))}function DQ(e,t){return 0!==EQ(e,t)}function EQ(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}const NQ=new RegExp("(\\\\)?\\$\\((".concat(Ey.iconNameExpression,"(?:").concat(Ey.iconModifierExpression,")?)\\)"),"g");function TQ(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=NQ.exec(e));){o=i.index||0,n<o&&t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,s,r]=i;t.push(s?"$(".concat(r,")"):IQ({id:r}))}return n<e.length&&t.push(e.substring(n)),t}function IQ(e){const t=zL("span");return t.classList.add(...Ey.asClassNameArray(e)),t}class AQ{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const MQ=new AQ("id#");let OQ={};!function(){function e(e,t){t(OQ)}e.amd=!0,function(t,i){e.amd?e(0,i):"object"===typeof exports?i(exports):i((t="undefined"!==typeof globalThis?globalThis:t||self).marked={})}(this,(function(e){function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var s=/[&<>"']/,r=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function(e){return c[e]};function h(e,t){if(t){if(s.test(e))return e.replace(r,d)}else if(a.test(e))return e.replace(l,d);return e}var u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(e){return e.replace(u,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g;function f(e,t){e="string"===typeof e?e:e.source,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(p,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i}var m=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(e,t,i){if(e){var n;try{n=decodeURIComponent(g(i)).replace(m,"").toLowerCase()}catch(Pee){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!v.test(i)&&(i=function(e,t){_[" "+e]||(w.test(e)?_[" "+e]=e+"/":_[" "+e]=x(e,"/",!0));e=_[" "+e];var i=-1===e.indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(C,"$1")+t:e+t}(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(Pee){return null}return i}var _={},w=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;var S={exec:function(){}};function k(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function L(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function x(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var s=e.charAt(n-o-1);if(s!==t||i){if(s===t||!i)break;o++}else o++}return e.slice(0,n-o)}function D(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e}function N(e,t,i,n){var o=t.href,s=t.title?h(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var a={type:"link",raw:i,href:o,title:s,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,a}return{type:"image",raw:i,href:o,title:s,text:h(r)}}var T=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},i.code=function(e){var t=this.rules.block.code.exec(e);if(t){var i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:x(i,"\n")}}},i.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},i.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();if(/#$/.test(i)){var n=x(i,"#");this.options.pedantic?i=n.trim():n&&!/ $/.test(n)||(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}},i.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},i.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}},i.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,o,s,r,a,l,c,d,h,u,g,p,f=t[1].trim(),m=f.length>1,v={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?"\\d{1,9}\\"+f.slice(-1):"\\"+f,this.options.pedantic&&(f=m?f:"[*+-]");for(var b=new RegExp("^( {0,3}"+f+")((?:[\t ][^\\n]*)?(?:\\n|$))");e&&(p=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(i=t[0],e=e.substring(i.length),d=t[2].split("\n",1)[0],h=e.split("\n",1)[0],this.options.pedantic?(r=2,g=d.trimLeft()):(r=(r=t[2].search(/[^ ]/))>4?1:r,g=d.slice(r),r+=t[1].length),l=!1,!d&&/^ *$/.test(h)&&(i+=h+"\n",e=e.substring(h.length+1),p=!0),!p)for(var _=new RegExp("^ {0,"+Math.min(3,r-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),w=new RegExp("^ {0,"+Math.min(3,r-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),y=new RegExp("^ {0,"+Math.min(3,r-1)+"}(?:```|~~~)"),C=new RegExp("^ {0,"+Math.min(3,r-1)+"}#");e&&(d=u=e.split("\n",1)[0],this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!y.test(d))&&!C.test(d)&&!_.test(d)&&!w.test(e);){if(d.search(/[^ ]/)>=r||!d.trim())g+="\n"+d.slice(r);else{if(l)break;g+="\n"+d}l||d.trim()||(l=!0),i+=u+"\n",e=e.substring(u.length+1)}v.loose||(c?v.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g))&&(s="[ ] "!==o[0],g=g.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:i,task:!!o,checked:s,loose:!1,text:g}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=g.trimRight(),v.raw=v.raw.trimRight();var S=v.items.length;for(a=0;a<S;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);var k=v.items[a].tokens.filter((function(e){return"space"===e.type})),L=k.every((function(e){for(var t,i=0,o=n(e.raw.split(""));!(t=o()).done;){if("\n"===t.value&&(i+=1),i>1)return!0}return!1}));!v.loose&&k.length&&L&&(v.loose=!0,v.items[a].loose=!0)}return v}},i.html=function(e){var t=this.rules.block.html.exec(e);if(t){var i={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){var n=this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]);i.type="paragraph",i.text=n,i.tokens=this.lexer.inline(n)}return i}},i.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},i.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:L(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,o,s,r,a=i.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(a=i.rows.length,n=0;n<a;n++)i.rows[n]=L(i.rows[n],i.header.length).map((function(e){return{text:e}}));for(a=i.header.length,o=0;o<a;o++)i.header[o].tokens=this.lexer.inline(i.header[o].text);for(a=i.rows.length,o=0;o<a;o++)for(r=i.rows[o],s=0;s<r.length;s++)r[s].tokens=this.lexer.inline(r[s].text);return i}}},i.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}},i.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}},i.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}},i.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:h(t[1])}},i.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]):t[0]}},i.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var n=x(i.slice(0,-1),"\\");if((i.length-n.length)%2===0)return}else{var o=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1}(t[2],"()");if(o>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var r=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),N(t,{href:r?r.replace(this.rules.inline._escapes,"$1"):r,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0],this.lexer)}},i.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return N(i,n,i[0],this.lexer)}},i.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var s,r,a=n[0].length-1,l=a,c=0,d="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+a);null!=(n=d.exec(t));)if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(r=s.length,n[3]||n[4])l+=r;else if(!((n[5]||n[6])&&a%3)||(a+r)%3){if(!((l-=r)>0)){if(r=Math.min(r,r+l+c),Math.min(a,r)%2){var h=e.slice(1,a+n.index+r);return{type:"em",raw:e.slice(0,a+n.index+r+1),text:h,tokens:this.lexer.inlineTokens(h)}}var u=e.slice(2,a+n.index+r-1);return{type:"strong",raw:e.slice(0,a+n.index+r+1),text:u,tokens:this.lexer.inlineTokens(u)}}}else c+=r}}},i.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return n&&o&&(i=i.substring(1,i.length-1)),i=h(i,!0),{type:"codespan",raw:t[0],text:i}}},i.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},i.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}},i.autolink=function(e,t){var i,n,o=this.rules.inline.autolink.exec(e);if(o)return n="@"===o[2]?"mailto:"+(i=h(this.options.mangle?t(o[1]):o[1])):i=h(o[1]),{type:"link",raw:o[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},i.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,o;if("@"===i[2])o="mailto:"+(n=h(this.options.mangle?t(i[0]):i[0]));else{var s;do{s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(s!==i[0]);n=h(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},i.inlineText=function(e,t){var i,n=this.rules.inline.text.exec(e);if(n)return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):h(n[0]):n[0]:h(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}},t}(),I={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};I.def=f(I.def).replace("label",I._label).replace("title",I._title).getRegex(),I.bullet=/(?:[*+-]|\d{1,9}[.)])/,I.listItemStart=f(/^( *)(bull) */).replace("bull",I.bullet).getRegex(),I.list=f(I.list).replace(/bull/g,I.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+I.def.source+")").getRegex(),I._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",I._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,I.html=f(I.html,"i").replace("comment",I._comment).replace("tag",I._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I.paragraph=f(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.blockquote=f(I.blockquote).replace("paragraph",I.paragraph).getRegex(),I.normal=k({},I),I.gfm=k({},I.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),I.gfm.table=f(I.gfm.table).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.gfm.paragraph=f(I._paragraph).replace("hr",I.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",I.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I._tag).getRegex(),I.pedantic=k({},I.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",I._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:f(I.normal._paragraph).replace("hr",I.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",I.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var A={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function M(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function O(e){var t,i,n="",o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}A._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",A.punctuation=f(A.punctuation).replace(/punctuation/g,A._punctuation).getRegex(),A.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,A.escapedEmSt=/\\\*|\\_/g,A._comment=f(I._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),A.emStrong.lDelim=f(A.emStrong.lDelim).replace(/punct/g,A._punctuation).getRegex(),A.emStrong.rDelimAst=f(A.emStrong.rDelimAst,"g").replace(/punct/g,A._punctuation).getRegex(),A.emStrong.rDelimUnd=f(A.emStrong.rDelimUnd,"g").replace(/punct/g,A._punctuation).getRegex(),A._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,A._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,A._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,A.autolink=f(A.autolink).replace("scheme",A._scheme).replace("email",A._email).getRegex(),A._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,A.tag=f(A.tag).replace("comment",A._comment).replace("attribute",A._attribute).getRegex(),A._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,A._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,A._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,A.link=f(A.link).replace("label",A._label).replace("href",A._href).replace("title",A._title).getRegex(),A.reflink=f(A.reflink).replace("label",A._label).replace("ref",I._label).getRegex(),A.nolink=f(A.nolink).replace("ref",I._label).getRegex(),A.reflinkSearch=f(A.reflinkSearch,"g").replace("reflink",A.reflink).replace("nolink",A.nolink).getRegex(),A.normal=k({},A),A.pedantic=k({},A.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",A._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",A._label).getRegex()}),A.gfm=k({},A.normal,{escape:f(A.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),A.gfm.url=f(A.gfm.url,"i").replace("email",A.gfm._extended_email).getRegex(),A.breaks=k({},A.gfm,{br:f(A.br).replace("{2,}","*").getRegex(),text:f(A.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var R=function(){function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var i={block:I.normal,inline:A.normal};this.options.pedantic?(i.block=I.pedantic,i.inline=A.pedantic):this.options.gfm&&(i.block=I.gfm,this.options.breaks?i.inline=A.breaks:i.inline=A.gfm),this.tokenizer.rules=i}i.lex=function(e,t){return new i(t).lex(e)},i.lexInline=function(e,t){return new i(t).inlineTokens(e)};var n,o,s,r=i.prototype;return r.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},r.blockTokens=function(e,t){var i,n,o,s,r=this;for(void 0===t&&(t=[]),e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,i){return t+"    ".repeat(i.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(i=n.call({lexer:r},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(i):(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.list(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.def(e))e=e.substring(i.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(n.raw+="\n"+i.raw,n.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(o=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,i=e.slice(1),n=void 0;r.options.extensions.startBlock.forEach((function(e){"number"===typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),this.state.top&&(i=this.tokenizer.paragraph(o)))n=t[t.length-1],s&&"paragraph"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},r.inline=function(e,t){return void 0===t&&(t=[]),this.inlineQueue.push({src:e,tokens:t}),t},r.inlineTokens=function(e,t){var i,n,o,s=this;void 0===t&&(t=[]);var r,a,l,c=e;if(this.tokens.links){var d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(c));)d.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,r.index)+"["+E("a",r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,r.index)+"["+E("a",r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,r.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(i=n.call({lexer:s},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)}))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),(n=t[t.length-1])&&"text"===i.type&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,c,l))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.autolink(e,O))e=e.substring(i.raw.length),t.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(e,O))){if(o=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,i=e.slice(1),n=void 0;s.options.extensions.startInline.forEach((function(e){"number"===typeof(n=e.call({lexer:this},i))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}(),i=this.tokenizer.inlineText(o,M))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),a=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=i.raw,n.text+=i.text):t.push(i);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(i.raw.length),t.push(i);return t},n=i,s=[{key:"rules",get:function(){return{block:I,inline:A}}}],(o=null)&&t(n.prototype,o),s&&t(n,s),Object.defineProperty(n,"prototype",{writable:!1}),i}(),P=function(){function t(t){this.options=t||e.defaults}var i=t.prototype;return i.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+h(n,!0)+'">'+(i?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:h(e,!0))+"</code></pre>\n"},i.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.html=function(e){return e},i.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+(this.options.headerPrefix+n.slug(i))+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},i.listitem=function(e){return"<li>"+e+"</li>\n"},i.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.paragraph=function(e){return"<p>"+e+"</p>\n"},i.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},i.strong=function(e){return"<strong>"+e+"</strong>"},i.em=function(e){return"<em>"+e+"</em>"},i.codespan=function(e){return"<code>"+e+"</code>"},i.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.del=function(e){return"<del>"+e+"</del>"},i.link=function(e,t,i){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+h(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},i.image=function(e,t,i){if(null===(e=b(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},i.text=function(e){return e},t}(),F=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),B=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),V=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new F,this.slugger=new B}t.parse=function(e,i){return new t(i).parse(e)},t.parseInline=function(e,i){return new t(i).parseInline(e)};var i=t.prototype;return i.parse=function(e,t){void 0===t&&(t=!0);var i,n,o,s,r,a,l,c,d,h,u,p,f,m,v,b,_,w,y,C="",S=e.length;for(i=0;i<S;i++)if(h=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(y=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(h.tokens),h.depth,g(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",s=h.header.length,n=0;n<s;n++)l+=this.renderer.tablecell(this.parseInline(h.header[n].tokens),{header:!0,align:h.align[n]});for(c+=this.renderer.tablerow(l),d="",s=h.rows.length,n=0;n<s;n++){for(l="",r=(a=h.rows[n]).length,o=0;o<r;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});d+=this.renderer.tablerow(l)}C+=this.renderer.table(c,d);continue;case"blockquote":d=this.parse(h.tokens),C+=this.renderer.blockquote(d);continue;case"list":for(u=h.ordered,p=h.start,f=h.loose,s=h.items.length,d="",n=0;n<s;n++)b=(v=h.items[n]).checked,_=v.task,m="",v.task&&(w=this.renderer.checkbox(b),f?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=w+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=w+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(v.tokens,f),d+=this.renderer.listitem(m,_,b);C+=this.renderer.list(d,u,p);continue;case"html":C+=this.renderer.html(h.text);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(d=h.tokens?this.parseInline(h.tokens):h.text;i+1<S&&"text"===e[i+1].type;)d+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);C+=t?this.renderer.paragraph(d):d;continue;default:var k='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}else C+=y||"";return C},i.parseInline=function(e,t){t=t||this.renderer;var i,n,o,s="",r=e.length;for(i=0;i<r;i++)if(n=e[i],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(o=this.options.extensions.renderers[n.type].call({parser:this},n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":case"text":s+=t.text(n.text);break;case"html":s+=t.html(n.text);break;case"link":s+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":s+=t.image(n.href,n.title,n.text);break;case"strong":s+=t.strong(this.parseInline(n.tokens,t));break;case"em":s+=t.em(this.parseInline(n.tokens,t));break;case"codespan":s+=t.codespan(n.text);break;case"br":s+=t.br();break;case"del":s+=t.del(this.parseInline(n.tokens,t));break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else s+=o||"";return s},t}();function W(e,t,i){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(i=t,t=null),D(t=k({},W.defaults,t||{})),i){var n,o=t.highlight;try{n=R.lex(e,t)}catch(Pee){return i(Pee)}var s=function(e){var s;if(!e)try{t.walkTokens&&W.walkTokens(n,t.walkTokens),s=V.parse(n,t)}catch(Pee){e=Pee}return t.highlight=o,e?i(e):i(null,s)};if(!o||o.length<3)return s();if(delete t.highlight,!n.length)return s();var r=0;return W.walkTokens(n,(function(e){"code"===e.type&&(r++,setTimeout((function(){o(e.text,e.lang,(function(t,i){if(t)return s(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0===--r&&s()}))}),0))})),void(0===r&&s())}function a(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}try{var l=R.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(W.walkTokens(l,t.walkTokens)).then((function(){return V.parse(l,t)})).catch(a);W.walkTokens(l,t.walkTokens)}return V.parse(l,t)}catch(Pee){a(Pee)}}W.options=W.setOptions=function(t){var i;return k(W.defaults,t),i=W.defaults,e.defaults=i,W},W.getDefaults=o,W.defaults=e.defaults,W.use=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n,o=k.apply(void 0,[{}].concat(t)),s=W.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(n=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=s.renderers?s.renderers[e.name]:null;s.renderers[e.name]=t?function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var s=e.renderer.apply(this,n);return!1===s&&(s=t.apply(this,n)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");s[e.level]?s[e.level].unshift(e.tokenizer):s[e.level]=[e.tokenizer],e.start&&("block"===e.level?s.startBlock?s.startBlock.push(e.start):s.startBlock=[e.start]:"inline"===e.level&&(s.startInline?s.startInline.push(e.start):s.startInline=[e.start]))}e.childTokens&&(s.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=W.defaults.renderer||new P,i=function(i){var n=t[i];t[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.renderer[i].apply(t,s);return!1===a&&(a=n.apply(t,s)),a}};for(var n in e.renderer)i(n);o.renderer=t}(),e.tokenizer&&function(){var t=W.defaults.tokenizer||new T,i=function(i){var n=t[i];t[i]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.tokenizer[i].apply(t,s);return!1===a&&(a=n.apply(t,s)),a}};for(var n in e.tokenizer)i(n);o.tokenizer=t}(),e.walkTokens){var t=W.defaults.walkTokens;o.walkTokens=function(i){var n=[];return n.push(e.walkTokens.call(this,i)),t&&(n=n.concat(t.call(this,i))),n}}n&&(o.extensions=s),W.setOptions(o)}))},W.walkTokens=function(e,t){for(var i,o=[],s=function(){var e=i.value;switch(o=o.concat(t.call(W,e)),e.type){case"table":for(var s,r=n(e.header);!(s=r()).done;){var a=s.value;o=o.concat(W.walkTokens(a.tokens,t))}for(var l,c=n(e.rows);!(l=c()).done;)for(var d,h=n(l.value);!(d=h()).done;){var u=d.value;o=o.concat(W.walkTokens(u.tokens,t))}break;case"list":o=o.concat(W.walkTokens(e.items,t));break;default:W.defaults.extensions&&W.defaults.extensions.childTokens&&W.defaults.extensions.childTokens[e.type]?W.defaults.extensions.childTokens[e.type].forEach((function(i){o=o.concat(W.walkTokens(e[i],t))})):e.tokens&&(o=o.concat(W.walkTokens(e.tokens,t)))}},r=n(e);!(i=r()).done;)s();return o},W.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");D(t=k({},W.defaults,t||{}));try{var i=R.lexInline(e,t);return t.walkTokens&&W.walkTokens(i,t.walkTokens),V.parseInline(i,t)}catch(Pee){if(Pee.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(Pee.message+"",!0)+"</pre>";throw Pee}},W.Parser=V,W.parser=V.parse,W.Renderer=P,W.TextRenderer=F,W.Lexer=R,W.lexer=R.lex,W.Tokenizer=T,W.Slugger=B,W.parse=W;var z=W.options,H=W.setOptions,j=W.use,U=W.walkTokens,K=W.parseInline,q=W,G=V.parse,Y=R.lex;e.Lexer=R,e.Parser=V,e.Renderer=P,e.Slugger=B,e.TextRenderer=F,e.Tokenizer=T,e.getDefaults=o,e.lexer=Y,e.marked=W,e.options=z,e.parse=q,e.parseInline=K,e.parser=G,e.setOptions=H,e.use=j,e.walkTokens=U,Object.defineProperty(e,"__esModule",{value:!0})}))}();OQ.Lexer||exports.Lexer,OQ.Parser||exports.Parser,OQ.Renderer||exports.Renderer,OQ.Slugger||exports.Slugger,OQ.TextRenderer||exports.TextRenderer,OQ.Tokenizer||exports.Tokenizer,OQ.getDefaults||exports.getDefaults,OQ.lexer||exports.lexer;var RQ=OQ.marked||exports.marked;OQ.options||exports.options,OQ.parse||exports.parse,OQ.parseInline||exports.parseInline,OQ.parser||exports.parser,OQ.setOptions||exports.setOptions,OQ.use||exports.use,OQ.walkTokens||exports.walkTokens;function PQ(e){let t=JSON.parse(e);return t=BQ(t),t}function FQ(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:t.flags}:t}function BQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||t>200)return e;if("object"===typeof e){switch(e.$mid){case 1:return Lb.revive(e);case 2:return new RegExp(e.source,e.flags);case 17:return new Date(e.source)}if(e instanceof jx||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let i=0;i<e.length;++i)e[i]=BQ(e[i],t+1);else for(const i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=BQ(e[i],t+1))}return e}const VQ=Object.freeze({image:(e,t,i)=>{let n=[],o=[];return e&&(({href:e,dimensions:n}=function(e){const t=[],i=e.split("|").map((e=>e.trim()));e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",s=i?i[1]:"",r=isFinite(parseInt(s)),a=isFinite(parseInt(o));r&&t.push('width="'.concat(s,'"')),a&&t.push('height="'.concat(o,'"'))}return{href:e,dimensions:t}}(e)),o.push('src="'.concat(_Q(e),'"'))),i&&o.push('alt="'.concat(_Q(i),'"')),t&&o.push('title="'.concat(_Q(t),'"')),n.length&&(o=o.concat(n)),"<img "+o.join(" ")+">"},paragraph:e=>"<p>".concat(e,"</p>"),link:(e,t,i)=>"string"!==typeof e?"":(e===i&&(i=wQ(i)),t="string"===typeof t?_Q(wQ(t)):"",e=(e=wQ(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="'.concat(e,'" title="').concat(t||e,'" draggable="false">').concat(i,"</a>"))});function WQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n,o;const s=new dv;let r=!1;const a=kQ(t),l=function(t){let i;try{i=PQ(decodeURIComponent(t))}catch(Pee){}return i?(i=tf(i,(t=>e.uris&&e.uris[t]?Lb.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(i))):t},c=function(t,i){const n=e.uris&&e.uris[t];let o=Lb.revive(n);return i?t.startsWith(Ck.data+":")?t:(o||(o=Lb.parse(t)),Dk.uriToBrowserUri(o).toString(!0)):o?Lb.parse(t).toString()===o.toString()?t:(o.query&&(o=o.with({query:l(o.query)})),o.toString()):t},d=new RQ.Renderer;d.image=VQ.image,d.link=VQ.link,d.paragraph=VQ.paragraph;const h=[],u=[];if(t.codeBlockRendererSync?d.code=(e,i)=>{const n=MQ.nextId(),o=t.codeBlockRendererSync(zQ(i),e);return u.push([n,o]),'<div class="code" data-code="'.concat(n,'">').concat($_(e),"</div>")}:t.codeBlockRenderer&&(d.code=(e,i)=>{const n=MQ.nextId(),o=t.codeBlockRenderer(zQ(i),e);return h.push(o.then((e=>[n,e]))),'<div class="code" data-code="'.concat(n,'">').concat($_(e),"</div>")}),t.actionHandler){const i=function(i){let n=i.target;if("A"===n.tagName||(n=n.parentElement,n&&"A"===n.tagName))try{let o=n.dataset.href;o&&(e.baseUri&&(o=HQ(Lb.from(e.baseUri),o)),t.actionHandler.callback(o,i))}catch(o){Um(o)}finally{i.preventDefault()}},n=t.actionHandler.disposables.add(new PP(a,"click")),o=t.actionHandler.disposables.add(new PP(a,"auxclick"));t.actionHandler.disposables.add(vv.any(n.event,o.event)((e=>{const t=new oS(Fk(a),e);(t.leftButton||t.middleButton)&&i(t)}))),t.actionHandler.disposables.add(Zk(a,"keydown",(e=>{const t=new eS(e);(t.equals(10)||t.equals(3))&&i(t)})))}e.supportHtml||(i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.silent=!0),i.renderer=d;let g=null!==(n=e.value)&&void 0!==n?n:"";let p;if(g.length>1e5&&(g="".concat(g.substr(0,1e5),"\u2026")),e.supportThemeIcons&&(g=g.replace(hQ,(e=>"\\".concat(e)))),t.fillInIncompleteTokens){const e={...RQ.defaults,...i},t=function(e){let t,i;for(t=0;t<e.length;t++){const n=e[t];if("paragraph"===n.type&&n.raw.match(/(\n|^)```/)){i=QQ(e.slice(t));break}if("paragraph"===n.type&&n.raw.match(/(\n|^)\|/)){i=oX(e.slice(t));break}if(t===e.length-1&&"paragraph"===n.type){const e=ZQ(n);if(e){i=[e];break}}}if(i){const n=[...e.slice(0,t),...i];return n.links=e.links,n}return e}(RQ.lexer(g,e));p=RQ.parser(t,e)}else p=RQ.parse(g,i);if(e.supportThemeIcons){p=TQ(p).map((e=>"string"===typeof e?e:e.outerHTML)).join("")}const f=(new DOMParser).parseFromString(jQ(e,p),"text/html");if(f.body.querySelectorAll("img").forEach((t=>{const i=t.getAttribute("src");if(i){let o=i;try{e.baseUri&&(o=HQ(Lb.from(e.baseUri),o))}catch(n){}t.src=c(o,!0)}})),f.body.querySelectorAll("a").forEach((t=>{const i=t.getAttribute("href");if(t.setAttribute("href",""),!i||/^data:|javascript:/i.test(i)||/^command:/i.test(i)&&!e.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(i))t.replaceWith(...t.childNodes);else{let n=c(i,!1);e.baseUri&&(n=HQ(Lb.from(e.baseUri),i)),t.dataset.href=n}})),a.innerHTML=jQ(e,f.body.innerHTML),h.length>0)Promise.all(h).then((e=>{var i,n;if(r)return;const o=new Map(e),s=a.querySelectorAll("div[data-code]");for(const t of s){const e=o.get(null!==(i=t.dataset.code)&&void 0!==i?i:"");e&&FL(t,e)}null===(n=t.asyncRenderCallback)||void 0===n||n.call(t)}));else if(u.length>0){const e=new Map(u),t=a.querySelectorAll("div[data-code]");for(const i of t){const t=e.get(null!==(o=i.dataset.code)&&void 0!==o?o:"");t&&FL(i,t)}}if(t.asyncRenderCallback)for(const m of a.getElementsByTagName("img")){const e=s.add(Zk(m,"load",(()=>{e.dispose(),t.asyncRenderCallback()})))}return{element:a,dispose:()=>{r=!0,s.dispose()}}}function zQ(e){if(!e)return"";const t=e.split(/[\s+|:|,|\{|\?]/,1);return t.length?t[0]:e}function HQ(e,t){return/^\w[\w\d+.-]*:/.test(t)?t:e.path.endsWith("/")?_H(e,t).toString():_H(vH(e),t).toString()}function jQ(e,t){const{config:i,allowedSchemes:n}=function(e){const t=[Ck.http,Ck.https,Ck.mailto,Ck.data,Ck.file,Ck.vscodeFileResource,Ck.vscodeRemote,Ck.vscodeRemoteResource];e.isTrusted&&t.push(Ck.command);return{config:{ALLOWED_TAGS:[...ZL],ALLOWED_ATTR:UQ,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e);wk("uponSanitizeAttribute",((e,t)=>{if("style"!==t.attrName&&"class"!==t.attrName);else{if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}}));const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=document.createElement("a");return wk("afterSanitizeAttributes",(n=>{for(const o of["href","src"])if(n.hasAttribute(o)){const s=n.getAttribute(o);if("href"===o&&s.startsWith("#"))continue;if(i.href=s,!e.includes(i.protocol.replace(/:$/,""))){if(t&&"src"===o&&i.href.startsWith("data:"))continue;n.removeAttribute(o)}}})),cv((()=>{yk("afterSanitizeAttributes")}))}(n);try{return _k(t,{...i,RETURN_TRUSTED_TYPE:!0})}finally{yk("uponSanitizeAttribute"),o.dispose()}}const UQ=["align","autoplay","alt","class","controls","data-code","data-href","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function KQ(e){return"string"===typeof e?e:function(e){var t;let i=null!==(t=e.value)&&void 0!==t?t:"";i.length>1e5&&(i="".concat(i.substr(0,1e5),"\u2026"));const n=RQ.parse(i,{renderer:GQ.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(e=>{var t;return null!==(t=qQ.get(e))&&void 0!==t?t:e}));return jQ({isTrusted:!1},n).toString()}(e)}const qQ=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),GQ=new Z_((()=>{const e=new RQ.Renderer;return e.code=e=>e,e.blockquote=e=>e,e.html=e=>"",e.heading=(e,t,i)=>e+"\n",e.hr=()=>"",e.list=(e,t)=>e,e.listitem=e=>e+"\n",e.paragraph=e=>e+"\n",e.table=(e,t)=>e+t+"\n",e.tablerow=e=>e,e.tablecell=(e,t)=>e+" ",e.strong=e=>e,e.em=e=>e,e.codespan=e=>e,e.br=()=>"\n",e.del=e=>e,e.image=(e,t,i)=>"",e.text=e=>e,e.link=(e,t,i)=>i,e}));function YQ(e){let t="";return e.forEach((e=>{t+=e.raw})),t}function ZQ(e){for(const t of e.tokens)if("text"===t.type){const i=t.raw.split("\n"),n=i[i.length-1];if(n.includes("`"))return XQ(e);if(n.includes("**"))return nX(e,"**");if(n.match(/\*\w/))return JQ(e);if(n.match(/(^|\s)__\w/))return iX(e);if(n.match(/(^|\s)_\w/))return $Q(e);if(n.match(/(^|\s)\[.*\]\(\w*/))return eX(e);if(n.match(/(^|\s)\[\w/))return tX(e)}}function QQ(e){const t=YQ(e);return RQ.lexer(t+"\n```")}function XQ(e){return nX(e,"`")}function JQ(e){return nX(e,"*")}function $Q(e){return nX(e,"_")}function eX(e){return nX(e,")")}function tX(e){return nX(e,"](about:blank)")}function iX(e){return nX(e,"__")}function nX(e,t){const i=YQ(Array.isArray(e)?e:[e]);return RQ.lexer(i+t)[0]}function oX(e){const t=YQ(e),i=t.split("\n");let n,o=!1;for(let s=0;s<i.length;s++){const e=i[s].trim();if("undefined"===typeof n&&e.match(/^\s*\|/)){const t=e.match(/(\|[^\|]+)(?=\||$)/g);t&&(n=t.length)}else if("number"===typeof n){if(!e.match(/^\s*\|/))return;if(s!==i.length-1)return;o=!0}}if("number"===typeof n&&n>0){const e=o?i.slice(0,-1).join("\n"):t,s=!!e.match(/\|\s*$/),r=e+(s?"":"|")+"\n|".concat(" --- |".repeat(n));return RQ.lexer(r)}}class sX{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach((n=>n.splice(e,t,i)))}}class rX extends Error{constructor(e,t){super("ListError [".concat(e,"] ").concat(t))}}function aX(e,t){const i=[];for(const n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=sZ.intersect(e,n.range);sZ.isEmpty(t)||i.push({range:t,size:n.size})}return i}function lX(e,t){let{start:i,end:n}=e;return{start:i+t,end:n+t}}class cX{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=null!==e&&void 0!==e?e:0,this._size=this._paddingTop}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=i.length-t,o=aX({start:0,end:e},this.groups),s=aX({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:lX(e.range,n),size:e.size}))),r=i.map(((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size})));this.groups=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){const t=[];let i=null;for(const n of e){const e=n.range.start,o=n.range.end,s=n.size;i&&s===i.size?i.range.end=o:(i={range:{start:e,end:o},size:s},t.push(i))}return t}(t.reduce(((e,t)=>e.concat(t)),[]))}(o,r,s),this._size=this._paddingTop+this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const n of this.groups){const o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const n of this.groups){const o=n.range.end-n.range.start,s=i+o;if(e<s)return this._paddingTop+t+(e-i)*n.size;t+=o*n.size,i=s}return-1}}class dX{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const i=zL(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const e of this.transactionNodesPendingRemoval)this.doRemoveNode(e);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t));this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),function(e){var t;try{null===(t=e.parentElement)||void 0===t||t.removeChild(e)}catch(Pee){}}(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}})),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error("No renderer found for ".concat(e));return t}}var hX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const uX={CurrentDragAndDropData:void 0},gX={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class pX{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class fX{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class mX{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class vX{constructor(e){(null===e||void 0===e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null===e||void 0===e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null===e||void 0===e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null===e||void 0===e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class bX{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:cL(this.domNode)}),this.rowsContainer.style.width="".concat(Math.max(this.scrollWidth||0,this.renderWidth),"px")}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gX;var o,s,r,a,l,c,d,h,u,g,p,f,m;if(this.virtualDelegate=t,this.domId="list_id_".concat(++bX.InstanceCount),this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new dS(50),this.splicing=!1,this.dragOverAnimationStopDisposable=hv.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=hv.None,this.onDragLeaveTimeout=hv.None,this.disposables=new dv,this._onDidChangeContentHeight=new Cv,this._onDidChangeContentWidth=new Cv,this.onDidChangeContentHeight=vv.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new cX(null!==(o=n.paddingTop)&&void 0!==o?o:0);for(const v of i)this.renderers.set(v.templateId,v);this.cache=this.disposables.add(new dX(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!==typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=null!==(s=n.horizontalScrolling)&&void 0!==s?s:gX.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom="undefined"===typeof n.paddingBottom?0:n.paddingBottom,this.accessibilityProvider=new vX(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";(null!==(r=n.transformOptimization)&&void 0!==r?r:gX.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(bA.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new yP({forceIntegerValues:!0,smoothScrollDuration:null!==(a=n.smoothScrolling)&&void 0!==a&&a?125:0,scheduleAtNextAnimationFrame:e=>eL(Fk(this.domNode),e)})),this.scrollableElement=this.disposables.add(new NP(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(l=n.alwaysConsumeMouseWheel)&&void 0!==l?l:gX.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(c=n.verticalScrollMode)&&void 0!==c?c:gX.verticalScrollMode,useShadows:null!==(d=n.useShadows)&&void 0!==d?d:gX.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity,scrollByPage:n.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Zk(this.rowsContainer,mA.Change,(e=>this.onTouchChange(e)))),this.disposables.add(Zk(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add(Zk(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add(Zk(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add(Zk(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add(Zk(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=null!==(h=n.setRowLineHeight)&&void 0!==h?h:gX.setRowLineHeight,this.setRowHeight=null!==(u=n.setRowHeight)&&void 0!==u?u:gX.setRowHeight,this.supportDynamicHeights=null!==(g=n.supportDynamicHeights)&&void 0!==g?g:gX.supportDynamicHeights,this.dnd=null!==(p=n.dnd)&&void 0!==p?p:this.disposables.add(gX.dnd),this.layout(null===(f=n.initialSize)||void 0===f?void 0:f.height,null===(m=n.initialSize)||void 0===m?void 0:m.width)}updateOptions(e){let t;if(void 0!==e.paddingBottom&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.scrollByPage&&(t={...null!==t&&void 0!==t?t:{},scrollByPage:e.scrollByPage}),void 0!==e.mouseWheelScrollSensitivity&&(t={...null!==t&&void 0!==t?t:{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&(t={...null!==t&&void 0!==t?t:{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),void 0!==e.paddingTop&&e.paddingTop!==this.rangeMap.paddingTop){const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),i=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(t,Math.max(0,this.lastRenderTop+i),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=sZ.intersect(n,o),r=new Map;for(let w=s.end-1;w>=s.start;w--){const e=this.items[w];if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){let t=r.get(e.templateId);t||(t=[],r.set(e.templateId,t));const i=this.renderers.get(e.templateId);i&&i.disposeElement&&i.disposeElement(e.element,w,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=sZ.intersect(a,n),c=sZ.relativeComplement(a,n),d=i.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:hv.None,checkedDisposable:hv.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new cX(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const u=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=lX(l,u),f=sZ.intersect(g,p);for(let w=f.start;w<f.end;w++)this.updateItemInDOM(this.items[w],w);const m=sZ.relativeComplement(p,g);for(const w of m)for(let e=w.start;e<w.end;e++)this.removeItemFromDOM(e);const v=c.map((e=>lX(e,u))),b=[{start:e,end:e+i.length},...v].map((e=>sZ.intersect(g,e))),_=this.getNextToLastElement(b);for(const w of b)for(let e=w.start;e<w.end;e++){const t=this.items[e],i=r.get(t.templateId),n=null===i||void 0===i?void 0:i.pop();this.insertItemInDOM(e,_,n)}for(const w of r.values())for(const e of w)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height="".concat(this._scrollHeight,"px"),this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=eL(Fk(this.domNode),(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)"undefined"!==typeof t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex((t=>t.element===e))}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:"number"===typeof e?e:dL(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),"undefined"!==typeof t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"===typeof t?t:cL(this.domNode)})}render(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const r=this.getRenderRange(t,i),a=sZ.relativeComplement(r,e),l=sZ.relativeComplement(e,r),c=this.getNextToLastElement(a);if(s){const t=sZ.intersect(e,r);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}this.cache.transact((()=>{for(const e of l)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);for(const e of a)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,c)})),void 0!==n&&(this.rowsContainer.style.left="-".concat(n,"px")),this.rowsContainer.style.top="-".concat(t,"px"),this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width="".concat(Math.max(o,this.renderWidth),"px")),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];let o=!1;if(!n.row)if(i)n.row=i;else{const e=this.cache.alloc(n.templateId);n.row=e.row,o=e.isReusingConnectedDomNode}const s=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",s);const r=this.accessibilityProvider.isChecked(n.element);if("boolean"===typeof r)n.row.domNode.setAttribute("aria-checked",String(!!r));else if(r){const e=e=>n.row.domNode.setAttribute("aria-checked",String(!!e));e(r.value),n.checkedDisposable=r.onDidChange(e)}!o&&n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const a=this.renderers.get(n.templateId);if(!a)throw new Error("No renderer found for template id ".concat(n.templateId));null===a||void 0===a||a.renderElement(n.element,e,n.row.templateData,n.size);const l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=Zk(n.row.domNode,"dragstart",(e=>this.onDragStart(n.element,l,e)))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=cL(e.row.domNode);const t=Fk(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top="".concat(this.elementTop(t),"px"),this.setRowHeight&&(e.row.domNode.style.height="".concat(e.size,"px")),this.setRowLineHeight&&(e.row.domNode.style.lineHeight="".concat(e.size,"px")),e.row.domNode.setAttribute("data-index","".concat(t)),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return vv.map(this.disposables.add(new PP(this.domNode,"click")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseDblClick(){return vv.map(this.disposables.add(new PP(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseMiddleClick(){return vv.filter(vv.map(this.disposables.add(new PP(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e)),this.disposables),(e=>1===e.browserEvent.button),this.disposables)}get onMouseDown(){return vv.map(this.disposables.add(new PP(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseOver(){return vv.map(this.disposables.add(new PP(this.domNode,"mouseover")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onMouseOut(){return vv.map(this.disposables.add(new PP(this.domNode,"mouseout")).event,(e=>this.toMouseEvent(e)),this.disposables)}get onContextMenu(){return vv.any(vv.map(this.disposables.add(new PP(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e)),this.disposables),vv.map(this.disposables.add(new PP(this.domNode,mA.Contextmenu)).event,(e=>this.toGestureEvent(e)),this.disposables))}get onTouchStart(){return vv.map(this.disposables.add(new PP(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)),this.disposables)}get onTap(){return vv.map(this.disposables.add(new PP(this.rowsContainer,mA.Tap)).event,(e=>this.toGestureEvent(e)),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i="undefined"===typeof t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i="undefined"===typeof t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i="undefined"===typeof t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i="undefined"===typeof t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var n,o;if(!i.dataTransfer)return;const s=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(LZ.TEXT,t),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(s,i)),"undefined"===typeof e&&(e=String(s.length));const t=zL(".monaco-drag-image");t.textContent=e;const n=(e=>{for(;e&&!e.classList.contains("monaco-workbench");)e=e.parentElement;return e||this.domNode.ownerDocument})(this.domNode);n.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>n.removeChild(t)),0)}this.domNode.classList.add("dragging"),this.currentDragData=new pX(s),uX.CurrentDragAndDropData=new fX(s),null===(o=(n=this.dnd).onDragStart)||void 0===o||o.call(n,this.currentDragData,i)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),uX.CurrentDragAndDropData&&"vscode-ui"===uX.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(uX.CurrentDragAndDropData)this.currentDragData=uX.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new mX}const i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"===typeof i?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let n;if(e.browserEvent.dataTransfer.dropEffect="boolean"!==typeof i&&0===i.effect?"copy":"move",n="boolean"!==typeof i&&i.feedback?i.feedback:"undefined"===typeof e.index?[-1]:[e.index],n=kp(n).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),n=-1===n[0]?[-1]:n,o=this.currentDragFeedback,s=n,Array.isArray(o)&&Array.isArray(s)?bp(o,s):o===s)return!0;var o,s;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),-1===n[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=cv((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of n){const i=this.items[e];i.dropTarget=!0,null===(t=i.row)||void 0===t||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=cv((()=>{var e;for(const t of n){const i=this.items[t];i.dropTarget=!1,null===(e=i.row)||void 0===e||e.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=gS((()=>this.clearDragOverFeedback()),100,this.disposables),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,uX.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,uX.CurrentDragAndDropData=void 0,null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=hv.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=function(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==e.ownerDocument.body&&e!==e.ownerDocument.documentElement;){i-=e.scrollTop;const o=pL(e)?null:nL(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=sL.getBorderLeftWidth(e),i+=sL.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}(this.domNode).top;this.dragOverAnimationDisposable=function(e,t){const i=()=>{t(),n=eL(e,i)};let n=eL(e,i);return cv((()=>n.dispose()))}(Fk(this.domNode),this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=gS((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,s;e===this.elementTop(n.start)?(o=n.start,s=0):n.end-n.start>1&&(o=n.start+1,s=this.elementTop(o)-e);let r=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),r+=t,l=l||0!==t}if(!l){0!==r&&this.eventuallyUpdateScrollDimensions();const t=sZ.relativeComplement(n,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=sZ.relativeComplement(a,n);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"===typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,n=this.elementTop(o)-s+t;this.setScrollTop(n,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){var t,i,n;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(o.element);if(null!==e){const t=o.size;return o.size=e,o.lastDynamicHeightWidth=this.renderWidth,e-t}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const s=o.size;if(o.row)return o.row.domNode.style.height="",o.size=o.row.domNode.offsetHeight,o.lastDynamicHeightWidth=this.renderWidth,o.size-s;const{row:r}=this.cache.alloc(o.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const a=this.renderers.get(o.templateId);if(!a)throw new ev("Missing renderer for templateId: "+o.templateId);return a.renderElement(o.element,e,r.templateData,void 0),o.size=r.domNode.offsetHeight,null===(t=a.disposeElement)||void 0===t||t.call(a,o.element,e,r.templateData,void 0),null===(n=(i=this.virtualDelegate).setDynamicHeight)||void 0===n||n.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),o.size-s}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return"".concat(this.domId,"_").concat(e)}dispose(){var e,t;for(const i of this.items)if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){const t=this.renderers.get(i.row.templateId);t&&(null===(e=t.disposeElement)||void 0===e||e.call(t,i.element,-1,i.row.templateData,void 0),t.disposeTemplate(i.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),null===(t=this.dragOverAnimationDisposable)||void 0===t||t.dispose(),this.disposables.dispose()}}bX.InstanceCount=0,hX([fA],bX.prototype,"onMouseClick",null),hX([fA],bX.prototype,"onMouseDblClick",null),hX([fA],bX.prototype,"onMouseMiddleClick",null),hX([fA],bX.prototype,"onMouseDown",null),hX([fA],bX.prototype,"onMouseOver",null),hX([fA],bX.prototype,"onMouseOut",null),hX([fA],bX.prototype,"onContextMenu",null),hX([fA],bX.prototype,"onTouchStart",null),hX([fA],bX.prototype,"onTap",null);var _X,wX,yX=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};class CX{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return"template:".concat(this.trait.name)}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex((e=>e.templateData===i));if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class SX{get name(){return this._trait}get renderer(){return new CX(this)}constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new Cv,this.onChange=this._onChange.event}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,s=e+t,r=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)r.push(this.sortedIndexes[a++]);for(let c=0;c<i.length;c++)i[c]&&r.push(c+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=s;)r.push(this.sortedIndexes[a++]+o);const l=this.length+o;if(this.sortedIndexes.length>0&&0===r.length&&l>0){const t=null!==(n=this.sortedIndexes.find((t=>t>=e)))&&void 0!==n?n:l-1;r.push(Math.min(t,l-1))}this.renderer.splice(e,t,i.length),this._set(r,r),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(HX),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=zX(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return t=this.sortedIndexes,i=e,n=HX,function(e,t){let i=0,n=e-1;for(;i<=n;){const e=(i+n)/2|0,o=t(e);if(o<0)i=e+1;else{if(!(o>0))return e;n=e-1}}return-(i+1)}(t.length,(e=>n(t[e],i)))>=0;var t,i,n}dispose(){av(this._onChange)}}yX([fA],SX.prototype,"renderer",null);class kX extends SX{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class LX{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const n=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString()));if(0===n.length)return this.trait.splice(e,t,new Array(i.length).fill(!1));const o=new Set(n),s=i.map((e=>o.has(this.identityProvider.getId(e).toString())));this.trait.splice(e,t,s)}}function xX(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function DX(e,t){return!!e.classList.contains(t)||!e.classList.contains("monaco-list")&&(!!e.parentElement&&DX(e.parentElement,t))}function EX(e){return DX(e,"monaco-editor")}function NX(e){return!!("A"===e.tagName&&e.classList.contains("monaco-button")||"DIV"===e.tagName&&e.classList.contains("monaco-button-dropdown"))||!e.classList.contains("monaco-list")&&(!!e.parentElement&&NX(e.parentElement))}class TX{get onKeyDown(){return vv.chain(this.disposables.add(new PP(this.view.domNode,"keydown")).event,(e=>e.filter((e=>!xX(e.target))).map((e=>new eS(e)))))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new dv,this.multipleSelectionDisposables=new dv,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown((e=>{switch(e.keyCode){case 3:return this.onEnter(e);case 16:return this.onUpArrow(e);case 18:return this.onDownArrow(e);case 11:return this.onPageUpArrow(e);case 12:return this.onPageDownArrow(e);case 9:return this.onEscape(e);case 31:this.multipleSelectionSupport&&(Af?e.metaKey:e.ctrlKey)&&this.onCtrlA(e)}})))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(xp(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}yX([fA],TX.prototype,"onKeyDown",null),function(e){e[e.Automatic=0]="Automatic",e[e.Trigger=1]="Trigger"}(_X||(_X={})),function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(wX||(wX={}));const IX=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=98&&e.keyCode<=107||e.keyCode>=85&&e.keyCode<=95)}};class AX{constructor(e,t,i,n,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=o,this.enabled=!1,this.state=wX.Idle,this.mode=_X.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new dv,this.disposables=new dv,this.updateOptions(e.options)}updateOptions(e){var t,i;null===(t=e.typeNavigationEnabled)||void 0===t||t?this.enable():this.disable(),this.mode=null!==(i=e.typeNavigationMode)&&void 0!==i?i:_X.Automatic}enable(){if(this.enabled)return;let e=!1;const t=vv.chain(this.enabledDisposables.add(new PP(this.view.domNode,"keydown")).event,(t=>t.filter((e=>!xX(e.target))).filter((()=>this.mode===_X.Automatic||this.triggered)).map((e=>new eS(e))).filter((t=>e||this.keyboardNavigationEventFilter(t))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>AL(e,!0))).map((e=>e.browserEvent.key)))),i=vv.debounce(t,(()=>null),800,void 0,void 0,void 0,this.enabledDisposables),n=vv.reduce(vv.any(t,i),((e,t)=>null===t?null:(e||"")+t),void 0,this.enabledDisposables);n(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t((()=>e=!0),void 0,this.enabledDisposables),i((()=>e=!1),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&KI(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=wX.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===wX.Idle?1:0;this.state=wX.Typing;for(let o=0;o<this.list.length;o++){const t=(i+o+n)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),r=s&&s.toString();if(this.list.options.typeNavigationEnabled){if("undefined"!==typeof r){if(DZ(e,r))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t);const n=UZ(e,r);if(n){if(n[0].end-n[0].start>1&&1===n.length)return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}}else if("undefined"===typeof r||DZ(e,r))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class MX{constructor(e,t){this.list=e,this.view=t,this.disposables=new dv;const i=vv.chain(this.disposables.add(new PP(t.domNode,"keydown")).event,(e=>e.filter((e=>!xX(e.target))).map((e=>new eS(e))))),n=vv.chain(i,(e=>e.filter((e=>2===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey))));n(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||-1===n.tabIndex)return;const o=Fk(n).getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function OX(e){return Af?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function RX(e){return e.browserEvent.shiftKey}const PX={isSelectionSingleChangeEvent:OX,isSelectionRangeChangeEvent:RX};class FX{constructor(e){this.list=e,this.disposables=new dv,this._onPointer=new Cv,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||PX),this.mouseSupport="undefined"===typeof e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(bA.addTarget(e.getHTMLElement()))),vv.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||PX))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){EX(e.browserEvent.target)||vL()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(xX(e.browserEvent.target)||EX(e.browserEvent.target))return;const t="undefined"===typeof e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(xX(e.browserEvent.target)||EX(e.browserEvent.target))return;if(e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;return"undefined"===typeof t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),EL(i=e.browserEvent)&&2===i.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var i}onDoubleClick(e){if(xX(e.browserEvent.target)||EX(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;if(e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if("undefined"===typeof i){const e=this.list.getFocus()[0];i=null!==e&&void 0!==e?e:t,this.list.setAnchor(i)}const n=xp(Math.min(i,t),Math.max(i,t)+1),o=this.list.getSelection(),s=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);n.reverse(),o=i;for(;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(zX(o,[i]),i);if(0===s.length)return;const r=zX(n,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(o,s));this.list.setSelection(r,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection(),n=i.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class BX{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t,i;const n=this.selectorSuffix&&".".concat(this.selectorSuffix),o=[];e.listBackground&&o.push(".monaco-list".concat(n," .monaco-list-rows { background: ").concat(e.listBackground,"; }")),e.listFocusBackground&&(o.push(".monaco-list".concat(n,":focus .monaco-list-row.focused { background-color: ").concat(e.listFocusBackground,"; }")),o.push(".monaco-list".concat(n,":focus .monaco-list-row.focused:hover { background-color: ").concat(e.listFocusBackground,"; }"))),e.listFocusForeground&&o.push(".monaco-list".concat(n,":focus .monaco-list-row.focused { color: ").concat(e.listFocusForeground,"; }")),e.listActiveSelectionBackground&&(o.push(".monaco-list".concat(n,":focus .monaco-list-row.selected { background-color: ").concat(e.listActiveSelectionBackground,"; }")),o.push(".monaco-list".concat(n,":focus .monaco-list-row.selected:hover { background-color: ").concat(e.listActiveSelectionBackground,"; }"))),e.listActiveSelectionForeground&&o.push(".monaco-list".concat(n,":focus .monaco-list-row.selected { color: ").concat(e.listActiveSelectionForeground,"; }")),e.listActiveSelectionIconForeground&&o.push(".monaco-list".concat(n,":focus .monaco-list-row.selected .codicon { color: ").concat(e.listActiveSelectionIconForeground,"; }")),e.listFocusAndSelectionBackground&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(n,":focus .monaco-list-row.selected.focused { background-color: ").concat(e.listFocusAndSelectionBackground,"; }\n\t\t\t")),e.listFocusAndSelectionForeground&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(n,":focus .monaco-list-row.selected.focused { color: ").concat(e.listFocusAndSelectionForeground,"; }\n\t\t\t")),e.listInactiveFocusForeground&&(o.push(".monaco-list".concat(n," .monaco-list-row.focused { color:  ").concat(e.listInactiveFocusForeground,"; }")),o.push(".monaco-list".concat(n," .monaco-list-row.focused:hover { color:  ").concat(e.listInactiveFocusForeground,"; }"))),e.listInactiveSelectionIconForeground&&o.push(".monaco-list".concat(n," .monaco-list-row.focused .codicon { color:  ").concat(e.listInactiveSelectionIconForeground,"; }")),e.listInactiveFocusBackground&&(o.push(".monaco-list".concat(n," .monaco-list-row.focused { background-color:  ").concat(e.listInactiveFocusBackground,"; }")),o.push(".monaco-list".concat(n," .monaco-list-row.focused:hover { background-color:  ").concat(e.listInactiveFocusBackground,"; }"))),e.listInactiveSelectionBackground&&(o.push(".monaco-list".concat(n," .monaco-list-row.selected { background-color:  ").concat(e.listInactiveSelectionBackground,"; }")),o.push(".monaco-list".concat(n," .monaco-list-row.selected:hover { background-color:  ").concat(e.listInactiveSelectionBackground,"; }"))),e.listInactiveSelectionForeground&&o.push(".monaco-list".concat(n," .monaco-list-row.selected { color: ").concat(e.listInactiveSelectionForeground,"; }")),e.listHoverBackground&&o.push(".monaco-list".concat(n,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ").concat(e.listHoverBackground,"; }")),e.listHoverForeground&&o.push(".monaco-list".concat(n,":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ").concat(e.listHoverForeground,"; }"));const s=YL(e.listFocusAndSelectionOutline,YL(e.listSelectionOutline,null!==(t=e.listFocusOutline)&&void 0!==t?t:""));s&&o.push(".monaco-list".concat(n,":focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(s,"; outline-offset: -1px;}")),e.listFocusOutline&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(n,":focus .monaco-list-row.focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list").concat(n,".last-focused .monaco-list-row.focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t"));const r=YL(e.listSelectionOutline,null!==(i=e.listInactiveFocusOutline)&&void 0!==i?i:"");r&&o.push(".monaco-list".concat(n," .monaco-list-row.focused.selected { outline: 1px dotted ").concat(r,"; outline-offset: -1px; }")),e.listSelectionOutline&&o.push(".monaco-list".concat(n," .monaco-list-row.selected { outline: 1px dotted ").concat(e.listSelectionOutline,"; outline-offset: -1px; }")),e.listInactiveFocusOutline&&o.push(".monaco-list".concat(n," .monaco-list-row.focused { outline: 1px dotted ").concat(e.listInactiveFocusOutline,"; outline-offset: -1px; }")),e.listHoverOutline&&o.push(".monaco-list".concat(n," .monaco-list-row:hover { outline: 1px dashed ").concat(e.listHoverOutline,"; outline-offset: -1px; }")),e.listDropBackground&&o.push("\n\t\t\t\t.monaco-list".concat(n,".drop-target,\n\t\t\t\t.monaco-list").concat(n," .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list").concat(n," .monaco-list-row.drop-target { background-color: ").concat(e.listDropBackground," !important; color: inherit !important; }\n\t\t\t")),e.tableColumnsBorder&&o.push("\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ".concat(e.tableColumnsBorder,";\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t")),e.tableOddRowsBackgroundColor&&o.push("\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ".concat(e.tableOddRowsBackgroundColor,";\n\t\t\t\t}\n\t\t\t")),this.styleElement.textContent=o.join("\n")}}const VX={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:hT.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:hT.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:hT.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},WX={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){},dispose(){}}};function zX(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const HX=(e,t)=>e-t;class jX{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,i,n){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){var o;let s=0;for(const r of this.renderers)null===(o=r.disposeElement)||void 0===o||o.call(r,e,t,i[s],n),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class UX{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"===typeof o?i.setAttribute("aria-level","".concat(o)):i.removeAttribute("aria-level")}disposeTemplate(e){}}class KX{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,s;null===(s=(o=this.dnd).onDragLeave)||void 0===s||s.call(o,e,t,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}dispose(){this.dnd.dispose()}}class qX{get onDidChangeFocus(){return vv.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)),this.disposables)}get onDidChangeSelection(){return vv.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=vv.chain(this.disposables.add(new PP(this.view.domNode,"keydown")).event,(t=>t.map((e=>new eS(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map((e=>AL(e,!0))).filter((()=>!1)))),i=vv.chain(this.disposables.add(new PP(this.view.domNode,"keyup")).event,(t=>t.forEach((()=>e=!1)).map((e=>new eS(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map((e=>AL(e,!0))).map((e=>{let{browserEvent:t}=e;const i=this.getFocus(),n=i.length?i[0]:void 0;return{index:n,element:"undefined"!==typeof n?this.view.element(n):void 0,anchor:"undefined"!==typeof n?this.view.domElement(n):this.view.domNode,browserEvent:t}})))),n=vv.chain(this.view.onContextMenu,(t=>t.filter((t=>!e)).map((e=>{let{element:t,index:i,browserEvent:n}=e;return{element:t,index:i,anchor:new oS(Fk(this.view.domNode),n),browserEvent:n}}))));return vv.any(t,i,n)}get onKeyDown(){return this.disposables.add(new PP(this.view.domNode,"keydown")).event}get onDidFocus(){return vv.signal(this.disposables.add(new PP(this.view.domNode,"focus",!0)).event)}constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WX;var s,r,a,l;this.user=e,this._options=o,this.focus=new SX("focused"),this.anchor=new SX("anchor"),this.eventBufferer=new Ev,this._ariaLabel="",this.disposables=new dv,this._onDidDispose=new Cv,this.onDidDispose=this._onDidDispose.event;const c=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(s=this._options.accessibilityProvider)||void 0===s?void 0:s.getWidgetRole():"list";this.selection=new kX("listbox"!==c);const d=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(d.push(new UX(this.accessibilityProvider)),null===(a=(r=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===a||a.call(r,this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map((e=>new jX(e.templateId,[...d,e])));const h={...o,dnd:o.dnd&&new KX(this,o.dnd)};if(this.view=this.createListView(t,i,n,h),this.view.domNode.setAttribute("role",c),o.styleController)this.styleController=o.styleController(this.view.domId);else{const e=yL(this.view.domNode);this.styleController=new BX(e,this.view.domId)}if(this.spliceable=new sX([new LX(this.focus,this.view,o.identityProvider),new LX(this.selection,this.view,o.identityProvider),new LX(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new MX(this,this.view)),("boolean"!==typeof o.keyboardSupport||o.keyboardSupport)&&(this.keyboardController=new TX(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||IX;this.typeNavigationController=new AX(this,this.view,o.keyboardNavigationLabelProvider,null!==(l=o.keyboardNavigationEventFilter)&&void 0!==l?l:()=>!0,e),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,n){return new bX(e,t,i,n)}createMouseController(e){return new FX(this)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,i;this._options={...this._options,...e},null===(t=this.typeNavigationController)||void 0===t||t.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(i=this.keyboardController)||void 0===i||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||e>this.view.length)throw new rX(this.user,"Invalid start index: ".concat(e));if(t<0)throw new rX(this.user,"Invalid delete count: ".concat(t));0===t&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,i)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new rX(this.user,"Invalid index ".concat(i));this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if("undefined"!==typeof e){if(e<0||e>=this.length)throw new rX(this.user,"Invalid index ".concat(e));this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return Lp(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return"undefined"===typeof e?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new rX(this.user,"Invalid index ".concat(i));this.focus.set(e,t)}focusNext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(0===this.length)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(0===this.length)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.getFocus()[0];if(n!==i&&(void 0===n||i>n)){const o=this.findPreviousIndex(i,!1,t);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let s=o+this.view.renderHeight;i>n&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==o&&(this.setFocus([]),await uS(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.getFocus()[0];if(o!==i&&(void 0===o||o>=i)){const n=this.findNextIndex(i,!1,t);n>-1&&o!==n?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),await uS(0),await this.focusPreviousPage(e,t))}}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e<0||e>=this.length)throw new rX(this.user,"Invalid index ".concat(e));const n=this.view.getScrollTop(),o=this.view.elementTop(e),s=this.view.elementHeight(e);if(jp(t)){const e=s-this.view.renderHeight+i;this.view.setScrollTop(e*lG(t,0,1)+o-i)}else{const e=o+s,t=n+this.view.renderHeight;o<n+i&&e>=t||(o<n+i||e>=t&&s>=this.view.renderHeight?this.view.setScrollTop(o-i):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||e>=this.length)throw new rX(this.user,"Invalid index ".concat(e));const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(n<i+t||n+o>i+this.view.renderHeight)return null;const s=o-this.view.renderHeight+t;return Math.abs((i+t-n)/s)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent(e){let{indexes:t,browserEvent:i}=e;return{indexes:t,elements:t.map((e=>this.view.element(e))),browserEvent:i}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}yX([fA],qX.prototype,"onDidChangeFocus",null),yX([fA],qX.prototype,"onDidChangeSelection",null),yX([fA],qX.prototype,"onContextMenu",null),yX([fA],qX.prototype,"onKeyDown",null),yX([fA],qX.prototype,"onDidFocus",null);const GX=zL,YX="selectOption.entry.template";class ZX{get templateId(){return YX}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=RL(e,GX(".option-text")),t.detail=RL(e,GX(".option-detail")),t.decoratorRight=RL(e,GX(".option-decorator-right")),t}renderElement(e,t,i){const n=i,o=e.text,s=e.detail,r=e.decoratorRight,a=e.isDisabled;n.text.textContent=o,n.detail.textContent=s||"",n.decoratorRight.innerText=r||"",a?n.root.classList.add("option-disabled"):n.root.classList.remove("option-disabled")}disposeTemplate(e){}}class QX extends hv{constructor(e,t,i,n,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=n,this.selectBoxOptions=o||Object.create(null),"number"!==typeof this.selectBoxOptions.minBottomMargin?this.selectBoxOptions.minBottomMargin=QX.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"===typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"===typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new Cv,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return YX}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=zL(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=RL(this.selectDropDownContainer,GX(".select-box-details-pane"));const t=RL(this.selectDropDownContainer,GX(".select-box-dropdown-container-width-control")),i=RL(t,GX(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",RL(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=yL(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(Zk(this.selectDropDownContainer,TL.DRAG_START,(e=>{AL(e,!0)})))}registerListeners(){let e;this._register(Xk(this.selectElement,"change",(e=>{this.selected=e.target.selectedIndex,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}))),this._register(Zk(this.selectElement,TL.CLICK,(e=>{AL(e),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(Zk(this.selectElement,TL.MOUSE_DOWN,(e=>{AL(e)}))),this._register(Zk(this.selectElement,"touchstart",(t=>{e=this._isVisible}))),this._register(Zk(this.selectElement,"touchend",(t=>{AL(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(Zk(this.selectElement,TL.KEY_DOWN,(e=>{const t=new eS(e);let i=!1;Af?18!==t.keyCode&&16!==t.keyCode&&10!==t.keyCode&&3!==t.keyCode||(i=!0):(18===t.keyCode&&t.altKey||16===t.keyCode&&t.altKey||10===t.keyCode||3===t.keyCode)&&(i=!0),i&&(this.showSelectDropDown(),AL(e,!0))})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){bp(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled)),"string"===typeof e.description&&(this._hasDetails=!0)}))),void 0!==t&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;null===(e=this.selectList)||void 0===e||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join("\n")}styleSelectElement(){var e,t,i;const n=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",o=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",s=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"";this.selectElement.style.backgroundColor=n,this.selectElement.style.color=o,this.selectElement.style.borderColor=s}styleList(){var e,t;const i=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",n=YL(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=n,this.selectionDetailsPane.style.backgroundColor=n;const o=null!==(t=this.styles.focusBorder)&&void 0!==t?t:"";this.selectDropDownContainer.style.outlineColor=o,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch(t){}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach(((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)})),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=Fk(this.selectElement),i=aL(this.selectElement),n=Fk(this.selectElement).getComputedStyle(this.selectElement),o=parseFloat(n.getPropertyValue("--dropdown-padding-top"))+parseFloat(n.getPropertyValue("--dropdown-padding-bottom")),s=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),r=i.top-QX.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,a=this.selectElement.offsetWidth,l=this.setWidthControlElement(this.widthControlElement),c=Math.max(l,Math.round(a)).toString()+"px";this.selectDropDownContainer.style.width=c,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let d=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const h=this._hasDetails?this._cachedMaxDetailsHeight:0,u=d+o+h,g=Math.floor((s-o-h)/this.getHeight()),p=Math.floor((r-o-h)/this.getHeight());if(e)return!(i.top+i.height>t.innerHeight-22||i.top<QX.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||g<1&&p<1)&&(g<QX.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&p>g&&this.options.length>g?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<QX.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&g<1||1===this._dropDownPosition&&p<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&g+p<1)return this.hideSelectDropDown(!0),!1;u>s&&(d=g*this.getHeight())}else u>r&&(d=p*this.getHeight());return this.selectList.layout(d),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=d+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=d+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=c,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(e){let t=0;if(e){let i=0,n=0;this.options.forEach(((e,t)=>{const o=e.detail?e.detail.length:0,s=e.decoratorRight?e.decoratorRight.length:0,r=e.text.length+o+s;r>n&&(i=t,n=r)})),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=lL(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=RL(e,GX(".select-box-dropdown-list-container")),this.listRenderer=new ZX,this.selectList=new qX("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:e=>{let t=e.text;return e.detail&&(t+=". ".concat(e.detail)),e.decoratorRight&&(t+=". ".concat(e.decoratorRight)),e.description&&(t+=". ".concat(e.description)),t},getWidgetAriaLabel:()=>lf({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>Af?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new PP(this.selectDropDownListContainer,"keydown")),i=vv.chain(t.event,(e=>e.filter((()=>this.selectList.length>0)).map((e=>new eS(e)))));this._register(vv.chain(i,(e=>e.filter((e=>3===e.keyCode))))(this.onEnter,this)),this._register(vv.chain(i,(e=>e.filter((e=>2===e.keyCode))))(this.onEnter,this)),this._register(vv.chain(i,(e=>e.filter((e=>9===e.keyCode))))(this.onEscape,this)),this._register(vv.chain(i,(e=>e.filter((e=>16===e.keyCode))))(this.onUpArrow,this)),this._register(vv.chain(i,(e=>e.filter((e=>18===e.keyCode))))(this.onDownArrow,this)),this._register(vv.chain(i,(e=>e.filter((e=>12===e.keyCode))))(this.onPageDown,this)),this._register(vv.chain(i,(e=>e.filter((e=>11===e.keyCode))))(this.onPageUp,this)),this._register(vv.chain(i,(e=>e.filter((e=>14===e.keyCode))))(this.onHome,this)),this._register(vv.chain(i,(e=>e.filter((e=>13===e.keyCode))))(this.onEnd,this)),this._register(vv.chain(i,(e=>e.filter((e=>e.keyCode>=21&&e.keyCode<=56||e.keyCode>=85&&e.keyCode<=113))))(this.onCharacter,this)),this._register(Zk(this.selectList.getHTMLElement(),TL.POINTER_UP,(e=>this.onPointerUp(e)))),this._register(this.selectList.onMouseOver((e=>"undefined"!==typeof e.index&&this.selectList.setFocus([e.index])))),this._register(this.selectList.onDidChangeFocus((e=>this.onListFocus(e)))),this._register(Zk(this.selectDropDownContainer,TL.FOCUS_OUT,(e=>{this._isVisible&&!uL(e.relatedTarget,this.selectDropDownContainer)&&this.onListBlur()}))),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;AL(e);const t=e.target;if(!t)return;if(t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const n=Number(i.getAttribute("data-index")),o=i.classList.contains("option-disabled");n>=0&&n<this.options.length&&!o&&(this.selected=n,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=e=>{for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes.item(t);"img"===(n.tagName&&n.tagName.toLowerCase())?e.removeChild(n):i(n)}},n=WQ({value:e,supportThemeIcons:!0},{actionHandler:t});return n.element.classList.add("select-box-description-markdown"),i(n.element),n.element}onListFocus(e){this._isVisible&&this._hasDetails&&this.updateDetail(e.indexes[0])}updateDetail(e){var t,i;this.selectionDetailsPane.innerText="";const n=this.options[e],o=null!==(t=null===n||void 0===n?void 0:n.description)&&void 0!==t?t:"",s=null!==(i=null===n||void 0===n?void 0:n.descriptionIsMarkdown)&&void 0!==i&&i;if(o){if(s){const e=n.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,e))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){AL(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){AL(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){AL(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){if(this.selected>0){AL(e,!0);this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(e){AL(e),this.selectList.focusPreviousPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onPageDown(e){AL(e),this.selectList.focusNextPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onHome(e){AL(e),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){AL(e),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=Kv.toString(e.keyCode);let i=-1;for(let n=0;n<this.options.length-1;n++)if(i=(n+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),AL(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}QX.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,QX.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,QX.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class XX extends hv{constructor(e,t,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box","string"===typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"===typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new Cv),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(bA.addTarget(this.selectElement)),[mA.Tap].forEach((e=>{this._register(Zk(this.selectElement,e,(e=>{this.selectElement.focus()})))})),this._register(Xk(this.selectElement,"click",(e=>{AL(e,!0)}))),this._register(Xk(this.selectElement,"change",(e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})}))),this._register(Xk(this.selectElement,"keydown",(e=>{let t=!1;Af?18!==e.keyCode&&16!==e.keyCode&&10!==e.keyCode||(t=!0):(18===e.keyCode&&e.altKey||10===e.keyCode||3===e.keyCode)&&(t=!0),t&&e.stopPropagation()})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){this.options&&bp(this.options,e)||(this.options=e,this.selectElement.options.length=0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled))}))),void 0!==t&&this.select(t)}select(e){0===this.options.length?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&"string"===typeof this.options[this.selected].text?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",this.selectElement.style.color=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",this.selectElement.style.borderColor=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"")}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}}class JX extends uP{constructor(e,t,i,n,o){super(),Af&&!(null===o||void 0===o?void 0:o.useCustomDrawn)?this.selectBoxDelegate=new XX(e,t,n,o):this.selectBoxDelegate=new QX(e,t,i,n,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class $X extends hv{get action(){return this._action}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.options=i,this._context=e||this,this._action=t,t instanceof yy&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Cy)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(bA.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,Qw&&this._register(Zk(e,TL.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(LZ.TEXT,this._action.label)})))),this._register(Zk(t,mA.Tap,(e=>this.onClick(e,!0)))),this._register(Zk(t,TL.MOUSE_DOWN,(e=>{i||AL(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),Af&&this._register(Zk(t,TL.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(Zk(t,TL.CLICK,(e=>{AL(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register(Zk(t,TL.DBLCLICK,(e=>{AL(e,!0)}))),[TL.MOUSE_UP,TL.MOUSE_OUT].forEach((e=>{this._register(Zk(t,e,(e=>{AL(e),t.classList.remove("active")})))}))}onClick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i;AL(e,!0);const n=Yp(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var e;if(!this.element)return;const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=CQ(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateAriaLabel(){var e;if(this.element){const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class eJ extends $X{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),Zp(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const e=document.createElement("span");e.classList.add("keybinding"),e.textContent=this.options.keybinding,this.element.appendChild(e)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Sy.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=lf({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),null!==e&&void 0!==e?e:void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(e=this.label)||void 0===e||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(e=this.element)||void 0===e||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(t=this.element)||void 0===t||t.classList.add("disabled"))}updateAriaLabel(){var e;if(this.label){const t=null!==(e=this.getTooltip())&&void 0!==e?e:"";this.label.setAttribute("aria-label",t)}}updateChecked(){this.label&&(void 0!==this.action.checked?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class tJ extends $X{constructor(e,t,i,n,o,s,r){super(e,t),this.selectBox=new JX(i,n,o,s,r),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect((e=>this.runAction(e.selected,e.index))))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;null===(e=this.selectBox)||void 0===e||e.focus()}blur(){var e;null===(e=this.selectBox)||void 0===e||e.blur()}render(e){this.selectBox.render(e)}}class iJ extends Cy{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new Cv),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=RL(e,zL(".monaco-dropdown")),this._label=RL(this._element,zL(".dropdown-label"));let i=t.labelRenderer;i||(i=e=>(e.textContent=t.label||"",null));for(const o of[TL.CLICK,TL.MOUSE_DOWN,mA.Tap])this._register(Zk(this.element,o,(e=>AL(e,!0))));for(const o of[TL.MOUSE_DOWN,mA.Tap])this._register(Zk(this._label,o,(e=>{EL(e)&&(e.detail>1||0!==e.button)||(this.visible?this.hide():this.show())})));this._register(Zk(this._label,TL.KEY_UP,(e=>{const t=new eS(e);(t.equals(3)||t.equals(10))&&(AL(e,!0),this.visible?this.hide():this.show())})));const n=i(this._label);n&&this._register(n),this._register(bA.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class nJ extends iJ{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class oJ extends $X{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object.create(null);super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new Cv),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=RL(e,zL("a.action-label"));let t=[];return"string"===typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new nJ(e,i)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded","".concat(e)),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return e.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),null!==e&&void 0!==e?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;null===(e=this.dropdownMenu)||void 0===e||e.show()}updateEnabled(){var e,t;const i=!this.action.enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",i),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",i)}}var sJ,rJ;!function(e){e[e.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",e[e.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"}(sJ||(sJ={})),function(e){e[e.None=0]="None",e[e.Initialized=1]="Initialized",e[e.Closed=2]="Closed"}(rJ||(rJ={}));class aJ extends hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new kv),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=rJ.None,this.cache=new Map,this.flushDelayer=this._register(new hS(aJ.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.acceptExternal(t,e))),null===(i=e.deleted)||void 0===i||i.forEach((e=>this.acceptExternal(e,void 0)))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===rJ.Closed)return;let i=!1;if(Yp(t))i=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0)}i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Yp(i)?t:i}getBoolean(e,t){const i=this.get(e);return Yp(i)?t:"true"===i}getNumber(e,t){const i=this.get(e);return Yp(i)?t:parseInt(i,10)}async set(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.state===rJ.Closed)return;if(Yp(t))return this.delete(e,i);const n=zp(t)||Array.isArray(t)?(o=t,JSON.stringify(o,FQ)):String(t);var o;return this.cache.get(e)!==n?(this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()):void 0}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.state===rJ.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()):void 0}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}async doFlush(e){return this.options.hint===sJ.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger((()=>this.flushPending()),e)}}aJ.DEFAULT_FLUSH_DELAY=100;class lJ{constructor(){this.onDidChangeItemsExternal=vv.None,this.items=new Map}async updateItems(e){var t,i;null===(t=e.insert)||void 0===t||t.forEach(((e,t)=>this.items.set(t,e))),null===(i=e.delete)||void 0===i||i.forEach((e=>this.items.delete(e)))}}const cJ="__$__targetStorageMarker",dJ=vy("storageService");var hJ;!function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(hJ||(hJ={}));class uJ extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flushInterval:uJ.DEFAULT_FLUSH_INTERVAL};super(),this.options=e,this._onDidChangeValue=this._register(new kv),this._onDidChangeTarget=this._register(new kv),this._onWillSaveState=this._register(new Cv),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return vv.filter(this._onDidChangeValue.event,(i=>i.scope===e&&(void 0===t||i.key===t)),i)}emitDidChangeValue(e,t){const{key:i,external:n}=t;if(i===cJ){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:n})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Yp(t)?this.remove(e,i,o):this.withPausedEmitters((()=>{var s;this.updateKeyTarget(e,i,n),null===(s=this.getStorage(i))||void 0===s||s.set(e,t,o)}))}remove(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.withPausedEmitters((()=>{var n;this.updateKeyTarget(e,t,void 0),null===(n=this.getStorage(t))||void 0===n||n.delete(e,i)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var o,s;const r=this.getKeyTargets(t);"number"===typeof i?r[e]!==i&&(r[e]=i,null===(o=this.getStorage(t))||void 0===o||o.set(cJ,JSON.stringify(r),n)):"number"===typeof r[e]&&(delete r[e],null===(s=this.getStorage(t))||void 0===s||s.set(cJ,JSON.stringify(r),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?function(e){const t=e.get(cJ);if(t)try{return JSON.parse(t)}catch(i){}return Object.create(null)}(t):Object.create(null)}}uJ.DEFAULT_FLUSH_INTERVAL=6e4;const gJ={keybindingLabelBackground:yA(NM),keybindingLabelForeground:yA(TM),keybindingLabelBorder:yA(IM),keybindingLabelBottomBorder:yA(AM),keybindingLabelShadow:yA(IA)},pJ={buttonForeground:yA(JA),buttonSeparator:yA($A),buttonBackground:yA(eM),buttonHoverBackground:yA(tM),buttonSecondaryForeground:yA(nM),buttonSecondaryBackground:yA(oM),buttonSecondaryHoverBackground:yA(sM),buttonBorder:yA(iM)},fJ={progressBarBackground:yA(uM)},mJ={inputActiveOptionBorder:yA(PA),inputActiveOptionForeground:yA(BA),inputActiveOptionBackground:yA(FA)},vJ=(yA(yO),yA(SO),yA(CO),yA(yM),yA(CM),yA(IA),yA(EA),yA(tR),yA(iR),yA(nR),yA(TA),{inputBackground:yA(MA),inputForeground:yA(OA),inputBorder:yA(RA),inputValidationInfoBorder:yA(zA),inputValidationInfoBackground:yA(VA),inputValidationInfoForeground:yA(WA),inputValidationWarningBorder:yA(UA),inputValidationWarningBackground:yA(HA),inputValidationWarningForeground:yA(jA),inputValidationErrorBorder:yA(GA),inputValidationErrorBackground:yA(KA),inputValidationErrorForeground:yA(qA)}),bJ={listFilterWidgetBackground:yA(gO),listFilterWidgetOutline:yA(pO),listFilterWidgetNoMatchesOutline:yA(fO),listFilterWidgetShadow:yA(mO),inputBoxStyles:vJ,toggleStyles:mJ},_J={badgeBackground:yA(rM),badgeForeground:yA(aM),badgeBorder:yA(EA)},wJ=(yA(FO),yA(PO),yA(BO),yA(BO),yA(VO),{listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:yA(YM),listFocusForeground:yA(ZM),listFocusOutline:yA(QM),listActiveSelectionBackground:yA(JM),listActiveSelectionForeground:yA($M),listActiveSelectionIconForeground:yA(eO),listFocusAndSelectionOutline:yA(XM),listFocusAndSelectionBackground:yA(JM),listFocusAndSelectionForeground:yA($M),listInactiveSelectionBackground:yA(tO),listInactiveSelectionIconForeground:yA(nO),listInactiveSelectionForeground:yA(iO),listInactiveFocusBackground:yA(oO),listInactiveFocusOutline:yA(sO),listHoverBackground:yA(rO),listHoverForeground:yA(aO),listDropBackground:yA(lO),listSelectionOutline:yA(NA),listHoverOutline:yA(NA),treeIndentGuidesStroke:yA(vO),treeInactiveIndentGuidesStroke:yA(bO),tableColumnsBorder:yA(_O),tableOddRowsBackgroundColor:yA(wO)});function yJ(e){return function(e,t){const i={...t};for(const n in e){const t=e[n];i[n]=void 0!==t?yA(t):void 0}return i}(e,wJ)}const CJ={selectBackground:yA(YA),selectListBackground:yA(ZA),selectForeground:yA(QA),decoratorRightForeground:yA(DM),selectBorder:yA(XA),focusBorder:yA(DA),listFocusBackground:yA(DO),listInactiveSelectionIconForeground:yA(xO),listFocusForeground:yA(LO),listFocusOutline:(SJ=NA,kJ=hT.transparent.toString(),"var(".concat(wA(SJ),", ").concat(kJ,")")),listHoverBackground:yA(rO),listHoverForeground:yA(aO),listHoverOutline:yA(NA),selectListBorder:yA(SM),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0};var SJ,kJ;const LJ={shadowColor:yA(IA),borderColor:yA(EO),foregroundColor:yA(NO),backgroundColor:yA(TO),selectionForegroundColor:yA(IO),selectionBackgroundColor:yA(AO),selectionBorderColor:yA(MO),separatorColor:yA(OO),scrollbarShadow:yA(lM),scrollbarSliderBackground:yA(cM),scrollbarSliderHoverBackground:yA(dM),scrollbarSliderActiveBackground:yA(hM)};var xJ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},DJ=function(e,t){return function(i,n){t(i,n,e)}};function EJ(e,t,i){let n,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>"navigation"===e,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Array.isArray(t)?(n=t,o=t):(n=t.primary,o=t.secondary);const l=new Set;for(const[c,d]of e){let e;s(c)?(e=n,e.length>0&&a&&e.push(new Sy)):(e=o,e.length>0&&e.push(new Sy));for(let t of d){i&&(t=t instanceof jC&&t.alt?t.alt:t);const n=e.push(t);t instanceof ky&&l.add({group:c,action:t,index:n-1})}}for(const{group:c,action:d,index:h}of l){const e=s(c)?n:o,t=d.actions;r(d,c,e.length)&&e.splice(h,1,...t)}}let NJ=class extends eJ{constructor(e,t,i,n,o,s,r,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null===t||void 0===t?void 0:t.draggable,keybinding:null===t||void 0===t?void 0:t.keybinding,hoverDelegate:null===t||void 0===t?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._themeService=s,this._contextMenuService=r,this._accessibilityService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new uv),this._altKey=QL.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var e;const i=!!(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);i!==this._wantsAltCommand&&(this._wantsAltCommand=i,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(Zk(e,"mouseleave",(e=>{t=!1,i()}))),this._register(Zk(e,"mouseenter",(e=>{t=!0,i()}))),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=i?lf("titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),n=i?lf("titleAndKb","{0} ({1})",e,i):e;o=lf("titleAndKbAndAlt","{0}\n[{1}] {2}",o,NY.modifierLabels[Hf].altKey,n)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const n=this._commandAction.checked&&((o=e.toggled)&&void 0!==o.condition)&&e.toggled.icon?e.toggled.icon:e.icon;var o;if(n)if(Ey.isThemeIcon(n)){const e=Ey.asClassNameArray(n);i.classList.add(...e),this._itemClassDispose.value=cv((()=>{i.classList.remove(...e)}))}else i.style.backgroundImage=VR(this._themeService.getColorTheme().type)?qL(n.dark):qL(n.light),i.classList.add("icon"),this._itemClassDispose.value=lv(cv((()=>{i.style.backgroundImage="",i.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};NJ=xJ([DJ(2,oB),DJ(3,XK),DJ(4,pC),DJ(5,$P),DJ(6,oZ),DJ(7,oA)],NJ);let TJ=class extends oJ{constructor(e,t,i,n,o){var s,r,a;const l={...t,menuAsChild:null!==(s=null===t||void 0===t?void 0:t.menuAsChild)&&void 0!==s&&s,classNames:null!==(r=null===t||void 0===t?void 0:t.classNames)&&void 0!==r?r:Ey.isThemeIcon(e.item.icon)?Ey.asClassName(e.item.icon):void 0,keybindingProvider:null!==(a=null===t||void 0===t?void 0:t.keybindingProvider)&&void 0!==a?a:e=>i.lookupKeybinding(e.id)};super(e,{getActions:()=>e.actions},n,l),this._keybindingService=i,this._contextMenuService=n,this._themeService=o}render(e){super.render(e),Zp(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!Ey.isThemeIcon(i)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=VR(this._themeService.getColorTheme().type)?qL(i.dark):qL(i.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};TJ=xJ([DJ(2,oB),DJ(3,oZ),DJ(4,$P)],TJ);let IJ=class extends $X{constructor(e,t,i,n,o,s,r,a){var l,c,d;let h;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=s,this._instaService=r,this._storageService=a,this._container=null,this._options=t,this._storageKey="".concat(e.item.submenu.id,"_lastActionId");const u=(null===t||void 0===t?void 0:t.persistLastActionId)?a.get(this._storageKey,1):void 0;u&&(h=e.actions.find((e=>u===e.id))),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(NJ,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const g={keybindingProvider:e=>this._keybindingService.lookupKeybinding(e.id),...t,menuAsChild:null===(l=null===t||void 0===t?void 0:t.menuAsChild)||void 0===l||l,classNames:null!==(c=null===t||void 0===t?void 0:t.classNames)&&void 0!==c?c:["codicon","codicon-chevron-down"],actionRunner:null!==(d=null===t||void 0===t?void 0:t.actionRunner)&&void 0!==d?d:new Cy};this._dropdown=new oJ(e,e.actions,this._contextMenuService,g),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof jC&&this.update(e.action)}))}update(e){var t;(null===(t=this._options)||void 0===t?void 0:t.persistLastActionId)&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(NJ,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends Cy{async runAction(e,t){await e.run(void 0)}},this._container&&this._defaultAction.render(PL(this._container,zL(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){const t=this._keybindingService.lookupKeybinding(e.id);t&&(i="(".concat(t.getLabel(),")"))}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=zL(".action-container");this._defaultAction.render(RL(this._container,t)),this._register(Zk(t,TL.KEY_DOWN,(e=>{const t=new eS(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=zL(".dropdown-action-container");this._dropdown.render(RL(this._container,i)),this._register(Zk(i,TL.KEY_DOWN,(e=>{var t;const i=new eS(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};IJ=xJ([DJ(2,oB),DJ(3,XK),DJ(4,oZ),DJ(5,VC),DJ(6,my),DJ(7,dJ)],IJ);let AJ=class extends tJ{constructor(e,t){super(null,e,e.actions.map((e=>({text:e.id===Sy.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":e.label,isDisabled:!e.enabled}))),0,t,CJ,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex((e=>e.checked))))}render(e){super.render(e),e.style.borderColor=yA(XA)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};AJ=xJ([DJ(1,nZ)],AJ);class MJ extends hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n,o,s,r,a;let l,c;switch(super(),this._actionRunnerDisposables=this._register(new dv),this.viewItemDisposables=this._register(new pv),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new Cv),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new Cv({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new Cv),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new Cv),this.onWillRun=this._onWillRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys={keyDown:null!==(s=null===(o=this.options.triggerKeys)||void 0===o?void 0:o.keyDown)&&void 0!==s&&s,keys:null!==(a=null===(r=this.options.triggerKeys)||void 0===r?void 0:r.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Cy,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((e=>this._onWillRun.fire(e)))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical"}this._register(Zk(this.domNode,TL.KEY_DOWN,(e=>{const t=new eS(e);let i=!0;const n="number"===typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?i=this.focusPrevious():c&&(t.equals(c[0])||t.equals(c[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&n instanceof $X&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())}))),this._register(Zk(this.domNode,TL.KEY_UP,(e=>{const t=new eS(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026)||t.equals(16)||t.equals(18)||t.equals(15)||t.equals(17))&&this.updateFocusedItem()}))),this.focusTracker=this._register(OL(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{vL()!==this.domNode&&uL(vL(),this.domNode)||(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const e=this.viewItems.find((e=>e instanceof $X&&e.isEnabled()));e instanceof $X&&e.setFocusable(!0)}else this.viewItems.forEach((e=>{e instanceof $X&&e.setFocusable(!1)}))}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((i=>{t=t||e.equals(i)})),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(uL(vL(),n)){this.focusedItem=i,null===(t=null===(e=this.viewItems[this.focusedItem])||void 0===e?void 0:e.showHover)||void 0===t||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((e=>this._onWillRun.fire(e)))),this.viewItems.forEach((t=>t.actionRunner=e))}getContainer(){return this.domNode}getAction(e){var t;if("number"===typeof e)return null===(t=this.viewItems[e])||void 0===t?void 0:t.action;if(e instanceof HTMLElement){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===e)return this.viewItems[t].action}}push(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Array.isArray(e)?e:[e];let n=jp(t.index)?t.index:null;i.forEach((e=>{const i=document.createElement("li");let o;i.className="action-item",i.setAttribute("role","presentation");const s={hoverDelegate:this.options.hoverDelegate,...t};this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e,s)),o||(o=new eJ(this.context,e,s)),this.options.allowContextMenu||this.viewItemDisposables.set(o,Zk(i,TL.CONTEXT_MENU,(e=>{AL(e,!0)}))),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(i),this.focusable&&o instanceof $X&&0===this.viewItems.length&&o.setFocusable(!0),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(o)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,o),n++)})),"number"===typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=av(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),Gk(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return 0===this.viewItems.length}focus(e){let t,i=!1;if(void 0===e?i=!0:"number"===typeof e?t=e:"boolean"===typeof e&&(i=e),i&&"undefined"===typeof this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus(void 0,void 0,!0)}else void 0!==t&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if("undefined"===typeof this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Sy.ID));return this.updateFocus(),!0}focusPrevious(e){if("undefined"===typeof this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Sy.ID));return this.updateFocus(!0),!0}updateFocus(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,o;"undefined"===typeof this.focusedItem&&this.actionsList.focus({preventScroll:t}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(n=this.viewItems[this.previouslyFocusedItem])||void 0===n||n.blur());const s=void 0!==this.focusedItem?this.viewItems[this.focusedItem]:void 0;if(s){let n=!0;Xp(s.focus)||(n=!1),this.options.focusOnlyEnabledItems&&Xp(s.isEnabled)&&!s.isEnabled()&&(n=!1),s.action.id===Sy.ID&&(n=!1),n&&(null===(o=s.showHover)||void 0===o||o.call(s)),n?(i||this.previouslyFocusedItem!==this.focusedItem)&&(s.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if("undefined"===typeof this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof $X){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=av(this.viewItems),this.getContainer().remove(),super.dispose()}}const OJ=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,RJ=/(&amp;)?(&amp;)([^\s&])/g;var PJ;!function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(PJ||(PJ={}));class FJ extends MJ{constructor(e,t,i,n){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,s),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Af||Mf?[10]:[]],keyDown:!0}}),this.menuStyles=n,this.menuElement=o,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,n),this._register(bA.addTarget(o)),this._register(Zk(o,TL.KEY_DOWN,(e=>{new eS(e).equals(2)&&e.preventDefault()}))),i.enableMnemonics&&this._register(Zk(o,TL.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){AL(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof VJ&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}}))),Mf&&this._register(Zk(o,TL.KEY_DOWN,(e=>{const t=new eS(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),AL(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),AL(e,!0))}))),this._register(Zk(this.domNode,TL.MOUSE_OUT,(e=>{uL(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(Zk(this.actionsList,TL.MOUSE_OVER,(e=>{let t=e.target;if(t&&uL(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(bA.addTarget(this.actionsList)),this._register(Zk(this.actionsList,mA.Tap,(e=>{let t=e.initialTarget;if(t&&uL(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));const s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new TP(o,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this.styleScrollElement(r,n),this._register(Zk(o,mA.Change,(e=>{AL(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register(Zk(r,TL.MOUSE_UP,(e=>{e.preventDefault()})));const a=Fk(e);o.style.maxHeight="".concat(Math.max(10,a.innerHeight-e.getBoundingClientRect().top-35),"px"),t=t.filter((e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn("Found submenu cycle: ".concat(e.id)),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof WJ))).forEach(((e,t,i)=>{e.updatePositionInSet(t+1,i.length)}))}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(fL(e)?this.styleSheet=yL(e):(FJ.globalStyleSheet||(FJ.globalStyleSheet=yL()),this.styleSheet=FJ.globalStyleSheet)),this.styleSheet.textContent=function(e,t){let i="\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n".concat(zJ(Hb.menuSelection),"\n").concat(zJ(Hb.menuSubmenu),"\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}");if(t){i+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const t=e.scrollbarShadow;t&&(i+="\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ".concat(t," 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ").concat(t," 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ").concat(t," 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t"));const n=e.scrollbarSliderBackground;n&&(i+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ".concat(n,";\n\t\t\t\t}\n\t\t\t"));const o=e.scrollbarSliderHoverBackground;o&&(i+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ".concat(o,";\n\t\t\t\t}\n\t\t\t"));const s=e.scrollbarSliderActiveBackground;s&&(i+="\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ".concat(s,";\n\t\t\t\t}\n\t\t\t"))}return i}(t,fL(e))}styleScrollElement(e,t){var i,n;const o=null!==(i=t.foregroundColor)&&void 0!==i?i:"",s=null!==(n=t.backgroundColor)&&void 0!==n?n:"",r=t.borderColor?"1px solid ".concat(t.borderColor):"",a=t.shadowColor?"0 2px 8px ".concat(t.shadowColor):"";e.style.outline=r,e.style.borderRadius="5px",e.style.color=o,e.style.backgroundColor=s,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),"undefined"!==typeof this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Sy)return new WJ(t.context,e,{icon:!0},this.menuStyles);if(e instanceof ky){const n=new VJ(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new BJ(t.context,e,i,this.menuStyles);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class BJ extends $X{constructor(e,t,i,n){if(i.isMenu=!0,super(t,t,i),this.menuStyle=n,this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){const e=this.action.label;if(e){const t=OJ.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new mS((()=>{this.element&&(this._register(Zk(this.element,TL.MOUSE_UP,(e=>{if(AL(e,!0),Qw){if(new oS(Fk(this.element),e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(Zk(this.element,TL.CONTEXT_MENU,(e=>{AL(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=RL(this.element,zL("a.action-menu-item")),this._action.id===Sy.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts","".concat(this.mnemonic))),this.check=RL(this.item,zL("span.menu-item-check"+Ey.asCSSSelector(Hb.menuSelection))),this.check.setAttribute("role","none"),this.label=RL(this.item,zL("span.action-label")),this.options.label&&this.options.keybinding&&(RL(this.item,zL("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),null===(e=this.item)||void 0===e||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset","".concat(e)),this.item.setAttribute("aria-setsize","".concat(t)))}updateLabel(){var e;if(this.label&&this.options.label){Gk(this.label);let t=gQ(this.action.label);if(t){const i=function(e){const t=OJ,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const n=OJ.exec(t);if(n){t=$_(t),RJ.lastIndex=0;let i=RJ.exec(t);for(;i&&i[1];)i=RJ.exec(t);const o=e=>e.replace(/&amp;&amp;/g,"&amp;");i?this.label.append(tw(o(t.substr(0,i.index))," "),zL("u",{"aria-hidden":"true"},i[3]),iw(o(t.substr(i.index+i[0].length))," ")):this.label.innerText=o(t).trim(),null===(e=this.item)||void 0===e||e.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?"1px solid ".concat(this.menuStyle.selectionBorderColor):"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=null!==t&&void 0!==t?t:"",this.item.style.backgroundColor=null!==i&&void 0!==i?i:"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=null!==t&&void 0!==t?t:"")}}class VJ extends BJ{constructor(e,t,i,n,o){super(e,e,n,o),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new dv),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:PJ.Right,this.showScheduler=new mS((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new mS((()=>{this.element&&!uL(vL(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=RL(this.item,zL("span.submenu-indicator"+Ey.asCSSSelector(Hb.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Zk(this.element,TL.KEY_UP,(e=>{const t=new eS(e);(t.equals(17)||t.equals(3))&&(AL(e,!0),this.createSubmenu(!0))}))),this._register(Zk(this.element,TL.KEY_DOWN,(e=>{const t=new eS(e);vL()===this.item&&(t.equals(17)||t.equals(3))&&AL(e,!0)}))),this._register(Zk(this.element,TL.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(Zk(this.element,TL.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(Zk(this.element,TL.FOCUS_OUT,(e=>{this.element&&!uL(vL(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}))))}updateEnabled(){}onClick(e){AL(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(cf){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=aZ(e.width,t.width,{position:n===PJ.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=aZ(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=RL(this.element,zL("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=Fk(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new FJ(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Ly],this.submenuOptions,this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),r=Fk(this.element),{top:a,left:l}=this.calculateSubmenuMenuLayout(new rL(r.innerWidth,r.innerHeight),rL.lift(s),o,this.expandDirection);this.submenuContainer.style.left="".concat(l-s.left,"px"),this.submenuContainer.style.top="".concat(a-s.top,"px"),this.submenuDisposables.add(Zk(this.submenuContainer,TL.KEY_UP,(e=>{new eS(e).equals(15)&&(AL(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(Zk(this.submenuContainer,TL.KEY_DOWN,(e=>{new eS(e).equals(15)&&AL(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=null!==e&&void 0!==e?e:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class WJ extends eJ{constructor(e,t,i,n){super(e,t,i),this.menuStyles=n}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?"".concat(this.menuStyles.separatorColor):"")}}function zJ(e){const t=zb()[e.id];return".codicon-".concat(e.id,":before { content: '\\").concat(t.toString(16),"'; }")}class HJ{constructor(e,t,i,n){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=vL();const n=e.domForShadowRoot instanceof HTMLElement?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{var o;this.lastContainer=n;const s=e.getMenuClassName?e.getMenuClassName():"";s&&(n.className+=" "+s),this.options.blockMouse&&(this.block=n.appendChild(zL(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",null===(o=this.blockDisposable)||void 0===o||o.dispose(),this.blockDisposable=Zk(this.block,TL.MOUSE_DOWN,(e=>e.stopPropagation())));const r=new dv,a=e.actionRunner||new Cy;a.onWillRun((t=>this.onActionRun(t,!e.skipTelemetry)),this,r),a.onDidRun(this.onDidActionRun,this,r),i=new FJ(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:a,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)},LJ),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,r),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,r);const l=Fk(n);return r.add(Zk(l,TL.BLUR,(()=>this.contextViewService.hideContextView(!0)))),r.add(Zk(l,TL.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new oS(l,e);let i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),lv(r,i)},focus:()=>{null===i||void 0===i||i.focus(!!e.autoSelectFirstItem)},onHide:t=>{var i,n,o;null===(i=e.onHide)||void 0===i||i.call(e,!!t),this.block&&(this.block.remove(),this.block=null),null===(n=this.blockDisposable)||void 0===n||n.dispose(),this.blockDisposable=null,this.lastContainer&&(vL()===this.lastContainer||uL(vL(),this.lastContainer))&&(null===(o=this.focusToReturn)||void 0===o||o.focus()),this.lastContainer=null}},n,!!n)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Ym(e.error)&&this.notificationService.error(e.error)}}var jJ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},UJ=function(e,t){return function(i,n){t(i,n,e)}};let KJ=class extends hv{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new HJ(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,n,o,s){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=n,this.menuService=o,this.contextKeyService=s,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new Cv),this._onDidHideContextMenu=this._store.add(new Cv)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=qJ.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,t),this._onDidHideContextMenu.fire()}}),QL.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var qJ,GJ;KJ=jJ([UJ(0,UC),UJ(1,XK),UJ(2,nZ),UJ(3,oB),UJ(4,VC),UJ(5,pC)],KJ),function(e){e.transform=function(e,t,i){if(!((n=e)&&n.menuId instanceof BC))return e;var n;const{menuId:o,menuActionOptions:s,contextKeyService:r}=e;return{...e,getActions:()=>{const n=[];if(o){const e=t.createMenu(o,null!==r&&void 0!==r?r:i);!function(e,t,i,n){const o=e.getActions(t),s=QL.getInstance();EJ(o,i,s.keyStatus.altKey||(If||Mf)&&s.keyStatus.shiftKey,n?e=>e===n:e=>"navigation"===e)}(e,s,n),e.dispose()}return e.getActions?Sy.join(e.getActions(),n):n}}}}(qJ||(qJ={})),function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(GJ||(GJ={}));const YJ=vy("openerService");var ZJ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},QJ=function(e,t){return function(i,n){t(i,n,e)}};let XJ=class{constructor(e){this._commandService=e}async open(e,t){if(!Sk(e,Ck.command))return!1;if(!(null===t||void 0===t?void 0:t.allowCommands))return!0;if("string"===typeof e&&(e=Lb.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path))return!0;let i=[];try{i=PQ(decodeURIComponent(e.query))}catch(cf){try{i=PQ(e.query)}catch(BN){}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};XJ=ZJ([QJ(0,Ny)],XJ);let JJ=class{constructor(e){this._editorService=e}async open(e,t){"string"===typeof e&&(e=Lb.parse(e));const{selection:i,uri:n}=function(e){let t;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(e.fragment);return i&&(t={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},e=e.with({fragment:""})),{selection:t,uri:e}}(e);return(e=n).scheme===Ck.file&&(e=bH(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:(null===t||void 0===t?void 0:t.fromUserGesture)?GJ.USER:GJ.API,...null===t||void 0===t?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),null===t||void 0===t?void 0:t.openToSide),!0}};JJ=ZJ([QJ(0,by)],JJ);let $J=class{constructor(e,t){this._openers=new Jf,this._validators=new Jf,this._resolvers=new Jf,this._resolvedUriTargets=new WN((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new Jf,this._defaultExternalOpener={openExternal:async e=>(kk(e,Ck.http,Ck.https)?KL(e):q_.location.href=e,!0)},this._openers.push({open:async(e,t)=>!(!(null===t||void 0===t?void 0:t.openExternal)&&!kk(e,Ck.mailto,Ck.http,Ck.https,Ck.vsls))&&(await this._doOpenExternal(e,t),!0)}),this._openers.push(new XJ(t)),this._openers.push(new JJ(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){var i;const n="string"===typeof e?Lb.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const s of this._validators)if(!await s.shouldOpen(o,t))return!1;for(const s of this._openers){if(await s.open(e,t))return!0}return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const n=await i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(cf){}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i="string"===typeof e?Lb.parse(e):e;let n,o;try{n=(await this.resolveExternalUri(i,t)).resolved}catch(cf){n=i}if(o="string"===typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null===t||void 0===t?void 0:t.allowContributedOpeners){const e="string"===typeof(null===t||void 0===t?void 0:t.allowContributedOpeners)?null===t||void 0===t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(await t.openExternal(o,{sourceUri:i,preferredOpenerId:e},Iv.None))return!0}}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Iv.None)}dispose(){this._validators.clear()}};$J=ZJ([QJ(0,by),QJ(1,Ny)],$J);const e$=vy("editorWorkerService");var t$,i$;!function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(t$||(t$={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=lf("sev.error","Error"),t[e.Warning]=lf("sev.warning","Warning"),t[e.Info]=lf("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case ZK.Error:return e.Error;case ZK.Warning:return e.Warning;case ZK.Info:return e.Info;case ZK.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return ZK.Error;case e.Warning:return ZK.Warning;case e.Info:return ZK.Info;case e.Hint:return ZK.Ignore}}}(t$||(t$={})),function(e){const t="";function i(e,i){const n=[t];return e.source?n.push(e.source.replace("\xa6","\\\xa6")):n.push(t),e.code?"string"===typeof e.code?n.push(e.code.replace("\xa6","\\\xa6")):n.push(e.code.value.replace("\xa6","\\\xa6")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(t$.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("\xa6","\\\xa6")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("\xa6")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(i$||(i$={}));const n$=vy("markerService");var o$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},s$=function(e,t){return function(i,n){t(i,n,e)}};let r$=class extends hv{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new Cv),this._markerDecorations=new WN,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new a$(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==Ck.inMemory&&e.uri.scheme!==Ck.internal&&e.uri.scheme!==Ck.vscode||null===(t=this._markerService)||void 0===t||t.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};r$=o$([s$(0,_y),s$(1,n$)],r$);class a$ extends hv{constructor(e){super(),this.model=e,this._map=new jN,this._register(cv((()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()})))}update(e){const{added:t,removed:i}=function(e,t){const i=[],n=[];for(const o of e)t.has(o)||i.push(o);for(const o of t)e.has(o)||n.push(o);return{removed:i,added:n}}(new Set(this._map.keys()),new Set(e));if(0===t.length&&0===i.length)return!1;const n=i.map((e=>this._map.get(e))),o=t.map((e=>({range:this._createDecorationRange(this.model,e),options:this._createDecorationOption(e)}))),s=this.model.deltaDecorations(n,o);for(const r of i)this._map.delete(r);for(let r=0;r<s.length;r++)this._map.set(t[r],s[r]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=Fb.lift(t);if(t.severity!==t$.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(1===t||i.endColumn>=t)return i;const n=e.getWordAtPosition(i.getStartPosition());n&&(i=new Fb(i.startLineNumber,n.startColumn,i.endLineNumber,n.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){const n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new Fb(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case t$.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case t$.Info:t="squiggly-info",i=eF(OF),n=10,s={color:eF(QO),position:RE.Inline};break;case t$.Warning:t="squiggly-warning",i=eF(MF),n=20,s={color:eF(XO),position:RE.Inline};break;case t$.Error:default:t="squiggly-error",i=eF(AF),n=30,s={color:eF(JO),position:RE.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ME.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}}var l$,c$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},d$=function(e,t){return function(i,n){t(i,n,e)}};function h$(e){return e.toString()}class u${constructor(e,t,i){this.model=e,this._modelEventListeners=new dv,this.model=e,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>i(e,t))))}dispose(){this._modelEventListeners.dispose()}}const g$=Mf||Af?1:2;class p${constructor(e,t,i,n,o,s,r,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=s,this.versionId=r,this.alternativeVersionId=a}}let f$=l$=class extends hv{constructor(e,t,i,n,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._languageService=n,this._languageConfigurationService=o,this._onModelAdded=this._register(new Cv),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Cv),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Cv),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((e=>this._updateModelOptions(e)))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var i;let n=Zf.tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o="tabSize";if(e.editor&&"undefined"!==typeof e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(o=Math.max(t,1))}let s=Zf.insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=g$;const a=e.eol;"\r\n"===a?r=2:"\n"===a&&(r=1);let l=Zf.trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let c=Zf.detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let d=Zf.largeFileOptimizations;e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(d="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let h=Zf.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"===typeof e.editor.bracketPairColorization&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:c,defaultEOL:r,trimAutoWhitespace:l,largeFileOptimizations:d,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"===typeof i&&"auto"!==i?i:3===Hf||2===Hf?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!==typeof e||e}getCreationOptions(e,t,i){const n="string"===typeof e?e:e.languageId;let o=this._modelCreationOptionsByLanguageAndResource[n+t];if(!o){const e=this._configurationService.getValue("editor",{overrideIdentifier:n,resource:t}),s=this._getEOL(t,n);o=l$._readModelOptions({editor:e,eol:s},i),this._modelCreationOptionsByLanguageAndResource[n+t]=o}return o}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],s=this._models[o],r=s.model.getLanguageId(),a=s.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:r,resource:a})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:r,resource:a}))continue;const l=t[r+a],c=this.getCreationOptions(r,a,s.model.isForSimpleWidget);l$._setModelOptionsForModel(s.model,c,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&of(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(h$(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(h$(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(h$(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t,i,n),s=new gU(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(h$(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=this._getSHA1Computer(),o=!!n.canComputeSHA1(s)&&n.computeSHA1(s)===e.sha1;if(o||e.sharesUndoRedoStack){for(const e of t.past)EH(e)&&e.matchesResource(i)&&e.setModel(s);for(const e of t.future)EH(e)&&e.matchesResource(i)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,(e=>EH(e)&&e.matchesResource(i))),o&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const r=h$(s.uri);if(this._models[r])throw new Error("ModelService: Cannot add model because it already exists!");const a=new u$(s,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[r]=a,a}createModel(e,t,i){let n,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=t?this._createModelData(e,t,i,o):this._createModelData(e,UD,i,o),this._onModelAdded.fire(n.model),n.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=h$(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Ck.file||e.scheme===Ck.vscodeRemote||e.scheme===Ck.vscodeUserData||e.scheme===Ck.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(e){const t=h$(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,s=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const t=this._undoRedoService.getElements(e.uri);if(t.past.length>0||t.future.length>0){for(const i of t.past)EH(i)&&i.matchesResource(e.uri)&&(o=!0,s+=i.heapSize(e.uri),i.setModel(e.uri));for(const i of t.future)EH(i)&&i.matchesResource(e.uri)&&(o=!0,s+=i.heapSize(e.uri),i.setModel(e.uri))}}const r=l$.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,a=this._getSHA1Computer();if(o)if(n||!(s>r)&&a.canComputeSHA1(e))this._ensureDisposedModelsHeapSize(r-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,(t=>EH(t)&&t.matchesResource(e.uri))),this._insertDisposedModel(new p$(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,s,a.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else{const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else if(!n){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,n=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);l$._setModelOptionsForModel(e,s,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new m$}};f$.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,f$=l$=c$([d$(0,gD),d$(1,ST),d$(2,iU),d$(3,_D),d$(4,$D)],f$);class m${canComputeSHA1(e){return e.getValueLength()<=m$.MAX_MODEL_SIZE}computeSHA1(e){const t=new Rk,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}}m$.MAX_MODEL_SIZE=10485760;class v${get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:hv.None}}renderElement(e,t,i,n){var o;if(null===(o=i.disposable)||void 0===o||o.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,n);const r=new Mv,a=s.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then((t=>this.renderer.renderElement(t,e,i.data,n)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class b${constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}class _${constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=()=>this.model,r=n.map((e=>new v$(e,s)));this.list=new qX(e,t,i,r,function(e,t){return{...t,accessibilityProvider:t.accessibilityProvider&&new b$(e,t.accessibilityProvider)}}(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return vv.map(this.list.onMouseDblClick,(e=>{let{element:t,index:i,browserEvent:n}=e;return{element:void 0===t?void 0:this._model.get(t),index:i,browserEvent:n}}))}get onPointer(){return vv.map(this.list.onPointer,(e=>{let{element:t,index:i,browserEvent:n}=e;return{element:void 0===t?void 0:this._model.get(t),index:i,browserEvent:n}}))}get onDidChangeSelection(){return vv.map(this.list.onDidChangeSelection,(e=>{let{elements:t,indexes:i,browserEvent:n}=e;return{elements:t.map((e=>this._model.get(e))),indexes:i,browserEvent:n}}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,xp(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var w$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};var y$;!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(y$||(y$={}));const C$=new Cv;const S$=new Cv;class k${constructor(e){this.el=e,this.disposables=new dv}get onPointerMove(){return this.disposables.add(new PP(Fk(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new PP(Fk(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}w$([fA],k$.prototype,"onPointerMove",null),w$([fA],k$.prototype,"onPointerUp",null);class L${get onPointerMove(){return this.disposables.add(new PP(this.el,mA.Change)).event}get onPointerUp(){return this.disposables.add(new PP(this.el,mA.End)).event}constructor(e){this.el=e,this.disposables=new dv}dispose(){this.disposables.dispose()}}w$([fA],L$.prototype,"onPointerMove",null),w$([fA],L$.prototype,"onPointerUp",null);class x${get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}w$([fA],x$.prototype,"onPointerMove",null),w$([fA],x$.prototype,"onPointerUp",null);const D$="pointer-events-disabled";class E$ extends hv{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=RL(this.el,zL(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(cv((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new PP(this._orthogonalStartDragHandle,"mouseenter")).event((()=>E$.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new PP(this._orthogonalStartDragHandle,"mouseleave")).event((()=>E$.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=RL(this.el,zL(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(cv((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new PP(this._orthogonalEndDragHandle,"mouseenter")).event((()=>E$.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new PP(this._orthogonalEndDragHandle,"mouseleave")).event((()=>E$.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new dS(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new Cv),this._onDidStart=this._register(new Cv),this._onDidChange=this._register(new Cv),this._onDidReset=this._register(new Cv),this._onDidEnd=this._register(new Cv),this.orthogonalStartSashDisposables=this._register(new dv),this.orthogonalStartDragHandleDisposables=this._register(new dv),this.orthogonalEndSashDisposables=this._register(new dv),this.orthogonalEndDragHandleDisposables=this._register(new dv),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=RL(e,zL(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add("orthogonal-edge-".concat(i.orthogonalEdge)),Af&&this.el.classList.add("mac");const n=this._register(new PP(this.el,"mousedown")).event;this._register(n((t=>this.onPointerStart(t,new k$(e))),this));const o=this._register(new PP(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const s=this._register(new PP(this.el,"mouseenter")).event;this._register(s((()=>E$.onMouseEnter(this))));const r=this._register(new PP(this.el,"mouseleave")).event;this._register(r((()=>E$.onMouseLeave(this)))),this._register(bA.addTarget(this.el));const a=this._register(new PP(this.el,mA.Start)).event;this._register(a((e=>this.onPointerStart(e,new L$(this.el))),this));const l=this._register(new PP(this.el,mA.Tap)).event;let c;this._register(l((e=>{if(c)return clearTimeout(c),c=void 0,void this.onPointerDoublePress(e);clearTimeout(c),c=setTimeout((()=>c=void 0),250)}),this)),"number"===typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width="".concat(this.size,"px"):this.el.style.height="".concat(this.size,"px")):(this.size=4,this._register(C$.event((e=>{this.size=e,this.layout()})))),this._register(S$.event((e=>this.hoverDelay=e))),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}onPointerStart(e,t){AL(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new x$(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new x$(t))),!this.state)return;const n=this.el.ownerDocument.getElementsByTagName("iframe");for(const h of n)h.classList.add(D$);const o=e.pageX,s=e.pageY,r=e.altKey,a={startX:o,currentX:o,startY:s,currentY:s,altKey:r};this.el.classList.add("active"),this._onDidStart.fire(a);const l=yL(this.el),c=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":Af?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":Af?"col-resize":"ew-resize",l.textContent="* { cursor: ".concat(e," !important; }")},d=new dv;c(),i||this.onDidEnablementChange.event(c,null,d);t.onPointerMove((e=>{AL(e,!1);const t={startX:o,currentX:e.pageX,startY:s,currentY:e.pageY,altKey:r};this._onDidChange.fire(t)}),null,d),t.onPointerUp((e=>{AL(e,!1),this.el.removeChild(l),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const t of n)t.classList.remove(D$)}),null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&E$.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&E$.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){E$.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const i=null!==(t=e.initialTarget)&&void 0!==t?t:e.target;if(i&&i instanceof HTMLElement)return i.classList.contains("orthogonal-drag-handle")?i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}const N$={separatorBorder:hT.transparent};class T${set size(e){this._size=e}get size(){return this._size}get visible(){return"undefined"===typeof this._cachedVisibleSize}setVisible(e,t){var i,n;if(e!==this.visible){e?(this.size=lG(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{null===(n=(i=this.view).setVisible)||void 0===n||n.call(i,e)}catch(Pee){console.error("Splitview: Failed to set visible view"),console.error(Pee)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return null===(e=this.view.proportionalLayout)||void 0===e||e}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"===typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(Pee){console.error("Splitview: Failed to layout view"),console.error(Pee)}}dispose(){this.disposable.dispose()}}class I$ extends T${layoutContainer(e){this.container.style.top="".concat(e,"px"),this.container.style.height="".concat(this.size,"px")}}class A$ extends T${layoutContainer(e){this.container.style.left="".concat(e,"px"),this.container.style.width="".concat(this.size,"px")}}var M$,O$;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(M$||(M$={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Auto=function(e){return{type:"auto",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(O$||(O$={}));class R$ extends hv{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n,o,s,r;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=M$.Idle,this._onDidSashChange=this._register(new Cv),this._onDidSashReset=this._register(new Cv),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(i=t.orientation)&&void 0!==i?i:0,this.inverseAltBehavior=null!==(n=t.inverseAltBehavior)&&void 0!==n&&n,this.proportionalLayout=null===(o=t.proportionalLayout)||void 0===o||o,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=RL(this.el,zL(".sash-container")),this.viewContainer=zL(".split-view-container"),this.scrollable=this._register(new yP({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:e=>eL(Fk(this.el),e)})),this.scrollableElement=this._register(new NP(this.viewContainer,{vertical:0===this.orientation?null!==(s=t.scrollbarVisibility)&&void 0!==s?s:1:2,horizontal:1===this.orientation?null!==(r=t.scrollbarVisibility)&&void 0!==r?r:1:2},this.scrollable));const a=this._register(new PP(this.viewContainer,"scroll")).event;this._register(a((e=>{const t=this.scrollableElement.getScrollPosition(),i=Math.abs(this.viewContainer.scrollLeft-t.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,n=Math.abs(this.viewContainer.scrollTop-t.scrollTop)<=1?void 0:this.viewContainer.scrollTop;void 0===i&&void 0===n||this.scrollableElement.setScrollPosition({scrollLeft:i,scrollTop:n})}))),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{e.scrollTopChanged&&(this.viewContainer.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this.viewContainer.scrollLeft=e.scrollLeft)}))),RL(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||N$),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=qp(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)})),this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,n=arguments.length>3?arguments[3]:void 0;this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let t=0;for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=this.proportions[i];"number"===typeof o?t+=o:e-=n.size}for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=this.proportions[i];"number"===typeof o&&t>0&&(n.size=lG(Math.round(o*e/t),n.minimumSize,n.maximumSize))}}else{const t=xp(this.viewItems.length),n=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map((e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0)))}onSashStart(e){let{sash:t,start:i,alt:n}=e;for(const a of this.viewItems)a.enabled=!1;const o=this.sashItems.findIndex((e=>e.sash===t)),s=lv(Zk(this.el.ownerDocument.body,"keydown",(e=>r(this.sashDragState.current,e.altKey))),Zk(this.el.ownerDocument.body,"keyup",(()=>r(this.sashDragState.current,!1)))),r=(e,t)=>{const i=this.viewItems.map((e=>e.size));let n,r,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(o===this.sashItems.length-1){const e=this.viewItems[o];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[o+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=xp(o,-1),t=xp(o+1,this.viewItems.length),s=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),c=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),d=Math.max(s,c),h=Math.min(l,a),u=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"===typeof u){const e=this.viewItems[u],t=Math.floor(e.viewMinimumSize/2);n={index:u,limitDelta:e.visible?d-t:d+t,size:e.size}}if("number"===typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);r={index:g,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:o,sizes:i,minDelta:a,maxDelta:l,alt:t,snapBefore:n,snapAfter:r,disposable:s}};r(i,n)}onSashChange(e){let{current:t}=e;const{index:i,start:n,sizes:o,alt:s,minDelta:r,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=t;const d=t-n,h=this.resize(i,d,o,void 0,void 0,r,a,l,c);if(s){const e=i===this.sashItems.length-1,t=this.viewItems.map((e=>e.size)),n=e?i:i+1,o=this.viewItems[n],s=o.size-o.maximumSize,r=o.size-o.minimumSize,a=e?i-1:i+1;this.resize(a,-h,t,void 0,void 0,s,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=lG(t="number"===typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==M$.Idle)throw new Error("Cant modify splitview");this.state=M$.Busy;try{const i=xp(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),s=this.viewItems[e];t=lG(t=Math.round(t),s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o)}finally{this.state=M$.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const r of this.viewItems)r.maximumSize-r.minimumSize>0&&(e.push(r),t+=r.size);const i=Math.floor(t/e.length);for(const r of e)r.size=lG(i,r.minimumSize,r.maximumSize);const n=xp(this.viewItems.length),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,n=arguments.length>3?arguments[3]:void 0;if(this.state!==M$.Idle)throw new Error("Cant modify splitview");this.state=M$.Busy;try{const o=zL(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const s=e.onDidChange((e=>this.onViewChange(l,e))),r=lv(s,cv((()=>this.viewContainer.removeChild(o))));let a;"number"===typeof t?a=t:("auto"===t.type&&(t=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:t.index}),a="split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize);const l=0===this.orientation?new I$(o,e,a,r):new A$(o,e,a,r);if(this.viewItems.splice(i,0,l),this.viewItems.length>1){const e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},t=0===this.orientation?new E$(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},{...e,orientation:1}):new E$(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},{...e,orientation:0}),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=vv.map(t.onDidStart,n)(this.onSashStart,this),s=vv.map(t.onDidChange,n)(this.onSashChange,this),r=vv.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t)))),a=r(this.onSashEnd,this),l=t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=xp(e,-1),n=xp(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),s=this.findFirstSnapIndex(n);("number"!==typeof o||this.viewItems[o].visible)&&("number"!==typeof s||this.viewItems[s].visible)&&this._onDidSashReset.fire(e)})),c=lv(o,s,a,l,t),d={sash:t,disposable:c};this.sashItems.splice(i-1,0,d)}let c;o.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(c=[t.index]),n||this.relayout([i],c),n||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()}finally{this.state=M$.Idle}}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.map((e=>e.size)),n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0;if(e<0||e>=this.viewItems.length)return 0;const c=xp(e,-1),d=xp(e+1,this.viewItems.length);if(o)for(const C of o)Ep(c,C),Ep(d,C);if(n)for(const C of n)Np(c,C),Np(d,C);const h=c.map((e=>this.viewItems[e])),u=c.map((e=>i[e])),g=d.map((e=>this.viewItems[e])),p=d.map((e=>i[e])),f=c.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),m=c.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),v=0===d.length?Number.POSITIVE_INFINITY:d.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),b=0===d.length?Number.NEGATIVE_INFINITY:d.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),_=Math.max(f,b,s),w=Math.min(v,m,r);let y=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;y=i!==e.visible,e.setVisible(i,a.size)}if(!y&&l){const e=this.viewItems[l.index],i=t<l.limitDelta;y=i!==e.visible,e.setVisible(i,l.size)}if(y)return this.resize(e,t,i,n,o,s,r);for(let C=0,S=t=lG(t,_,w);C<h.length;C++){const e=h[C],t=lG(u[C]+S,e.minimumSize,e.maximumSize);S-=t-u[C],e.size=t}for(let C=0,S=t;C<g.length;C++){const e=g[C],t=lG(p[C]-S,e.minimumSize,e.maximumSize);S+=t-p[C],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=xp(this.viewItems.length-1,-1),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));for(const r of s)Ep(n,r);for(const r of o)Np(n,r);"number"===typeof e&&Np(n,e);for(let r=0;0!==i&&r<n.length;r++){const e=this.viewItems[n[r]],t=lG(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const o=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const s=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];r+=this.viewItems[a].size;const n=!(t[a]&&s[a+1]),l=!(i[a]&&o[a+1]);if(n&&l){const i=xp(a,-1),n=xp(a+1,this.viewItems.length),s=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(n),c="number"===typeof s&&!this.viewItems[s].visible,d="number"===typeof l&&!this.viewItems[l].visible;c&&o[a]&&(r>0||this.startSnappingEnabled)?e.state=1:d&&t[a]&&(r<this._contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=n&&!l?1:!n&&l?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=void 0===e?i.size:Math.min(e,i.size),t=void 0===t?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;null===(e=this.sashDragState)||void 0===e||e.disposable.dispose(),av(this.viewItems),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[],super.dispose()}}class P${constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=P$.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const o of e){const e=n.get(o.templateId);if(!e)throw new Error("Table cell renderer for template id ".concat(o.templateId," not found."));this.renderers.push(e)}}renderTemplate(e){const t=RL(e,zL(".monaco-table-tr")),i=[],n=[];for(let s=0;s<this.columns.length;s++){const e=this.renderers[s],o=RL(t,zL(".monaco-table-td",{"data-col-index":s}));o.style.width="".concat(this.getColumnSize(s),"px"),i.push(o),n.push(e.renderTemplate(o))}const o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.columns[o].project(e);this.renderers[o].renderElement(s,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const s=this.renderers[o];if(s.disposeElement){const r=this.columns[o].project(e);s.disposeElement(r,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}Gk(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width="".concat(t,"px")}}P$.TemplateId="row";class F${get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:vv.None}constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new Cv,this.onDidLayout=this._onDidLayout.event,this.element=zL(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}layout(e){this._onDidLayout.fire([this.index,e])}}class B${get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,n,o,s){this.virtualDelegate=i,this.domId="table_id_".concat(++B$.InstanceCount),this.disposables=new dv,this.cachedWidth=0,this.cachedHeight=0,this.domNode=RL(t,zL(".monaco-table.".concat(this.domId)));const r=n.map(((e,t)=>new F$(e,t))),a={size:r.reduce(((e,t)=>e+t.column.weight),0),views:r.map((e=>({size:e.column.weight,view:e})))};this.splitview=this.disposables.add(new R$(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a})),this.splitview.el.style.height="".concat(i.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(i.headerRowHeight,"px");const l=new P$(n,o,(e=>this.splitview.getViewSize(e)));var c;this.list=this.disposables.add(new qX(e,this.domNode,(c=i,{getHeight:e=>c.getHeight(e),getTemplateId:()=>P$.TemplateId}),[l],s)),vv.any(...r.map((e=>e.onDidLayout)))((e=>{let[t,i]=e;return l.layoutColumn(t,i)}),null,this.disposables),this.splitview.onDidSashReset((e=>{const t=n.reduce(((e,t)=>e+t.weight),0),i=n[e].weight/t*this.cachedWidth;this.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=yL(this.domNode),this.style(VX)}updateOptions(e){this.list.updateOptions(e)}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}B$.InstanceCount=0;class V$ extends uP{constructor(e){super(),this._onChange=this._register(new Cv),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Cv),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...Ey.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault())})),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const W$=lf("caseDescription","Match Case"),z$=lf("wordsDescription","Match Whole Word"),H$=lf("regexDescription","Use Regular Expression");class j$ extends V${constructor(e){super({icon:Hb.caseSensitive,title:W$+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class U$ extends V${constructor(e){super({icon:Hb.wholeWord,title:z$+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class K$ extends V${constructor(e){super({icon:Hb.regex,title:H$+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class q${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t-1;this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class G${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return null===this._navigator.current()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new q$(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const Y$=zL;class Z$ extends uP{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new Cv),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new Cv),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(n=this.options.tooltip)&&void 0!==n?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=RL(e,Y$(".monaco-inputbox.idle"));const o=this.options.flexibleHeight?"textarea":"input",s=RL(this.element,Y$(".ibwrapper"));if(this.input=RL(s,Y$(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"===typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=RL(s,Y$("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new EP(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),RL(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new PP(e.ownerDocument,"selectionchange")),i=vv.filter(t.event,(()=>{const t=e.ownerDocument.getSelection();return(null===t||void 0===t?void 0:t.anchorNode)===s}));this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this._register(this.ignoreGesture(this.input)),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new MJ(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"===typeof this.cachedHeight?this.cachedHeight:hL(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return bL(this.input)}select(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width="calc(100% - ".concat(e,"px)"),this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!==typeof this.cachedContentHeight||"number"!==typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if("open"===this.state&&of(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border="1px solid ".concat(YL(i.border,"transparent")),this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null===e||void 0===e?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=lL(this.element)+"px";let i;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:i=>{var n,o;if(!this.message)return null;e=RL(i,Y$(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?SQ(this.message.content,s):function(e){const t=kQ(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return t.textContent=e,t}(this.message.content,s);r.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return r.style.backgroundColor=null!==(n=a.background)&&void 0!==n?n:"",r.style.color=null!==(o=a.foreground)&&void 0!==o?o:"",r.style.border=a.border?"1px solid ".concat(a.border):"",RL(e,r),null},onHide:()=>{this.state="closed"},layout:t}),i=3===this.message.type?lf("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?lf("alertWarningMessage","Warning: {0}",this.message.content):lf("alertInfoMessage","Info: {0}",this.message.content),KI(i),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText="\xa0",this.layout()}applyStyles(){var e,t,i;const n=this.options.inputBoxStyles,o=null!==(e=n.inputBackground)&&void 0!==e?e:"",s=null!==(t=n.inputForeground)&&void 0!==t?t:"",r=null!==(i=n.inputBorder)&&void 0!==i?i:"";this.element.style.backgroundColor=o,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.border="1px solid ".concat(YL(r,"transparent"))}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=hL(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,null===(e=this.actionbar)||void 0===e||e.dispose(),super.dispose()}}class Q$ extends Z${constructor(e,t,i){const n=lf({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21c5 to represent the up and down arrow keys.']}," or {0} for history","\u21c5"),o=lf({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21c5 to represent the up and down arrow keys.']}," ({0} for history)","\u21c5");super(e,t,i),this._onDidFocus=this._register(new Cv),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Cv),this.onDidBlur=this._onDidBlur.event,this.history=new G$(i.history,100);const s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(n)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const e=this.placeholder.endsWith(")")?n:o,t=this.placeholder+e;i.showPlaceholderOnFocus&&!bL(this.input)?this.placeholder=t:this.setPlaceHolder(t)}};this.observer=new MutationObserver(((e,t)=>{e.forEach((e=>{e.target.textContent||s()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>s())),this.onblur(this.input,(()=>{const e=e=>{if(this.placeholder.endsWith(e)){const t=this.placeholder.slice(0,this.placeholder.length-e.length);return i.showPlaceholderOnFocus?this.placeholder=t:this.setPlaceHolder(t),!0}return!1};e(o)||e(n)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=null!==e&&void 0!==e?e:"",qI(this.value?this.value:lf("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,qI(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const X$=lf("defaultLabel","input");class J$ extends uP{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new uv),this.additionalToggles=[],this._onDidOptionChange=this._register(new Cv),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Cv),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Cv),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Cv),this._onKeyUp=this._register(new Cv),this._onCaseSensitiveKeyDown=this._register(new Cv),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Cv),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||X$,this.showCommonFindToggles=!!i.showCommonFindToggles;const n=i.appendCaseSensitiveLabel||"",o=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",r=i.history||[],a=!!i.flexibleHeight,l=!!i.flexibleWidth,c=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Q$(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:i.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new K$({appendTitle:s,isChecked:!1,...i.toggleStyles})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new U$({appendTitle:o,isChecked:!1,...i.toggleStyles})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new j$({appendTitle:n,isChecked:!1,...i.toggleStyles})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)})));const e=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(t=>{if(t.equals(15)||t.equals(17)||t.equals(9)){const i=e.indexOf(this.domNode.ownerDocument.activeElement);if(i>=0){let n=-1;t.equals(17)?n=(i+1)%e.length:t.equals(15)&&(n=0===i?e.length-1:i-1),t.equals(9)?(e[i].blur(),this.inputBox.focus()):n>=0&&e[n].focus(),AL(t,!0)}}}))}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(null===i||void 0===i?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),null===e||void 0===e||e.appendChild(this.domNode),this._register(Zk(this.inputBox.inputElement,"compositionstart",(e=>{this.imeSessionInProgress=!0}))),this._register(Zk(this.inputBox.inputElement,"compositionend",(e=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),null===(e=this.regex)||void 0===e||e.enable(),null===(t=this.wholeWords)||void 0===t||t.enable(),null===(i=this.caseSensitive)||void 0===i||i.enable();for(const n of this.additionalToggles)n.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),null===(e=this.regex)||void 0===e||e.disable(),null===(t=this.wholeWords)||void 0===t||t.disable(),null===(i=this.caseSensitive)||void 0===i||i.disable();for(const n of this.additionalToggles)n.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new dv;for(const t of null!==e&&void 0!==e?e:[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()}))),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,i,n,o,s,r;this.inputBox.paddingRight=e?0:(null!==(i=null===(t=this.caseSensitive)||void 0===t?void 0:t.width())&&void 0!==i?i:0)+(null!==(o=null===(n=this.wholeWords)||void 0===n?void 0:n.width())&&void 0!==o?o:0)+(null!==(r=null===(s=this.regex)||void 0===s?void 0:s.width())&&void 0!==r?r:0)+this.additionalToggles.reduce(((e,t)=>e+t.width()),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e,t;return null!==(t=null===(e=this.caseSensitive)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e,t;return null!==(t=null===(e=this.wholeWords)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e,t;return null!==(t=null===(e=this.regex)||void 0===e?void 0:e.checked)&&void 0!==t&&t}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;null===(e=this.caseSensitive)||void 0===e||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var $$,e0,t0;!function(e){e[e.Expanded=0]="Expanded",e[e.Collapsed=1]="Collapsed",e[e.PreserveOrExpanded=2]="PreserveOrExpanded",e[e.PreserveOrCollapsed=3]="PreserveOrCollapsed"}($$||($$={})),function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(e0||(e0={}));class i0 extends Error{constructor(e,t){super("TreeError [".concat(e,"] ").concat(t))}}class n0{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function o0(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function s0(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function r0(e){return"boolean"===typeof e.collapsible}class a0{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Ev,this._onDidChangeCollapseState=new Cv,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Cv,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Cv,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new dS(rS),this.collapseByDefault="undefined"!==typeof n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren="undefined"!==typeof n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qf.empty(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===e.length)throw new i0(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,s){var r;void 0===n&&(n=Qf.empty()),void 0===s&&(s=null!==(r=o.diffDepth)&&void 0!==r?r:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,i,n,o);const l=[...n],c=t[t.length-1],d=new vE({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(d.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,i,l,o);const h=t.slice(0,-1),u=(t,i,n)=>{if(s>0)for(let r=0;r<n;r++)t--,i--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,s-1)};let g=Math.min(a.children.length,c+i),p=l.length;for(const f of d.changes.sort(((e,t)=>t.originalStart-e.originalStart)))u(g,p,g-(f.originalStart+f.originalLength)),g=f.originalStart,p=f.modifiedStart-c,this.spliceSimple([...h,g],f.originalLength,Qf.slice(l,p,p+f.modifiedLength),o);u(g,p,g)}spliceSimple(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qf.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:s}=arguments.length>3?arguments[3]:void 0;const{parentNode:r,listIndex:a,revealed:l,visible:c}=this.getParentNodeWithListIndex(e),d=[],h=Qf.map(i,(e=>this.createTreeNode(e,r,r.visible?1:0,l,d,n))),u=e[e.length-1],g=r.children.length>0;let p=0;for(let C=u;C>=0&&C<r.children.length;C--){const e=r.children[C];if(e.visible){p=e.visibleChildIndex;break}}const f=[];let m=0,v=0;for(const C of h)f.push(C),v+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=p+m++);const b=Ip(r.children,u,t,f);s?r.lastDiffIds?Ip(r.lastDiffIds,u,t,f.map((e=>s.getId(e.element).toString()))):r.lastDiffIds=r.children.map((e=>s.getId(e.element).toString())):r.lastDiffIds=void 0;let _=0;for(const C of b)C.visible&&_++;if(0!==_)for(let C=u+f.length;C<r.children.length;C++){const e=r.children[C];e.visible&&(e.visibleChildIndex-=_)}if(r.visibleChildrenCount+=m-_,l&&c){const e=b.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(r,v-e),this.list.splice(a,e,d)}if(b.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};b.forEach(e)}this._onDidSplice.fire({insertedNodes:f,deletedNodes:b});const w=r.children.length>0;g!==w&&this.setCollapsible(e.slice(0,-1),w);let y=r;for(;y;){if(2===y.visibility){this.refilterDelayer.trigger((()=>this.refilter()));break}y=y.parent}}rerender(e){if(0===e.length)throw new i0(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);"undefined"===typeof t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,n)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);"undefined"===typeof t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!r0(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return s}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),a=s-(-1===t?0:1);return this.list.splice(t+1,a,r.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(r0(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!r0(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,s){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(r,i);r.visibility=a,n&&o.push(r);const l=e.children||Qf.empty(),c=n&&0!==a&&!r.collapsed;let d=0,h=1;for(const u of l){const e=this.createTreeNode(u,r,a,c,o,s);r.children.push(e),h+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=d++)}return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=d,r.visible=2===a?d>0:1===a,r.visible?r.collapsed||(r.renderNodeCount=h):(r.renderNodeCount=0,n&&o.pop()),null===s||void 0===s||s(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i){let n,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e!==this.root){if(n=this._filterNode(e,t),0===n)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===n)e.visibleChildrenCount=0;else{let t=0;for(const s of e.children)r=this._updateNodeAfterFilterChange(s,n,i,o&&!e.collapsed)||r,s.visible&&(s.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===n?r:1===n,e.visibility=n),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof i?(e.filterData=void 0,i?1:0):o0(i)?(e.filterData=i.data,s0(i.visibility)):(e.filterData=void 0,s0(i))}hasTreeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new i0(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new i0(this.user,"Invalid tree location");const r=t.children[s];return{node:r,listIndex:i,revealed:n,visible:o&&r.visible}}getParentNodeWithListIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const[s,...r]=e;if(s<0||s>t.children.length)throw new i0(this.user,"Invalid tree location");for(let a=0;a<s;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===r.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(r,t.children[s],i+1,n,o)}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}class l0 extends pX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function c0(e){return e instanceof pX?new l0(e):e}class d0{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=hv.None,this.disposables=new dv}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,c0(e),t)}onDragOver(e,t,i,n){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const s=this.dnd.onDragOver(c0(e),t&&t.element,i,n),r=this.autoExpandNode!==t;if(r&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return s;if(r&&"boolean"!==typeof s&&s.autoExpand&&(this.autoExpandDisposable=gS((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500,this.disposables)),"boolean"===typeof s||!s.accept||"undefined"===typeof s.bubble||s.feedback){if(!o){return{accept:"boolean"===typeof s?s:s.accept,effect:"boolean"===typeof s?void 0:s.effect,feedback:[i]}}return s}if(1===s.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),s=i.getParentNodeLocation(o),r=i.getNode(s),a=s&&i.getListIndex(s);return this.onDragOver(e,r,a,n,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),c=a.getListIndex(l),d=a.getListRenderCount(l);return{...s,feedback:xp(c,c+d)}}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(c0(e),t&&t.element,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function h0(e,t){return t&&{...t,identityProvider:t.identityProvider&&{getId:e=>t.identityProvider.getId(e.element)},dnd:t.dnd&&new d0(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>t.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element}),isSelectionRangeChangeEvent:e=>t.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})},accessibilityProvider:t.accessibilityProvider&&{...t.accessibilityProvider,getSetSize(t){const i=e(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:t.accessibilityProvider&&t.accessibilityProvider.isChecked?e=>t.accessibilityProvider.isChecked(e.element):void 0,getRole:t.accessibilityProvider&&t.accessibilityProvider.getRole?e=>t.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>t.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>t.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:t.accessibilityProvider&&t.accessibilityProvider.getWidgetRole?()=>t.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:t.accessibilityProvider&&t.accessibilityProvider.getAriaLevel?e=>t.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&(e=>t.accessibilityProvider.getActiveDescendantId(e.element))},keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{...t.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:e=>t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}}class u0{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,n;null===(n=(i=this.delegate).setDynamicHeight)||void 0===n||n.call(i,e.element,t)}}!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(t0||(t0={}));class g0{get elements(){return this._elements}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._elements=t,this.disposables=new dv,this.onDidChange=vv.forEach(e,(e=>this._elements=e),this.disposables)}dispose(){this.disposables.dispose()}}class p0{constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var r;this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=p0.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=hv.None,this.disposables=new dv,this.templateId=e.templateId,this.updateOptions(s),vv.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(r=e.onDidChangeTwistieState)||void 0===r||r.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof e.indent){const t=lG(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[e,t]of this.renderedNodes)this.renderTreeElement(e,t)}}if("undefined"!==typeof e.renderIndentGuides){const t=e.renderIndentGuides!==t0.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[e,t]of this.renderedNodes)this._renderIndentGuides(e,t);if(this.indentGuidesDisposable.dispose(),t){const e=new dv;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=RL(e,zL(".monaco-tl-row")),i=RL(t,zL(".monaco-tl-indent")),n=RL(t,zL(".monaco-tl-twistie")),o=RL(t,zL(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:hv.None,templateData:s}}renderElement(e,t,i,n){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){var o,s;i.indentGuidesDisposable.dispose(),null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,e,t,i.templateData,n),"number"===typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=p0.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft="".concat(i,"px"),t.indent.style.width="".concat(i+this.indent-16,"px"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...Ey.asClassNameArray(Hb.treeItemExpanded));let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...Ey.asClassNameArray(Hb.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(Gk(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new dv,n=this.modelProvider();for(;;){const o=n.getNodeLocation(e),s=n.getParentNodeLocation(o);if(!s)break;const r=n.getNode(s),a=zL(".indent-guide",{style:"width: ".concat(this.indent,"px")});this.activeIndentNodes.has(r)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(r,a),i.add(cv((()=>this.renderedIndentGuides.delete(r,a)))),e=r}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(cf){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),av(this.disposables)}}p0.DefaultIndent=8;class f0{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new dv,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const n=this._filter.filter(e,t);if(i="boolean"===typeof n?n?1:0:o0(n)?s0(n.visibility):n,0===i)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:oQ.Default,visibility:i};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(const s of o){const e=s&&s.toString();if("undefined"===typeof e)return{data:oQ.Default,visibility:i};let t;if(this.tree.findMatchType===v0.Contiguous){const i=e.toLowerCase().indexOf(this._lowercasePattern);if(i>-1){t=[Number.MAX_SAFE_INTEGER,0];for(let e=this._lowercasePattern.length;e>0;e--)t.push(i+e-1)}}else t=rQ(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(t)return this._matchCount++,1===o.length?{data:t,visibility:i}:{data:{label:e,score:t},visibility:i}}return this.tree.findMode===m0.Filter?"number"===typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:oQ.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){av(this.disposables)}}var m0,v0;!function(e){e[e.Highlight=0]="Highlight",e[e.Filter=1]="Filter"}(m0||(m0={})),function(e){e[e.Fuzzy=0]="Fuzzy",e[e.Contiguous=1]="Contiguous"}(v0||(v0={}));class b0{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var r,a;this.tree=e,this.view=i,this.filter=n,this.contextViewProvider=o,this.options=s,this._pattern="",this.width=0,this._onDidChangeMode=new Cv,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new Cv,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new Cv,this._onDidChangeOpenState=new Cv,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new dv,this.disposables=new dv,this._mode=null!==(r=e.options.defaultFindMode)&&void 0!==r?r:m0.Highlight,this._matchType=null!==(a=e.options.defaultFindMatchType)&&void 0!==a?a:v0.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==e.defaultFindMode&&(this.mode=e.defaultFindMode),void 0!==e.defaultFindMatchType&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}render(){var e,t,i,n;const o=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&o?null===(e=this.tree.options.showNotFoundMessage)||void 0===e||e?null===(t=this.widget)||void 0===t||t.showMessage({type:2,content:lf("not found","No elements found.")}):null===(i=this.widget)||void 0===i||i.showMessage({type:2}):null===(n=this.widget)||void 0===n||n.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===m0.Filter||(this.filter.totalCount>0&&this.filter.matchCount<=1||!oQ.isDefault(e.filterData))}layout(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function _0(e,t){return e.position===t.position&&e.node.element===t.node.element&&e.startIndex===t.startIndex&&e.height===t.height&&e.endIndex===t.endIndex}class w0 extends hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return bp(this.stickyNodes,e.stickyNodes,_0)}addDisposable(e){this._register(e)}}class y0 extends hv{get firstVisibleNode(){const e=this.view.firstVisibleIndex;if(!(e<0||e>=this.view.length))return this.view.element(e)}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=o,this.maxWidgetViewRatio=.4;const r=this.validateStickySettings(s);this.stickyScrollMaxItemCount=r.stickyScrollMaxItemCount,this._widget=this._register(new C0(i.getScrollableElement(),i,t,n,o)),this._register(i.onDidScroll((()=>this.update()))),this._register(i.onDidChangeContentHeight((()=>this.update()))),this._register(e.onDidChangeCollapseState((()=>this.update()))),this.update()}update(){const e=this.firstVisibleNode;if(!e||0===this.tree.scrollTop)return void this._widget.setState(void 0);const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[],i=this.view.renderHeight*this.maxWidgetViewRatio;let n=e,o=0,s=this.getNextStickyNode(n,void 0,o);for(;s&&o+s.height<i&&(t.push(s),o+=s.height,!(t.length>=this.stickyScrollMaxItemCount))&&(n=this.getNextVisibleNode(n),n);)s=this.getNextStickyNode(n,s.node,o);return t.length?new w0(t):void 0}getNextVisibleNode(e){const t=this.getNodeIndex(e);if(-1===t||t===this.view.length-1)return;return this.view.element(t+1)}getNextStickyNode(e,t,i){const n=this.getAncestorUnderPrevious(e,t);if(n){if(n===e){if(!this.nodeIsUncollapsedParent(e))return;if(this.nodeTopAlignsWithStickyNodesBottom(e,i))return}return this.createStickyScrollNode(n,i)}}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),n=this.view.getElementTop(i),o=t;return this.view.scrollTop===n-o}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:n,endIndex:o}=this.getNodeRange(e);return{node:e,position:this.calculateStickyNodePosition(o,t),height:i,startIndex:n,endIndex:o}}getAncestorUnderPrevious(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=e,n=this.getParentNode(i);for(;n;){if(n===t)return i;i=n,n=this.getParentNode(i)}if(void 0===t)return i}calculateStickyNodePosition(e,t){let i=this.view.getRelativeTop(e);if(null===i&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const t=this.treeDelegate.getHeight(this.view.element(e)),n=this.view.getRelativeTop(e+1);i=n?n-t/this.view.renderHeight:null}if(null===i)return t;const n=this.view.element(e),o=this.treeDelegate.getHeight(n),s=i*this.view.renderHeight;return t>s&&t<=s+o?s:t}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e,t){void 0===t&&(t=this.model.getNodeLocation(e));return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");return{startIndex:i,endIndex:i+this.model.getListRenderCount(t)-1}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let n=0;for(let o=0;o<t.length&&o<this.stickyScrollMaxItemCount;o++)n+=this.treeDelegate.getHeight(t[o]);return n}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=5;return"number"===typeof e.stickyScrollMaxItemCount&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class C0{constructor(e,t,i,n,o){this.view=t,this.model=i,this.treeRenderers=n,this.treeDelegate=o,this._rootDomNode=document.createElement("div"),this._rootDomNode.classList.add("monaco-tree-sticky-container"),e.appendChild(this._rootDomNode)}setState(e){var t;const i=!!this._previousState&&this._previousState.count>0,n=!!e&&e.count>0;if(!i&&!n||i&&n&&this._previousState.equal(e))return;if(i!==n&&this.setVisible(n),null===(t=this._previousState)||void 0===t||t.dispose(),this._previousState=e,!n)return;for(let r=e.count-1;r>=0;r--){const t=e.stickyNodes[r],i=r?e.stickyNodes[r-1]:void 0,n=i?i.position+i.height:0,{element:o,disposable:s}=this.createElement(t,n);this._rootDomNode.appendChild(o),e.addDisposable(s)}const o=zL(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(o),e.addDisposable(cv((()=>o.remove())));const s=e.stickyNodes[e.count-1];this._rootDomNode.style.height="".concat(s.position+s.height,"px")}createElement(e,t){const i=this.model.getNodeLocation(e.node),n=this.model.getListIndex(i),o=document.createElement("div");o.style.top="".concat(e.position,"px"),o.style.height="".concat(e.height,"px"),o.style.lineHeight="".concat(e.height,"px"),o.classList.add("monaco-tree-sticky-row"),o.classList.add("monaco-list-row"),o.setAttribute("data-index","".concat(n)),o.setAttribute("data-parity",n%2===0?"even":"odd"),o.setAttribute("id",this.view.getElementID(n));const s=this.treeDelegate.getTemplateId(e.node),r=this.treeRenderers.find((e=>e.templateId===s));if(!r)throw new Error("No renderer found for template id ".concat(s));const a=new Proxy(e.node,{}),l=r.renderTemplate(o);r.renderElement(a,e.startIndex,l,e.height);const c=cv((()=>{r.disposeElement(a,e.startIndex,l,e.height),r.disposeTemplate(l),o.remove()}));return{element:o,disposable:c}}setVisible(e){this._rootDomNode.style.display=e?"block":"none"}dispose(){var e;null===(e=this._previousState)||void 0===e||e.dispose(),this._rootDomNode.remove()}}function S0(e){let t=e0.Unknown;return gL(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=e0.Twistie:gL(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=e0.Element:gL(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=e0.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function k0(e,t){t(e),e.children.forEach((e=>k0(e,t)))}class L0{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event}set(e,t){!(null===t||void 0===t?void 0:t.__forceEvent)&&bp(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice(e){let{insertedNodes:t,deletedNodes:i}=e;if(!this.identityProvider){const e=this.createNodeSet(),t=t=>e.delete(t);return i.forEach((e=>k0(e,t))),void this.set([...e.values()])}const n=new Set,o=e=>n.add(this.identityProvider.getId(e.element).toString());i.forEach((e=>k0(e,o)));const s=new Map,r=e=>s.set(this.identityProvider.getId(e.element).toString(),e);t.forEach((e=>k0(e,r)));const a=[];for(const l of this.nodes){const e=this.identityProvider.getId(l.element).toString();if(n.has(e)){const t=s.get(e);t&&t.visible&&a.push(t)}else a.push(l)}if(this.nodes.length>0&&0===a.length){const e=this.getFirstViewElementWithTrait();e&&a.push(e)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class x0 extends FX{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(NX(e.browserEvent.target)||xX(e.browserEvent.target)||EX(e.browserEvent.target))return;if(e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=function(e){return DX(e,"monaco-tree-sticky-row")}(e.browserEvent.target);let s=!1;if(s=!!o||("function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick),o)this.handleStickyScrollMouseEvent(e,t);else{if(s&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e)}if(t.collapsible&&(!o||n)){const i=this.tree.getNodeLocation(t),o=e.browserEvent.altKey;if(this.tree.setFocus([i]),this.tree.toggleCollapsed(i,o),s&&n)return void(e.browserEvent.isHandledByList=!0)}o||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(function(e){return DX(e,"monaco-custom-toggle")}(e.browserEvent.target)||function(e){return DX(e,"action-item")}(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const n=this.list.indexOf(t),o=this.list.getElementTop(n),s=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=o-s,this.list.setFocus([n]),this.list.setSelection([n])}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(e.browserEvent.isHandledByList||super.onDoubleClick(e))}}class D0 extends qX{constructor(e,t,i,n,o,s,r,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=r}createMouseController(e){return new x0(this,e.tree,e.stickyScrollProvider)}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(super.splice(e,t,i),0===i.length)return;const n=[],o=[];let s;i.forEach(((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(s=e+i)})),n.length>0&&super.setFocus(kp([...super.getFocus(),...n])),o.length>0&&super.setSelection(kp([...super.getSelection(),...o])),"number"===typeof s&&super.setAnchor(s)}setFocus(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setAnchor(e),t||("undefined"===typeof e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class E0{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return vv.filter(vv.map(this.view.onMouseDblClick,S0),(e=>e.target!==e0.Filter))}get onPointer(){return vv.map(this.view.onPointer,S0)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return vv.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:m0.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.matchType)&&void 0!==t?t:v0.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return"undefined"===typeof this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return"undefined"===typeof this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var s;this._user=e,this._options=o,this.eventBufferer=new Ev,this.onDidChangeFindOpenState=vv.None,this.disposables=new dv,this._onWillRefilter=new Cv,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Cv,this.treeDelegate=new u0(i);const r=new Nv,a=new Nv,l=this.disposables.add(new g0(a.event)),c=new UN;this.renderers=n.map((e=>new p0(e,(()=>this.model),r.event,l,c,o)));for(const p of this.renderers)this.disposables.add(p);let d;o.keyboardNavigationLabelProvider&&(d=new f0(this,o.keyboardNavigationLabelProvider,o.filter),o={...o,filter:d},this.disposables.add(d)),this.focus=new L0((()=>this.view.getFocusedElements()[0]),o.identityProvider),this.selection=new L0((()=>this.view.getSelectedElements()[0]),o.identityProvider),this.anchor=new L0((()=>this.view.getAnchorElement()),o.identityProvider),this.view=new D0(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...h0((()=>this.model),o),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,o),r.input=this.model.onDidChangeCollapseState;const h=vv.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}),this.disposables);h((()=>null),null,this.disposables);const u=this.disposables.add(new Cv),g=this.disposables.add(new dS(0));if(this.disposables.add(vv.any(h,this.focus.onDidChange,this.selection.onDidChange)((()=>{g.trigger((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);u.fire([...e.values()])}))}))),a.input=u.event,!1!==o.keyboardSupport){const e=vv.chain(this.view.onKeyDown,(e=>e.filter((e=>!xX(e.target))).map((e=>new eS(e)))));vv.chain(e,(e=>e.filter((e=>15===e.keyCode))))(this.onLeftArrow,this,this.disposables),vv.chain(e,(e=>e.filter((e=>17===e.keyCode))))(this.onRightArrow,this,this.disposables),vv.chain(e,(e=>e.filter((e=>10===e.keyCode))))(this.onSpace,this,this.disposables)}if((null===(s=o.findWidgetEnabled)||void 0===s||s)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const e=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new b0(this,this.model,this.view,d,o.contextViewProvider,e),this.focusNavigationFilter=e=>this.findController.shouldAllowFocus(e),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=vv.None,this.onDidChangeFindMatchType=vv.None;o.enableStickyScroll&&(this.stickyScrollController=new y0(this,this.model,this.view,this.renderers,this.treeDelegate,o)),this.styleElement=yL(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===t0.Always)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),null===(t=this.findController)||void 0===t||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===t0.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?this.stickyScrollController=new y0(this,this.model,this.view,this.renderers,this.treeDelegate,this._options):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.stickyScrollController.dispose(),this.stickyScrollController=void 0),null===(t=this.stickyScrollController)||void 0===t||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),jp(t)&&(null===(i=this.findController)||void 0===i||i.layout(t))}style(e){const t=".".concat(this.view.domId),i=[];e.treeIndentGuidesStroke&&(i.push(".monaco-list".concat(t,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(t,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(e.treeInactiveIndentGuidesStroke,"; }")),i.push(".monaco-list".concat(t," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(e.treeIndentGuidesStroke,"; }"))),e.listBackground&&(i.push(".monaco-list".concat(t," .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ").concat(e.listBackground,"; }")),i.push(".monaco-list".concat(t," .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ").concat(e.listBackground,"; }"))),this.styleElement.textContent=i.join("\n"),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!0,t)}expand(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(n,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(-1!==i)if(this.stickyScrollController){const n=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,n)}else this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){var e;av(this.disposables),null===(e=this.stickyScrollController)||void 0===e||e.dispose(),this.view.dispose()}}class N0{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new a0(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2?arguments[2]:void 0;const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:e=>{var t;if(null===e.element)return;const s=e;if(n.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.add(e),this.nodesByIdentity.set(e,s)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,s)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const s=e;if(n.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,s)}})}preserveCollapseState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf.empty();return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Qf.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t){let t;return t="undefined"===typeof e.collapsed?void 0:e.collapsed===$$.Collapsed||e.collapsed===$$.PreserveOrCollapsed||e.collapsed!==$$.Expanded&&e.collapsed!==$$.PreserveOrExpanded&&Boolean(e.collapsed),{...e,children:this.preserveCollapseState(e.children),collapsed:t}}const i="boolean"===typeof e.collapsible?e.collapsible:t.collapsible;let n;return n="undefined"===typeof e.collapsed||e.collapsed===$$.PreserveOrCollapsed||e.collapsed===$$.PreserveOrExpanded?t.collapsed:e.collapsed===$$.Collapsed||e.collapsed!==$$.Expanded&&Boolean(e.collapsed),{...e,collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)}}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new i0(this.user,"Tree element not found: ".concat(e));return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new i0(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new i0(this.user,"Tree element not found: ".concat(e));const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new i0(this.user,"Tree element not found: ".concat(e));return this.model.getNodeLocation(t)}}function T0(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:Qf.map(Qf.from(e.children),T0),collapsible:e.collapsible,collapsed:e.collapsed}}function I0(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=Qf.consume(Qf.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:Qf.map(Qf.concat(o,n),I0),collapsible:e.collapsible,collapsed:e.collapsed}}function A0(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=i<e.element.elements.length-1?[A0(e,i+1)]:Qf.map(Qf.from(e.children),(e=>A0(e,0))),0===i&&e.element.incompressible?{element:e.element.elements[i],children:t,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[i],children:t,collapsible:e.collapsible,collapsed:e.collapsed}}function M0(e){return A0(e,0)}function O0(e,t,i){return e.element===t?{...e,children:i}:{...e,children:Qf.map(Qf.from(e.children),(e=>O0(e,t,i)))}}class R0{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new N0(e,t,i),this.enabled="undefined"===typeof i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2?arguments[2]:void 0;const n=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=Qf.map(t,this.enabled?I0:T0);return void this._setChildren(null,e,{diffIdentityProvider:n,diffDepth:1/0})}const s=this.nodes.get(e);if(!s)throw new i0(this.user,"Unknown compressed tree node");const r=this.model.getNode(s),a=this.model.getParentNodeLocation(s),l=this.model.getNode(a),c=O0(M0(r),e,t),d=(this.enabled?I0:T0)(c),h=i.diffIdentityProvider?(e,t)=>i.diffIdentityProvider.getId(e)===i.diffIdentityProvider.getId(t):void 0;if(bp(d.element.elements,r.element.elements,h))return void this._setChildren(s,d.children||Qf.empty(),{diffIdentityProvider:n,diffDepth:1});const u=l.children.map((e=>e===r?d:e));this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=Qf.map(t,M0),n=Qf.map(i,e?I0:T0);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,{...i,onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if("undefined"===typeof e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new i0(this.user,"Tree element not found: ".concat(e));return t}}const P0=e=>e[e.length-1];class F0{get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new F0(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}class B0{get onDidSplice(){return vv.map(this.model.onDidSplice,(e=>{let{insertedNodes:t,deletedNodes:i}=e;return{insertedNodes:t.map((e=>this.nodeMapper.map(e))),deletedNodes:i.map((e=>this.nodeMapper.map(e)))}}))}get onDidChangeCollapseState(){return vv.map(this.model.onDidChangeCollapseState,(e=>{let{node:t,deep:i}=e;return{node:this.nodeMapper.map(t),deep:i}}))}get onDidChangeRenderNodeCount(){return vv.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.rootRef=null,this.elementMapper=i.elementMapper||P0;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new n0((e=>new F0(n,e))),this.model=new R0(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return{...t,identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}}}(n,i))}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return null===t||"undefined"===typeof t?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getNode(e)}}var V0=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};class W0 extends E0{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,n){super(e,t,i,n,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),this.user=e}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new N0(e,t,i)}}class z0{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){var o,s,r,a;i.compressedTreeNode?null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,i.compressedTreeNode,t,i.data,n):null===(a=(r=this.renderer).disposeElement)||void 0===a||a.call(r,e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}V0([fA],z0.prototype,"compressedTreeNodeProvider",null);class H0 extends W0{constructor(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=()=>this;super(e,t,i,n.map((e=>new z0(s,e))),function(e,t){return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(cf){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}(s,o))}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}createModel(e,t,i){return new B0(e,t,i)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.updateOptions(e),"undefined"!==typeof e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getCompressedTreeNode(e)}}function j0(e){return{...e,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function U0(e,t){return!!t.parent&&(t.parent===e||U0(e,t.parent))}class K0{get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new K0(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class q0{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ey.asClassNameArray(Hb.treeItemLoading)),!0):(t.classList.remove(...Ey.asClassNameArray(Hb.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function G0(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function Y0(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class Z0 extends pX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function Q0(e){return e instanceof pX?new Z0(e):e}class X0{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,Q0(e),t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(Q0(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(Q0(e),t&&t.element,i,n)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}dispose(){this.dnd.dispose()}}function J0(e){return e&&{...e,collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new X0(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element}),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)},sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),defaultFindVisibility:t=>t.hasChildren&&t.stale?1:"number"===typeof e.defaultFindVisibility?e.defaultFindVisibility:"undefined"===typeof e.defaultFindVisibility?2:e.defaultFindVisibility(t.element)}}function $0(e,t){t(e),e.children.forEach((e=>$0(e,t)))}class e1{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return vv.map(this.tree.onDidChangeFocus,G0)}get onDidChangeSelection(){return vv.map(this.tree.onDidChangeSelection,G0)}get onMouseDblClick(){return vv.map(this.tree.onMouseDblClick,Y0)}get onPointer(){return vv.map(this.tree.onPointer,Y0)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Cv,this._onDidChangeNodeSlowState=new Cv,this.nodeMapper=new n0((e=>new K0(e))),this.disposables=new dv,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=e=>s.collapseByDefault?s.collapseByDefault(e)?$$.PreserveOrCollapsed:$$.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,n,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=j0({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,n,o){const s=new u0(i),r=n.map((e=>new q0(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=J0(o)||{};return new W0(e,t,s,r,a)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}async _updateChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if("undefined"===typeof this.root.element)throw new i0(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await vv.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,n,o),i)try{this.tree.rerender(s)}catch(cf){}}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element;const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"===typeof this.root.element)throw new i0(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await vv.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(await this.root.refreshPromise,await vv.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await vv.toPromise(this._onDidRender.event)),n}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element;const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new i0(this.user,"Data tree node not found: ".concat(e));return t}async refreshAndRenderNode(e,t,i,n){await this.refreshNode(e,t,i),this.render(e,i,n)}async refreshNode(e,t,i){let n;if(this.subTreeRefreshPromises.forEach(((o,s)=>{!n&&function(e,t){return e===t||U0(e,t)||U0(t,e)}(s,e)&&(n=o.then((()=>this.refreshNode(e,t,i))))})),n)return n;if(e!==this.root){if(this.tree.getNode(e).collapsed)return e.hasChildren=!!this.dataSource.hasChildren(e.element),void(e.stale=!0)}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let n;e.refreshPromise=new Promise((e=>n=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const n=await this.doRefreshNode(e,t,i);e.stale=!1,await CS.settled(n.map((e=>this.doRefreshSubTree(e,t,i))))}finally{n()}}async doRefreshNode(e,t,i){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=this.doGetChildren(e);if(Up(t))n=Promise.resolve(t);else{const i=uS(800);i.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),n=t.finally((()=>i.cancel()))}}else n=Promise.resolve(Qf.empty());try{const o=await n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Ym(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return Up(i)?this.processChildren(i):(t=lS((async()=>this.processChildren(await i))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState(e){let{node:t,deep:i}=e;null!==t.element&&!t.collapsed&&t.element.stale&&(i?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(Um))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const s=new Map,r=new Map;for(const c of e.children)s.set(c.element,c),this.identityProvider&&r.set(c.id,{node:c,collapsed:this.tree.hasElement(c)&&this.tree.isCollapsed(c)});const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=j0({element:t,parent:e,hasChildren:o,defaultCollapseState:this.getDefaultCollapseState(t)});return o&&i.defaultCollapseState===$$.PreserveOrExpanded&&a.push(i),i}const l=this.identityProvider.getId(t).toString(),c=r.get(l);if(c){const e=c.node;return s.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?c.collapsed?(e.children.forEach((e=>$0(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&!c.collapsed&&a.push(e),e}const d=j0({element:t,parent:e,id:l,hasChildren:o,defaultCollapseState:this.getDefaultCollapseState(t)});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(d),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(d),(n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1||o&&d.defaultCollapseState===$$.PreserveOrExpanded)&&a.push(d),d}));for(const c of s.values())$0(c,(e=>this.nodes.delete(e.element)));for(const c of l)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].forceExpanded=!0,a.push(l[0])),a}render(e,t,i){const n=e.children.map((e=>this.asTreeElement(e,t))),o=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}};this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?Qf.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class t1{get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new t1(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class i1{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ey.asClassNameArray(Hb.treeItemLoading)),!0):(t.classList.remove(...Ey.asClassNameArray(Hb.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=av(this.disposables)}}class n1 extends e1{constructor(e,t,i,n,o,s){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};super(e,t,i,o,s,r),this.compressionDelegate=n,this.compressibleNodeMapper=new n0((e=>new t1(e))),this.filter=r.filter}createTree(e,t,i,n,o){const s=new u0(i),r=n.map((e=>new i1(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&J0(e);return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{...t.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))}}}(o)||{};return new H0(e,t,s,r,a)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);const r=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const d=e=>{const t=e.element;if(t)for(let n=0;n<t.elements.length;n++){const e=i(t.elements[n].element),d=t.elements[t.elements.length-1].element;o.has(e)&&-1===r.indexOf(d)&&(r.push(d),a=!0),s.has(e)&&-1===l.indexOf(d)&&(l.push(d),c=!0)}e.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(r),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=Qf.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"===typeof(n=t)?n?1:0:o0(n)?s0(n.visibility):s0(n);var n;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}class o1 extends E0{constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};super(e,t,i,n,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new N0(e,t,i)}}new gC("isMac",Af,lf("isMac","Whether the operating system is macOS")),new gC("isLinux",Mf,lf("isLinux","Whether the operating system is Linux")),new gC("isWindows",If,lf("isWindows","Whether the operating system is Windows")),new gC("isWeb",Rf,lf("isWeb","Whether the platform is a web browser")),new gC("isMacNative",Af&&!Rf,lf("isMacNative","Whether the operating system is macOS on a non-browser platform")),new gC("isIOS",Ff,lf("isIOS","Whether the operating system is iOS")),new gC("isMobile",Bf,lf("isMobile","Whether the platform is a mobile web browser")),new gC("isDevelopment",!1,!0),new gC("productQualityType","",lf("productQualityType","Quality type of VS Code"));const s1="inputFocus";new gC(s1,!1,lf("inputFocus","Whether keyboard focus is inside an input box"));let r1;const a1=globalThis.vscode;if("undefined"!==typeof a1&&"undefined"!==typeof a1.context){const e=a1.context.configuration();if(!e)throw new Error("Sandbox: unable to resolve product configuration from preload script.");r1=e.product}else if(globalThis._VSCODE_PRODUCT_JSON&&globalThis._VSCODE_PACKAGE_JSON){if(r1=globalThis._VSCODE_PRODUCT_JSON,Zv.VSCODE_DEV&&Object.assign(r1,{nameShort:"".concat(r1.nameShort," Dev"),nameLong:"".concat(r1.nameLong," Dev"),dataFolderName:"".concat(r1.dataFolderName,"-dev"),serverDataFolderName:r1.serverDataFolderName?"".concat(r1.serverDataFolderName,"-dev"):void 0}),!r1.version){const e=globalThis._VSCODE_PACKAGE_JSON;Object.assign(r1,{version:e.version})}}else r1={},0===Object.keys(r1).length&&Object.assign(r1,{version:"1.82.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",serverLicenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt"});const l1=r1;var c1=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},d1=function(e,t){return function(i,n){t(i,n,e)}};const h1=vy("listService");const u1=new gC("listScrollAtBoundary","none"),g1=(Gy.or(u1.isEqualTo("top"),u1.isEqualTo("both")),Gy.or(u1.isEqualTo("bottom"),u1.isEqualTo("both")),new gC("listFocus",!0)),p1=new gC("listSupportsMultiselect",!0),f1=(Gy.and(g1,Gy.not(s1)),new gC("listHasSelectionOrFocus",!1)),m1=new gC("listDoubleSelection",!1),v1=new gC("listMultiSelection",!1),b1=new gC("listSelectionNavigation",!1),_1=new gC("listSupportsFind",!0),w1=new gC("treeElementCanCollapse",!1),y1=new gC("treeElementHasParent",!1),C1=new gC("treeElementCanExpand",!1),S1=new gC("treeElementHasChild",!1),k1=new gC("treeFindOpen",!1),L1="listTypeNavigationMode",x1="listAutomaticKeyboardNavigation";function D1(e,t){const i=e.createScoped(t.getHTMLElement());return g1.bindTo(i),i}function E1(e,t){const i=u1.bindTo(e),n=()=>{const e=0===t.scrollTop,n=t.scrollHeight-t.renderHeight-t.scrollTop<1;e&&n?i.set("both"):e?i.set("top"):n?i.set("bottom"):i.set("none")};return n(),t.onDidScroll(n)}const N1="workbench.list.multiSelectModifier",T1="workbench.list.openMode",I1="workbench.list.horizontalScrolling",A1="workbench.list.defaultFindMode",M1="workbench.list.typeNavigationMode",O1="workbench.list.keyboardNavigation",R1="workbench.list.scrollByPage",P1="workbench.list.defaultFindMatchType",F1="workbench.tree.indent",B1="workbench.tree.renderIndentGuides",V1="workbench.list.smoothScrolling",W1="workbench.list.mouseWheelScrollSensitivity",z1="workbench.list.fastScrollSensitivity",H1="workbench.tree.expandMode",j1="workbench.tree.enableStickyScroll",U1="workbench.tree.stickyScrollMaxItemCount";function K1(e){return"alt"===e.getValue(N1)}class q1 extends hv{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=K1(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(N1)&&(this.useAltAsMultipleSelectionModifier=K1(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:OX(e)}isSelectionRangeChangeEvent(e){return RX(e)}}function G1(e,t){var i;const n=e.get(gD),o=e.get(oB),s=new dv;return[{...t,keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>o.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(n.getValue(V1)),mouseWheelScrollSensitivity:n.getValue(W1),fastScrollSensitivity:n.getValue(z1),multipleSelectionController:null!==(i=t.multipleSelectionController)&&void 0!==i?i:s.add(new q1(n)),keyboardNavigationEventFilter:t2(o),scrollByPage:Boolean(n.getValue(R1))},s]}let Y1=class extends qX{constructor(e,t,i,n,o,s,r,a,l){const c="undefined"!==typeof o.horizontalScrolling?o.horizontalScrolling:Boolean(a.getValue(I1)),[d,h]=l.invokeFunction(G1,o);super(e,t,i,n,{keyboardSupport:!1,...d,horizontalScrolling:c}),this.disposables.add(h),this.contextKeyService=D1(s,this),this.disposables.add(E1(this.contextKeyService,this)),this.listSupportsMultiSelect=p1.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);b1.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=f1.bindTo(this.contextKeyService),this.listDoubleSelection=m1.bindTo(this.contextKeyService),this.listMultiSelection=v1.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=K1(a),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(a.onDidChangeConfiguration((e=>{e.affectsConfiguration(N1)&&(this._useAltAsMultipleSelectionModifier=K1(a));let t={};if(e.affectsConfiguration(I1)&&void 0===this.horizontalScrolling){const e=Boolean(a.getValue(I1));t={...t,horizontalScrolling:e}}if(e.affectsConfiguration(R1)){const e=Boolean(a.getValue(R1));t={...t,scrollByPage:e}}if(e.affectsConfiguration(V1)){const e=Boolean(a.getValue(V1));t={...t,smoothScrolling:e}}if(e.affectsConfiguration(W1)){const e=a.getValue(W1);t={...t,mouseWheelScrollSensitivity:e}}if(e.affectsConfiguration(z1)){const e=a.getValue(z1);t={...t,fastScrollSensitivity:e}}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new J1(this,{configurationService:a,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?yJ(e):wJ)}};Y1=c1([d1(5,pC),d1(6,h1),d1(7,gD),d1(8,my)],Y1);let Z1=class extends _${constructor(e,t,i,n,o,s,r,a,l){const c="undefined"!==typeof o.horizontalScrolling?o.horizontalScrolling:Boolean(a.getValue(I1)),[d,h]=l.invokeFunction(G1,o);super(e,t,i,n,{keyboardSupport:!1,...d,horizontalScrolling:c}),this.disposables=new dv,this.disposables.add(h),this.contextKeyService=D1(s,this),this.disposables.add(E1(this.contextKeyService,this.widget)),this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=p1.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);b1.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=K1(a),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(a.onDidChangeConfiguration((e=>{e.affectsConfiguration(N1)&&(this._useAltAsMultipleSelectionModifier=K1(a));let t={};if(e.affectsConfiguration(I1)&&void 0===this.horizontalScrolling){const e=Boolean(a.getValue(I1));t={...t,horizontalScrolling:e}}if(e.affectsConfiguration(R1)){const e=Boolean(a.getValue(R1));t={...t,scrollByPage:e}}if(e.affectsConfiguration(V1)){const e=Boolean(a.getValue(V1));t={...t,smoothScrolling:e}}if(e.affectsConfiguration(W1)){const e=a.getValue(W1);t={...t,mouseWheelScrollSensitivity:e}}if(e.affectsConfiguration(z1)){const e=a.getValue(z1);t={...t,fastScrollSensitivity:e}}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new J1(this,{configurationService:a,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?yJ(e):wJ)}dispose(){this.disposables.dispose(),super.dispose()}};Z1=c1([d1(5,pC),d1(6,h1),d1(7,gD),d1(8,my)],Z1);let Q1=class extends B${constructor(e,t,i,n,o,s,r,a,l,c){const d="undefined"!==typeof s.horizontalScrolling?s.horizontalScrolling:Boolean(l.getValue(I1)),[h,u]=c.invokeFunction(G1,s);super(e,t,i,n,o,{keyboardSupport:!1,...h,horizontalScrolling:d}),this.disposables.add(u),this.contextKeyService=D1(r,this),this.disposables.add(E1(this.contextKeyService,this)),this.listSupportsMultiSelect=p1.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport);b1.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=f1.bindTo(this.contextKeyService),this.listDoubleSelection=m1.bindTo(this.contextKeyService),this.listMultiSelection=v1.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=K1(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(N1)&&(this._useAltAsMultipleSelectionModifier=K1(l));let t={};if(e.affectsConfiguration(I1)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(I1));t={...t,horizontalScrolling:e}}if(e.affectsConfiguration(R1)){const e=Boolean(l.getValue(R1));t={...t,scrollByPage:e}}if(e.affectsConfiguration(V1)){const e=Boolean(l.getValue(V1));t={...t,smoothScrolling:e}}if(e.affectsConfiguration(W1)){const e=l.getValue(W1);t={...t,mouseWheelScrollSensitivity:e}}if(e.affectsConfiguration(z1)){const e=l.getValue(z1);t={...t,fastScrollSensitivity:e}}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new $1(this,{configurationService:l,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),void 0!==e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?yJ(e):wJ)}dispose(){this.disposables.dispose(),super.dispose()}};Q1=c1([d1(6,pC),d1(7,h1),d1(8,gD),d1(9,my)],Q1);class X1 extends hv{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new Cv),this.onDidOpen=this._onDidOpen.event,this._register(vv.filter(this.widget.onDidChangeSelection,(e=>NL(e.browserEvent)))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!==typeof(null===t||void 0===t?void 0:t.openOnSingleClick)&&(null===t||void 0===t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null===t||void 0===t?void 0:t.configurationService.getValue(T1)),this._register(null===t||void 0===t?void 0:t.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(T1)&&(this.openOnSingleClick="doubleClick"!==(null===t||void 0===t?void 0:t.configurationService.getValue(T1)))})))):this.openOnSingleClick=null===(i=null===t||void 0===t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!==typeof t.preserveFocus||t.preserveFocus,n="boolean"===typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class J1 extends X1{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class $1 extends X1{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class e2 extends X1{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function t2(e){let t=!1;return i=>{if(i.toKeyCodeChord().isModifierKey())return!1;if(t)return t=!1,!1;const n=e.softDispatch(i,i.target);return 1===n.kind?(t=!0,!1):(t=!1,0===n.kind)}}let i2=class extends W0{constructor(e,t,i,n,o,s,r,a,l){const{options:c,getTypeNavigationMode:d,disposable:h}=s.invokeFunction(c2,o);super(e,t,i,n,c),this.disposables.add(h),this.internals=new d2(this,o,d,o.overrideStyles,r,a,l),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};i2=c1([d1(5,my),d1(6,pC),d1(7,h1),d1(8,gD)],i2);let n2=class extends H0{constructor(e,t,i,n,o,s,r,a,l){const{options:c,getTypeNavigationMode:d,disposable:h}=s.invokeFunction(c2,o);super(e,t,i,n,c),this.disposables.add(h),this.internals=new d2(this,o,d,o.overrideStyles,r,a,l),this.disposables.add(this.internals)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};n2=c1([d1(5,my),d1(6,pC),d1(7,h1),d1(8,gD)],n2);let o2=class extends o1{constructor(e,t,i,n,o,s,r,a,l,c){const{options:d,getTypeNavigationMode:h,disposable:u}=r.invokeFunction(c2,s);super(e,t,i,n,o,d),this.disposables.add(u),this.internals=new d2(this,s,h,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.updateOptions(e),void 0!==e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};o2=c1([d1(6,my),d1(7,pC),d1(8,h1),d1(9,gD)],o2);let s2=class extends e1{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,s,r,a,l,c){const{options:d,getTypeNavigationMode:h,disposable:u}=r.invokeFunction(c2,s);super(e,t,i,n,o,d),this.disposables.add(u),this.internals=new d2(this,s,h,s.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};s2=c1([d1(6,my),d1(7,pC),d1(8,h1),d1(9,gD)],s2);let r2=class extends n1{constructor(e,t,i,n,o,s,r,a,l,c,d){const{options:h,getTypeNavigationMode:u,disposable:g}=a.invokeFunction(c2,r);super(e,t,i,n,o,s,h),this.disposables.add(g),this.internals=new d2(this,r,u,r.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function a2(e){const t=e.getValue(A1);if("highlight"===t)return m0.Highlight;if("filter"===t)return m0.Filter;const i=e.getValue(O1);return"simple"===i||"highlight"===i?m0.Highlight:"filter"===i?m0.Filter:void 0}function l2(e){const t=e.getValue(P1);return"fuzzy"===t?v0.Fuzzy:"contiguous"===t?v0.Contiguous:void 0}function c2(e,t){var i;const n=e.get(gD),o=e.get(nZ),s=e.get(pC),r=e.get(my),a=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(I1)),[l,c]=r.invokeFunction(G1,t),d=t.paddingBottom,h=void 0!==t.renderIndentGuides?t.renderIndentGuides:n.getValue(B1);return{getTypeNavigationMode:()=>{const e=s.getContextKeyValue(L1);if("automatic"===e)return _X.Automatic;if("trigger"===e)return _X.Trigger;if(!1===s.getContextKeyValue(x1))return _X.Trigger;const t=n.getValue(M1);return"automatic"===t?_X.Automatic:"trigger"===t?_X.Trigger:void 0},disposable:c,options:{keyboardSupport:!1,...l,indent:"number"===typeof n.getValue(F1)?n.getValue(F1):void 0,renderIndentGuides:h,smoothScrolling:Boolean(n.getValue(V1)),defaultFindMode:a2(n),defaultFindMatchType:l2(n),horizontalScrolling:a,scrollByPage:Boolean(n.getValue(R1)),paddingBottom:d,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(i=t.expandOnlyOnTwistieClick)&&void 0!==i?i:"doubleClick"===n.getValue(H1),contextViewProvider:o,findWidgetStyles:bJ,enableStickyScroll:Boolean(n.getValue(j1)),stickyScrollMaxItemCount:Number(n.getValue(U1))}}}r2=c1([d1(7,my),d1(8,pC),d1(9,h1),d1(10,gD)],r2);let d2=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,n,o,s,r){var a;this.tree=e,this.disposables=[],this.contextKeyService=D1(o,e),this.disposables.push(E1(this.contextKeyService,e)),this.listSupportsMultiSelect=p1.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);b1.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.listSupportFindWidget=_1.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(a=t.findWidgetEnabled)||void 0===a||a),this.hasSelectionOrFocus=f1.bindTo(this.contextKeyService),this.hasDoubleSelection=m1.bindTo(this.contextKeyService),this.hasMultiSelection=v1.bindTo(this.contextKeyService),this.treeElementCanCollapse=w1.bindTo(this.contextKeyService),this.treeElementHasParent=y1.bindTo(this.contextKeyService),this.treeElementCanExpand=C1.bindTo(this.contextKeyService),this.treeElementHasChild=S1.bindTo(this.contextKeyService),this.treeFindOpen=k1.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=K1(r),this.updateStyleOverrides(n);const l=()=>{const t=e.getFocus()[0];if(!t)return;const i=e.getNode(t);this.treeElementCanCollapse.set(i.collapsible&&!i.collapsed),this.treeElementHasParent.set(!!e.getParentElement(t)),this.treeElementCanExpand.set(i.collapsible&&i.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(t))},c=new Set;c.add(L1),c.add(x1),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0),l()})),e.onDidChangeCollapseState(l),e.onDidChangeModel(l),e.onDidChangeFindOpenState((e=>this.treeFindOpen.set(e))),r.onDidChangeConfiguration((n=>{let o={};if(n.affectsConfiguration(N1)&&(this._useAltAsMultipleSelectionModifier=K1(r)),n.affectsConfiguration(F1)){const e=r.getValue(F1);o={...o,indent:e}}if(n.affectsConfiguration(B1)&&void 0===t.renderIndentGuides){const e=r.getValue(B1);o={...o,renderIndentGuides:e}}if(n.affectsConfiguration(V1)){const e=Boolean(r.getValue(V1));o={...o,smoothScrolling:e}}if(n.affectsConfiguration(A1)||n.affectsConfiguration(O1)){const e=a2(r);o={...o,defaultFindMode:e}}if(n.affectsConfiguration(M1)||n.affectsConfiguration(O1)){const e=i();o={...o,typeNavigationMode:e}}if(n.affectsConfiguration(P1)){const e=l2(r);o={...o,defaultFindMatchType:e}}if(n.affectsConfiguration(I1)&&void 0===t.horizontalScrolling){const e=Boolean(r.getValue(I1));o={...o,horizontalScrolling:e}}if(n.affectsConfiguration(R1)){const e=Boolean(r.getValue(R1));o={...o,scrollByPage:e}}if(n.affectsConfiguration(H1)&&void 0===t.expandOnlyOnTwistieClick&&(o={...o,expandOnlyOnTwistieClick:"doubleClick"===r.getValue(H1)}),n.affectsConfiguration(j1)){const e=r.getValue(j1);o={...o,enableStickyScroll:e}}if(n.affectsConfiguration(U1)){const e=Math.max(1,r.getValue(U1));o={...o,stickyScrollMaxItemCount:e}}if(n.affectsConfiguration(W1)){const e=r.getValue(W1);o={...o,mouseWheelScrollSensitivity:e}}if(n.affectsConfiguration(z1)){const e=r.getValue(z1);o={...o,fastScrollSensitivity:e}}Object.keys(o).length>0&&e.updateOptions(o)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(c)&&e.updateOptions({typeNavigationMode:i()})}))),this.navigator=new e2(e,{configurationService:r,...t}),this.disposables.push(this.navigator)}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?yJ(e):wJ)}dispose(){this.disposables=av(this.disposables)}};d2=c1([d1(4,pC),d1(5,h1),d1(6,gD)],d2);var h2;TC.as(DD).registerConfiguration({id:"workbench",order:7,title:lf("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[N1]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[lf("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),lf("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:lf({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[T1]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:lf({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[I1]:{type:"boolean",default:!1,description:lf("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[R1]:{type:"boolean",default:!1,description:lf("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[F1]:{type:"number",default:8,minimum:4,maximum:40,description:lf("tree indent setting","Controls tree indentation in pixels.")},[B1]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:lf("render tree indent guides","Controls whether the tree should render indent guides.")},[V1]:{type:"boolean",default:!1,description:lf("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[W1]:{type:"number",default:1,markdownDescription:lf("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[z1]:{type:"number",default:5,markdownDescription:lf("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[A1]:{type:"string",enum:["highlight","filter"],enumDescriptions:[lf("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),lf("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:lf("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[O1]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[lf("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),lf("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),lf("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:lf("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:lf("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[P1]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[lf("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),lf("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:lf("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[H1]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:lf("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[j1]:{type:"boolean",default:"string"===typeof l1.quality&&"stable"!==l1.quality,description:lf("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[U1]:{type:"number",minimum:1,default:7,markdownDescription:lf("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[M1]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:lf("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}}),function(e){e[e.PRESERVE=0]="PRESERVE",e[e.LAST=1]="LAST"}(h2||(h2={}));const u2="workbench.contributions.quickaccess";TC.add(u2,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),cv((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return yp([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});const g2={ctrlCmd:!1,alt:!1};var p2,f2;!function(e){e[e.Blur=1]="Blur",e[e.Gesture=2]="Gesture",e[e.Other=3]="Other"}(p2||(p2={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(f2||(f2={}));new class{constructor(e){this.options=e}};const m2=vy("quickInputService");var v2=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b2=function(e,t){return function(i,n){t(i,n,e)}};let _2=class extends hv{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=TC.as(u2),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,s]=this.getOrInstantiateProvider(e),r=this.visibleQuickAccess,a=null===r||void 0===r?void 0:r.descriptor;if(r&&s&&a===s)return e===s.prefix||(null===i||void 0===i?void 0:i.preserveValue)||(r.picker.value=e),void this.adjustValueSelection(r.picker,s,i);if(s&&!(null===i||void 0===i?void 0:i.preserveValue)){let t;if(r&&a&&a!==s){const e=r.value.substr(a.prefix.length);e&&(t="".concat(s.prefix).concat(e))}if(!t){const e=null===o||void 0===o?void 0:o.defaultFilterValue;e===h2.LAST?t=this.lastAcceptedPickerValues.get(s):"string"===typeof e&&(t="".concat(s.prefix).concat(e))}"string"===typeof t&&(e=t)}const l=new dv,c=l.add(this.quickInputService.createQuickPick());let d;c.value=e,this.adjustValueSelection(c,s,i),c.placeholder=null===s||void 0===s?void 0:s.placeholder,c.quickNavigate=null===i||void 0===i?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!r,("number"===typeof(null===i||void 0===i?void 0:i.itemActivation)||(null===i||void 0===i?void 0:i.quickNavigateConfiguration))&&(c.itemActivation=null!==(n=null===i||void 0===i?void 0:i.itemActivation)&&void 0!==n?n:f2.SECOND),c.contextKey=null===s||void 0===s?void 0:s.contextKey,c.filterValue=e=>e.substring(s?s.prefix.length:0),t&&(d=new yS,l.add(vv.once(c.onWillAccept)((e=>{e.veto(),c.hide()})))),l.add(this.registerPickerListeners(c,o,s,e,null===i||void 0===i?void 0:i.providerOptions));const h=l.add(new Mv);return o&&l.add(o.provide(c,h.token,null===i||void 0===i?void 0:i.providerOptions)),vv.once(c.onDidHide)((()=>{0===c.selectedItems.length&&h.cancel(),l.dispose(),null===d||void 0===d||d.complete(c.selectedItems.slice(0))})),c.show(),t?null===d||void 0===d?void 0:d.p:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null===i||void 0===i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null===t||void 0===t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n,o){const s=new dv,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return s.add(cv((()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),s.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0,providerOptions:o}):r.value=e}))),i&&s.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};_2=v2([b2(0,m2),b2(1,my)],_2);hT.white.toString(),hT.white.toString();class w2 extends hv{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new Cv),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,n=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=n||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),e.appendChild(this._element),this._register(bA.addTarget(this._element)),[TL.CLICK,mA.Tap].forEach((e=>{this._register(Zk(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):AL(e)})))})),this._register(Zk(this._element,TL.KEY_DOWN,(e=>{const t=new eS(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&AL(t,!0)}))),this._register(Zk(this._element,TL.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.updateBackground(!0)}))),this._register(Zk(this._element,TL.MOUSE_OUT,(e=>{this.updateBackground(!1)}))),this.focusTracker=this._register(OL(this._element)),this._register(this.focusTracker.onDidFocus((()=>{this.enabled&&this.updateBackground(!0)}))),this._register(this.focusTracker.onDidBlur((()=>{this.enabled&&this.updateBackground(!1)})))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of TQ(e))if("string"===typeof i){if(i=i.trim(),""===i)continue;const e=document.createElement("span");e.textContent=i,t.push(e)}else t.push(i);return t}updateBackground(e){let t;t=this.options.secondary?e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var t,i,n;if(this._label===e)return;if(bQ(this._label)&&bQ(e)&&((i=this._label)===(n=e)||i&&n&&i.value===n.value&&i.isTrusted===n.isTrusted&&i.supportThemeIcons===n.supportThemeIcons&&i.supportHtml===n.supportHtml&&(i.baseUri===n.baseUri||i.baseUri&&n.baseUri&&fH(Lb.from(i.baseUri),Lb.from(n.baseUri)))))return;this._element.classList.add("monaco-text-button");const o=this.options.supportShortLabel?this._labelElement:this._element;if(bQ(e)){const i=WQ(e,{inline:!0});i.dispose();const n=null===(t=i.element.querySelector("p"))||void 0===t?void 0:t.innerHTML;if(n){const e=_k(n,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});o.innerHTML=e}else FL(o)}else this.options.supportIcons?FL(o,...this.getContentElements(e)):o.textContent=e;"string"===typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=KQ(e)),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...Ey.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}class y2{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=RL(e,zL(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){var e,t;this.element.textContent=J_(this.countFormat,this.count),this.element.title=J_(this.titleFormat,this.count),this.element.style.backgroundColor=null!==(e=this.styles.badgeBackground)&&void 0!==e?e:"",this.element.style.color=null!==(t=this.styles.badgeForeground)&&void 0!==t?t:"",this.styles.badgeBorder&&(this.element.style.border="1px solid ".concat(this.styles.badgeBorder))}}const C2="done",S2="active",k2="infinite",L2="infinite-long-running",x2="discrete";class D2 extends hv{constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new mS((()=>HL(this.element)),0)),this.longRunningScheduler=this._register(new mS((()=>this.infiniteLongRunning()),D2.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(null===t||void 0===t?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S2,k2,L2,x2),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(C2),this.element.classList.contains(k2)?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(x2,C2,L2),this.element.classList.add(S2,k2),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(L2)}getContainer(){return this.element}}D2.LONG_RUNNING_INFINITE_THRESHOLD=1e4;const E2=zL;class N2 extends hv{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=e=>Xk(this.findInput.inputBox.inputElement,TL.KEY_DOWN,e),this.onMouseDown=e=>Xk(this.findInput.inputBox.inputElement,TL.MOUSE_DOWN,e),this.onDidChange=e=>this.findInput.onDidChange(e),this.container=RL(this.parent,E2(".quick-input-box")),this.findInput=this._register(new J$(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.findInput.inputBox.select(e)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return"password"===this.findInput.inputBox.inputElement.type}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===ZK.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===ZK.Info?1:e===ZK.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===ZK.Info?1:e===ZK.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}class T2{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(i=null===t||void 0===t?void 0:t.supportIcons)&&void 0!==i&&i,this.domNode=RL(e,zL("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e||(e=""),(arguments.length>3?arguments[3]:void 0)&&(e=T2.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&of(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const n=this.text.substring(t,i.start);this.supportIcons?e.push(...TQ(n)):e.push(n),t=i.start}const n=this.text.substring(t,i.end),o=zL("span.highlight",void 0,...this.supportIcons?TQ(n):[n]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);this.supportIcons?e.push(...TQ(i)):e.push(i)}FL(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const i of t)i.end<=o||(i.start>=o&&(i.start+=n),i.end>=o&&(i.end+=n));return i+=n,"\u23ce"}))}}class I2{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class A2 extends hv{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new I2(RL(e,zL(".monaco-icon-label")))),this.labelContainer=RL(this.domNode.element,zL(".monaco-icon-label-container")),this.nameContainer=RL(this.labelContainer,zL("span.monaco-icon-name-container")),(null===t||void 0===t?void 0:t.supportHighlights)||(null===t||void 0===t?void 0:t.supportIcons)?this.nameNode=new O2(this.nameContainer,!!t.supportIcons):this.nameNode=new M2(this.nameContainer),this.hoverDelegate=null===t||void 0===t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){var n;const o=["monaco-icon-label"],s=["monaco-icon-label-container"];let r="";if(i&&(i.extraClasses&&o.push(...i.extraClasses),i.italic&&o.push("italic"),i.strikethrough&&o.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&("string"===typeof i.title?r+=i.title:r+=e)),this.domNode.className=o.join(" "),this.domNode.element.setAttribute("aria-label",r),this.labelContainer.className=s.join(" "),this.setupHover((null===i||void 0===i?void 0:i.descriptionTitle)?this.labelContainer:this.element,null===i||void 0===i?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const e=this.getOrCreateDescriptionNode();e instanceof T2?(e.set(t||"",i?i.descriptionMatches:void 0,void 0,null===i||void 0===i?void 0:i.labelEscapeNewLines),this.setupHover(e.element,null===i||void 0===i?void 0:i.descriptionTitle)):(e.textContent=t&&(null===i||void 0===i?void 0:i.labelEscapeNewLines)?T2.escapeNewLines(t,[]):t||"",this.setupHover(e.element,(null===i||void 0===i?void 0:i.descriptionTitle)||""),e.empty=!t)}if((null===i||void 0===i?void 0:i.suffix)||this.suffixNode){this.getOrCreateSuffixNode().textContent=null!==(n=null===i||void 0===i?void 0:i.suffix)&&void 0!==n?n:""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const i=CQ(this.hoverDelegate,e,t);i&&this.customHovers.set(e,i)}else!function(e,t){Wp(t)?e.title=gQ(t):(null===t||void 0===t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const i=this._register(new I2((e=this.nameContainer,t=zL("span.monaco-icon-suffix-container"),e.after(t),t)));this.suffixNode=this._register(new I2(RL(i.element,zL("span.label-suffix"))))}var e,t;return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new I2(RL(this.labelContainer,zL("span.monaco-icon-description-container"))));(null===(e=this.creationOptions)||void 0===e?void 0:e.supportDescriptionHighlights)?this.descriptionNode=new T2(RL(t.element,zL("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new I2(RL(t.element,zL("span.label-description"))))}return this.descriptionNode}}class M2{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!of(this.options,t))if(this.label=e,this.options=t,"string"===typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=RL(this.container,zL("a.label-name",{id:null===t||void 0===t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(null===t||void 0===t?void 0:t.domId)&&"".concat(null===t||void 0===t?void 0:t.domId,"_").concat(i);RL(this.container,zL("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&RL(this.container,zL("span.label-separator",void 0,(null===t||void 0===t?void 0:t.separator)||"/"))}}}}class O2{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!of(this.options,t))if(this.label=e,this.options=t,"string"===typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new T2(RL(this.container,zL("a.label-name",{id:null===t||void 0===t?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,null===t||void 0===t?void 0:t.matches,void 0,null===t||void 0===t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null===t||void 0===t?void 0:t.separator)||"/",n=function(e,t,i){if(!i)return;let n=0;return e.map((e=>{const o={start:n,end:n+e.length},s=i.map((e=>sZ.intersect(o,e))).filter((e=>!sZ.isEmpty(e))).map((e=>{let{start:t,end:i}=e;return{start:t-n,end:i-n}}));return n=o.end+t.length,s}))}(e,i,null===t||void 0===t?void 0:t.matches);for(let o=0;o<e.length;o++){const s=e[o],r=n?n[o]:void 0,a=zL("a.label-name",{id:(null===t||void 0===t?void 0:t.domId)&&"".concat(null===t||void 0===t?void 0:t.domId,"_").concat(o),"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new T2(RL(this.container,a),{supportIcons:this.supportIcons}).set(s,r,void 0,null===t||void 0===t?void 0:t.labelEscapeNewLines),o<e.length-1&&RL(a,zL("span.label-separator",void 0,i))}}}}const R2=zL;class P2{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=RL(e,R2(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&P2.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let e=1;e<t.length;e++)RL(this.domNode,R2("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[e],this.matches?this.matches.chordPart:null);const i=null!==(e=this.options.disableTitle)&&void 0!==e&&e?void 0:this.keybinding.getAriaLabel()||void 0;void 0!==i?this.domNode.title=i:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){Gk(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const n=NY.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null===i||void 0===i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null===i||void 0===i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null===i||void 0===i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null===i||void 0===i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null===i||void 0===i?void 0:i.keyCode),"")}renderKey(e,t,i,n){RL(e,this.createKeyElement(t,i?".highlight":"")),n&&RL(e,R2("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){RL(e,this.createKeyElement(lf("unbound","Unbound")))}createKeyElement(e){const t=R2("span.monaco-keybinding-key"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),void 0,e);return this.keyElements.add(t),this.options.keybindingLabelBackground&&(t.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(t.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(t.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(t.style.boxShadow="inset 0 -1px 0 ".concat(this.options.keybindingLabelShadow)),t}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&of(e.firstPart,t.firstPart)&&of(e.chordPart,t.chordPart)}}const F2=new Z_((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));new Z_((()=>({collator:new Intl.Collator(void 0,{numeric:!0})}))),new Z_((()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})})));function B2(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=n.startsWith(i),r=o.startsWith(i);if(s!==r)return s?-1:1;if(s&&r){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(s)return s;const r=n.endsWith(i);if(r!==o.endsWith(i))return r?-1:1;const a=function(e,t){const i=e||"",n=t||"",o=F2.value.collator.compare(i,n);return F2.value.collatorIsNumeric&&0===o&&i!==n?i<n?-1:1:o}(n,o);return 0!==a?a:n.localeCompare(o)}var V2=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};class W2{constructor(e){this.nodes=e}toString(){return this.nodes.map((e=>"string"===typeof e?e:e.label)).join("")}}V2([fA],W2.prototype,"toString",null);const z2=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;const H2={},j2=new AQ("quick-input-button-icon-");function U2(e){if(!e)return;let t;const i=e.dark.toString();return H2[i]?t=H2[i]:(t=j2.nextId(),DL(".".concat(t,", .hc-light .").concat(t),"background-image: ".concat(qL(e.light||e.dark))),DL(".vs-dark .".concat(t,", .hc-black .").concat(t),"background-image: ".concat(qL(e.dark))),H2[i]=t),t}function K2(e,t,i){FL(t);const n=function(e){const t=[];let i,n=0;for(;i=z2.exec(e);){i.index-n>0&&t.push(e.substring(n,i.index));const[,o,s,,r]=i;r?t.push({label:o,href:s,title:r}):t.push({label:o,href:s}),n=i.index+i[0].length}return n<e.length&&t.push(e.substring(n)),new W2(t)}(e);let o=0;for(const s of n.nodes)if("string"===typeof s)t.append(...TQ(s));else{let e=s.title;!e&&s.href.startsWith("command:")?e=lf("executeCommand","Click to execute command '{0}'",s.href.substring(8)):e||(e=s.href);const n=zL("a",{href:s.href,title:e,tabIndex:o++},s.label);n.style.textDecoration="underline";const r=e=>{IL(e)&&AL(e,!0),i.callback(s.href)},a=i.disposables.add(new PP(n,TL.CLICK)).event,l=i.disposables.add(new PP(n,TL.KEY_DOWN)).event,c=vv.chain(l,(e=>e.filter((e=>{const t=new eS(e);return t.equals(10)||t.equals(3)}))));i.disposables.add(bA.addTarget(n));const d=i.disposables.add(new PP(n,mA.Tap)).event;vv.any(a,d,c)(r,null,i.disposables),t.appendChild(n)}}var q2=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const G2=zL;class Y2{constructor(e,t,i,n,o,s,r){var a,l,c;this._checked=!1,this._hidden=!1,this.hasCheckbox=n,this.index=i,this.fireButtonTriggered=o,this.fireSeparatorButtonTriggered=s,this._onChecked=r,this.onChecked=n?vv.map(vv.filter(this._onChecked.event,(e=>e.listElement===this)),(e=>e.checked)):vv.None,"separator"===e.type?this._separator=e:(this.item=e,t&&"separator"===t.type&&!t.buttons&&(this._separator=t),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=null===(a=this.item.highlights)||void 0===a?void 0:a.label,this._descriptionHighlights=null===(l=this.item.highlights)||void 0===l?void 0:l.description,this._detailHighlights=null===(c=this.item.highlights)||void 0===c?void 0:c.detail,this.saneTooltip=this.item.tooltip),this._init=new Z_((()=>{var t;const i=null!==(t=e.label)&&void 0!==t?t:"",n=fQ(i).text.trim(),o=e.ariaLabel||[i,this.saneDescription,this.saneDetail].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>" ".concat(t," "))).trim():"";var t})).filter((e=>!!e)).join(", ");return{saneLabel:i,saneSortLabel:n,saneAriaLabel:o}}))}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({listElement:this,checked:e}))}get separator(){return this._separator}set separator(e){this._separator=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class Z2{constructor(e){this.themeService=e}get templateId(){return Z2.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=RL(e,G2(".quick-input-list-entry"));const i=RL(t.entry,G2("label.quick-input-list-label"));t.toDisposeTemplate.push(Xk(i,TL.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=RL(i,G2("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Xk(t.checkbox,TL.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const n=RL(i,G2(".quick-input-list-rows")),o=RL(n,G2(".quick-input-list-row")),s=RL(n,G2(".quick-input-list-row"));t.label=new A2(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.label),t.icon=PL(t.label.element,G2(".quick-input-list-icon"));const r=RL(o,G2(".quick-input-list-entry-keybinding"));t.keybinding=new P2(r,Hf);const a=RL(s,G2(".quick-input-list-label-meta"));return t.detail=new A2(a,{supportHighlights:!0,supportIcons:!0}),t.toDisposeTemplate.push(t.detail),t.separator=RL(t.entry,G2(".quick-input-list-separator")),t.actionBar=new MJ(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){var n,o,s,r;i.element=e,e.element=null!==(n=i.entry)&&void 0!==n?n:void 0;const a=e.item?e.item:e.separator;i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((e=>i.checkbox.checked=e)));const{labelHighlights:l,descriptionHighlights:c,detailHighlights:d}=e;if(null===(o=e.item)||void 0===o?void 0:o.iconPath){const t=VR(this.themeService.getColorTheme().type)?e.item.iconPath.dark:null!==(s=e.item.iconPath.light)&&void 0!==s?s:e.item.iconPath.dark,n=Lb.revive(t);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=qL(n)}else i.icon.style.backgroundImage="",i.icon.className=(null===(r=e.item)||void 0===r?void 0:r.iconClass)?"quick-input-list-icon ".concat(e.item.iconClass):"";const h={matches:l||[],descriptionTitle:e.saneDescription,descriptionMatches:c||[],labelEscapeNewLines:!0};"separator"!==a.type?(h.extraClasses=a.iconClasses,h.italic=a.italic,h.strikethrough=a.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item")):i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(e.saneLabel,e.saneDescription,h),i.keybinding.set("separator"===a.type?void 0:a.keybinding),e.saneDetail?(i.detail.element.style.display="",i.detail.setLabel(e.saneDetail,void 0,{matches:d,title:e.saneDetail,labelEscapeNewLines:!0})):i.detail.element.style.display="none",e.item&&e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator);const u=a.buttons;u&&u.length?(i.actionBar.push(u.map(((t,i)=>{let n=t.iconClass||(t.iconPath?U2(t.iconPath):void 0);return t.alwaysVisible&&(n=n?"".concat(n," always-visible"):"always-visible"),{id:"id-".concat(i),class:n,enabled:!0,label:"",tooltip:t.tooltip||"",run:()=>{"separator"!==a.type?e.fireButtonTriggered({button:t,item:a}):e.fireSeparatorButtonTriggered({button:t,separator:a})}}})),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=av(i.toDisposeElement),i.actionBar.clear()}disposeTemplate(e){e.toDisposeElement=av(e.toDisposeElement),e.toDisposeTemplate=av(e.toDisposeTemplate)}}Z2.ID="listelement";class Q2{getHeight(e){return e.item?e.saneDetail?44:22:24}getTemplateId(e){return Z2.ID}}var X2;!function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage"}(X2||(X2={}));class J2{constructor(e,t,i,n){this.parent=e,this.options=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Cv,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Cv,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Cv,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Cv,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Cv,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new Cv,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new Cv,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Cv,this.onLeave=this._onLeave.event,this._listElementChecked=new Cv,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=RL(this.parent,G2(".quick-input-list"));const o=new Q2,s=new e4;if(this.list=i.createList("QuickInput",this.container,o,[new Z2(n)],{identityProvider:{getId:e=>{var t,i,n,o,s,r,a,l;return null!==(l=null!==(r=null!==(o=null!==(i=null===(t=e.item)||void 0===t?void 0:t.id)&&void 0!==i?i:null===(n=e.item)||void 0===n?void 0:n.label)&&void 0!==o?o:null===(s=e.separator)||void 0===s?void 0:s.id)&&void 0!==r?r:null===(a=e.separator)||void 0===a?void 0:a.label)&&void 0!==l?l:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new eS(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(Af?e.metaKey:e.ctrlKey)&&this.list.setFocus(xp(this.list.length));break;case 16:{const e=this.list.getFocus();1===e.length&&0===e[0]&&this._onLeave.fire();break}case 18:{const e=this.list.getFocus();1===e.length&&e[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(Zk(this.container,TL.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"===typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),i.hoverDelegate){const e=new hS(i.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver((async t=>{var i;if(t.browserEvent.target instanceof HTMLAnchorElement)e.cancel();else if(t.browserEvent.relatedTarget instanceof HTMLAnchorElement||!uL(t.browserEvent.relatedTarget,null===(i=t.element)||void 0===i?void 0:i.element))try{await e.trigger((async()=>{t.element&&this.showHover(t.element)}))}catch(t){if(!Ym(t))throw t}}))),this.disposables.push(this.list.onMouseOut((t=>{var i;uL(t.browserEvent.relatedTarget,null===(i=t.element)||void 0===i?void 0:i.element)||e.cancel()}))),this.disposables.push(e)}this.disposables.push(this._listElementChecked.event((e=>this.fireCheckedEvents()))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return vv.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return vv.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(e){this.list.getHTMLElement().ariaLabel=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=av(this.elementDisposables);const t=e=>this.fireButtonTriggered(e),i=e=>this.fireSeparatorButtonTriggered(e);this.inputElements=e;const n=new Map,o=this.parent.classList.contains("show-checkboxes");this.elements=e.reduce(((s,r,a)=>{var l;const c=a>0?e[a-1]:void 0;if("separator"===r.type&&!r.buttons)return s;const d=new Y2(r,c,a,o,t,i,this._listElementChecked),h=s.length;return s.push(d),n.set(null!==(l=d.item)&&void 0!==l?l:d.separator,h),s}),[]),this.elementsToIndexes=n,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"===typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item)).filter((e=>!!e))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===X2.Second&&this.list.length<2&&(e=X2.First),e){case X2.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(e=>!!e.item));break;case X2.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(e=>!!e.item));break;case X2.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(e=>!!e.item));break;case X2.Next:{this.list.focusNext(void 0,!0,void 0,(e=>!!e.item));const e=this.list.getFocus()[0];0!==e&&!this.elements[e-1].item&&this.list.firstVisibleIndex>e-1&&this.list.reveal(e-1);break}case X2.Previous:{this.list.focusPrevious(void 0,!0,void 0,(e=>!!e.item));const e=this.list.getFocus()[0];0!==e&&!this.elements[e-1].item&&this.list.firstVisibleIndex>e-1&&this.list.reveal(e-1);break}case X2.NextPage:this.list.focusNextPage(void 0,(e=>!!e.item));break;case X2.PreviousPage:this.list.focusPreviousPage(void 0,(e=>!!e.item))}const t=this.list.getFocus()[0];"number"===typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(e){var t,i,n;void 0!==this.options.hoverDelegate&&(this._lastHover&&!this._lastHover.isDisposed&&(null===(i=(t=this.options.hoverDelegate).onDidHideHover)||void 0===i||i.call(t),null===(n=this._lastHover)||void 0===n||n.dispose()),e.element&&e.saneTooltip&&(this._lastHover=this.options.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:e=>{this.options.linkOpenerDelegate(e)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)))}layout(e){this.list.getHTMLElement().style.maxHeight=e?"".concat(44*Math.floor(e/44)+6,"px"):"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let i;this.elements.forEach((n=>{var o,s,r,a;let l;l="fuzzy"===this.matchOnLabelMode?this.matchOnLabel&&null!==(o=mQ(e,fQ(n.saneLabel)))&&void 0!==o?o:void 0:this.matchOnLabel&&null!==(s=function(e,t){const{text:i,iconOffsets:n}=t;if(!n||0===n.length)return $2(e,i);const o=tw(i," "),s=i.length-o.length,r=$2(e,o);if(r)for(const a of r){const e=n[a.start+s]+s;a.start+=e,a.end+=e}return r}(t,fQ(n.saneLabel)))&&void 0!==s?s:void 0;const c=this.matchOnDescription&&null!==(r=mQ(e,fQ(n.saneDescription||"")))&&void 0!==r?r:void 0,d=this.matchOnDetail&&null!==(a=mQ(e,fQ(n.saneDetail||"")))&&void 0!==a?a:void 0;if(l||c||d?(n.labelHighlights=l,n.descriptionHighlights=c,n.detailHighlights=d,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item||!n.item.alwaysShow),n.item?n.separator=void 0:n.separator&&(n.hidden=!0),!this.sortByLabel){const e=n.index&&this.inputElements[n.index-1];i=e&&"separator"===e.type?e:i,i&&!n.hidden&&(n.separator=i,i=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.item&&(e.separator=t&&"separator"===t.type&&!t.buttons?t:void 0)}));const i=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const t=e.toLowerCase();i.sort(((e,i)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;if(0===n.length&&0===o.length)return 0;return B2(e.saneSortLabel,t.saneSortLabel,i)}(e,i,t)))}return this.elementsToIndexes=i.reduce(((e,t,i)=>{var n;return e.set(null!==(n=t.item)&&void 0!==n?n:t.separator,i),e}),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=av(this.elementDisposables),this.disposables=av(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}style(e){this.list.style(e)}toggleHover(){const e=this.list.getFocusedElements()[0];if(!(null===e||void 0===e?void 0:e.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();const t=this.list.getFocusedElements()[0];if(!t)return;this.showHover(t);const i=new dv;i.add(this.list.onDidChangeFocus((e=>{e.indexes.length&&this.showHover(e.elements[0])}))),this._lastHover&&i.add(this._lastHover),this._toggleHover=i,this.elementDisposables.push(this._toggleHover)}}function $2(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1!==i?[{start:i,end:i+e.length}]:null}q2([fA],J2.prototype,"onDidChangeFocus",null),q2([fA],J2.prototype,"onDidChangeSelection",null);class e4{getWidgetAriaLabel(){return lf("quickInput","Quick Input")}getAriaLabel(e){var t;return(null===(t=e.separator)||void 0===t?void 0:t.label)?"".concat(e.saneAriaLabel,", ").concat(e.separator.label):e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}const t4={iconClass:Ey.asClassName(Hb.quickInputBack),tooltip:lf("quickInput.back","Back"),handle:-1};class i4 extends hv{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=i4.noPromptMessage,this._severity=ZK.Ignore,this.onDidTriggerButtonEmitter=this._register(new Cv),this.onDidHideEmitter=this._register(new Cv),this.onDisposeEmitter=this._register(new Cv),this.visibleDisposables=this._register(new dv),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Ff;this._ignoreFocusOut=e&&!Ff,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=null!==e&&void 0!==e?e:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p2.Other;this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:i||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText="\xa0");const n=this.getDescription();if(this.ui.description1.textContent!==n&&(this.ui.description1.textContent=n),this.ui.description2.textContent!==n&&(this.ui.description2.textContent=n),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?FL(this.ui.widget,this._widget):FL(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new pS,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===t4));this.ui.leftActionBar.push(e.map(((e,t)=>{const i=new yy("id-".concat(t),"",e.iconClass||U2(e.iconPath),!0,(async()=>{this.onDidTriggerButtonEmitter.fire(e)}));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==t4));this.ui.rightActionBar.push(t.map(((e,t)=>{const i=new yy("id-".concat(t),"",e.iconClass||U2(e.iconPath),!0,(async()=>{this.onDidTriggerButtonEmitter.fire(e)}));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const i=null!==(t=null===(e=this.toggles)||void 0===e?void 0:e.filter((e=>e instanceof V$)))&&void 0!==t?t:[];this.ui.inputBox.toggles=i}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,FL(this.ui.message),K2(o,this.ui.message,{callback:e=>{this.ui.linkOpenerDelegate(e)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?"".concat(this.title," (").concat(this.getSteps(),")"):this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?lf("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==ZK.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?"".concat(t.foreground):"",this.ui.message.style.backgroundColor=t.background?"".concat(t.background):"",this.ui.message.style.border=t.border?"1px solid ".concat(t.border):"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}i4.noPromptMessage=lf("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class n4 extends i4{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Cv),this.onWillAcceptEmitter=this._register(new Cv),this.onDidAcceptEmitter=this._register(new Cv),this.onDidCustomEmitter=this._register(new Cv),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=f2.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Cv),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Cv),this.onDidTriggerItemButtonEmitter=this._register(new Cv),this.onDidTriggerSeparatorButtonEmitter=this._register(new Cv),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){if(this._value!==e){if(this._value=e,t||this.update(),this.visible){this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?g2:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(X2.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{this.doSetValue(e,!0)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(X2.Next),this.canSelectMany&&this.ui.list.domFocus(),AL(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(X2.Previous):this.ui.list.focus(X2.Last),this.canSelectMany&&this.ui.list.domFocus(),AL(e,!0);break;case 12:this.ui.list.focus(X2.NextPage),this.canSelectMany&&this.ui.list.domFocus(),AL(e,!0);break;case 11:this.ui.list.focus(X2.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),AL(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(X2.First),AL(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(X2.Last),AL(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&bp(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((e=>{let{items:t,event:i}=e;this.canSelectMany?t.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&bp(t,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(EL(i)&&1===i.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&bp(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((e=>this.onDidTriggerSeparatorButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return Zk(this.ui.container,TL.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new eS(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const n=e.getChords();return!(n.length>1)&&(n[0].shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n[0].altKey||6!==i)||(!(!n[0].ctrlKey||5!==i)||!(!n[0].metaKey||57!==i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel;if(!n&&i.inputBox&&(n=this.placeholder||n4.DEFAULT_ARIA_LABEL,this.title&&(n+=" - ".concat(this.title))),this.ui.list.ariaLabel!==n&&(this.ui.list.ariaLabel=null!==n&&void 0!==n?n:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case f2.NONE:this._itemActivation=f2.FIRST;break;case f2.SECOND:this.ui.list.focus(X2.Second),this._itemActivation=f2.FIRST;break;case f2.LAST:this.ui.list.focus(X2.Last),this._itemActivation=f2.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(X2.First)),this.keepScrollPosition&&(this.scrollTop=e)}}n4.DEFAULT_ARIA_LABEL=lf("quickInputBox.ariaLabel","Type to narrow down results.");class o4 extends i4{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new Cv),this.onDidAcceptEmitter=this._register(new Cv),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>this.onDidAcceptEmitter.fire()))),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}const s4=zL;class r4 extends hv{constructor(e,t,i){super(),this.options=e,this.themeService=t,this.layoutService=i,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Cv),this.onDidCustomEmitter=this._register(new Cv),this.onDidTriggerButtonEmitter=this._register(new Cv),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Cv),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Cv),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this._register(vv.runAndSubscribe(Uk,(e=>{let{window:t,disposables:i}=e;return this.registerKeyModsListeners(t,i)}),{window:q_,disposables:this._store})),this._register(Kk((e=>{this.ui&&Fk(this.ui.container)===e&&this.reparentUI(this.layoutService.mainContainer)})))}registerKeyModsListeners(e,t){const i=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};for(const n of[TL.KEY_DOWN,TL.KEY_UP,TL.MOUSE_DOWN])t.add(Zk(e,n,i,!0))}getUI(e){if(this.ui)return e&&this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument&&this.reparentUI(this.layoutService.activeContainer),this.ui;const t=RL(this.parentElement,s4(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=yL(t),n=RL(t,s4(".quick-input-titlebar")),o=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,s=this._register(new MJ(n,o));s.domNode.classList.add("quick-input-left-action-bar");const r=RL(n,s4(".quick-input-title")),a=this._register(new MJ(n,o));a.domNode.classList.add("quick-input-right-action-bar");const l=RL(t,s4(".quick-input-header")),c=RL(l,s4("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",lf("quickInput.checkAll","Toggle all checkboxes")),this._register(Xk(c,TL.CHANGE,(e=>{const t=c.checked;D.setAllVisibleChecked(t)}))),this._register(Zk(c,TL.CLICK,(e=>{(e.x||e.y)&&g.setFocus()})));const d=RL(l,s4(".quick-input-description")),h=RL(l,s4(".quick-input-and-message")),u=RL(h,s4(".quick-input-filter")),g=this._register(new N2(u,this.styles.inputBox,this.styles.toggle));g.setAttribute("aria-describedby","".concat(this.idPrefix,"message"));const p=RL(u,s4(".quick-input-visible-count"));p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true");const f=new y2(p,{countFormat:lf({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),m=RL(u,s4(".quick-input-count"));m.setAttribute("aria-live","polite");const v=new y2(m,{countFormat:lf({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),b=RL(l,s4(".quick-input-action")),_=this._register(new w2(b,this.styles.button));_.label=lf("ok","OK"),this._register(_.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const w=RL(l,s4(".quick-input-action")),y=this._register(new w2(w,this.styles.button));y.label=lf("custom","Custom"),this._register(y.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const C=RL(h,s4("#".concat(this.idPrefix,"message.quick-input-message"))),S=this._register(new D2(t,this.styles.progressBar));S.getContainer().classList.add("quick-input-progress");const k=RL(t,s4(".quick-input-html-widget"));k.tabIndex=-1;const L=RL(t,s4(".quick-input-description")),x=this.idPrefix+"list",D=this._register(new J2(t,x,this.options,this.themeService));g.setAttribute("aria-controls",x),this._register(D.onDidChangeFocus((()=>{var e;g.setAttribute("aria-activedescendant",null!==(e=D.getActiveDescendant())&&void 0!==e?e:"")}))),this._register(D.onChangedAllVisibleChecked((e=>{c.checked=e}))),this._register(D.onChangedVisibleCount((e=>{f.setCount(e)}))),this._register(D.onChangedCheckedCount((e=>{v.setCount(e)}))),this._register(D.onLeave((()=>{setTimeout((()=>{g.setFocus(),this.controller instanceof n4&&this.controller.canSelectMany&&D.clearFocus()}),0)})));const E=OL(t);return this._register(E),this._register(Zk(t,TL.FOCUS,(e=>{uL(e.relatedTarget,t)||(this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0)}),!0)),this._register(E.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(p2.Blur),this.previousFocusElement=void 0}))),this._register(Zk(t,TL.FOCUS,(e=>{g.setFocus()}))),this._register(Xk(t,TL.KEY_DOWN,(e=>{if(!uL(e.target,k))switch(e.keyCode){case 3:AL(e,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:AL(e,!0),this.hide(p2.Gesture);break;case 2:if(!e.altKey&&!e.ctrlKey&&!e.metaKey){const i=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?i.push("input"):i.push("input[type=text]"),this.getUI().list.isDisplayed()&&i.push(".monaco-list"),this.getUI().message&&i.push(".quick-input-message a"),this.getUI().widget){if(uL(e.target,this.getUI().widget))break;i.push(".quick-input-html-widget")}const n=t.querySelectorAll(i.join(", "));e.shiftKey&&e.target===n[0]?(AL(e,!0),D.clearFocus()):!e.shiftKey&&uL(e.target,n[n.length-1])&&(AL(e,!0),n[0].focus())}break;case 10:e.ctrlKey&&(AL(e,!0),this.getUI().list.toggleHover())}}))),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:n,title:r,description1:L,description2:d,widget:k,rightActionBar:a,checkAll:c,inputContainer:h,filterContainer:u,inputBox:g,visibleCountContainer:p,visibleCount:f,countContainer:m,count:v,okContainer:b,ok:_,message:C,customButtonContainer:w,customButton:y,list:D,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e),linkOpenerDelegate:e=>this.options.linkOpenerDelegate(e)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this.parentElement=e,RL(this.parentElement,this.ui.container))}pick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iv.None;return new Promise(((n,o)=>{let s=e=>{var i;s=n,null===(i=t.onKeyMods)||void 0===i||i.call(t,r.keyMods),n(e)};if(i.isCancellationRequested)return void s(void 0);const r=this.createQuickPick();let a;const l=[r,r.onDidAccept((()=>{if(r.canSelectMany)s(r.selectedItems.slice()),r.hide();else{const e=r.activeItems[0];e&&(s(e),r.hide())}})),r.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),r.onDidChangeSelection((e=>{if(!r.canSelectMany){const t=e[0];t&&(s(t),r.hide())}})),r.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...e,removeItem:()=>{const t=r.items.indexOf(e.item);if(-1!==t){const e=r.items.slice(),i=e.splice(t,1),n=r.activeItems.filter((e=>e!==i[0])),o=r.keepScrollPosition;r.keepScrollPosition=!0,r.items=e,n&&(r.activeItems=n),r.keepScrollPosition=o}}}))),r.onDidTriggerSeparatorButton((e=>{var i;return null===(i=t.onDidTriggerSeparatorButton)||void 0===i?void 0:i.call(t,e)})),r.onDidChangeValue((e=>{!a||e||1===r.activeItems.length&&r.activeItems[0]===a||(r.activeItems=[a])})),i.onCancellationRequested((()=>{r.hide()})),r.onDidHide((()=>{av(l),s(void 0)}))];r.title=t.title,r.canSelectMany=!!t.canPickMany,r.placeholder=t.placeHolder,r.ignoreFocusOut=!!t.ignoreFocusLost,r.matchOnDescription=!!t.matchOnDescription,r.matchOnDetail=!!t.matchOnDetail,r.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,r.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,r.quickNavigate=t.quickNavigate,r.hideInput=!!t.hideInput,r.contextKey=t.contextKey,r.busy=!0,Promise.all([e,t.activeItem]).then((e=>{let[t,i]=e;a=i,r.busy=!1,r.items=t,r.canSelectMany&&(r.selectedItems=t.filter((e=>"separator"!==e.type&&e.picked))),a&&(r.activeItems=[a])})),r.show(),Promise.resolve(e).then(void 0,(e=>{o(e),r.hide()}))}))}createQuickPick(){const e=this.getUI(!0);return new n4(e)}createInputBox(){const e=this.getUI(!0);return new o4(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,null===i||void 0===i||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",FL(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(ZK.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),FL(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const n=this.options.backKeybindingLabel();t4.tooltip=n?lf("quickInput.backWithKeybinding","Back ({0})",n):lf("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}isVisible(){return!!this.ui&&"none"!==this.ui.container.style.display}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,i;const n=this.controller;if(!n)return;const o=null===(t=this.ui)||void 0===t?void 0:t.container,s=o&&!uL((r=o).ownerDocument.activeElement,r);var r;if(this.controller=null,this.onHideEmitter.fire(),o&&(o.style.display="none"),!s){let e=this.previousFocusElement;for(;e&&!e.offsetParent;)e=null!==(i=e.parentElement)&&void 0!==i?i:void 0;(null===e||void 0===e?void 0:e.offsetParent)?(e.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}n.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top="".concat(this.titleBarOffset,"px");const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,r4.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=null!==e&&void 0!==e?e:"",this.ui.container.style.backgroundColor=null!==t&&void 0!==t?t:"",this.ui.container.style.color=null!==i&&void 0!==i?i:"",this.ui.container.style.border=n?"1px solid ".concat(n):"",this.ui.container.style.boxShadow=o?"0 0 8px 2px ".concat(o):"",this.ui.list.style(this.styles.list);const s=[];this.styles.pickerGroup.pickerGroupBorder&&s.push(".quick-input-list .quick-input-list-entry { border-top-color:  ".concat(this.styles.pickerGroup.pickerGroupBorder,"; }")),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator { color:  ".concat(this.styles.pickerGroup.pickerGroupForeground,"; }")),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push("background-color: ".concat(this.styles.keybindingLabel.keybindingLabelBackground,";")),this.styles.keybindingLabel.keybindingLabelBorder&&s.push("border-color: ".concat(this.styles.keybindingLabel.keybindingLabelBorder,";")),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push("border-bottom-color: ".concat(this.styles.keybindingLabel.keybindingLabelBottomBorder,";")),this.styles.keybindingLabel.keybindingLabelShadow&&s.push("box-shadow: inset 0 -1px 0 ".concat(this.styles.keybindingLabel.keybindingLabelShadow,";")),this.styles.keybindingLabel.keybindingLabelForeground&&s.push("color: ".concat(this.styles.keybindingLabel.keybindingLabelForeground,";")),s.push("}"));const r=s.join("\n");r!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=r)}}}r4.MAX_WIDTH=600;var a4=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},l4=function(e,t){return function(i,n){t(i,n,e)}};let c4=class extends sF{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(_2))),this._quickAccess}constructor(e,t,i,n){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=n,this._onShow=this._register(new Cv),this._onHide=this._register(new Cv),this.contexts=new Map}createController(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.layoutService,t=arguments.length>1?arguments[1]:void 0;const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),linkOpenerDelegate:e=>{this.instantiationService.invokeFunction((t=>{t.get(YJ).open(e,{allowCommands:!0,fromUserGesture:!0})}))},returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(Y1,e,t,i,n,o),styles:this.computeStyles()},n=this._register(new r4({...i,...t},this.themeService,this.layoutService));return n.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer((t=>n.layout(t,e.activeContainerOffset.quickPickTop)))),this._register(e.onDidChangeActiveContainer((()=>{n.isVisible()||n.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)}))),this._register(n.onShow((()=>{this.resetContextKeys(),this._onShow.fire()}))),this._register(n.onHide((()=>{this.resetContextKeys(),this._onHide.fire()}))),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new gC(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),null===t||void 0===t||t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iv.None;return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:yA(kM),quickInputForeground:yA(LM),quickInputTitleBackground:yA(xM),widgetBorder:yA(AA),widgetShadow:yA(IA)},inputBox:vJ,toggle:mJ,countBadge:_J,button:pJ,progressBar:fJ,keybindingLabel:gJ,list:yJ({listBackground:kM,listFocusBackground:DO,listFocusForeground:LO,listInactiveFocusForeground:LO,listInactiveSelectionIconForeground:xO,listInactiveFocusBackground:DO,listFocusOutline:NA,listInactiveFocusOutline:NA}),pickerGroup:{pickerGroupBorder:yA(EM),pickerGroupForeground:yA(DM)}}}};c4=a4([l4(0,my),l4(1,pC),l4(2,$P),l4(3,Hq)],c4);var d4=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},h4=function(e,t){return function(i,n){t(i,n,e)}};let u4=class extends c4{constructor(e,t,i,n,o){super(t,i,n,new qq(e.getContainerDomNode(),o)),this.host=void 0;const s=p4.get(e);if(s){const t=s.widget;this.host={_serviceBrand:void 0,get mainContainer(){return t.getDomNode()},getContainer:()=>t.getDomNode(),get containers(){return[t.getDomNode()]},get activeContainer(){return t.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return vv.map(e.onDidLayoutChange,(e=>({container:t.getDomNode(),dimension:e})))},get onDidChangeActiveContainer(){return vv.None},get onDidAddContainer(){return vv.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};u4=d4([h4(1,my),h4(2,pC),h4(3,$P),h4(4,by)],u4);let g4=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(u4,e);this.mapEditorToService.set(e,t),tv(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iv.None;return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};g4=d4([h4(0,my),h4(1,by)],g4);class p4{static get(e){return e.getContribution(p4.ID)}constructor(e){this.editor=e,this.widget=new f4(this.editor)}dispose(){this.widget.dispose()}}p4.ID="editor.controller.quickInput";class f4{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return f4.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}f4.ID="editor.contrib.quickInputWidget",rx(p4.ID,p4,4);class m4{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const v4=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b4{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(v4);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=hT.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class _4{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];const t=[];let i=0;for(let n=0,o=e.length;n<o;n++){const o=e[n];let s=-1;if("string"===typeof o.fontStyle){s=0;const e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break;case"strikethrough":s|=8}}let r=null;"string"===typeof o.foreground&&(r=o.foreground);let a=null;"string"===typeof o.background&&(a=o.background),t[i++]=new m4(o.token||"",n,s,r,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{const i=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index}));let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){const t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}const s=new b4;for(const d of t)s.getId(d);const r=s.getId(n),a=s.getId(o),l=new y4(i,r,a),c=new C4(l);for(let d=0,h=e.length;d<h;d++){const t=e[d];c.insert(t.token,t.fontStyle,s.getId(t.foreground),s.getId(t.background))}return new _4(s,c)}(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if("undefined"===typeof i){const e=this._match(t),n=function(e){const t=e.match(w4);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const w4=/\b(comment|string|regex|regexp)\b/;class y4{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new y4(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class C4{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;const t=e.indexOf(".");let i,n;-1===t?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));const o=this._children.get(i);return"undefined"!==typeof o?o.match(n):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);const o=e.indexOf(".");let s,r;-1===o?(s=e,r=""):(s=e.substring(0,o),r=e.substring(o+1));let a=this._children.get(s);"undefined"===typeof a&&(a=new C4(this._mainRule.clone()),this._children.set(s,a)),a.insert(r,t,i,n)}}const S4={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[_M]:"#FFFFFE",[wM]:"#000000",[RM]:"#E5EBF1",[pF]:"#D3D3D3",[wF]:"#939393",[PM]:"#ADD6FF4D"}},k4={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[_M]:"#1E1E1E",[wM]:"#D4D4D4",[RM]:"#3A3D41",[pF]:"#404040",[wF]:"#707070",[PM]:"#ADD6FF26"}},L4={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[_M]:"#000000",[wM]:"#FFFFFF",[pF]:"#FFFFFF",[wF]:"#FFFFFF"}},x4={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[_M]:"#FFFFFF",[wM]:"#292929",[pF]:"#292929",[wF]:"#292929"}};var D4,E4;!function(e){e.getDefinition=function(e,t){let i=e.defaults;for(;Ey.isThemeIcon(i);){const e=N4.getIcon(i.id);if(!e)return;i=e.defaults}return i}}(D4||(D4={})),function(e){e.toJSONObject=function(e){return{weight:e.weight,style:e.style,src:e.src.map((e=>({format:e.format,location:e.location.toString()})))}},e.fromJSONObject=function(e){const t=e=>Wp(e)?e:void 0;if(e&&Array.isArray(e.src)&&e.src.every((e=>Wp(e.format)&&Wp(e.location))))return{weight:t(e.weight),style:t(e.style),src:e.src.map((e=>({format:e.format,location:Lb.parse(e.location)})))}}}(E4||(E4={}));const N4=new class{constructor(){this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:lf("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:lf("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:"^".concat(Ey.iconNameExpression,"$"),enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription="".concat(i," $(").concat(e,")");const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}const s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;const r={$ref:"#/definitions/icons"};return n&&(r.deprecationMessage=n),i&&(r.markdownDescription="".concat(i,": $(").concat(e,")")),this.iconSchema.properties[e]=r,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;Ey.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return"codicon codicon-".concat(e?e.id:"")},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of n.filter((e=>!!e.description)).sort(e))i.push('|<i class="'.concat(t(o),'"></i>|').concat(o.id,"|").concat(Ey.isThemeIcon(o.defaults)?o.defaults.id:o.id,"|").concat(o.description||"","|"));i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter((e=>!Ey.isThemeIcon(e.defaults))).sort(e))i.push('|<i class="'.concat(t(o),'"></i>|').concat(o.id,"|"));return i.join("\n")}};function T4(e,t,i,n){return N4.registerIcon(e,t,i,n)}function I4(){return N4}TC.add("base.contributions.icons",N4),function(){const e=zb();for(const t in e){const i="\\"+e[t].toString(16);N4.registerIcon(t,{fontCharacter:i})}}();const A4="vscode://schemas/icons",M4=TC.as(LD);M4.registerSchema(A4,N4.getIconSchema());const O4=new mS((()=>M4.notifySchemaChanged(A4)),200);N4.onDidChange((()=>{O4.isScheduled()||O4.schedule()}));T4("widget-close",Hb.close,lf("widgetClose","Icon for the close action in widgets.")),T4("goto-previous-location",Hb.arrowUp,lf("previousChangeIcon","Icon for goto previous editor location.")),T4("goto-next-location",Hb.arrowDown,lf("nextChangeIcon","Icon for goto next editor location.")),Ey.modify(Hb.sync,"spin"),Ey.modify(Hb.loading,"spin");class R4{getIcon(e){const t=I4();let i=e.defaults;for(;Ey.isThemeIcon(i);){const e=t.getIcon(i.id);if(!e)return;i=e.defaults}return i}}const P4="vs",F4="vs-dark",B4="hc-black",V4="hc-light",W4=TC.as(CA),z4=TC.as(iF);class H4{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(j4(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,hT.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=U4(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,hT.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=W4.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case P4:return FR.LIGHT;case B4:return FR.HIGH_CONTRAST_DARK;case V4:return FR.HIGH_CONTRAST_LIGHT;default:return FR.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const i=U4(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const t={token:""};i&&(t.foreground=i),n&&(t.background=n),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=_4.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=zT.getForeground(n),s=zT.getFontStyle(n);return{foreground:o,italic:Boolean(1&s),bold:Boolean(2&s),underline:Boolean(4&s),strikethrough:Boolean(8&s)}}}function j4(e){return e===P4||e===F4||e===B4||e===V4}function U4(e){switch(e){case P4:return S4;case F4:return k4;case B4:return L4;case V4:return x4}}function K4(e){const t=U4(e);return new H4(e,t)}const q4=vy("themeService");var G4=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Y4=function(e,t){return function(i,n){t(i,n,e)}};let Z4=class extends hv{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Cv,this._onDidChangeReducedMotion=new Cv,this._accessibilityModeEnabledContext=sA.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),n(),this._register(this.onDidChangeScreenReaderOptimized((()=>n())));const o=q_.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){this._register(Zk(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",e),this._layoutService.mainContainer.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Z4=G4([Y4(0,pC),Y4(1,Hq),Y4(2,gD)],Z4);var Q4,X4,J4=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},$4=function(e,t){return function(i,n){t(i,n,e)}};let e5=class{constructor(e,t){this._commandService=e,this._hiddenStates=new t5(t)}createMenu(e,t,i){return new n5(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};e5=J4([$4(0,Ny),$4(1,dJ)],e5);let t5=Q4=class{constructor(e){this._storageService=e,this._disposables=new dv,this._onDidChange=new Cv,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(Q4._key,0,"{}");this._data=JSON.parse(t)}catch(t){this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,Q4._key,this._disposables)((()=>{if(!this._ignoreChangeEvent)try{const t=e.get(Q4._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var i;return null!==(i=this._hiddenByDefaultCache.get("".concat(e.id,"/").concat(t)))&&void 0!==i&&i}setDefaultState(e,t,i){this._hiddenByDefaultCache.set("".concat(e.id,"/").concat(t),i)}isHidden(e,t){var i,n;const o=this._isHiddenByDefault(e,t),s=null!==(n=null===(i=this._data[e.id])||void 0===i?void 0:i.includes(t))&&void 0!==n&&n;return o?!s:s}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const n=this._data[e.id];if(i)if(n){n.indexOf(t)<0&&n.push(t)}else this._data[e.id]=[t];else if(n){const i=n.indexOf(t);i>=0&&function(e,t){const i=e.length-1;t<i&&(e[t]=e[i]),e.pop()}(n,i),0===n.length&&delete this._data[e.id]}this._persist()}reset(e){if(void 0===e)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Q4._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};t5._key="menu.hiddenCommands",t5=Q4=J4([$4(0,dJ)],t5);let i5=X4=class{constructor(e,t,i,n,o){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=n,this._contextKeyService=o,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=zC.getMenuItems(this._id);let t;e.sort(X4._compareMenuItems);for(const i of e){const e=i.group||"";t&&t[0]===e||(t=[e,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(X4._fillInKbExprKeys(e.when,this._structureContextKeys),FC(e)){if(e.command.precondition&&X4._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;X4._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&zC.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[n,o]=i,s=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const i=FC(t);i&&this._hiddenStates.setDefaultState(this._id,t.command.id,!!t.isHiddenByDefault);const n=o5(this._id,i?t.command:t,this._hiddenStates);if(i)s.push(new jC(t.command,t.alt,e,n,this._contextKeyService,this._commandService));else{const i=new X4(t.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(e),o=Sy.join(...i.map((e=>e[1])));o.length>0&&s.push(new HC(t,n,o))}}s.length>0&&t.push([n,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(e,t){const i=e.group,n=t.group;if(i!==n){if(!i)return 1;if(!n)return-1;if("navigation"===i)return-1;if("navigation"===n)return 1;const e=i.localeCompare(n);if(0!==e)return e}const o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:X4._compareTitles(FC(e)?e.command.title:e.title,FC(t)?t.command.title:t.title)}static _compareTitles(e,t){const i="string"===typeof e?e:e.original,n="string"===typeof t?t:t.original;return i.localeCompare(n)}};i5=X4=J4([$4(3,Ny),$4(4,pC)],i5);let n5=class{constructor(e,t,i,n,o){this._disposables=new dv,this._menuInfo=new i5(e,t,i.emitEventsForSubmenuChanges,n,o);const s=new mS((()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),i.eventDebounceDelay);this._disposables.add(s),this._disposables.add(zC.onDidChangeMenu((t=>{t.has(e)&&s.schedule()})));const r=this._disposables.add(new dv);this._onDidChange=new Lv({onWillAddFirstListener:()=>{r.add(o.onDidChangeContext((e=>{const t=e.affectsSome(this._menuInfo.structureContextKeys),i=e.affectsSome(this._menuInfo.preconditionContextKeys),n=e.affectsSome(this._menuInfo.toggledContextKeys);(t||i||n)&&this._onDidChange.fire({menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n})}))),r.add(t.onDidChange((e=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onDidRemoveLastListener:r.clear.bind(r),delay:i.eventDebounceDelay,merge:e=>{let t=!1,i=!1,n=!1;for(const o of e)if(t=t||o.isStructuralChange,i=i||o.isEnablementChange,n=n||o.isToggleChange,t&&i&&n)break;return{menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n}}}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function o5(e,t,i){const n=void 0!==t.submenu?t.submenu.id:t.id;const o="string"===typeof t.title?t.title:t.title.value,s=xy({id:"hide/".concat(e.id,"/").concat(n),label:lf("hide.label","Hide '{0}'",o),run(){i.updateHidden(e,n,!0)}}),r=xy({id:"toggle/".concat(e.id,"/").concat(n),label:o,get checked(){return!i.isHidden(e,n)},run(){i.updateHidden(e,n,!!this.checked)}});return{hide:s,toggle:r,get isHidden(){return!r.checked}}}n5=J4([$4(3,Ny),$4(4,pC)],n5);var s5=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},r5=function(e,t){return function(i,n){t(i,n,e)}};let a5=class extends hv{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],($w||ey)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const e=new yS;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((async t=>{t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))};this._register(vv.runAndSubscribe(this.layoutService.onDidAddContainer,(t=>{let{container:i,disposables:n}=t;n.add(Zk(i,"click",e)),n.add(Zk(i,"keydown",e))}),{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await navigator.clipboard.writeText(e)}catch(s){console.error(s)}const i=_L(),n=i.activeElement,o=i.body.appendChild(zL("textarea",{"aria-hidden":!0}));o.style.height="1px",o.style.width="1px",o.style.position="absolute",o.value=e,o.focus(),o.select(),i.execCommand("copy"),n instanceof HTMLElement&&n.focus(),i.body.removeChild(o)}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await navigator.clipboard.readText()}catch(t){return console.error(t),""}}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async writeResources(e){this.resources=e}async readResources(){return this.resources}};a5=s5([r5(0,Hq),r5(1,KC)],a5);const l5=vy("clipboardService");var c5=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},d5=function(e,t){return function(i,n){t(i,n,e)}};const h5="data-keybinding-context";class u5{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return"undefined"===typeof t&&this._parent?this._parent.getValue(e):t}}class g5 extends u5{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}g5.INSTANCE=new g5;class p5 extends u5{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=UY.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(this._values,(e=>{let[t]=e;return t}));this._values.clear(),i.fire(new v5(e))}else{const t=[];for(const i of e.affectedKeys){const e="config.".concat(i),n=this._values.findSuperstr(e);void 0!==n&&(t.push(...Qf.map(n,(e=>{let[t]=e;return t}))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new v5(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(p5._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(p5._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}p5._keyPrefix="config.";class f5{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){"undefined"===typeof this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class m5{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class v5{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class b5{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class _5 extends hv{constructor(e){super(),this._onDidChangeContext=this._register(new kv({merge:e=>new b5(e)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new f5(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new y5(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new m5(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new m5(e))}getContext(e){return this._isDisposed?g5.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(h5)){const t=e.getAttribute(h5);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}dispose(){super.dispose(),this._isDisposed=!0}}let w5=class extends _5{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new p5(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?g5.INSTANCE:this._contexts.get(e)||g5.INSTANCE}createChildContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new u5(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};w5=c5([d5(0,gD)],w5);class y5 extends _5{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new uv),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(h5)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute".concat(e?": "+e:""))}this._domNode.setAttribute(h5,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{const t=this._parent.getContextValuesContainer(this._myContextId).value;var i;i=t,e.allKeysContainedIn(new Set(Object.keys(i)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(h5),super.dispose())}getContextValuesContainer(e){return this._isDisposed?g5.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._myContextId;if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}Ty.registerCommand("_setContext",(function(e,t,i){e.get(pC).createKey(String(t),function(e){return tf(e,(e=>"object"===typeof e&&1===e.$mid?Lb.revive(e).toString():e instanceof Lb?e.toString():void 0))}(i))})),Ty.registerCommand({id:"getContextKeyInfo",handler:()=>[...gC.all()].sort(((e,t)=>e.key.localeCompare(t.key))),metadata:{description:lf("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Ty.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const i of gC.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));class C5{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}}class S5{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(n.key,n),n.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new C5(t,e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,i]of this._nodes)e.push("".concat(t,"\n\t(-> incoming)[").concat([...i.incoming.keys()].join(", "),"]\n\t(outgoing ->)[").concat([...i.outgoing.keys()].join(","),"]\n"));return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}class k5 extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:"UNABLE to detect cycle, dumping graph: \n".concat(e.toString())}}class L5{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new GK,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var o;this._services=e,this._strict=t,this._parent=i,this._enableTracing=n,this._activeInstantiations=new Set,this._services.set(my,this),this._globalGraph=n?null!==(o=null===i||void 0===i?void 0:i._globalGraph)&&void 0!==o?o:new S5((e=>e)):void 0}createChild(e){return new L5(e,this._strict,this,this._enableTracing)}invokeFunction(e){const t=x5.traceInvocation(this._enableTracing,e);let i=!1;try{const r={get:e=>{if(i)throw Xm("service accessor is only valid during the invocation of its target method");const n=this._getOrCreateServiceInstance(e,t);if(!n)throw new Error("[invokeFunction] unknown service '".concat(e,"'"));return n}};for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return e(r,...o)}finally{i=!0,t.stop()}}createInstance(e){let t,i;for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return e instanceof wD?(t=x5.traceCreation(this._enableTracing,e.ctor),i=this._createInstance(e.ctor,e.staticArguments.concat(o),t)):(t=x5.traceCreation(this._enableTracing,e),i=this._createInstance(e,o,t)),t.stop(),i}_createInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;const n=fy.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const r of n){const t=this._getOrCreateServiceInstance(r.id,i);t||this._throwIfStrict("[createInstance] ".concat(e.name," depends on UNKNOWN service ").concat(r.id,"."),!1),o.push(t)}const s=n.length>0?n[0].index:t.length;if(t.length!==s){console.trace("[createInstance] First service dependency of ".concat(e.name," at position ").concat(s+1," conflicts with ").concat(t.length," static arguments"));const i=s-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,s)}return Reflect.construct(e,t.concat(o))}_setServiceInstance(e,t){if(this._services.get(e)instanceof wD)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof wD?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error("illegal state - RECURSIVELY instantiating service '".concat(e,"'"));this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var n;const o=new S5((e=>e.id.toString()));let s=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const t=r.pop();if(o.lookupOrInsertNode(t),s++>1e3)throw new k5(o);for(const i of fy.getServiceDependencies(t.desc.ctor)){const s=this._getServiceInstanceOrDescriptor(i.id);if(s||this._throwIfStrict("[createInstance] ".concat(e," depends on ").concat(i.id," which is NOT registered."),!0),null===(n=this._globalGraph)||void 0===n||n.insertEdge(String(t.id),String(i.id)),s instanceof wD){const e={id:i.id,desc:s,_trace:t._trace.branch(i.id,!0)};o.insertEdge(t,e),r.push(e)}}}for(;;){const e=o.roots();if(0===e.length){if(!o.isEmpty())throw new k5(o);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof wD){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}o.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(this._services.get(e)instanceof wD)return this._createServiceInstance(e,t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error("illegalState - creating UNKNOWN service instance ".concat(t.name))}_createServiceInstance(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>4?arguments[4]:void 0;if(arguments.length>3?arguments[3]:void 0){const o=new L5(void 0,this._strict,this,this._enableTracing);o._globalGraphImplicitDependency=String(e);const s=new Map,r=new wS((()=>{const e=o._createInstance(t,i,n);for(const[t,i]of s){const n=e[t];if("function"===typeof n)for(const t of i)n.apply(e,t)}return s.clear(),e}));return new Proxy(Object.create(null),{get(e,t){if(!r.isInitialized&&"string"===typeof t&&(t.startsWith("onDid")||t.startsWith("onWill"))){let e=s.get(t);e||(e=new Jf,s.set(t,e));const i=(t,i,n)=>cv(e.push([t,i,n]));return i}if(t in e)return e[t];const i=r.value;let n=i[t];return"function"!==typeof n||(n=n.bind(i),e[t]=n),n},set:(e,t,i)=>(r.value[t]=i,!0),getPrototypeOf:e=>t.prototype})}return this._createInstance(t,i,n)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class x5{static traceInvocation(e,t){return e?new x5(2,t.name||(new Error).stack.split("\n").slice(3,4).join("\n")):x5._None}static traceCreation(e,t){return e?new x5(1,t.name):x5._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new x5(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;x5._totals+=e;let t=!1;const i=["".concat(1===this.type?"CREATE":"CALL"," ").concat(this.name),"".concat(function e(i,n){const o=[],s=new Array(i+1).join("\t");for(const[r,a,l]of n._dep)if(a&&l){t=!0,o.push("".concat(s,"CREATES -> ").concat(r));const n=e(i+1,l);n&&o.push(n)}else o.push("".concat(s,"uses -> ").concat(r));return o.join("\n")}(1,this)),"DONE, took ".concat(e.toFixed(2),"ms (grand total ").concat(x5._totals.toFixed(2),"ms)")];(e>2||t)&&x5.all.add(i.join("\n"))}}x5.all=new Set,x5._None=new class extends x5{constructor(){super(0,null)}stop(){}branch(){return this}},x5._totals=0;const D5=new Set([Ck.inMemory,Ck.vscodeSourceControl,Ck.walkThrough,Ck.walkThroughSnippet]);class E5{constructor(){this._byResource=new WN,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new WN,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return null===i||void 0===i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"===typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:Qf.empty():Lb.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:Qf.empty():Qf.map(Qf.concat(...this._byOwner.values()),(e=>e[1]))}}class N5{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new WN,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(D5.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===t$.Error?t.errors+=1:i===t$.Warning?t.warnings+=1:i===t$.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class T5{constructor(){this._onMarkerChanged=new Lv({delay:0,merge:T5._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new E5,this._stats=new N5(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(n=i,Array.isArray(n)&&0!==n.length){const n=[];for(const o of i){const i=T5._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}else{this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}var n}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}=i;if(s)return a=a>0?a:1,l=l>0?l:1,c=c>=a?c:a,d=d>0?d:l,{resource:t,owner:e,code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:d,relatedInformation:h,tags:u}}changeAll(e,t){const i=[],n=this._data.values(e);if(n)for(const o of n){const t=Qf.first(o);t&&(i.push(t.resource),this._data.delete(t.resource,e))}if(Sp(t)){const n=new WN;for(const{resource:o,marker:s}of t){const t=T5._toMarker(e,o,s);if(!t)continue;const r=n.get(o);r?r.push(t):(n.set(o,[t]),i.push(o))}for(const[t,i]of n)this._data.set(t,e,i)}i.length>0&&this._onMarkerChanged.fire(i)}read(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.create(null),{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(T5._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!==i&&void 0!==i?i:t),s=[];for(const t of e)for(const e of t)if(T5._accept(e,n)){const t=s.push(e);if(o>0&&t===o)return s}return s}{const e=[];for(const t of this._data.values())for(const i of t)if(T5._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new WN;for(const i of e)for(const e of i)t.set(e,!0);return Array.from(t.keys())}}class I5 extends hv{constructor(){super(...arguments),this._configurationModel=new gY}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new gY;const e=TC.as(DD).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const n of e){const e=i[n],o=t[n];void 0!==e?this._configurationModel.addValue(n,e):o?this._configurationModel.addValue(n,o.default):this._configurationModel.removeValue(n)}}}const A5=vy("audioCue");class M5{static register(e){return new M5(e.fileName)}constructor(e){this.fileName=e}}M5.error=M5.register({fileName:"error.mp3"}),M5.warning=M5.register({fileName:"warning.mp3"}),M5.foldedArea=M5.register({fileName:"foldedAreas.mp3"}),M5.break=M5.register({fileName:"break.mp3"}),M5.quickFixes=M5.register({fileName:"quickFixes.mp3"}),M5.taskCompleted=M5.register({fileName:"taskCompleted.mp3"}),M5.taskFailed=M5.register({fileName:"taskFailed.mp3"}),M5.terminalBell=M5.register({fileName:"terminalBell.mp3"}),M5.diffLineInserted=M5.register({fileName:"diffLineInserted.mp3"}),M5.diffLineDeleted=M5.register({fileName:"diffLineDeleted.mp3"}),M5.diffLineModified=M5.register({fileName:"diffLineModified.mp3"}),M5.chatRequestSent=M5.register({fileName:"chatRequestSent.mp3"}),M5.chatResponsePending=M5.register({fileName:"chatResponsePending.mp3"}),M5.chatResponseReceived1=M5.register({fileName:"chatResponseReceived1.mp3"}),M5.chatResponseReceived2=M5.register({fileName:"chatResponseReceived2.mp3"}),M5.chatResponseReceived3=M5.register({fileName:"chatResponseReceived3.mp3"}),M5.chatResponseReceived4=M5.register({fileName:"chatResponseReceived4.mp3"}),M5.clear=M5.register({fileName:"clear.mp3"}),M5.save=M5.register({fileName:"save.mp3"}),M5.format=M5.register({fileName:"format.mp3"});class O5{constructor(e){this.randomOneOf=e}}class R5{static register(e){const t=new O5("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new R5(t,e.name,e.settingsKey);return R5._audioCues.add(i),i}constructor(e,t,i){this.sound=e,this.name=t,this.settingsKey=i}}R5._audioCues=new Set,R5.error=R5.register({name:lf("audioCues.lineHasError.name","Error on Line"),sound:M5.error,settingsKey:"audioCues.lineHasError"}),R5.warning=R5.register({name:lf("audioCues.lineHasWarning.name","Warning on Line"),sound:M5.warning,settingsKey:"audioCues.lineHasWarning"}),R5.foldedArea=R5.register({name:lf("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:M5.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),R5.break=R5.register({name:lf("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:M5.break,settingsKey:"audioCues.lineHasBreakpoint"}),R5.inlineSuggestion=R5.register({name:lf("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:M5.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),R5.terminalQuickFix=R5.register({name:lf("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:M5.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),R5.onDebugBreak=R5.register({name:lf("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:M5.break,settingsKey:"audioCues.onDebugBreak"}),R5.noInlayHints=R5.register({name:lf("audioCues.noInlayHints","No Inlay Hints on Line"),sound:M5.error,settingsKey:"audioCues.noInlayHints"}),R5.taskCompleted=R5.register({name:lf("audioCues.taskCompleted","Task Completed"),sound:M5.taskCompleted,settingsKey:"audioCues.taskCompleted"}),R5.taskFailed=R5.register({name:lf("audioCues.taskFailed","Task Failed"),sound:M5.taskFailed,settingsKey:"audioCues.taskFailed"}),R5.terminalCommandFailed=R5.register({name:lf("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:M5.error,settingsKey:"audioCues.terminalCommandFailed"}),R5.terminalBell=R5.register({name:lf("audioCues.terminalBell","Terminal Bell"),sound:M5.terminalBell,settingsKey:"audioCues.terminalBell"}),R5.notebookCellCompleted=R5.register({name:lf("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:M5.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),R5.notebookCellFailed=R5.register({name:lf("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:M5.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),R5.diffLineInserted=R5.register({name:lf("audioCues.diffLineInserted","Diff Line Inserted"),sound:M5.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),R5.diffLineDeleted=R5.register({name:lf("audioCues.diffLineDeleted","Diff Line Deleted"),sound:M5.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),R5.diffLineModified=R5.register({name:lf("audioCues.diffLineModified","Diff Line Modified"),sound:M5.diffLineModified,settingsKey:"audioCues.diffLineModified"}),R5.chatRequestSent=R5.register({name:lf("audioCues.chatRequestSent","Chat Request Sent"),sound:M5.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),R5.chatResponseReceived=R5.register({name:lf("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[M5.chatResponseReceived1,M5.chatResponseReceived2,M5.chatResponseReceived3,M5.chatResponseReceived4]}}),R5.chatResponsePending=R5.register({name:lf("audioCues.chatResponsePending","Chat Response Pending"),sound:M5.chatResponsePending,settingsKey:"audioCues.chatResponsePending"}),R5.clear=R5.register({name:lf("audioCues.clear","Clear"),sound:M5.clear,settingsKey:"audioCues.clear"}),R5.save=R5.register({name:lf("audioCues.save","Save"),sound:M5.save,settingsKey:"audioCues.save"}),R5.format=R5.register({name:lf("audioCues.format","Format"),sound:M5.format,settingsKey:"audioCues.format"});class P5 extends hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];super(),this.logger=new QC([e,...t]),this._register(e.onDidChangeLogLevel((e=>this.setLevel(e))))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.trace(e,...i)}debug(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.debug(e,...i)}info(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.info(e,...i)}warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.warn(e,...i)}error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.error(e,...i)}}const F5=[];function B5(){return F5.slice(0)}var V5=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},W5=function(e,t){return function(i,n){t(i,n,e)}};class z5{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new Cv}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let H5=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new gv(new z5(t))):Promise.reject(new Error("Model not found"))}};H5=V5([W5(0,_y)],H5);class j5{show(){return j5.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}}j5.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class U5{info(e){return this.notify({severity:ZK.Info,message:e})}warn(e){return this.notify({severity:ZK.Warning,message:e})}error(e){return this.notify({severity:ZK.Error,message:e})}notify(e){switch(e.severity){case ZK.Error:console.error(e.message);break;case ZK.Warning:console.warn(e.message);break;default:console.log(e.message)}return U5.NO_OP}prompt(e,t,i,n){return U5.NO_OP}status(e,t){return hv.None}}U5.NO_OP=new class{};let K5=class{constructor(e){this._onWillExecuteCommand=new Cv,this._onDidExecuteCommand=new Cv,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e){const t=Ty.getCommand(e);if(!t)return Promise.reject(new Error("command '".concat(e,"' not found")));try{for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];this._onWillExecuteCommand.fire({commandId:e,args:n});const s=this._instantiationService.invokeFunction.apply(this._instantiationService,[t.handler,...n]);return this._onDidExecuteCommand.fire({commandId:e,args:n}),Promise.resolve(s)}catch(s){return Promise.reject(s)}}};K5=V5([W5(0,my)],K5);let q5=class extends kY{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const r=e=>{const t=new dv;t.add(Zk(e,TL.KEY_DOWN,(e=>{const t=new eS(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),t.add(Zk(e,TL.KEY_UP,(e=>{const t=new eS(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))),this._domNodeListeners.push(new G5(e,t))},a=e=>{for(let t=0;t<this._domNodeListeners.length;t++){const i=this._domNodeListeners[t];i.domNode===e&&(this._domNodeListeners.splice(t,1),i.dispose())}},l=e=>{e.getOption(61)||r(e.getContainerDomNode())};this._register(s.onCodeEditorAdd(l)),this._register(s.onCodeEditorRemove((e=>{e.getOption(61)||a(e.getContainerDomNode())}))),s.listCodeEditors().forEach(l);const c=e=>{r(e.getContainerDomNode())};this._register(s.onDiffEditorAdd(c)),this._register(s.onDiffEditorRemove((e=>{a(e.getContainerDomNode())}))),s.listDiffEditors().forEach(c)}addDynamicKeybinding(e,t,i,n){return lv(Ty.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:n}]))}addDynamicKeybindings(e){const t=e.map((e=>{var t;return{keybinding:wC(e.keybinding,Hf),command:null!==(t=e.command)&&void 0!==t?t:null,commandArgs:e.commandArgs,when:e.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}}));return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),cv((()=>{for(let e=0;e<this._dynamicKeybindings.length;e++)if(this._dynamicKeybindings[e]===t[0])return this._dynamicKeybindings.splice(e,t.length),void this.updateResolver()}))}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(AC.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new wY(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return q_.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let n=0;for(const o of e){const e=o.when||void 0,s=o.keybinding;if(s){const r=RY.resolveKeybinding(s,Hf);for(const s of r)i[n++]=new xY(s,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new xY(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeyboardEvent(e){const t=new CC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new RY([t],Hf)}};q5=V5([W5(0,pC),W5(1,Ny),W5(2,UC),W5(3,XK),W5(4,KC),W5(5,by)],q5);class G5 extends hv{constructor(e,t){super(),this.domNode=e,this._register(t)}}function Y5(e){return e&&"object"===typeof e&&(!e.overrideIdentifier||"string"===typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof Lb)}class Z5{constructor(){this._onDidChangeConfiguration=new Cv,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const e=new I5;this._configuration=new mY(e.reload(),new gY,new gY,new gY),e.dispose()}getValue(e,t){const i="string"===typeof e?e:void 0,n=Y5(e)?e:Y5(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const n of e){const[e,t]=n;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),i.push(e))}if(i.length>0){const e=new vY({keys:i,overrides:[]},t,this._configuration);e.source=8,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._configuration.inspect(e,t,void 0)}}let Q5=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new Cv,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=Pb.isIPosition(t)?t:null,o=n?"string"===typeof i?i:void 0:"string"===typeof t?t:void 0,s=e?this.getLanguage(e,n):void 0;return"undefined"===typeof o?this.configurationService.getValue({resource:e,overrideIdentifier:s}):this.configurationService.getValue(o,{resource:e,overrideIdentifier:s})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};Q5=V5([W5(0,gD),W5(1,_y),W5(2,_D)],Q5);let X5=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"===typeof i&&"auto"!==i?i:Mf||Af?"\n":"\r\n"}};X5=V5([W5(0,gD)],X5);class J5{constructor(){const e=Lb.from({scheme:J5.SCHEME,authority:"model",path:"/"});this.workspace={id:GY,folders:[new qY({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===J5.SCHEME?this.workspace.folders[0]:null}}function $5(e,t,i){if(!t)return;if(!(e instanceof Z5))return;const n=[];Object.keys(t).forEach((e=>{(function(e){return dY()["editor.".concat(e)]||!1})(e)&&n.push(["editor.".concat(e),t[e]]),i&&function(e){return dY()["diffEditor.".concat(e)]||!1}(e)&&n.push(["diffEditor.".concat(e),t[e]])})),n.length>0&&e.updateValues(n)}J5.SCHEME="inmemory";let e3=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:nY.convert(e),n=new Map;for(const r of i){if(!(r instanceof oY))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(r.resource);if(!e)throw new Error("bad edit - model not found");if("number"===typeof r.versionId&&e.getVersionId()!==r.versionId)throw new Error("bad state - model changed in the meantime");let t=n.get(e);t||(t=[],n.set(e,t)),t.push(hY.replaceMove(Fb.lift(r.textEdit.range),r.textEdit.text))}let o=0,s=0;for(const[r,a]of n)r.pushStackElement(),r.pushEditOperations([],a,(()=>[])),r.pushStackElement(),s+=1,o+=a.length;return{ariaSummary:J_(tZ.bulkEditServiceSummary,o,s),isApplied:o>0}}};e3=V5([W5(0,_y)],e3);let t3=class extends uZ{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();e&&(t=e.getContainerDomNode())}return super.showContextView(e,t,i)}};t3=V5([W5(0,Hq),W5(1,by)],t3);let i3=class extends KJ{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s),this.configure({blockMouse:!1})}};i3=V5([W5(0,UC),W5(1,XK),W5(2,nZ),W5(3,oB),W5(4,VC),W5(5,pC)],i3);var n3;let o3,s3,r3,a3;function l3(){return o3}CD(gD,Z5,0),CD(CT,Q5,0),CD(ST,X5,0),CD(KY,J5,0),CD(PY,class{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}getUriBasenameLabel(e){return mH(e)}},0),CD(UC,class{publicLog2(){}},0),CD(Gq,class{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+"\n\n"+t),q_.confirm(i)}async prompt(e){var t,i;let n;if(this.doConfirm(e.message,e.detail)){const o=[...null!==(t=e.buttons)&&void 0!==t?t:[]];e.cancelButton&&"string"!==typeof e.cancelButton&&"boolean"!==typeof e.cancelButton&&o.push(e.cancelButton),n=await(null===(i=o[0])||void 0===i?void 0:i.run({checkboxChecked:!1}))}return{result:n}}async error(e,t){await this.prompt({type:ZK.Error,message:e,detail:t})}},0),CD(hG,class{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}},0),CD(XK,U5,0),CD(n$,T5,0),CD(_D,class extends SZ{constructor(){super()}},0),CD(q4,class extends hv{constructor(){super(),this._onColorThemeChange=this._register(new Cv),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Cv),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new R4,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(P4,K4(P4)),this._knownThemes.set(F4,K4(F4)),this._knownThemes.set(B4,K4(B4)),this._knownThemes.set(V4,K4(V4));const e=this._register(function(e){const t=new dv,i=t.add(new Cv),n=I4();return t.add(n.onDidChange((()=>i.fire()))),e&&t.add(e.onDidProductIconThemeChange((()=>i.fire()))),{dispose:()=>t.dispose(),onDidChange:i.event,getCSS(){const t=e?e.getProductIconTheme():new R4,i={},o=e=>{const n=t.getIcon(e);if(!n)return;const o=n.font;return o?(i[o.id]=o.definition,".codicon-".concat(e.id,":before { content: '").concat(n.fontCharacter,"'; font-family: ").concat(GL(o.id),"; }")):".codicon-".concat(e.id,":before { content: '").concat(n.fontCharacter,"'; }")},s=[];for(const e of n.getIcons()){const t=o(e);t&&s.push(t)}for(const e in i){const t=i[e],n=t.weight?"font-weight: ".concat(t.weight,";"):"",o=t.style?"font-style: ".concat(t.style,";"):"",r=t.src.map((e=>"".concat(qL(e.location)," format('").concat(e.format,"')"))).join(", ");s.push("@font-face { src: ".concat(r,"; font-family: ").concat(GL(e),";").concat(n).concat(o," font-display: block; }"))}return s.join("\n")}}}(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS="".concat(this._codiconCSS,"\n").concat(this._themeCSS),this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(P4),this._onOSSchemeChanged(),this._register(e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}))),Gw("(forced-colors: active)",(()=>{this._onOSSchemeChanged()}))}registerEditorContainer(e){return fL(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=yL(void 0,(e=>{e.className="monaco-colors",e.textContent=this._allCSS})),this._styleElements.push(this._globalStyleElement)),hv.None}_registerShadowDomContainer(e){const t=yL(e,(e=>{e.className="monaco-colors",e.textContent=this._allCSS}));return this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!j4(t.base)&&!j4(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new H4(e,t)),j4(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(P4),this._updateActualTheme(t)}_updateActualTheme(e){e&&this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=q_.matchMedia("(forced-colors: active)").matches;if(e!==BR(this._theme.type)){let t;t=VR(this._theme.type)?e?B4:F4:e?V4:P4,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};z4.getThemingParticipants().forEach((e=>e(this._theme,i,this._environment)));const n=[];for(const s of W4.getColors()){const e=this._theme.getColor(s.id,!0);e&&n.push("".concat(wA(s.id),": ").concat(e.toString(),";"))}i.addRule(".monaco-editor, .monaco-diff-editor, .monaco-component { ".concat(n.join("\n")," }"));const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){const t=[];for(let i=1,n=e.length;i<n;i++){const n=e[i];t[i]=".mtk".concat(i," { color: ").concat(n,"; }")}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}(o)),this._themeCSS=e.join("\n"),this._updateCSS(),n_.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS="".concat(this._codiconCSS,"\n").concat(this._themeCSS),this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}},0),CD(KC,class extends P5{constructor(){super(new ZC)}},0),CD(_y,f$,0),CD(YI,r$,0),CD(pC,w5,0),CD(FY,class{withProgress(e,t,i){return t({report:()=>{}})}},0),CD(BY,j5,0),CD(dJ,class extends uJ{constructor(){super(),this.applicationStorage=this._register(new aJ(new lJ,{hint:sJ.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new aJ(new lJ,{hint:sJ.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new aJ(new lJ,{hint:sJ.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.profileStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e)))),this._register(this.applicationStorage.onDidChangeStorage((e=>this.emitDidChangeValue(-1,e))))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}},0),CD(e$,NT,0),CD(iY,e3,0),CD(iZ,class{constructor(){this._neverEmitter=new Cv,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},0),CD(wy,H5,0),CD(oA,Z4,0),CD(h1,class{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new dv,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&(null===(t=this._lastFocusedWidget)||void 0===t||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,null===(i=this._lastFocusedWidget)||void 0===i||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;new BX(yL(),"").style(wJ)}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),bL(e.getHTMLElement())&&this.setLastFocusedList(e),lv(e.onDidFocus((()=>this.setLastFocusedList(e))),cv((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)})))}dispose(){this.disposables.dispose()}},0),CD(Ny,K5,0),CD(oB,q5,0),CD(m2,g4,0),CD(nZ,t3,0),CD(YJ,$J,0),CD(l5,a5,0),CD(oZ,i3,0),CD(VC,e5,0),CD(A5,class{async playAudioCue(e,t){}},0),CD(rA,class{notify(e,t){}},0),function(e){const t=new GK;for(const[r,a]of SD())t.set(r,a);const i=new L5(t,!0);t.set(my,i),e.get=function(e){n||s({});const o=t.get(e);if(!o)throw new Error("Missing service "+e);return o instanceof wD?i.invokeFunction((t=>t.get(e))):o};let n=!1;const o=new Cv;function s(e){if(n)return i;n=!0;for(const[i,n]of SD())t.get(i)||t.set(i,n);for(const i in e)if(e.hasOwnProperty(i)){const n=vy(i);t.get(n)instanceof wD&&t.set(n,e[i])}const s=B5();for(const t of s)try{i.createInstance(t)}catch(r){Um(r)}return o.fire(),i}e.initialize=s,e.withServices=function(e){if(n)return e();const t=new dv,i=t.add(o.event((()=>{i.dispose(),t.add(e())})));return t}}(n3||(n3={}));class c3{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=void 0===t?void 0:e,n=void 0===t?e:t;return r3({owner:i,debugName:()=>{const e=w3(n);if(void 0!==e)return e;const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(n.toString());return t?"".concat(this.debugName,".").concat(t[2]):i?void 0:"".concat(this.debugName," (mapped)")}},(e=>n(this.read(e),e)))}recomputeInitiallyAndOnChange(e,t){return e.add(s3(this,t)),this}}class d3 extends c3{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function h3(e,t){const i=new p3(e,t);try{e(i)}finally{i.finish()}}function u3(e){if(a3)e(a3);else{const t=new p3(e,void 0);a3=t;try{e(t)}finally{t.finish(),a3=void 0}}}function g3(e,t,i){e?t(e):h3(t,i)}class p3{constructor(e,t){var i;this._fn=e,this._getDebugName=t,this.updatingObservers=[],null===(i=l3())||void 0===i||i.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():w3(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){var e;const t=this.updatingObservers;for(let i=0;i<t.length;i++){const{observer:e,observable:n}=t[i];e.endUpdate(n)}this.updatingObservers=null,null===(e=l3())||void 0===e||e.handleEndTransaction()}}const f3=new Map,m3=new WeakMap;function v3(e,t,i,n,o){var s;const r=m3.get(e);if(r)return r;const a=function(e,t,i,n,o){const s=m3.get(e);if(s)return s;const r=n?function(e){var t;const i=_3.get(e);if(i)return i;const n=function(e){const t=e.constructor;if(t)return t.name;return"Object"}(e);let o=null!==(t=b3.get(n))&&void 0!==t?t:0;o++,b3.set(n,o);const s=1===o?n:"".concat(n,"#").concat(o);return _3.set(e,s),s}(n)+".":"";let a;if(void 0!==t){if("function"!==typeof t)return r+t;if(a=t(),void 0!==a)return r+a}if(void 0!==i&&(a=w3(i),void 0!==a))return r+a;if(void 0!==n)for(const l in n)if(n[l]===o)return r+l;return}(e,t,i,n,o);if(a){let t=null!==(s=f3.get(a))&&void 0!==s?s:0;t++,f3.set(a,t);const i=1===t?a:"".concat(a,"#").concat(t);return m3.set(e,i),i}}const b3=new Map,_3=new WeakMap;function w3(e){const t=e.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),n=i?i[1]:void 0;return null===n||void 0===n?void 0:n.trim()}function y3(e,t){return"string"===typeof e?new C3(void 0,e,t):new C3(e,void 0,t)}class C3 extends d3{get debugName(){var e;return null!==(e=v3(this,this._debugName,void 0,this._owner,this))&&void 0!==e?e:"ObservableValue"}constructor(e,t,i){super(),this._owner=e,this._debugName=t,this._value=i}get(){return this._value}set(e,t,i){var n;if(this._value===e)return;let o;t||(t=o=new p3((()=>{}),(()=>"Setting ".concat(this.debugName))));try{const o=this._value;this._setValue(e),null===(n=l3())||void 0===n||n.handleObservableChanged(this,{oldValue:o,newValue:e,change:i,didChange:!0,hadValue:!0});for(const e of this.observers)t.updateObserver(e,this),e.handleChange(this,i)}finally{o&&o.finish()}}toString(){return"".concat(this.debugName,": ").concat(this._value)}_setValue(e){this._value=e}}class S3 extends C3{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;null===(e=this._value)||void 0===e||e.dispose()}}const k3=(e,t)=>e===t;function L3(e,t){return void 0!==t?new E3(e,void 0,t,void 0,void 0,void 0,k3):new E3(void 0,void 0,e,void 0,void 0,void 0,k3)}function x3(e,t){let i,n;void 0===t?(i=e,n=void 0):(n=e,i=t);const o=new dv;return new E3(n,(()=>{var e;return null!==(e=w3(i))&&void 0!==e?e:"(anonymous)"}),(e=>(o.clear(),i(e,o))),void 0,void 0,(()=>o.dispose()),k3)}function D3(e,t){let i,n;void 0===t?(i=e,n=void 0):(n=e,i=t);const o=new dv;return new E3(n,(()=>{var e;return null!==(e=w3(i))&&void 0!==e?e:"(anonymous)"}),(e=>{o.clear();const t=i(e);return t&&o.add(t),t}),void 0,void 0,(()=>o.dispose()),k3)}!function(e){r3=e}((function(e,t){var i;return new E3(e.owner,e.debugName,t,void 0,void 0,void 0,null!==(i=e.equalityComparer)&&void 0!==i?i:k3)}));class E3 extends d3{get debugName(){var e;return null!==(e=v3(this,this._debugName,this._computeFn,this._owner,this))&&void 0!==e?e:"(anonymous)"}constructor(e,t,i,n,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;var a,l;super(),this._owner=e,this._debugName=t,this._computeFn=i,this.createChangeSummary=n,this._handleChange=o,this._handleLastObserverRemoved=s,this._equalityComparator=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=null===(a=this.createChangeSummary)||void 0===a?void 0:a.call(this),null===(l=l3())||void 0===l||l.handleDerivedCreated(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),null===(e=this._handleLastObserverRemoved)||void 0===e||e.call(this)}get(){var e;if(0===this.observers.size){const t=this._computeFn(this,null===(e=this.createChangeSummary)||void 0===e?void 0:e.call(this));return this.onLastObserverRemoved(),t}do{if(1===this.state)for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){var e,t;if(3===this.state)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const n=0!==this.state,o=this.value;this.state=3;const s=this.changeSummary;this.changeSummary=null===(e=this.createChangeSummary)||void 0===e?void 0:e.call(this);try{this.value=this._computeFn(this,s)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const r=n&&!this._equalityComparator(o,this.value);if(null===(t=l3())||void 0===t||t.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:r,hadValue:n}),r)for(const a of this.observers)a.handleChange(this,void 0)}toString(){return"LazyDerived<".concat(this.debugName,">")}beginUpdate(e){this.updateCount++;const t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}if(this.updateCount<0)throw new ev}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),n=3===this.state;if(i&&(1===this.state||n)&&(this.state=2,n))for(const e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function N3(e){return new M3(void 0,e,void 0,void 0)}function T3(e,t){return new M3(e.debugName,t,void 0,void 0)}function I3(e,t){return new M3(e.debugName,t,e.createEmptyChangeSummary,e.handleChange)}function A3(e){const t=new dv,i=T3({debugName:()=>w3(e)||"(anonymous)"},(i=>{t.clear(),e(i,t)}));return cv((()=>{i.dispose(),t.dispose()}))}class M3{get debugName(){if("string"===typeof this._debugName)return this._debugName;if("function"===typeof this._debugName){const e=this._debugName();if(void 0!==e)return e}const e=w3(this._runFn);return void 0!==e?e:"(anonymous)"}constructor(e,t,i,n){var o,s;this._debugName=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=null===(o=this.createChangeSummary)||void 0===o?void 0:o.call(this),null===(s=l3())||void 0===s||s.handleAutorunCreated(this),this._runIfNeeded(),nv(this)}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),ov(this)}_runIfNeeded(){var e,t,i;if(3===this.state)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n,this.state=3;const o=this.disposed;try{if(!o){null===(e=l3())||void 0===e||e.handleAutorunTriggered(this);const i=this.changeSummary;this.changeSummary=null===(t=this.createChangeSummary)||void 0===t?void 0:t.call(this),this._runFn(this,i)}}finally{o||null===(i=l3())||void 0===i||i.handleAutorunFinished(this);for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return"Autorun<".concat(this.debugName,">")}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,EC((()=>this.updateCount>=0))}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}function O3(e){return new R3(e)}!function(e){e.Observer=M3}(N3||(N3={}));class R3 extends c3{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return"Const: ".concat(this.value)}}function P3(e,t){return new F3(e,t)}class F3 extends d3{constructor(e,t){super(),this.event=e,this._getValue=t,this.hasValue=!1,this.handleEvent=e=>{var t;const i=this._getValue(e),n=this.value,o=!this.hasValue||n!==i;let s=!1;o&&(this.value=i,this.hasValue&&(s=!0,g3(F3.globalTransaction,(e=>{var t;null===(t=l3())||void 0===t||t.handleFromEventObservableTriggered(this,{oldValue:n,newValue:i,change:void 0,didChange:o,hadValue:this.hasValue});for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,void 0)}),(()=>{const e=this.getDebugName();return"Event fired"+(e?": ".concat(e):"")}))),this.hasValue=!0),s||null===(t=l3())||void 0===t||t.handleFromEventObservableTriggered(this,{oldValue:n,newValue:i,change:void 0,didChange:o,hadValue:this.hasValue})}}getDebugName(){return w3(this._getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?": ".concat(e):"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function B3(e,t){return new V3(e,t)}!function(e){e.Observer=F3,e.batchEventsGlobally=function(e,t){let i=!1;void 0===F3.globalTransaction&&(F3.globalTransaction=e,i=!0);try{t()}finally{i&&(F3.globalTransaction=void 0)}}}(P3||(P3={}));class V3 extends d3{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{h3((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>this.debugName))}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}class W3 extends d3{get debugName(){var e;return null!==(e=v3(this,this._debugName,void 0,this._owner,this))&&void 0!==e?e:"Observable Signal"}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(e)for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t);else h3((e=>{this.trigger(e,t)}),(()=>"Trigger signal ".concat(this.debugName)))}get(){}}function z3(e,t){const i=new H3(!0,t);return e.addObserver(i),t?t(e.get()):e.reportChanges(),cv((()=>{e.removeObserver(i)}))}!function(e){s3=e}(z3);class H3{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}class j3{static capture(e){if(0===e.getScrollTop()||e.hasPendingScrollAnimation())return new j3(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}return new j3(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,n,o){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=n,this._cursorPosition=o}restore(e){if((this._initialContentHeight!==e.getContentHeight()||this._initialScrollTop!==e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}function U3(){return Zv&&!!Zv.VSCODE_DEV}function K3(e){if(U3()){const t=function(){q3||(q3=new Set);const e=globalThis;e.$hotReload_applyNewExports||(e.$hotReload_applyNewExports=e=>{for(const t of q3){const i=t(e);if(i)return i}});return q3}();return t.add(e),{dispose(){t.delete(e)}}}return{dispose(){}}}let q3;function G3(e,t){const i=new dv,n=e.createDecorationsCollection();return i.add(T3({debugName:()=>"Apply decorations from ".concat(t.debugName)},(e=>{const i=t.read(e);n.set(i)}))),i.add({dispose:()=>{n.clear()}}),i}function Y3(e,t){return e.appendChild(t),cv((()=>{e.removeChild(t)}))}U3()&&K3((e=>{let{oldExports:t,newSrc:i}=e;if(-1!==i.indexOf("/* hot-reload:patch-prototype-methods */"))return e=>{var i,n;for(const o in e){const s=e[o];if(console.log("[hot-reload] Patching prototype methods of '".concat(o,"'"),{exportedItem:s}),"function"===typeof s&&s.prototype){const r=t[o];if(r){for(const e of Object.getOwnPropertyNames(s.prototype)){const t=Object.getOwnPropertyDescriptor(s.prototype,e),a=Object.getOwnPropertyDescriptor(r.prototype,e);(null===(i=null===t||void 0===t?void 0:t.value)||void 0===i?void 0:i.toString())!==(null===(n=null===a||void 0===a?void 0:a.value)||void 0===n?void 0:n.toString())&&console.log("[hot-reload] Patching prototype method '".concat(o,".").concat(e,"'")),Object.defineProperty(r.prototype,e,t)}e[o]=r}}}return!0}}));class Z3 extends hv{get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.elementSizeObserver=this._register(new JI(e,t)),this._width=y3(this,this.elementSizeObserver.getWidth()),this._height=y3(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((e=>h3((e=>{this._width.set(this.elementSizeObserver.getWidth(),e),this._height.set(this.elementSizeObserver.getHeight(),e)})))))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function Q3(e,t,i){let n=t.get(),o=n,s=n;const r=y3("animatedValue",n);let a=-1;let l;function c(){const t=Date.now()-a;var i,d,h,u;s=Math.floor((d=o,h=n-o,(i=t)===(u=300)?d+h:h*(1-Math.pow(2,-10*i/u))+d)),t<300?l=e.requestAnimationFrame(c):s=n,r.set(s,void 0)}return i.add(I3({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(e,i)=>(e.didChange(t)&&(i.animate=i.animate||e.change),!0)},((i,r)=>{void 0!==l&&(e.cancelAnimationFrame(l),l=void 0),o=s,n=t.read(i),a=Date.now()-(r.animate?0:300),c()}))),r}class X3 extends hv{constructor(e,t,i){super(),this._register(new $3(e,i)),this._register(e6(i,{height:t.actualHeight,top:t.actualTop}))}}class J3{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=y3(this,void 0),this._actualHeight=y3(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=e=>{this._actualTop.set(e,void 0)},this.onComputedHeight=e=>{this._actualHeight.set(e,void 0)}}}class $3{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId="managedOverlayWidget-".concat($3._counter++),this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}function e6(e,t){return N3((i=>{for(let[n,o]of Object.entries(t))o&&"object"===typeof o&&"read"in o&&(o=o.read(i)),"number"===typeof o&&(o="".concat(o,"px")),n=n.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),e.style[n]=o}))}function t6(e,t){return function(e,t){if(U3()){const i=B3("reload",(t=>K3((i=>{let{oldExports:n}=i;if([...Object.values(n)].some((t=>e.includes(t))))return e=>(t(void 0),!0)}))));i.read(t)}}([e],t),e}function i6(e,t,i,n){const o=new dv,s=[];return o.add(A3(((o,r)=>{const a=t.read(o),l=new Map,c=new Map;i&&i(!0),e.changeViewZones((e=>{for(const t of s)e.removeZone(t),null===n||void 0===n||n.delete(t);s.length=0;for(const t of a){const i=e.addZone(t);t.setZoneId&&t.setZoneId(i),s.push(i),null===n||void 0===n||n.add(i),l.set(t,i)}})),i&&i(!1),r.add(I3({createEmptyChangeSummary:()=>({zoneIds:[]}),handleChange(e,t){const i=c.get(e.changedObservable);return void 0!==i&&t.zoneIds.push(i),!0}},((t,n)=>{for(const e of a)e.onChange&&(c.set(e.onChange,l.get(e)),e.onChange.read(t));i&&i(!0),e.changeViewZones((e=>{for(const t of n.zoneIds)e.layoutZone(t)})),i&&i(!1)})))}))),o.add({dispose(){i&&i(!0),e.changeViewZones((e=>{for(const t of s)e.removeZone(t)})),null===n||void 0===n||n.clear(),i&&i(!1)}}),o}$3._counter=0;class n6 extends Mv{dispose(){super.dispose(!0)}}function o6(e,t){const i=iN(t,(t=>t.original.startLineNumber<=e.lineNumber));if(!i)return Fb.fromPositions(e);if(i.original.endLineNumberExclusive<=e.lineNumber){const t=e.lineNumber-i.original.endLineNumberExclusive+i.modified.endLineNumberExclusive;return Fb.fromPositions(new Pb(t,e.column))}if(!i.innerChanges)return Fb.fromPositions(new Pb(i.modified.startLineNumber,1));const n=iN(i.innerChanges,(t=>t.originalRange.getStartPosition().isBeforeOrEqual(e)));if(!n){const t=e.lineNumber-i.original.startLineNumber+i.modified.startLineNumber;return Fb.fromPositions(new Pb(t,e.column))}if(n.originalRange.containsPosition(e))return n.modifiedRange;{const t=(o=n.originalRange.getEndPosition(),s=e,o.lineNumber===s.lineNumber?new ZW(0,s.column-o.column):new ZW(s.lineNumber-o.lineNumber,s.column-1));return Fb.fromPositions(function(e,t){return 0===t.lineCount?new Pb(e.lineNumber,e.column+t.columnCount):new Pb(e.lineNumber+t.lineCount,t.columnCount+1)}(n.modifiedRange.getEndPosition(),t))}var o,s}function s6(e,t,i){const n=e.bindTo(t);return T3({debugName:()=>"Update ".concat(e.key)},(e=>{n.set(i(e))}))}var r6=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},a6=function(e,t){return function(i,n){t(i,n,e)}};const l6=T4("diff-review-insert",Hb.add,lf("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),c6=T4("diff-review-remove",Hb.remove,lf("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),d6=T4("diff-review-close",Hb.close,lf("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let h6=class extends hv{constructor(e,t,i,n,o,s,r,a,l){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=n,this._width=o,this._height=s,this._diffs=r,this._editors=a,this._instantiationService=l,this._state=x3(this,((e,t)=>{const i=this._visible.read(e);if(this._parentNode.style.visibility=i?"visible":"hidden",!i)return null;const n=t.add(this._instantiationService.createInstance(u6,this._diffs,this._editors,this._setVisible,this._canClose));return{model:n,view:t.add(this._instantiationService.createInstance(w6,this._parentNode,n,this._width,this._height,this._editors))}})).recomputeInitiallyAndOnChange(this._store)}next(){h3((e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)}))}prev(){h3((e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)}))}close(){h3((e=>{this._setVisible(!1,e)}))}};h6._ttPolicy=xx("diffReview",{createHTML:e=>e}),h6=r6([a6(8,my)],h6);let u6=class extends hv{constructor(e,t,i,n,o){super(),this._diffs=e,this._editors=t,this._setVisible=i,this.canClose=n,this._audioCueService=o,this._groups=y3(this,[]),this._currentGroupIdx=y3(this,0),this._currentElementIdx=y3(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map(((e,t)=>this._groups.read(t)[e])),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map(((e,t)=>{var i;return null===(i=this.currentGroup.read(t))||void 0===i?void 0:i.lines[e]})),this._register(N3((e=>{const t=this._diffs.read(e);if(!t)return void this._groups.set([],void 0);const i=function(e,t,i){const n=[];for(const o of _p(e,((e,t)=>t.modified.startLineNumber-e.modified.endLineNumberExclusive<2*g6))){const e=[];e.push(new m6);const s=new cN(Math.max(1,o[0].original.startLineNumber-g6),Math.min(o[o.length-1].original.endLineNumberExclusive+g6,t+1)),r=new cN(Math.max(1,o[0].modified.startLineNumber-g6),Math.min(o[o.length-1].modified.endLineNumberExclusive+g6,i+1));wp(o,((t,i)=>{const n=new cN(t?t.original.endLineNumberExclusive:s.startLineNumber,i?i.original.startLineNumber:s.endLineNumberExclusive),o=new cN(t?t.modified.endLineNumberExclusive:r.startLineNumber,i?i.modified.startLineNumber:r.endLineNumberExclusive);n.forEach((t=>{e.push(new _6(t,o.startLineNumber+(t-n.startLineNumber)))})),i&&(i.original.forEach((t=>{e.push(new v6(i,t))})),i.modified.forEach((t=>{e.push(new b6(i,t))})))}));const a=o[0].modified.join(o[o.length-1].modified),l=o[0].original.join(o[o.length-1].original);n.push(new f6(new hN(a,l),e))}return n}(t,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());h3((e=>{const t=this._editors.modified.getPosition();if(t){const n=i.findIndex((e=>(null===t||void 0===t?void 0:t.lineNumber)<e.range.modified.endLineNumberExclusive));-1!==n&&this._currentGroupIdx.set(n,e)}this._groups.set(i,e)}))}))),this._register(N3((e=>{const t=this.currentElement.read(e);(null===t||void 0===t?void 0:t.type)===p6.Deleted?this._audioCueService.playAudioCue(R5.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(null===t||void 0===t?void 0:t.type)===p6.Added&&this._audioCueService.playAudioCue(R5.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})}))),this._register(N3((e=>{var t;const i=this.currentElement.read(e);if(i&&i.type!==p6.Header){const e=null!==(t=i.modifiedLineNumber)&&void 0!==t?t:i.diff.modified.startLineNumber;this._editors.modified.setSelection(Fb.fromPositions(new Pb(e,1)))}})))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||g3(t,(t=>{this._currentGroupIdx.set(eN.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),t),this._currentElementIdx.set(0,t)}))}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||h3((i=>{this._currentElementIdx.set(eN.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)}))}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);-1!==i&&h3((e=>{this._currentElementIdx.set(i,e)}))}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===p6.Deleted?(this._editors.original.setSelection(Fb.fromPositions(new Pb(e.originalLineNumber,1))),this._editors.original.revealLine(e.originalLineNumber),this._editors.original.focus()):(e.type!==p6.Header&&(this._editors.modified.setSelection(Fb.fromPositions(new Pb(e.modifiedLineNumber,1))),this._editors.modified.revealLine(e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};u6=r6([a6(4,A5)],u6);const g6=3;var p6;!function(e){e[e.Header=0]="Header",e[e.Unchanged=1]="Unchanged",e[e.Deleted=2]="Deleted",e[e.Added=3]="Added"}(p6||(p6={}));class f6{constructor(e,t){this.range=e,this.lines=t}}class m6{constructor(){this.type=p6.Header}}class v6{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=p6.Deleted,this.modifiedLineNumber=void 0}}class b6{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=p6.Added,this.originalLineNumber=void 0}}class _6{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=p6.Unchanged}}let w6=class extends hv{constructor(e,t,i,n,o,s){super(),this._element=e,this._model=t,this._width=i,this._height=n,this._editors=o,this._languageService=s,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const r=document.createElement("div");r.className="diff-review-actions",this._actionBar=this._register(new MJ(r)),this._register(N3((e=>{this._actionBar.clear(),this._model.canClose.read(e)&&this._actionBar.push(new yy("diffreview.close",lf("label.close","Close"),"close-diff-review "+Ey.asClassName(d6),!0,(async()=>t.close())),{label:!1,icon:!0})}))),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new TP(this._content,{})),FL(this.domNode,this._scrollbar.getDomNode(),r),this._register(cv((()=>{FL(this.domNode)}))),this._register(e6(this.domNode,{width:this._width,height:this._height})),this._register(e6(this._content,{width:this._width,height:this._height})),this._register(A3(((e,t)=>{this._model.currentGroup.read(e),this._render(t)}))),this._register(Xk(this.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._model.goToNextLine()),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._model.goToPreviousLine()),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this._model.close()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this._model.revealCurrentElementInEditor())})))}_render(e){const t=this._editors.original.getOptions(),i=this._editors.modified.getOptions(),n=document.createElement("div");n.className="diff-review-table",n.setAttribute("role","list"),n.setAttribute("aria-label",lf("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),ry(n,i.get(50)),FL(this._content,n);const o=this._editors.original.getModel(),s=this._editors.modified.getModel();if(!o||!s)return;const r=o.getOptions(),a=s.getOptions(),l=i.get(66),c=this._model.currentGroup.get();for(const d of(null===c||void 0===c?void 0:c.lines)||[]){if(!c)break;let h;if(d.type===p6.Header){const e=document.createElement("div");e.className="diff-review-row",e.setAttribute("role","listitem");const t=c.range,i=this._model.currentGroupIndex.get(),n=this._model.groups.get().length,o=e=>0===e?lf("no_lines_changed","no lines changed"):1===e?lf("one_line_changed","1 line changed"):lf("more_lines_changed","{0} lines changed",e),s=o(t.original.length),r=o(t.modified.length);e.setAttribute("aria-label",lf({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",i+1,n,t.original.startLineNumber,s,t.modified.startLineNumber,r));const a=document.createElement("div");a.className="diff-review-cell diff-review-summary",a.appendChild(document.createTextNode("".concat(i+1,"/").concat(n,": @@ -").concat(t.original.startLineNumber,",").concat(t.original.length," +").concat(t.modified.startLineNumber,",").concat(t.modified.length," @@"))),e.appendChild(a),h=e}else h=this._createRow(d,l,this._width.get(),t,o,r,i,s,a);n.appendChild(h);const u=L3((e=>this._model.currentElement.read(e)===d));e.add(N3((e=>{const t=u.read(e);h.tabIndex=t?0:-1,t&&h.focus()}))),e.add(Zk(h,"focus",(()=>{this._model.goToLine(d)})))}this._scrollbar.scanDomNode()}_createRow(e,t,i,n,o,s,r,a,l){const c=n.get(143),d=c.glyphMarginWidth+c.lineNumbersWidth,h=r.get(143),u=10+h.glyphMarginWidth+h.lineNumbersWidth;let g="diff-review-row",p="";let f=null;switch(e.type){case p6.Added:g="diff-review-row line-insert",p=" char-insert",f=l6;break;case p6.Deleted:g="diff-review-row line-delete",p=" char-delete",f=c6}const m=document.createElement("div");m.style.minWidth=i+"px",m.className=g,m.setAttribute("role","listitem"),m.ariaLevel="";const v=document.createElement("div");v.className="diff-review-cell",v.style.height="".concat(t,"px"),m.appendChild(v);const b=document.createElement("span");b.style.width=d+"px",b.style.minWidth=d+"px",b.className="diff-review-line-number"+p,void 0!==e.originalLineNumber?b.appendChild(document.createTextNode(String(e.originalLineNumber))):b.innerText="\xa0",v.appendChild(b);const _=document.createElement("span");_.style.width=u+"px",_.style.minWidth=u+"px",_.style.paddingRight="10px",_.className="diff-review-line-number"+p,void 0!==e.modifiedLineNumber?_.appendChild(document.createTextNode(String(e.modifiedLineNumber))):_.innerText="\xa0",v.appendChild(_);const w=document.createElement("span");if(w.className="diff-review-spacer",f){const e=document.createElement("span");e.className=Ey.asClassName(f),e.innerText="\xa0\xa0",w.appendChild(e)}else w.innerText="\xa0\xa0";let y;if(v.appendChild(w),void 0!==e.modifiedLineNumber){let t=this._getLineHtml(a,r,l.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);h6._ttPolicy&&(t=h6._ttPolicy.createHTML(t)),v.insertAdjacentHTML("beforeend",t),y=a.getLineContent(e.modifiedLineNumber)}else{let t=this._getLineHtml(o,n,s.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);h6._ttPolicy&&(t=h6._ttPolicy.createHTML(t)),v.insertAdjacentHTML("beforeend",t),y=o.getLineContent(e.originalLineNumber)}0===y.length&&(y=lf("blankLine","blank"));let C="";switch(e.type){case p6.Unchanged:C=e.originalLineNumber===e.modifiedLineNumber?lf({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",y,e.originalLineNumber):lf("equalLine","{0} original line {1} modified line {2}",y,e.originalLineNumber,e.modifiedLineNumber);break;case p6.Added:C=lf("insertLine","+ {0} modified line {1}",y,e.modifiedLineNumber);break;case p6.Deleted:C=lf("deleteLine","- {0} original line {1}",y,e.originalLineNumber)}return m.setAttribute("aria-label",C),m}_getLineHtml(e,t,i,n,o){const s=e.getLineContent(n),r=t.get(50),a=HT.createEmpty(s,o),l=cI.isBasicASCII(s,e.mightContainNonBasicASCII()),c=cI.containsRTL(s,l,e.mightContainRTL());return iI(new QT(r.isMonospace&&!t.get(33),r.canUseHalfwidthRightwardsArrow,s,!1,l,c,0,a,[],i,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(116),t.get(98),t.get(93),t.get(51)!==km.OFF,null)).html}};w6=r6([a6(5,_D)],w6);const y6=T4("diff-insert",Hb.add,lf("diffInsertIcon","Line decoration for inserts in the diff editor.")),C6=T4("diff-remove",Hb.remove,lf("diffRemoveIcon","Line decoration for removals in the diff editor.")),S6=SU.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+Ey.asClassName(y6),marginClassName:"gutter-insert"}),k6=SU.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+Ey.asClassName(C6),marginClassName:"gutter-delete"}),L6=SU.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),x6=SU.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),D6=SU.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),E6=SU.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),N6=SU.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),T6=SU.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),I6=SU.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),A6=SU.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class M6 extends hv{constructor(e,t,i,n,o){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=n,this._editors=o,this._originalScrollTop=P3(this._editors.original.onDidScrollChange,(()=>this._editors.original.getScrollTop())),this._modifiedScrollTop=P3(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollTop())),this._viewZonesChanged=B3("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=y3(this,0),this._modifiedViewZonesChangedSignal=B3("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=B3("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=x3(this,((e,t)=>{var i;this._element.replaceChildren();const n=this._diffModel.read(e),o=null===(i=null===n||void 0===n?void 0:n.diff.read(e))||void 0===i?void 0:i.movedTexts;if(!o||0===o.length)return void this.width.set(0,void 0);this._viewZonesChanged.read(e);const s=this._originalEditorLayoutInfo.read(e),r=this._modifiedEditorLayoutInfo.read(e);if(!s||!r)return void this.width.set(0,void 0);this._modifiedViewZonesChangedSignal.read(e),this._originalViewZonesChangedSignal.read(e);const a=o.map((t=>{function i(e,t){return(t.getTopForLineNumber(e.startLineNumber,!0)+t.getTopForLineNumber(e.endLineNumberExclusive,!0))/2}const n=i(t.lineRangeMapping.original,this._editors.original),o=this._originalScrollTop.read(e),s=i(t.lineRangeMapping.modified,this._editors.modified),r=n-o,a=s-this._modifiedScrollTop.read(e),l=Math.min(n,s),c=Math.max(n,s);return{range:new eN(l,c),from:r,to:a,fromWithoutScroll:n,toWithoutScroll:s,move:t}}));a.sort(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(e,i)=>{for(const n of t){const t=n(e,i);if(!Mp.isNeitherLessOrGreaterThan(t))return t}return Mp.neitherLessOrGreaterThan}}(Op((e=>e.fromWithoutScroll>e.toWithoutScroll),Pp),Op((e=>e.fromWithoutScroll>e.toWithoutScroll?e.fromWithoutScroll:-e.toWithoutScroll),Rp)));const l=O6.compute(a.map((e=>e.range))),c=s.verticalScrollbarWidth,d=10*(l.getTrackCount()-1)+20,h=c+d+(r.contentLeft-M6.movedCodeBlockPadding);let u=0;for(const g of a){const e=c+10+10*l.getTrack(u),i=15,o=15,s=h,a=r.glyphMarginWidth+r.lineNumbersWidth,d=18,p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.classList.add("arrow-rectangle"),p.setAttribute("x","".concat(s-a)),p.setAttribute("y","".concat(g.to-d/2)),p.setAttribute("width","".concat(a)),p.setAttribute("height","".concat(d)),this._element.appendChild(p);const f=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d","M ".concat(0," ",g.from," L ").concat(e," ").concat(g.from," L ").concat(e," ").concat(g.to," L ").concat(s-o," ").concat(g.to)),m.setAttribute("fill","none"),f.appendChild(m);const v=document.createElementNS("http://www.w3.org/2000/svg","polygon");v.classList.add("arrow"),t.add(N3((e=>{m.classList.toggle("currentMove",g.move===n.activeMovedText.read(e)),v.classList.toggle("currentMove",g.move===n.activeMovedText.read(e))}))),v.setAttribute("points","".concat(s-o,",").concat(g.to-i/2," ").concat(s,",").concat(g.to," ").concat(s-o,",").concat(g.to+i/2)),f.appendChild(v),this._element.appendChild(f),u++}this.width.set(d,void 0)})),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(cv((()=>this._element.remove()))),this._register(N3((e=>{const t=this._originalEditorLayoutInfo.read(e),i=this._modifiedEditorLayoutInfo.read(e);t&&i&&(this._element.style.left="".concat(t.width-t.verticalScrollbarWidth,"px"),this._element.style.height="".concat(t.height,"px"),this._element.style.width="".concat(t.verticalScrollbarWidth+t.contentLeft-M6.movedCodeBlockPadding+this.width.read(e),"px"))}))),this._register(z3(this._state));const s=L3((e=>{const t=this._diffModel.read(e),i=null===t||void 0===t?void 0:t.diff.read(e);return i?i.movedTexts.map((e=>({move:e,original:new J3(O3(e.lineRangeMapping.original.startLineNumber-1),18),modified:new J3(O3(e.lineRangeMapping.modified.startLineNumber-1),18)}))):[]}));this._register(i6(this._editors.original,s.map((e=>e.map((e=>e.original)))))),this._register(i6(this._editors.modified,s.map((e=>e.map((e=>e.modified)))))),this._register(A3(((e,t)=>{const i=s.read(e);for(const n of i)t.add(new R6(this._editors.original,n.original,n.move,"original",this._diffModel.get())),t.add(new R6(this._editors.modified,n.modified,n.move,"modified",this._diffModel.get()))})));const r=P3(this._editors.original.onDidChangeCursorPosition,(()=>this._editors.original.getPosition())),a=P3(this._editors.modified.onDidChangeCursorPosition,(()=>this._editors.modified.getPosition())),l=B3("original.onDidFocusEditorWidget",(e=>this._editors.original.onDidFocusEditorWidget((()=>setTimeout((()=>e(void 0)),0))))),c=B3("modified.onDidFocusEditorWidget",(e=>this._editors.modified.onDidFocusEditorWidget((()=>setTimeout((()=>e(void 0)),0)))));let d="modified";this._register(I3({createEmptyChangeSummary:()=>{},handleChange:(e,t)=>(e.didChange(l)&&(d="original"),e.didChange(c)&&(d="modified"),!0)},(e=>{l.read(e),c.read(e);const t=this._diffModel.read(e);if(!t)return;const i=t.diff.read(e);let n;if(i&&"original"===d){const t=r.read(e);t&&(n=i.movedTexts.find((e=>e.lineRangeMapping.original.contains(t.lineNumber))))}if(i&&"modified"===d){const t=a.read(e);t&&(n=i.movedTexts.find((e=>e.lineRangeMapping.modified.contains(t.lineNumber))))}n!==t.movedTextToCompare.get()&&t.movedTextToCompare.set(void 0,void 0),t.setActiveMovedText(n)})))}}M6.movedCodeBlockPadding=4;class O6{static compute(e){const t=[],i=[];for(const n of e){let e=t.findIndex((e=>!e.intersectsStrict(n)));if(-1===e){const i=6;t.length>=i?e=lN(t,Op((e=>e.intersectWithRangeLength(n)),Rp)):(e=t.length,t.push(new tN))}t[e].addRange(n),i.push(e)}return new O6(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class R6 extends X3{constructor(e,t,i,n,o){const s=$L("div.diff-hidden-lines-widget");super(e,t,s.root),this._editor=e,this._move=i,this._kind=n,this._diffModel=o,this._nodes=$L("div.diff-moved-code-block",{style:{marginRight:"4px"}},[$L("div.text-content@textContent"),$L("div.action-bar@actionBar")]),s.root.appendChild(this._nodes.root);const r=P3(this._editor.onDidLayoutChange,(()=>this._editor.getLayoutInfo()));let a;this._register(e6(this._nodes.root,{paddingRight:r.map((e=>e.verticalScrollbarWidth))})),a=i.changes.length>0?"original"===this._kind?lf("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):lf("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):"original"===this._kind?lf("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):lf("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const l=this._register(new MJ(this._nodes.actionBar,{highlightToggledItems:!0})),c=new yy("",a,"",!1);l.push(c,{icon:!1,label:!0});const d=new yy("","Compare",Ey.asClassName(Hb.compareChanges),!0,(()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)}));this._register(N3((e=>{const t=this._diffModel.movedTextToCompare.read(e)===i;d.checked=t}))),l.push(d,{icon:!1,label:!0})}}class P6 extends hv{constructor(e,t,i,n){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=L3(this,(e=>{var t;const i=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.diff.read(e);if(!i)return null;const n=this._diffModel.read(e).movedTextToCompare.read(e),o=this._options.renderIndicators.read(e),s=this._options.showEmptyDecorations.read(e),r=[],a=[];if(!n)for(const c of i.mappings)if(c.lineRangeMapping.original.isEmpty||r.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:o?k6:x6}),c.lineRangeMapping.modified.isEmpty||a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:o?S6:L6}),c.lineRangeMapping.modified.isEmpty||c.lineRangeMapping.original.isEmpty)c.lineRangeMapping.original.isEmpty||r.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:I6}),c.lineRangeMapping.modified.isEmpty||a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:E6});else for(const e of c.lineRangeMapping.innerChanges||[])c.lineRangeMapping.original.contains(e.originalRange.startLineNumber)&&r.push({range:e.originalRange,options:e.originalRange.isEmpty()&&s?A6:T6}),c.lineRangeMapping.modified.contains(e.modifiedRange.startLineNumber)&&a.push({range:e.modifiedRange,options:e.modifiedRange.isEmpty()&&s?N6:D6});if(n)for(const c of n.changes){const e=c.original.toInclusiveRange();e&&r.push({range:e,options:o?k6:x6});const t=c.modified.toInclusiveRange();t&&a.push({range:t,options:o?S6:L6});for(const i of c.innerChanges||[])r.push({range:i.originalRange,options:T6}),a.push({range:i.modifiedRange,options:D6})}const l=this._diffModel.read(e).activeMovedText.read(e);for(const c of i.movedTexts)r.push({range:c.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(c===l?" currentMove":""),blockPadding:[M6.movedCodeBlockPadding,0,M6.movedCodeBlockPadding,M6.movedCodeBlockPadding]}}),a.push({range:c.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(c===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:r,modifiedDecorations:a}})),this._register(new F6(e,t,i,n)),this._register(G3(this._editors.original,this._decorations.map((e=>(null===e||void 0===e?void 0:e.originalDecorations)||[])))),this._register(G3(this._editors.modified,this._decorations.map((e=>(null===e||void 0===e?void 0:e.modifiedDecorations)||[]))))}}class F6 extends hv{constructor(e,t,i,n){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=n;const o=[],s=L3(this,(e=>{const t=this._diffModel.read(e),i=null===t||void 0===t?void 0:t.diff.read(e);if(!i)return o;const n=this._editors.modifiedSelections.read(e);if(n.every((e=>e.isEmpty())))return o;const s=new dN(n.map((e=>cN.fromRangeInclusive(e)))),r=i.mappings.filter((e=>e.lineRangeMapping.innerChanges&&s.intersects(e.lineRangeMapping.modified))).map((e=>({mapping:e,rangeMappings:e.lineRangeMapping.innerChanges.filter((e=>n.some((t=>Fb.areIntersecting(e.modifiedRange,t)))))})));return 0===r.length||r.every((e=>0===e.rangeMappings.length))?o:r}));this._register(A3(((e,t)=>{const i=this._diffModel.read(e),n=null===i||void 0===i?void 0:i.diff.read(e);if(!i||!n)return;if(this._diffModel.read(e).movedTextToCompare.read(e))return;if(!this._options.shouldRenderRevertArrows.read(e))return;const o=[],r=s.read(e),a=new Set(r.map((e=>e.mapping)));if(r.length>0){const t=this._editors.modifiedSelections.read(e),i=new B6(t[t.length-1].positionLineNumber,this._widget,r.flatMap((e=>e.rangeMappings)),!0);this._editors.modified.addGlyphMarginWidget(i),o.push(i)}for(const s of n.mappings)if(!a.has(s)&&!s.lineRangeMapping.modified.isEmpty&&s.lineRangeMapping.innerChanges){const e=new B6(s.lineRangeMapping.modified.startLineNumber,this._widget,s.lineRangeMapping.innerChanges,!1);this._editors.modified.addGlyphMarginWidget(e),o.push(e)}t.add(cv((()=>{for(const e of o)this._editors.modified.removeGlyphMarginWidget(e)})))})))}}class B6{getId(){return this._id}constructor(e,t,i,n){this._lineNumber=e,this._widget=t,this._diffs=i,this._selection=n,this._id="revertButton".concat(B6.counter++),this._domNode=$L("div.revertButton",{title:this._selection?lf("revertSelectedChanges","Revert Selected Changes"):lf("revertChange","Revert Change")},[IQ(Hb.arrowRight)]).root,this._domNode.onmousedown=e=>{2!==e.button&&(e.stopPropagation(),e.preventDefault())},this._domNode.onmouseup=e=>{e.stopPropagation(),e.preventDefault()},this._domNode.onclick=e=>{this._widget.revertRangeMappings(this._diffs),e.stopPropagation(),e.preventDefault()}}getDomNode(){return this._domNode}getPosition(){return{lane:OE.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}B6.counter=0;class V6 extends hv{constructor(e,t,i,n){super(),this._options=e,this._domNode=t,this._dimensions=i,this._sashes=n,this._sashRatio=y3(this,void 0),this.sashLeft=L3(this,(e=>{var t;const i=null!==(t=this._sashRatio.read(e))&&void 0!==t?t:this._options.splitViewDefaultRatio.read(e);return this._computeSashLeft(i,e)})),this._sash=this._register(new E$(this._domNode,{getVerticalSashTop:e=>0,getVerticalSashLeft:e=>this.sashLeft.get(),getVerticalSashHeight:e=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart((()=>{this._startSashPosition=this.sashLeft.get()}))),this._register(this._sash.onDidChange((e=>{const t=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(e.currentX-e.startX))/t,void 0);this._sashRatio.set(i/t,void 0)}))),this._register(this._sash.onDidEnd((()=>this._sash.layout()))),this._register(this._sash.onDidReset((()=>this._sashRatio.set(void 0,void 0)))),this._register(N3((e=>{const t=this._sashes.read(e);t&&(this._sash.orthogonalEndSash=t.bottom)}))),this._register(N3((e=>{const t=this._options.enableSplitViewResizing.read(e);this._sash.state=t?3:0,this.sashLeft.read(e),this._dimensions.height.read(e),this._sash.layout()})))}_computeSashLeft(e,t){const i=this._dimensions.width.read(t),n=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),o=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):n,s=100;return i<=200?n:o<s?s:o>i-s?i-s:o}}class W6{remove(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}static findId(e,t){let i;"string"===typeof e?i="".concat(t.id,"/").concat(e):(i="".concat(t.id,"/").concat(e.name),void 0!==t.children.get(i)&&(i="".concat(t.id,"/").concat(e.name,"_").concat(e.range.startLineNumber,"_").concat(e.range.startColumn)));let n=i;for(let o=0;void 0!==t.children.get(n);o++)n="".concat(i,"_").concat(o);return n}static empty(e){return 0===e.children.size}}class z6 extends W6{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class H6 extends W6{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class j6 extends W6{static create(e,t,i){const n=new Mv(i),o=new j6(t.uri),s=e.ordered(t),r=s.map(((e,i)=>{var s;const r=W6.findId("provider_".concat(i),o),a=new H6(r,o,null!==(s=e.displayName)&&void 0!==s?s:"Unknown Outline Provider",i);return Promise.resolve(e.provideDocumentSymbols(t,n.token)).then((e=>{for(const t of e||[])j6._makeOutlineElement(t,a);return a}),(e=>(Km(e),a))).then((e=>{W6.empty(e)?e.remove():o._groups.set(r,e)}))})),a=e.onDidChange((()=>{bp(e.ordered(t),s)||n.cancel()}));return Promise.all(r).then((()=>n.token.isCancellationRequested&&!i.isCancellationRequested?j6.create(e,t,i):o._compact())).finally((()=>{n.dispose(),a.dispose()}))}static _makeOutlineElement(e,t){const i=W6.findId(e,t),n=new z6(i,t,e);if(e.children)for(const o of e.children)j6._makeOutlineElement(o,n);t.children.set(n.id,n)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{const e=Qf.first(this._groups.values());for(const[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof z6?e.push(t.symbol):e.push(...Qf.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>Fb.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return j6._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>Pb.compare(Fb.getStartPosition(e.range),Fb.getStartPosition(t.range))||Pb.compare(Fb.getEndPosition(t.range),Fb.getEndPosition(e.range))))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&j6._flattenDocumentSymbols(e,n.children,n.name)}}var U6=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},K6=function(e,t){return function(i,n){t(i,n,e)}};let q6=class extends hv{get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,n){super(),this._editors=e,this._diffModel=t,this._options=i,this._languageFeaturesService=n,this._modifiedOutlineSource=D3(this,(e=>{const t=this._editors.modifiedModel.read(e);return t?new Y6(this._languageFeaturesService,t):void 0})),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition((e=>{if(3===e.reason){const e=this._diffModel.get();h3((t=>{for(const i of this._editors.original.getSelections()||[])null===e||void 0===e||e.ensureOriginalLineIsVisible(i.getStartPosition().lineNumber,t),null===e||void 0===e||e.ensureOriginalLineIsVisible(i.getEndPosition().lineNumber,t)}))}}))),this._register(this._editors.modified.onDidChangeCursorPosition((e=>{if(3===e.reason){const e=this._diffModel.get();h3((t=>{for(const i of this._editors.modified.getSelections()||[])null===e||void 0===e||e.ensureModifiedLineIsVisible(i.getStartPosition().lineNumber,t),null===e||void 0===e||e.ensureModifiedLineIsVisible(i.getEndPosition().lineNumber,t)}))}})));const o=this._diffModel.map(((e,t)=>{var i,n;return 0===(null===(i=null===e||void 0===e?void 0:e.diff.read(t))||void 0===i?void 0:i.mappings.length)?[]:null!==(n=null===e||void 0===e?void 0:e.unchangedRegions.read(t))&&void 0!==n?n:[]}));this.viewZones=x3(this,((e,t)=>{const i=this._modifiedOutlineSource.read(e);if(!i)return{origViewZones:[],modViewZones:[]};const n=[],s=[],r=this._options.renderSideBySide.read(e),a=o.read(e);for(const o of a)if(!o.shouldHideControls(e)){{const e=L3(this,(e=>o.getHiddenOriginalRange(e).startLineNumber-1)),s=new J3(e,24);n.push(s),t.add(new G6(this._editors.original,s,o,o.originalUnchangedRange,!r,i,(e=>this._diffModel.get().ensureModifiedLineIsVisible(e,void 0)),this._options))}{const e=L3(this,(e=>o.getHiddenModifiedRange(e).startLineNumber-1)),n=new J3(e,24);s.push(n),t.add(new G6(this._editors.modified,n,o,o.modifiedUnchangedRange,!1,i,(e=>this._diffModel.get().ensureModifiedLineIsVisible(e,void 0)),this._options))}}return{origViewZones:n,modViewZones:s}}));const s={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},r={description:"Fold Unchanged",glyphMarginHoverMessage:new vQ(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(lf("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+Ey.asClassName(Hb.fold),zIndex:10001};this._register(G3(this._editors.original,L3(this,(e=>{const t=o.read(e),i=t.map((e=>({range:e.originalUnchangedRange.toInclusiveRange(),options:s})));for(const n of t)n.shouldHideControls(e)&&i.push({range:Fb.fromPositions(new Pb(n.originalLineNumber,1)),options:r});return i})))),this._register(G3(this._editors.modified,L3(this,(e=>{const t=o.read(e),i=t.map((e=>({range:e.modifiedUnchangedRange.toInclusiveRange(),options:s})));for(const n of t)n.shouldHideControls(e)&&i.push({range:cN.ofLength(n.modifiedLineNumber,1).toInclusiveRange(),options:r});return i})))),this._register(N3((e=>{const t=o.read(e);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(t.map((t=>t.getHiddenOriginalRange(e).toInclusiveRange())).filter(Gp)),this._editors.modified.setHiddenAreas(t.map((t=>t.getHiddenModifiedRange(e).toInclusiveRange())).filter(Gp))}finally{this._isUpdatingHiddenAreas=!1}}))),this._register(this._editors.modified.onMouseUp((e=>{var t;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("fold-unchanged"))){const t=e.target.position.lineNumber,i=this._diffModel.get();if(!i)return;const n=i.unchangedRegions.get().find((e=>e.modifiedUnchangedRange.includes(t)));if(!n)return;n.collapseAll(void 0),e.event.stopPropagation(),e.event.preventDefault()}}))),this._register(this._editors.original.onMouseUp((e=>{var t;if(!e.event.rightButton&&e.target.position&&(null===(t=e.target.element)||void 0===t?void 0:t.className.includes("fold-unchanged"))){const t=e.target.position.lineNumber,i=this._diffModel.get();if(!i)return;const n=i.unchangedRegions.get().find((e=>e.originalUnchangedRange.includes(t)));if(!n)return;n.collapseAll(void 0),e.event.stopPropagation(),e.event.preventDefault()}})))}};q6=U6([K6(3,kT)],q6);class G6 extends X3{constructor(e,t,i,n,o,s,r,a){const l=$L("div.diff-hidden-lines-widget");super(e,t,l.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=n,this._hide=o,this._modifiedOutlineSource=s,this._revealModifiedHiddenLine=r,this._options=a,this._nodes=$L("div.diff-hidden-lines",[$L("div.top@top",{title:lf("diff.hiddenLines.top","Click or drag to show more above")}),$L("div.center@content",{style:{display:"flex"}},[$L("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[zL("a",{title:lf("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...TQ("$(unfold)"))]),$L("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),$L("div.bottom@bottom",{title:lf("diff.bottom","Click or drag to show more below"),role:"button"})]),l.root.appendChild(this._nodes.root);const c=P3(this._editor.onDidLayoutChange,(()=>this._editor.getLayoutInfo()));this._hide?FL(this._nodes.first):this._register(e6(this._nodes.first,{width:c.map((e=>e.contentLeft))})),this._register(N3((e=>{const t=this._unchangedRegion.visibleLineCountTop.read(e)+this._unchangedRegion.visibleLineCountBottom.read(e)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!t),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(e)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(e)>0),this._nodes.top.classList.toggle("canMoveBottom",!t);const i=this._unchangedRegion.isDragged.read(e),n=this._editor.getDomNode();n&&(n.classList.toggle("draggingUnchangedRegion",!!i),"top"===i?(n.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(e)>0),n.classList.toggle("canMoveBottom",!t)):"bottom"===i?(n.classList.toggle("canMoveTop",!t),n.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(e)>0)):(n.classList.toggle("canMoveTop",!1),n.classList.toggle("canMoveBottom",!1)))})));const d=this._editor;this._register(Zk(this._nodes.top,"mousedown",(e=>{if(0!==e.button)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),e.preventDefault();const t=e.clientY;let i=!1;const n=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const o=Fk(this._nodes.top),s=Zk(o,"mousemove",(e=>{const o=e.clientY-t;i=i||Math.abs(o)>2;const s=Math.round(o/d.getOption(66)),r=Math.max(0,Math.min(n+s,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(r,void 0)})),r=Zk(o,"mouseup",(e=>{i||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),s.dispose(),r.dispose()}))}))),this._register(Zk(this._nodes.bottom,"mousedown",(e=>{if(0!==e.button)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),e.preventDefault();const t=e.clientY;let i=!1;const n=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const o=Fk(this._nodes.bottom),s=Zk(o,"mousemove",(e=>{const o=e.clientY-t;i=i||Math.abs(o)>2;const s=Math.round(o/d.getOption(66)),r=Math.max(0,Math.min(n-s,this._unchangedRegion.getMaxVisibleLineCountBottom())),a=d.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(r,void 0);const l=d.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);d.setScrollTop(d.getScrollTop()+(l-a))})),r=Zk(o,"mouseup",(e=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!i){const e=d.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const t=d.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);d.setScrollTop(d.getScrollTop()+(t-e))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),s.dispose(),r.dispose()}))}))),this._register(N3((e=>{const t=[];if(!this._hide){const n=lf("hiddenLines","{0} hidden lines",i.getHiddenModifiedRange(e).length),o=zL("span",{title:lf("diff.hiddenLines.expandAll","Double click to unfold")},n);o.addEventListener("dblclick",(e=>{0===e.button&&(e.preventDefault(),this._unchangedRegion.showAll(void 0))})),t.push(o);const s=this._unchangedRegion.getHiddenModifiedRange(e),r=this._modifiedOutlineSource.getBreadcrumbItems(s,e);if(r.length>0){t.push(zL("span",void 0,"\xa0\xa0|\xa0\xa0"));for(let e=0;e<r.length;e++){const i=r[e],n=$L("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[IQ(Jb.toIcon(i.kind)),"\xa0",i.name,...e===r.length-1?[]:[IQ(Hb.chevronRight)]]).root;t.push(n),n.onclick=()=>{this._revealModifiedHiddenLine(i.startLineNumber)}}}}FL(this._nodes.others,...t)})))}}let Y6=class extends hv{constructor(e,t){super(),this._languageFeaturesService=e,this._textModel=t,this._currentModel=y3(this,void 0);const i=B3("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),n=B3("_textModel.onDidChangeContent",vv.debounce((e=>this._textModel.onDidChangeContent(e)),(()=>{}),100));this._register(A3((async(e,t)=>{i.read(e),n.read(e);const o=t.add(new n6),s=await j6.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,o.token);t.isDisposed||this._currentModel.set(s,void 0)})))}getBreadcrumbItems(e,t){const i=this._currentModel.read(t);if(!i)return[];const n=i.asListOfDocumentSymbols().filter((t=>e.contains(t.range.startLineNumber)&&!e.contains(t.range.endLineNumber)));return n.sort(Fp(Op((e=>e.range.endLineNumber-e.range.startLineNumber),Rp))),n.map((e=>({name:e.name,kind:e.kind,startLineNumber:e.range.startLineNumber})))}};Y6=U6([K6(0,kT)],Y6);var Z6,Q6=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},X6=function(e,t){return function(i,n){t(i,n,e)}};let J6=Z6=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new Cv,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;null===(e=this.diffAlgorithmOnDidChangeSubscription)||void 0===e||e.dispose()}async computeDiff(e,t,i,n){var o,s;if("string"!==typeof this.diffAlgorithm)return this.diffAlgorithm.computeDiff(e,t,i,n);if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return 1===t.getLineCount()&&1===t.getLineMaxColumn(1)?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new uN(new cN(1,2),new cN(1,t.getLineCount()+1),[new gN(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const r=JSON.stringify([e.uri.toString(),t.uri.toString()]),a=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),l=Z6.diffCache.get(r);if(l&&l.context===a)return l.result;const c=mv.create(),d=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),h=c.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:null===(o=null===d||void 0===d?void 0:d.quitEarly)||void 0===o||o,detectedMoves:i.computeMoves?null!==(s=null===d||void 0===d?void 0:d.moves.length)&&void 0!==s?s:0:-1}),n.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!d)throw new Error("no diff result available");return Z6.diffCache.size>10&&Z6.diffCache.delete(Z6.diffCache.keys().next().value),Z6.diffCache.set(r,{result:d,context:a}),d}setOptions(e){var t;let i=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&(null===(t=this.diffAlgorithmOnDidChangeSubscription)||void 0===t||t.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,"string"!==typeof e.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange((()=>this.onDidChangeEventEmitter.fire()))),i=!0),i&&this.onDidChangeEventEmitter.fire()}};J6.diffCache=new Map,J6=Z6=Q6([X6(1,e$),X6(2,UC)],J6);var $6=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},e7=function(e,t){return function(i,n){t(i,n,e)}};const t7=vy("diffProviderFactoryService");let i7=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(J6,e)}};i7=$6([e7(0,my)],i7),CD(t7,i7,1);var n7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},o7=function(e,t){return function(i,n){t(i,n,e)}};let s7=class extends hv{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=y3(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=y3(this,void 0),this.diff=this._diff,this._unchangedRegions=y3(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=L3(this,(e=>this._options.hideUnchangedRegions.read(e)?this._unchangedRegions.read(e).regions:(h3((e=>{for(const t of this._unchangedRegions.get().regions)t.collapseAll(e)})),[]))),this.movedTextToCompare=y3(this,void 0),this._activeMovedText=y3(this,void 0),this._hoveredMovedText=y3(this,void 0),this.activeMovedText=L3(this,(e=>{var t,i;return null!==(i=null!==(t=this.movedTextToCompare.read(e))&&void 0!==t?t:this._hoveredMovedText.read(e))&&void 0!==i?i:this._activeMovedText.read(e)})),this._cancellationTokenSource=new Mv,this._diffProvider=L3(this,(e=>{const t=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(e)});return{diffProvider:t,onChangeSignal:B3("onDidChange",t.onDidChange)}})),this._register(cv((()=>this._cancellationTokenSource.cancel())));const n="string"===typeof(o="contentChangedSignal")?new W3(o):new W3(void 0,o);var o;const s=this._register(new mS((()=>n.trigger(void 0)),200)),r=(t,i,n)=>{const o=l7.fromDiffs(t.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(n),this._options.hideUnchangedRegionsContextLineCount.read(n)),s=this._unchangedRegions.get(),r=s.originalDecorationIds.map((t=>e.original.getDecorationRange(t))).map((e=>e?cN.fromRange(e):void 0)),a=s.modifiedDecorationIds.map((t=>e.modified.getDecorationRange(t))).map((e=>e?cN.fromRange(e):void 0)),l=e.original.deltaDecorations(s.originalDecorationIds,o.map((e=>({range:e.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})))),c=e.modified.deltaDecorations(s.modifiedDecorationIds,o.map((e=>({range:e.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))));for(const e of o)for(let t=0;t<s.regions.length;t++)if(r[t]&&e.originalUnchangedRange.intersectsStrict(r[t])&&a[t]&&e.modifiedUnchangedRange.intersectsStrict(a[t])){e.setHiddenModifiedRange(s.regions[t].getHiddenModifiedRange(void 0),i);break}this._unchangedRegions.set({regions:o,originalDecorationIds:l,modifiedDecorationIds:c},i)};this._register(e.modified.onDidChangeContent((t=>{if(this._diff.get()){const i=dz.fromModelContentChanges(t.changes),n=d7(this._lastDiff,i,e.original,e.modified);n&&(this._lastDiff=n,h3((e=>{this._diff.set(r7.fromDiffResult(this._lastDiff),e),r(n,e);const t=this.movedTextToCompare.get();this.movedTextToCompare.set(t?this._lastDiff.moves.find((e=>e.lineRangeMapping.modified.intersect(t.lineRangeMapping.modified))):void 0,e)})))}this._isDiffUpToDate.set(!1,void 0),s.schedule()}))),this._register(e.original.onDidChangeContent((t=>{if(this._diff.get()){const i=dz.fromModelContentChanges(t.changes),n=c7(this._lastDiff,i,e.original,e.modified);n&&(this._lastDiff=n,h3((e=>{this._diff.set(r7.fromDiffResult(this._lastDiff),e),r(n,e);const t=this.movedTextToCompare.get();this.movedTextToCompare.set(t?this._lastDiff.moves.find((e=>e.lineRangeMapping.modified.intersect(t.lineRangeMapping.modified))):void 0,e)})))}this._isDiffUpToDate.set(!1,void 0),s.schedule()}))),this._register(A3((async(t,i)=>{var o,a;this._options.hideUnchangedRegionsMinimumLineCount.read(t),this._options.hideUnchangedRegionsContextLineCount.read(t),s.cancel(),n.read(t);const l=this._diffProvider.read(t);l.onChangeSignal.read(t),t6(nT,t),t6(JN,t),this._isDiffUpToDate.set(!1,void 0);let c=[];i.add(e.original.onDidChangeContent((e=>{const t=dz.fromModelContentChanges(e.changes);c=jz(c,t)})));let d=[];i.add(e.modified.onDidChangeContent((e=>{const t=dz.fromModelContentChanges(e.changes);d=jz(d,t)})));let h=await l.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(t),maxComputationTimeMs:this._options.maxComputationTimeMs.read(t),computeMoves:this._options.showMoves.read(t)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(h=function(e,t,i){return{changes:e.changes.map((e=>new uN(e.original,e.modified,e.innerChanges?e.innerChanges.map((e=>function(e,t,i){let n=e.originalRange,o=e.modifiedRange;(1!==n.endColumn||1!==o.endColumn)&&n.endColumn===t.getLineMaxColumn(n.endLineNumber)&&o.endColumn===i.getLineMaxColumn(o.endLineNumber)&&n.endLineNumber<t.getLineCount()&&o.endLineNumber<i.getLineCount()&&(n=n.setEndPosition(n.endLineNumber+1,1),o=o.setEndPosition(o.endLineNumber+1,1));return new gN(n,o)}(e,t,i))):void 0))),moves:e.moves,identical:e.identical,quitEarly:e.quitEarly}}(h,e.original,e.modified),h=null!==(o=c7(h,c,e.original,e.modified))&&void 0!==o?o:h,h=null!==(a=d7(h,d,e.original,e.modified))&&void 0!==a?a:h,h3((e=>{r(h,e),this._lastDiff=h;const t=r7.fromDiffResult(h);this._diff.set(t,e),this._isDiffUpToDate.set(!0,e);const i=this.movedTextToCompare.get();this.movedTextToCompare.set(i?this._lastDiff.moves.find((e=>e.lineRangeMapping.modified.intersect(i.lineRangeMapping.modified))):void 0,e)})))})))}ensureModifiedLineIsVisible(e,t){var i;if(0===(null===(i=this.diff.get())||void 0===i?void 0:i.mappings.length))return;const n=this._unchangedRegions.get().regions;for(const o of n)if(o.getHiddenModifiedRange(void 0).contains(e))return void o.showModifiedLine(e,t)}ensureOriginalLineIsVisible(e,t){var i;if(0===(null===(i=this.diff.get())||void 0===i?void 0:i.mappings.length))return;const n=this._unchangedRegions.get().regions;for(const o of n)if(o.getHiddenOriginalRange(void 0).contains(e))return void o.showOriginalLine(e,t)}async waitForDiff(){var e,t;await(e=this.isDiffUpToDate,t=e=>e,new Promise((i=>{let n=!1,o=!1;const s=e.map((e=>({isFinished:t(e),state:e}))),r=N3((e=>{const{isFinished:t,state:a}=s.read(e);t&&(n?r.dispose():o=!0,i(a))}));n=!0,o&&r.dispose()})))}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map((e=>({range:e.getHiddenModifiedRange(void 0).serialize()})))}}restoreSerializedState(e){const t=e.collapsedRegions.map((e=>cN.deserialize(e.range))),i=this._unchangedRegions.get();h3((e=>{for(const n of i.regions)for(const i of t)if(n.modifiedUnchangedRange.intersect(i)){n.setHiddenModifiedRange(i,e);break}}))}};s7=n7([o7(2,t7)],s7);class r7{static fromDiffResult(e){return new r7(e.changes.map((e=>new a7(e))),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,n){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=n}}class a7{constructor(e){this.lineRangeMapping=e}}class l7{static fromDiffs(e,t,i,n,o){const s=uN.inverse(e,t,i),r=[];for(const a of s){let e=a.original.startLineNumber,s=a.modified.startLineNumber,l=a.original.length;const c=1===e&&1===s,d=e+l===t+1&&s+l===i+1;(c||d)&&l>=o+n?(c&&!d&&(l-=o),d&&!c&&(e+=o,s+=o,l-=o),r.push(new l7(e,s,l,0,0))):l>=2*o+n&&(e+=o,s+=o,l-=2*o,r.push(new l7(e,s,l,0,0)))}return r}get originalUnchangedRange(){return cN.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return cN.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,n,o){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=y3(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=y3(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=L3(this,(e=>this.visibleLineCountTop.read(e)+this.visibleLineCountBottom.read(e)===this.lineCount&&!this.isDragged.read(e))),this.isDragged=y3(this,void 0),this._visibleLineCountTop.set(n,void 0),this._visibleLineCountBottom.set(o,void 0)}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return cN.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return cN.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,n=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,n,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t){const i=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),n=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;i<n?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+i,t):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+n,t)}showOriginalLine(e,t){const i=e-this.originalLineNumber,n=this.originalLineNumber+this.lineCount-e;i<n?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+n-i,this.getMaxVisibleLineCountTop()),t):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+i-n,this.getMaxVisibleLineCountBottom()),t)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}function c7(e,t,i,n){}function d7(e,t,i,n){}class h7 extends hv{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,n,o,s,r,a,l){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=n,this._editor=o,this._viewLineCounts=s,this._originalTextModel=r,this._contextMenuService=a,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ey.asClassName(Hb.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const c=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height="".concat(c,"px"),this._diffActions.style.lineHeight="".concat(c,"px"),this._marginDomNode.appendChild(this._diffActions);let d=0;const h=i.getOption(126)&&!Ff,u=(e,t)=>{var o;this._contextMenuService.showContextMenu({domForShadowRoot:h&&null!==(o=i.getDomNode())&&void 0!==o?o:void 0,getAnchor:()=>({x:e,y:t}),getActions:()=>{const e=[],t=n.modified.isEmpty;e.push(new yy("diff.clipboard.copyDeletedContent",t?n.original.length>1?lf("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):lf("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.original.length>1?lf("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):lf("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,(async()=>{const e=this._originalTextModel.getValueInRange(n.original.toExclusiveRange());await this._clipboardService.writeText(e)}))),n.original.length>1&&e.push(new yy("diff.clipboard.copyDeletedLineContent",t?lf("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.original.startLineNumber+d):lf("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.original.startLineNumber+d),void 0,!0,(async()=>{let e=this._originalTextModel.getLineContent(n.original.startLineNumber+d);if(""===e){e=0===this._originalTextModel.getEndOfLineSequence()?"\n":"\r\n"}await this._clipboardService.writeText(e)})));return i.getOption(90)||e.push(new yy("diff.inline.revertChange",lf("diff.inline.revertChange.label","Revert this change"),void 0,!0,(async()=>{this._editor.revert(this._diff)}))),e},autoSelectFirstItem:!0})};this._register(Xk(this._diffActions,"mousedown",(e=>{if(!e.leftButton)return;const{top:t,height:i}=aL(this._diffActions),n=Math.floor(c/3);e.preventDefault(),u(e.posx,t+i+n)}))),this._register(i.onMouseMove((e=>{8!==e.target.type&&5!==e.target.type||e.target.detail.viewZoneId!==this._getViewZoneId()?this.visibility=!1:(d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,c),this.visibility=!0)}))),this._register(i.onMouseDown((e=>{if(e.event.leftButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._getViewZoneId()&&(e.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,c),u(e.event.posx,e.event.posy+c))}})))}_updateLightBulbPosition(e,t,i){const{top:n}=aL(e),o=t-n,s=Math.floor(o/i),r=s*i;if(this._diffActions.style.top="".concat(r,"px"),this._viewLineCounts){let e=0;for(let t=0;t<this._viewLineCounts.length;t++)if(e+=this._viewLineCounts[t],s<e)return t}return s}}const u7=xx("diffEditorWidget",{createHTML:e=>e});function g7(e,t,i,n){ry(n,t.fontInfo);const o=i.length>0,s=new $x(1e4);let r=0,a=0;const l=[];for(let h=0;h<e.lineTokens.length;h++){const n=h+1,c=e.lineTokens[h],d=e.lineBreakData[h],u=UT.filter(i,n,1,Number.MAX_SAFE_INTEGER);if(d){let i=0;for(const n of d.breakOffsets){const l=c.sliceAndInflate(i,n,0);r=Math.max(r,m7(a,l,UT.extractWrapped(u,i,n),o,e.mightContainNonBasicASCII,e.mightContainRTL,t,s)),a++,i=n}l.push(d.breakOffsets.length)}else l.push(1),r=Math.max(r,m7(a,c,u,o,e.mightContainNonBasicASCII,e.mightContainRTL,t,s)),a++}r+=t.scrollBeyondLastColumn;const c=s.build(),d=u7?u7.createHTML(c):c;n.innerHTML=d;return{heightInLines:a,minWidthInPx:r*t.typicalHalfwidthCharacterWidth,viewLineCounts:l}}class p7{constructor(e,t,i,n){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=n}}class f7{static fromEditor(e){var t;const i=e.getOptions(),n=i.get(50),o=i.get(143);return new f7((null===(t=e.getModel())||void 0===t?void 0:t.getOptions().tabSize)||0,n,i.get(33),n.typicalHalfwidthCharacterWidth,i.get(103),i.get(66),o.decorationsWidth,i.get(116),i.get(98),i.get(93),i.get(51))}constructor(e,t,i,n,o,s,r,a,l,c,d){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=n,this.scrollBeyondLastColumn=o,this.lineHeight=s,this.lineDecorationsWidth=r,this.stopRenderingLineAfter=a,this.renderWhitespace=l,this.renderControlCharacters=c,this.fontLigatures=d}}function m7(e,t,i,n,o,s,r,a){a.appendString('<div class="view-line'),n||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(e*r.lineHeight)),a.appendString('px;width:1000000px;">');const l=t.getLineContent(),c=cI.isBasicASCII(l,o),d=cI.containsRTL(l,c,s),h=eI(new QT(r.fontInfo.isMonospace&&!r.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,d,0,t,i,r.tabSize,0,r.fontInfo.spaceWidth,r.fontInfo.middotWidth,r.fontInfo.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==km.OFF,null),a);return a.appendString("</div>"),h.characterMapping.getHorizontalOffset(h.characterMapping.length)}var v7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b7=function(e,t){return function(i,n){t(i,n,e)}};let _7=class extends hv{constructor(e,t,i,n,o,s,r,a,l,c){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=n,this._diffEditorWidget=o,this._canIgnoreViewZoneUpdateEvent=s,this._origViewZonesToIgnore=r,this._modViewZonesToIgnore=a,this._clipboardService=l,this._contextMenuService=c,this._originalTopPadding=y3(this,0),this._originalScrollOffset=y3(this,0),this._originalScrollOffsetAnimated=Q3(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=y3(this,0),this._modifiedScrollOffset=y3(this,0),this._modifiedScrollOffsetAnimated=Q3(this._targetWindow,this._modifiedScrollOffset,this._store);const d=y3("invalidateAlignmentsState",0),h=this._register(new mS((()=>{d.set(d.get()+1,void 0)}),0));this._register(this._editors.original.onDidChangeViewZones((e=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()}))),this._register(this._editors.modified.onDidChangeViewZones((e=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()}))),this._register(this._editors.original.onDidChangeConfiguration((e=>{(e.hasChanged(144)||e.hasChanged(66))&&h.schedule()}))),this._register(this._editors.modified.onDidChangeConfiguration((e=>{(e.hasChanged(144)||e.hasChanged(66))&&h.schedule()})));const u=this._diffModel.map((e=>e?P3(e.model.original.onDidChangeTokens,(()=>2===e.model.original.tokenization.backgroundTokenizationState)):void 0)).map(((e,t)=>null===e||void 0===e?void 0:e.read(t))),g=L3((e=>{const t=this._diffModel.read(e),i=null===t||void 0===t?void 0:t.diff.read(e);if(!t||!i)return null;d.read(e);const n=this._options.renderSideBySide.read(e);return w7(this._editors.original,this._editors.modified,i.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,n)})),p=L3((e=>{var t;const i=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e);if(!i)return null;d.read(e);const n=i.changes.map((e=>new a7(e)));return w7(this._editors.original,this._editors.modified,n,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)}));function f(){const e=document.createElement("div");return e.className="diagonal-fill",e}const m=this._register(new dv);this.viewZones=x3(this,((e,t)=>{var i,n,s,r,a,l,c,d;m.clear();const h=g.read(e)||[],v=[],b=[],_=this._modifiedTopPadding.read(e);_>0&&b.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:_,showInHiddenAreas:!0,suppressMouseDown:!0});const w=this._originalTopPadding.read(e);w>0&&v.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:w,showInHiddenAreas:!0,suppressMouseDown:!0});const y=this._options.renderSideBySide.read(e),C=y||null===(i=this._editors.modified._getViewModel())||void 0===i?void 0:i.createLineBreaksComputer();if(C)for(const T of h)if(T.diff)for(let I=T.originalRange.startLineNumber;I<T.originalRange.endLineNumberExclusive;I++)null===C||void 0===C||C.addRequest(this._editors.original.getModel().getLineContent(I),null,null);const S=null!==(n=null===C||void 0===C?void 0:C.finalize())&&void 0!==n?n:[];let k=0;const L=this._editors.modified.getOption(66),x=null===(s=this._diffModel.read(e))||void 0===s?void 0:s.movedTextToCompare.read(e),D=null!==(a=null===(r=this._editors.original.getModel())||void 0===r?void 0:r.mightContainNonBasicASCII())&&void 0!==a&&a,E=null!==(c=null===(l=this._editors.original.getModel())||void 0===l?void 0:l.mightContainRTL())&&void 0!==c&&c,N=f7.fromEditor(this._editors.modified);for(const A of h)if(A.diff&&!y){if(!A.originalRange.isEmpty){u.read(e);const O=document.createElement("div");O.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const R=new p7(A.originalRange.mapToLineArray((e=>this._editors.original.getModel().tokenization.getLineTokens(e))),A.originalRange.mapToLineArray((e=>S[k++])),D,E),P=[];for(const W of A.diff.innerChanges||[])P.push(new dI(W.originalRange.delta(-(A.diff.original.startLineNumber-1)),T6.className,0));const F=g7(R,N,P,O),B=document.createElement("div");if(B.className="inline-deleted-margin-view-zone",ry(B,N.fontInfo),this._options.renderIndicators.read(e))for(let z=0;z<F.heightInLines;z++){const H=document.createElement("div");H.className="delete-sign ".concat(Ey.asClassName(C6)),H.setAttribute("style","position:absolute;top:".concat(z*L,"px;width:").concat(N.lineDecorationsWidth,"px;height:").concat(L,"px;right:0;")),B.appendChild(H)}let V;m.add(new h7((()=>Qp(V)),B,this._editors.modified,A.diff,this._diffEditorWidget,F.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let j=0;j<F.viewLineCounts.length;j++){const U=F.viewLineCounts[j];U>1&&v.push({afterLineNumber:A.originalRange.startLineNumber+j,domNode:f(),heightInPx:(U-1)*L,showInHiddenAreas:!0,suppressMouseDown:!0})}b.push({afterLineNumber:A.modifiedRange.startLineNumber-1,domNode:O,heightInPx:F.heightInLines*L,minWidthInPx:F.minWidthInPx,marginDomNode:B,setZoneId(e){V=e},showInHiddenAreas:!0,suppressMouseDown:!0})}const M=document.createElement("div");M.className="gutter-delete",v.push({afterLineNumber:A.originalRange.endLineNumberExclusive-1,domNode:f(),heightInPx:A.modifiedHeightInPx,marginDomNode:M,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const K=A.modifiedHeightInPx-A.originalHeightInPx;if(K>0){if(null===x||void 0===x?void 0:x.lineRangeMapping.original.delta(-1).deltaLength(2).contains(A.originalRange.endLineNumberExclusive-1))continue;v.push({afterLineNumber:A.originalRange.endLineNumberExclusive-1,domNode:f(),heightInPx:K,showInHiddenAreas:!0,suppressMouseDown:!0})}else{if(null===x||void 0===x?void 0:x.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(A.modifiedRange.endLineNumberExclusive-1))continue;function q(){const e=document.createElement("div");return e.className="arrow-revert-change "+Ey.asClassName(Hb.arrowRight),t.add(Zk(e,"mousedown",(e=>e.stopPropagation()))),t.add(Zk(e,"click",(e=>{e.stopPropagation(),o.revert(A.diff)}))),zL("div",{},e)}let G;A.diff&&A.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(e)&&(G=q()),b.push({afterLineNumber:A.modifiedRange.endLineNumberExclusive-1,domNode:f(),heightInPx:-K,marginDomNode:G,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Y of null!==(d=p.read(e))&&void 0!==d?d:[]){if(!(null===x||void 0===x?void 0:x.lineRangeMapping.original.intersect(Y.originalRange))||!(null===x||void 0===x?void 0:x.lineRangeMapping.modified.intersect(Y.modifiedRange)))continue;const Z=Y.modifiedHeightInPx-Y.originalHeightInPx;Z>0?v.push({afterLineNumber:Y.originalRange.endLineNumberExclusive-1,domNode:f(),heightInPx:Z,showInHiddenAreas:!0,suppressMouseDown:!0}):b.push({afterLineNumber:Y.modifiedRange.endLineNumberExclusive-1,domNode:f(),heightInPx:-Z,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:v,mod:b}}));let v=!1;this._register(this._editors.original.onDidScrollChange((e=>{e.scrollLeftChanged&&!v&&(v=!0,this._editors.modified.setScrollLeft(e.scrollLeft),v=!1)}))),this._register(this._editors.modified.onDidScrollChange((e=>{e.scrollLeftChanged&&!v&&(v=!0,this._editors.original.setScrollLeft(e.scrollLeft),v=!1)}))),this._originalScrollTop=P3(this._editors.original.onDidScrollChange,(()=>this._editors.original.getScrollTop())),this._modifiedScrollTop=P3(this._editors.modified.onDidScrollChange,(()=>this._editors.modified.getScrollTop())),this._register(N3((e=>{const t=this._originalScrollTop.read(e)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(e))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(e));t!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(t,1)}))),this._register(N3((e=>{const t=this._modifiedScrollTop.read(e)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(e))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(e));t!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(t,1)}))),this._register(N3((e=>{var t;const i=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e);let n=0;if(i){const e=this._editors.original.getTopForLineNumber(i.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();n=this._editors.modified.getTopForLineNumber(i.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-e}n>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(n,void 0)):n<0?(this._modifiedTopPadding.set(-n,void 0),this._originalTopPadding.set(0,void 0)):setTimeout((()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)}),400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-n,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+n,void 0,!0)})))}};function w7(e,t,i,n,o,s){const r=new Bp(y7(e,n)),a=new Bp(y7(t,o)),l=e.getOption(66),c=t.getOption(66),d=[];let h=0,u=0;function g(e,t){for(;;){let i=r.peek(),n=a.peek();if(i&&i.lineNumber>=e&&(i=void 0),n&&n.lineNumber>=t&&(n=void 0),!i&&!n)break;const o=i?i.lineNumber-h:Number.MAX_VALUE,s=n?n.lineNumber-u:Number.MAX_VALUE;o<s?(r.dequeue(),n={lineNumber:i.lineNumber-h+u,heightInPx:0}):o>s?(a.dequeue(),i={lineNumber:n.lineNumber-u+h,heightInPx:0}):(r.dequeue(),a.dequeue()),d.push({originalRange:cN.ofLength(i.lineNumber,1),modifiedRange:cN.ofLength(n.lineNumber,1),originalHeightInPx:l+i.heightInPx,modifiedHeightInPx:c+n.heightInPx,diff:void 0})}}for(const p of i){const f=p.lineRangeMapping;g(f.original.startLineNumber,f.modified.startLineNumber);let m=!0,v=f.modified.startLineNumber,b=f.original.startLineNumber;function _(e,t){var i,n,o,s;if(e<b||t<v)return;if(m)m=!1;else if(e===b||t===v)return;const h=new cN(b,e),u=new cN(v,t);if(h.isEmpty&&u.isEmpty)return;const g=null!==(n=null===(i=r.takeWhile((t=>t.lineNumber<e)))||void 0===i?void 0:i.reduce(((e,t)=>e+t.heightInPx),0))&&void 0!==n?n:0,f=null!==(s=null===(o=a.takeWhile((e=>e.lineNumber<t)))||void 0===o?void 0:o.reduce(((e,t)=>e+t.heightInPx),0))&&void 0!==s?s:0;d.push({originalRange:h,modifiedRange:u,originalHeightInPx:h.length*l+g,modifiedHeightInPx:u.length*c+f,diff:p.lineRangeMapping}),b=e,v=t}if(s)for(const w of f.innerChanges||[])w.originalRange.startColumn>1&&w.modifiedRange.startColumn>1&&_(w.originalRange.startLineNumber,w.modifiedRange.startLineNumber),w.originalRange.endColumn<e.getModel().getLineMaxColumn(w.originalRange.endLineNumber)&&_(w.originalRange.endLineNumber,w.modifiedRange.endLineNumber);_(f.original.endLineNumberExclusive,f.modified.endLineNumberExclusive),h=f.original.endLineNumberExclusive,u=f.modified.endLineNumberExclusive}return g(Number.MAX_VALUE,Number.MAX_VALUE),d}function y7(e,t){const i=[],n=[],o=-1!==e.getOption(144).wrappingColumn,s=e._getViewModel().coordinatesConverter,r=e.getOption(66);if(o)for(let l=1;l<=e.getModel().getLineCount();l++){const e=s.getModelLineViewLineCount(l);e>1&&n.push({lineNumber:l,heightInPx:r*(e-1)})}for(const l of e.getWhitespaces()){if(t.has(l.id))continue;const e=0===l.afterLineNumber?0:s.convertViewPositionToModelPosition(new Pb(l.afterLineNumber,1)).lineNumber;i.push({lineNumber:e,heightInPx:l.height})}const a=function(e,t,i,n){if(0===e.length)return t;if(0===t.length)return e;const o=[];let s=0,r=0;for(;s<e.length&&r<t.length;){const a=e[s],l=t[r],c=i(a),d=i(l);c<d?(o.push(a),s++):c>d?(o.push(l),r++):(o.push(n(a,l)),s++,r++)}for(;s<e.length;)o.push(e[s]),s++;for(;r<t.length;)o.push(t[r]),r++;return o}(i,n,(e=>e.lineNumber),((e,t)=>({lineNumber:e.lineNumber,heightInPx:e.heightInPx+t.heightInPx})));return a}_7=v7([b7(8,l5),b7(9,oZ)],_7);var C7,S7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},k7=function(e,t){return function(i,n){t(i,n,e)}};let L7=C7=class extends hv{constructor(e,t,i,n,o,s,r){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=n,this._rootHeight=o,this._modifiedEditorLayoutInfo=s,this._themeService=r,this.width=C7.ENTIRE_DIFF_OVERVIEW_WIDTH;const a=P3(this._themeService.onDidColorThemeChange,(()=>this._themeService.getColorTheme())),l=L3((e=>{const t=a.read(e);return{insertColor:t.getColor(qM)||(t.getColor(UM)||HM).transparent(2),removeColor:t.getColor(GM)||(t.getColor(KM)||jM).transparent(2)}})),c=sy(document.createElement("div"));c.setClassName("diffViewport"),c.setPosition("absolute");const d=$L("div.diffOverview",{style:{position:"absolute",top:"0px",width:C7.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(Y3(d,c.domNode)),this._register(Xk(d,TL.POINTER_DOWN,(e=>{this._editors.modified.delegateVerticalScrollbarPointerDown(e)}))),this._register(Zk(d,TL.MOUSE_WHEEL,(e=>{this._editors.modified.delegateScrollFromMouseWheelEvent(e)}),{passive:!1})),this._register(Y3(this._rootElement,d)),this._register(A3(((e,t)=>{const i=this._diffModel.read(e),n=this._editors.original.createOverviewRuler("original diffOverviewRuler");n&&(t.add(n),t.add(Y3(d,n.getDomNode())));const o=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(o&&(t.add(o),t.add(Y3(d,o.getDomNode()))),!n||!o)return;const s=B3("viewZoneChanged",this._editors.original.onDidChangeViewZones),r=B3("viewZoneChanged",this._editors.modified.onDidChangeViewZones),a=B3("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),h=B3("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);t.add(N3((e=>{var t;s.read(e),r.read(e),a.read(e),h.read(e);const c=l.read(e),d=null===(t=null===i||void 0===i?void 0:i.diff.read(e))||void 0===t?void 0:t.mappings;function u(e,t,i){const n=i._getViewModel();return n?e.filter((e=>e.length>0)).map((e=>{const i=n.coordinatesConverter.convertModelPositionToViewPosition(new Pb(e.startLineNumber,1)),o=n.coordinatesConverter.convertModelPositionToViewPosition(new Pb(e.endLineNumberExclusive,1)),s=o.lineNumber-i.lineNumber;return new vW(i.lineNumber,o.lineNumber,s,t.toString())})):[]}const g=u((d||[]).map((e=>e.lineRangeMapping.original)),c.removeColor,this._editors.original),p=u((d||[]).map((e=>e.lineRangeMapping.modified)),c.insertColor,this._editors.modified);null===n||void 0===n||n.setZones(g),null===o||void 0===o||o.setZones(p)}))),t.add(N3((e=>{const t=this._rootHeight.read(e),i=this._rootWidth.read(e),s=this._modifiedEditorLayoutInfo.read(e);if(s){const i=C7.ENTIRE_DIFF_OVERVIEW_WIDTH-2*C7.ONE_OVERVIEW_WIDTH;n.setLayout({top:0,height:t,right:i+C7.ONE_OVERVIEW_WIDTH,width:C7.ONE_OVERVIEW_WIDTH}),o.setLayout({top:0,height:t,right:0,width:C7.ONE_OVERVIEW_WIDTH});const r=this._editors.modifiedScrollTop.read(e),a=this._editors.modifiedScrollHeight.read(e),l=this._editors.modified.getOption(102),d=new vP(l.verticalHasArrows?l.arrowSize:0,l.verticalScrollbarSize,0,s.height,a,r);c.setTop(d.getSliderPosition()),c.setHeight(d.getSliderSize())}else c.setTop(0),c.setHeight(0);d.style.height=t+"px",d.style.left=i-C7.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",c.setWidth(C7.ENTIRE_DIFF_OVERVIEW_WIDTH)})))})))}};L7.ONE_OVERVIEW_WIDTH=15,L7.ENTIRE_DIFF_OVERVIEW_WIDTH=2*C7.ONE_OVERVIEW_WIDTH,L7=C7=S7([k7(6,$P)],L7);kA("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},lf("diffEditor.move.border","The border color for text that got moved in the diff editor.")),kA("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},lf("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),kA("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},lf("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));class x7 extends hv{constructor(){super(...arguments),this._id=++x7.idCounter,this._onDidDispose=this._register(new Cv),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._targetEditor.setPosition(e,t)}revealLine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealLine(e,t)}revealLineInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealLineNearTop(e,t)}revealPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._targetEditor.setSelection(e,t)}setSelections(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this._targetEditor.setSelections(e,t)}revealLines(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._targetEditor.revealRange(e,t,i,n)}revealRangeInCenter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}}x7.idCounter=0;var D7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},E7=function(e,t){return function(i,n){t(i,n,e)}};let N7=class extends hv{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,n,o,s,r){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._createInnerEditor=o,this._instantiationService=s,this._keybindingService=r,this._onDidContentSizeChange=this._register(new Cv),this.original=this._register(this._createLeftHandSideEditor(i.editorOptions.get(),n.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(i.editorOptions.get(),n.modifiedEditor||{})),this.modifiedModel=P3(this.modified.onDidChangeModel,(()=>this.modified.getModel())),this.modifiedScrollTop=P3(this.modified.onDidScrollChange,(()=>this.modified.getScrollTop())),this.modifiedScrollHeight=P3(this.modified.onDidScrollChange,(()=>this.modified.getScrollHeight())),this.modifiedSelections=P3(this.modified.onDidChangeCursorSelection,(()=>{var e;return null!==(e=this.modified.getSelections())&&void 0!==e?e:[]})),this.modifiedCursor=P3(this.modified.onDidChangeCursorPosition,(()=>{var e;return null!==(e=this.modified.getPosition())&&void 0!==e?e:new Pb(1,1)})),this._register(I3({createEmptyChangeSummary:()=>({}),handleChange:(e,t)=>(e.didChange(i.editorOptions)&&Object.assign(t,e.change.changedOptions),!0)},((e,t)=>{i.editorOptions.read(e),this._options.renderSideBySide.read(e),this.modified.updateOptions(this._adjustOptionsForRightHandSide(e,t)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(e,t))})))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),n=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return n.setContextValue("isInDiffLeftEditor",!0),n}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),n=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return n.setContextValue("isInDiffRightEditor",!0),n}_constructInnerEditor(e,t,i,n){const o=this._createInnerEditor(e,t,i,n);return this._register(o.onDidContentSizeChange((e=>{const t=this.original.getContentWidth()+this.modified.getContentWidth()+L7.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:i,contentWidth:t,contentHeightChanged:e.contentHeightChanged,contentWidthChanged:e.contentWidthChanged})}))),o}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=Hm.revealHorizontalRightPadding.defaultValue+L7.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var t;e||(e="");const i=lf("diff-aria-navigation-tip"," use {0} to open the accessibility help.",null===(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))||void 0===t?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?e+i:e?e.replaceAll(i,""):""}};N7=D7([E7(5,my),E7(6,oB)],N7);class T7{get editorOptions(){return this._options}constructor(e){this._diffEditorWidth=y3(this,0),this.couldShowInlineViewBecauseOfSize=L3(this,(e=>this._options.read(e).renderSideBySide&&this._diffEditorWidth.read(e)<=this._options.read(e).renderSideBySideInlineBreakpoint)),this.renderOverviewRuler=L3(this,(e=>this._options.read(e).renderOverviewRuler)),this.renderSideBySide=L3(this,(e=>this._options.read(e).renderSideBySide&&!(this._options.read(e).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(e)))),this.readOnly=L3(this,(e=>this._options.read(e).readOnly)),this.shouldRenderRevertArrows=L3(this,(e=>!!this._options.read(e).renderMarginRevertIcon&&(!!this.renderSideBySide.read(e)&&!this.readOnly.read(e)))),this.renderIndicators=L3(this,(e=>this._options.read(e).renderIndicators)),this.enableSplitViewResizing=L3(this,(e=>this._options.read(e).enableSplitViewResizing)),this.splitViewDefaultRatio=L3(this,(e=>this._options.read(e).splitViewDefaultRatio)),this.ignoreTrimWhitespace=L3(this,(e=>this._options.read(e).ignoreTrimWhitespace)),this.maxComputationTimeMs=L3(this,(e=>this._options.read(e).maxComputationTime)),this.showMoves=L3(this,(e=>this._options.read(e).experimental.showMoves&&this.renderSideBySide.read(e))),this.isInEmbeddedEditor=L3(this,(e=>this._options.read(e).isInEmbeddedEditor)),this.diffWordWrap=L3(this,(e=>this._options.read(e).diffWordWrap)),this.originalEditable=L3(this,(e=>this._options.read(e).originalEditable)),this.diffCodeLens=L3(this,(e=>this._options.read(e).diffCodeLens)),this.accessibilityVerbose=L3(this,(e=>this._options.read(e).accessibilityVerbose)),this.diffAlgorithm=L3(this,(e=>this._options.read(e).diffAlgorithm)),this.showEmptyDecorations=L3(this,(e=>this._options.read(e).experimental.showEmptyDecorations)),this.onlyShowAccessibleDiffViewer=L3(this,(e=>this._options.read(e).onlyShowAccessibleDiffViewer)),this.hideUnchangedRegions=L3(this,(e=>this._options.read(e).hideUnchangedRegions.enabled)),this.hideUnchangedRegionsRevealLineCount=L3(this,(e=>this._options.read(e).hideUnchangedRegions.revealLineCount)),this.hideUnchangedRegionsContextLineCount=L3(this,(e=>this._options.read(e).hideUnchangedRegions.contextLineCount)),this.hideUnchangedRegionsMinimumLineCount=L3(this,(e=>this._options.read(e).hideUnchangedRegions.minimumLineCount));const t={...e,...I7(e,rY)};this._options=y3(this,t)}updateOptions(e){const t=I7(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}}function I7(e,t){var i,n,o,s,r,a,l,c;return{enableSplitViewResizing:um(e.enableSplitViewResizing,t.enableSplitViewResizing),splitViewDefaultRatio:mm(e.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:um(e.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:um(e.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:pm(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:pm(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:um(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:um(e.renderIndicators,t.renderIndicators),originalEditable:um(e.originalEditable,t.originalEditable),diffCodeLens:um(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:um(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:_m(e.diffWordWrap,t.diffWordWrap,["off","on","inherit"]),diffAlgorithm:_m(e.diffAlgorithm,t.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:um(e.accessibilityVerbose,t.accessibilityVerbose),experimental:{showMoves:um(null===(i=e.experimental)||void 0===i?void 0:i.showMoves,t.experimental.showMoves),showEmptyDecorations:um(null===(n=e.experimental)||void 0===n?void 0:n.showEmptyDecorations,t.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:um(null!==(s=null===(o=e.hideUnchangedRegions)||void 0===o?void 0:o.enabled)&&void 0!==s?s:null===(r=e.experimental)||void 0===r?void 0:r.collapseUnchangedRegions,t.hideUnchangedRegions.enabled),contextLineCount:pm(null===(a=e.hideUnchangedRegions)||void 0===a?void 0:a.contextLineCount,t.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:pm(null===(l=e.hideUnchangedRegions)||void 0===l?void 0:l.minimumLineCount,t.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:pm(null===(c=e.hideUnchangedRegions)||void 0===c?void 0:c.revealLineCount,t.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:um(e.isInEmbeddedEditor,t.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:um(e.onlyShowAccessibleDiffViewer,t.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:pm(e.renderSideBySideInlineBreakpoint,t.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:um(e.useInlineViewWhenSpaceIsLimited,t.useInlineViewWhenSpaceIsLimited)}}var A7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},M7=function(e,t){return function(i,n){t(i,n,e)}};let O7=class extends x7{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,n,o,s,r,a){var l;super(),this._domElement=e,this._parentContextKeyService=n,this._parentInstantiationService=o,this._audioCueService=r,this._editorProgressService=a,this.elements=$L("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[$L("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[zL("span",{},"No Changes")]),$L("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),$L("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),$L("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=y3(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=vv.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new GK([pC,this._contextKeyService])),this._boundarySashes=y3(this,void 0),this._accessibleDiffViewerShouldBeVisible=y3(this,!1),this._accessibleDiffViewerVisible=L3(this,(e=>!!this._options.onlyShowAccessibleDiffViewer.read(e)||this._accessibleDiffViewerShouldBeVisible.read(e))),this._movedBlocksLinesPart=y3(this,void 0),this._layoutInfo=L3(this,(e=>{var t,i,n,o,s;const r=this._rootSizeObserver.width.read(e),a=this._rootSizeObserver.height.read(e),l=null===(t=this._sash.read(e))||void 0===t?void 0:t.sashLeft.read(e),c=null!==l&&void 0!==l?l:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),d=r-c-(null!==(n=null===(i=this._overviewRulerPart.read(e))||void 0===i?void 0:i.width)&&void 0!==n?n:0),h=c-(null!==(s=null===(o=this._movedBlocksLinesPart.read(e))||void 0===o?void 0:o.width.read(e))&&void 0!==s?s:0);return this.elements.original.style.width=h+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=d+"px",this.elements.modified.style.left=c+"px",this._editors.original.layout({width:h,height:a},!0),this._editors.modified.layout({width:d,height:a},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}})),this._diffValue=this._diffModel.map(((e,t)=>null===e||void 0===e?void 0:e.diff.read(t))),this.onDidUpdateDiff=vv.fromObservableLight(this._diffValue),s.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(cv((()=>this._domElement.removeChild(this.elements.root)))),this._rootSizeObserver=this._register(new Z3(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout(null!==(l=t.automaticLayout)&&void 0!==l&&l),this._options=new T7(t),this._register(N3((e=>{this._options.setWidth(this._rootSizeObserver.width.read(e))}))),this._contextKeyService.createKey(ZB.isEmbeddedDiffEditor.key,!1),this._register(s6(ZB.isEmbeddedDiffEditor,this._contextKeyService,(e=>this._options.isInEmbeddedEditor.read(e)))),this._register(s6(ZB.comparingMovedCode,this._contextKeyService,(e=>{var t;return!!(null===(t=this._diffModel.read(e))||void 0===t?void 0:t.movedTextToCompare.read(e))}))),this._register(s6(ZB.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,(e=>this._options.couldShowInlineViewBecauseOfSize.read(e)))),this._register(s6(ZB.hasChanges,this._contextKeyService,(e=>{var t,i,n;return(null!==(n=null===(i=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.diff.read(e))||void 0===i?void 0:i.mappings.length)&&void 0!==n?n:0)>0}))),this._editors=this._register(this._instantiationService.createInstance(N7,this.elements.original,this.elements.modified,this._options,i,((e,t,i,n)=>this._createInnerEditor(e,t,i,n)))),this._overviewRulerPart=D3(this,(e=>this._options.renderOverviewRuler.read(e)?this._instantiationService.createInstance(t6(L7,e),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((e=>e.modifiedEditor))):void 0)).recomputeInitiallyAndOnChange(this._store),this._sash=D3(this,(e=>{const t=this._options.renderSideBySide.read(e);return this.elements.root.classList.toggle("side-by-side",t),t?new V6(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map(((e,t)=>{var i,n;return e-(null!==(n=null===(i=this._overviewRulerPart.read(t))||void 0===i?void 0:i.width)&&void 0!==n?n:0)}))},this._boundarySashes):void 0})).recomputeInitiallyAndOnChange(this._store);const c=D3(this,(e=>this._instantiationService.createInstance(t6(q6,e),this._editors,this._diffModel,this._options))).recomputeInitiallyAndOnChange(this._store);D3(this,(e=>this._instantiationService.createInstance(t6(P6,e),this._editors,this._diffModel,this._options,this))).recomputeInitiallyAndOnChange(this._store);const d=new Set,h=new Set;let u=!1;const g=D3(this,(e=>this._instantiationService.createInstance(t6(_7,e),Fk(this._domElement),this._editors,this._diffModel,this._options,this,(()=>u||c.get().isUpdatingHiddenAreas),d,h))).recomputeInitiallyAndOnChange(this._store),p=L3(this,(e=>{const t=g.read(e).viewZones.read(e).orig,i=c.read(e).viewZones.read(e).origViewZones;return t.concat(i)})),f=L3(this,(e=>{const t=g.read(e).viewZones.read(e).mod,i=c.read(e).viewZones.read(e).modViewZones;return t.concat(i)}));let m;this._register(i6(this._editors.original,p,(e=>{u=e}),d)),this._register(i6(this._editors.modified,f,(e=>{u=e,u?m=j3.capture(this._editors.modified):(null===m||void 0===m||m.restore(this._editors.modified),m=void 0)}),h)),this._accessibleDiffViewer=D3(this,(e=>this._instantiationService.createInstance(t6(h6,e),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,((e,t)=>this._accessibleDiffViewerShouldBeVisible.set(e,t)),this._options.onlyShowAccessibleDiffViewer.map((e=>!e)),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map(((e,t)=>{var i;return null===(i=null===e||void 0===e?void 0:e.diff.read(t))||void 0===i?void 0:i.mappings.map((e=>e.lineRangeMapping))})),this._editors))).recomputeInitiallyAndOnChange(this._store);const v=this._accessibleDiffViewerVisible.map((e=>e?"hidden":"visible"));this._register(e6(this.elements.modified,{visibility:v})),this._register(e6(this.elements.original,{visibility:v})),this._createDiffEditorContributions(),s.addDiffEditor(this),this._register(z3(this._layoutInfo)),D3(this,(e=>new(t6(M6,e))(this.elements.root,this._diffModel,this._layoutInfo.map((e=>e.originalEditor)),this._layoutInfo.map((e=>e.modifiedEditor)),this._editors))).recomputeInitiallyAndOnChange(this._store,(e=>{this._movedBlocksLinesPart.set(e,void 0)})),this._register(e6(this.elements.overlay,{width:this._layoutInfo.map(((e,t)=>e.originalEditor.width+(this._options.renderSideBySide.read(t)?0:e.modifiedEditor.width))),visibility:L3((e=>{var t,i;return this._options.hideUnchangedRegions.read(e)&&0===(null===(i=null===(t=this._diffModel.read(e))||void 0===t?void 0:t.diff.read(e))||void 0===i?void 0:i.mappings.length)?"visible":"hidden"}))})),this._register(vv.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(e=>{var t,i;if(3===(null===e||void 0===e?void 0:e.reason)){const n=null===(i=null===(t=this._diffModel.get())||void 0===t?void 0:t.diff.get())||void 0===i?void 0:i.mappings.find((t=>t.lineRangeMapping.modified.contains(e.position.lineNumber)));(null===n||void 0===n?void 0:n.lineRangeMapping.modified.isEmpty)?this._audioCueService.playAudioCue(R5.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):(null===n||void 0===n?void 0:n.lineRangeMapping.original.isEmpty)?this._audioCueService.playAudioCue(R5.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):n&&this._audioCueService.playAudioCue(R5.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}})));const b=this._diffModel.map(this,((e,t)=>{if(e)return void 0===e.diff.read(t)&&!e.isDiffUpToDate.read(t)}));this._register(A3(((e,t)=>{if(!0===b.read(e)){const e=this._editorProgressService.show(!0,1e3);t.add(cv((()=>e.done())))}}))),this._register(cv((()=>{var e;this._shouldDisposeDiffModel&&(null===(e=this._diffModel.get())||void 0===e||e.dispose())})))}_createInnerEditor(e,t,i,n){return e.createInstance(kq,t,i,n)}_createDiffEditorContributions(){const e=ax.getDiffEditorContributions();for(const i of e)try{this._register(this._instantiationService.createInstance(i.ctor,this))}catch(t){Um(t)}}get _targetEditor(){return this._editors.modified}getEditorType(){return FT.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var e;return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:null===(e=this._diffModel.get())||void 0===e?void 0:e.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&(null===(t=this._diffModel.get())||void 0===t||t.restoreSerializedState(i.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(s7,e,this._options)}getModel(){var e,t;return null!==(t=null===(e=this._diffModel.get())||void 0===e?void 0:e.model)&&void 0!==t?t:null}setModel(e,t){!e&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const i=e?"model"in e?{model:e,shouldDispose:!1}:{model:this.createViewModel(e),shouldDispose:!0}:void 0;this._diffModel.get()!==(null===i||void 0===i?void 0:i.model)&&g3(t,(e=>{var t;P3.batchEventsGlobally(e,(()=>{this._editors.original.setModel(i?i.model.model.original:null),this._editors.modified.setModel(i?i.model.model.modified:null)}));const n=this._diffModel.get(),o=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=null!==(t=null===i||void 0===i?void 0:i.shouldDispose)&&void 0!==t&&t,this._diffModel.set(null===i||void 0===i?void 0:i.model,e),o&&(null===n||void 0===n||n.dispose())}))}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.diff.get();return t?t.mappings.map((e=>{const t=e.lineRangeMapping;let i,n,o,s,r=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,n=0,r=void 0):(i=t.original.startLineNumber,n=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(o=t.modified.startLineNumber-1,s=0,r=void 0):(o=t.modified.startLineNumber,s=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:n,modifiedStartLineNumber:o,modifiedEndLineNumber:s,charChanges:null===r||void 0===r?void 0:r.map((e=>({originalStartLineNumber:e.originalRange.startLineNumber,originalStartColumn:e.originalRange.startColumn,originalEndLineNumber:e.originalRange.endLineNumber,originalEndColumn:e.originalRange.endColumn,modifiedStartLineNumber:e.modifiedRange.startLineNumber,modifiedStartColumn:e.modifiedRange.startColumn,modifiedEndLineNumber:e.modifiedRange.endLineNumber,modifiedEndColumn:e.modifiedRange.endColumn})))}})):null}revert(e){var t;if(e.innerChanges)return void this.revertRangeMappings(e.innerChanges);const i=null===(t=this._diffModel.get())||void 0===t?void 0:t.model;i&&this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:i.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map((e=>({range:e.modifiedRange,text:t.model.original.getValueInRange(e.originalRange)})));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new Pb(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){var t,i,n,o;const s=null===(i=null===(t=this._diffModel.get())||void 0===t?void 0:t.diff.get())||void 0===i?void 0:i.mappings;if(!s||0===s.length)return;const r=this._editors.modified.getPosition().lineNumber;let a;a="next"===e?null!==(n=s.find((e=>e.lineRangeMapping.modified.startLineNumber>r)))&&void 0!==n?n:s[0]:null!==(o=iN(s,(e=>e.lineRangeMapping.modified.startLineNumber<r)))&&void 0!==o?o:s[s.length-1],this._goTo(a),a.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(R5.diffLineDeleted,{source:"diffEditor.goToDiff"}):a.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(R5.diffLineInserted,{source:"diffEditor.goToDiff"}):a&&this._audioCueService.playAudioCue(R5.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then((()=>{var t;const i=null===(t=e.diff.get())||void 0===t?void 0:t.mappings;i&&0!==i.length&&this._goTo(i[0])}))}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){var e,t;const i=this._editors.modified.hasWidgetFocus(),n=i?this._editors.modified:this._editors.original,o=i?this._editors.original:this._editors.modified;let s;const r=n.getSelection();if(r){const n=null===(t=null===(e=this._diffModel.get())||void 0===e?void 0:e.diff.get())||void 0===t?void 0:t.mappings.map((e=>i?e.lineRangeMapping.flip():e.lineRangeMapping));if(n){const e=o6(r.getStartPosition(),n),t=o6(r.getEndPosition(),n);s=Fb.plusRange(e,t)}}return{destination:o,destinationSelection:s}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.unchangedRegions.get();t&&h3((e=>{for(const i of t)i.collapseAll(e)}))}showAllUnchangedRegions(){var e;const t=null===(e=this._diffModel.get())||void 0===e?void 0:e.unchangedRegions.get();t&&h3((e=>{for(const i of t)i.showAll(e)}))}};O7=A7([M7(3,pC),M7(4,my),M7(5,by),M7(6,A5),M7(7,BY)],O7);var R7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},P7=function(e,t){return function(i,n){t(i,n,e)}};let F7=0,B7=!1;function V7(e){if(!e){if(B7)return;B7=!0}!function(e){WI=document.createElement("div"),WI.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),WI.appendChild(e),e};zI=t(),HI=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),WI.appendChild(e),e};jI=i(),UI=i(),e.appendChild(WI)}(e||q_.document.body)}let W7=class extends kq{constructor(e,t,i,n,o,s,r,a,l,c,d,h){const u={...t};u.ariaLabel=u.ariaLabel||$Y.editorViewAccessibleLabel,u.ariaLabel=u.ariaLabel+";"+$Y.accessibilityHelpMessage,super(e,u,{},i,n,o,s,a,l,c,d,h),this._standaloneKeybindingService=r instanceof q5?r:null,V7(u.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const n="DYNAMIC_"+ ++F7,o=Gy.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){var t=this;if("string"!==typeof e.id||"string"!==typeof e.label||"function"!==typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),hv.None;const i=e.id,n=e.label,o=Gy.and(Gy.equals("editorId",this.getId()),Gy.deserialize(e.precondition)),s=e.keybindings,r=Gy.and(o,Gy.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return Promise.resolve(e.run(t,...o))},d=new dv,h=this.getId()+":"+i;if(d.add(Ty.registerCommand(h,c)),a){const e={command:{id:h,title:n},when:o,group:a,order:l};d.add(zC.appendMenuItem(BC.EditorContext,e))}if(Array.isArray(s))for(const g of s)d.add(this._standaloneKeybindingService.addDynamicKeybinding(h,g,c,r));const u=new UW(h,n,n,void 0,o,(function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Promise.resolve(e.run(t,...n))}),this._contextKeyService);return this._actions.set(i,u),d.add(cv((()=>{this._actions.delete(i)}))),d}_triggerCommand(e,t){if(this._codeEditorService instanceof zq)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};W7=R7([P7(2,my),P7(3,by),P7(4,Ny),P7(5,pC),P7(6,oB),P7(7,$P),P7(8,XK),P7(9,oA),P7(10,$D),P7(11,kT)],W7);let z7=class extends W7{constructor(e,t,i,n,o,s,r,a,l,c,d,h,u,g,p){const f={...t};$5(c,f,!1);const m=a.registerEditorContainer(e);"string"===typeof f.theme&&a.setTheme(f.theme),"undefined"!==typeof f.autoDetectHighContrast&&a.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast));const v=f.model;let b;if(delete f.model,super(e,f,i,n,o,s,r,a,l,d,g,p),this._configurationService=c,this._standaloneThemeService=a,this._register(m),"undefined"===typeof v){const e=u.getLanguageIdByMimeType(f.language)||f.language||UD;b=j7(h,u,f.value||"",e,void 0),this._ownsModel=!0}else b=v,this._ownsModel=!1;if(this._attachModel(b),b){const e={oldModelUrl:null,newModelUrl:b.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){$5(this._configurationService,e,!1),"string"===typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),"undefined"!==typeof e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};z7=R7([P7(2,my),P7(3,by),P7(4,Ny),P7(5,pC),P7(6,oB),P7(7,q4),P7(8,XK),P7(9,gD),P7(10,oA),P7(11,_y),P7(12,_D),P7(13,$D),P7(14,kT)],z7);let H7=class extends O7{constructor(e,t,i,n,o,s,r,a,l,c,d,h){const u={...t};$5(a,u,!0);const g=s.registerEditorContainer(e);"string"===typeof u.theme&&s.setTheme(u.theme),"undefined"!==typeof u.autoDetectHighContrast&&s.setAutoDetectHighContrast(Boolean(u.autoDetectHighContrast)),super(e,u,{},n,i,o,h,c),this._configurationService=a,this._standaloneThemeService=s,this._register(g)}dispose(){super.dispose()}updateOptions(e){$5(this._configurationService,e,!0),"string"===typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),"undefined"!==typeof e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(W7,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function j7(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let s=i;return-1!==n&&(s=i.substring(0,n)),U7(e,i,t.createByFilepathOrFirstLine(o||null,s),o)}return U7(e,i,t.createById(n),o)}function U7(e,t,i,n){return e.createModel(t,i,n)}H7=R7([P7(2,my),P7(3,pC),P7(4,by),P7(5,q4),P7(6,XK),P7(7,gD),P7(8,oZ),P7(9,BY),P7(10,l5),P7(11,A5)],H7);class K7 extends hv{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{orientation:0};super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new Dv),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new dv),this.options=i,this.lookupKeybindings="function"===typeof this.options.getKeyBinding,this.toggleMenuAction=this._register(new q7((()=>{var e;return null===(e=this.toggleMenuActionViewItem)||void 0===e?void 0:e.show()}),i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new MJ(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,actionViewItemProvider:(e,n)=>{var o;if(e.id===q7.ID)return this.toggleMenuActionViewItem=new oJ(e,e.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Ey.asClassNameArray(null!==(o=i.moreIcon)&&void 0!==o?o:Hb.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const t=i.actionViewItemProvider(e,n);if(t)return t}if(e instanceof ky){const i=new oJ(e,e.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:e.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return i.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(i),this.disposables.add(this._onDidChangeDropdownVisibility.add(i.onDidChangeVisibility)),i}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach((e=>{this.actionBar.push(e,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(e)})}))}getKeybindingLabel(e){var t,i,n;const o=this.lookupKeybindings?null===(i=(t=this.options).getKeyBinding)||void 0===i?void 0:i.call(t,e):void 0;return null!==(n=null===o||void 0===o?void 0:o.getLabel())&&void 0!==n?n:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class q7 extends yy{constructor(e,t){t=t||lf("moreActions","More Actions..."),super(q7.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}q7.ID="toolbar.toggle.more";var G7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Y7=function(e,t){return function(i,n){t(i,n,e)}};let Z7=class extends K7{constructor(e,t,i,n,o,s,r){super(e,o,{getKeyBinding:e=>{var t;return null!==(t=s.lookupKeybinding(e.id))&&void 0!==t?t:void 0},...t,allowContextMenu:!0,skipTelemetry:"string"===typeof(null===t||void 0===t?void 0:t.telemetrySource)}),this._options=t,this._menuService=i,this._contextKeyService=n,this._contextMenuService=o,this._sessionDisposables=this._store.add(new dv);const a=null===t||void 0===t?void 0:t.telemetrySource;a&&this._store.add(this.actionBar.onDidRun((e=>r.publicLog2("workbenchActionExecuted",{id:e.action.id,from:a}))))}setActions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;var n,o,s;this._sessionDisposables.clear();const r=e.slice(),a=t.slice(),l=[];let c=0;const d=[];let h=!1;if(-1!==(null===(n=this._options)||void 0===n?void 0:n.hiddenItemStrategy))for(let u=0;u<r.length;u++){const e=r[u];(e instanceof jC||e instanceof HC)&&(e.hideActions&&(l.push(e.hideActions.toggle),e.hideActions.toggle.checked&&c++,e.hideActions.isHidden&&(h=!0,r[u]=void 0,0!==(null===(o=this._options)||void 0===o?void 0:o.hiddenItemStrategy)&&(d[u]=e))))}if(void 0!==(null===(s=this._options)||void 0===s?void 0:s.overflowBehavior)){const e=function(e,t){const i=new Set;for(const n of t)e.has(n)&&i.add(n);return i}(new Set(this._options.overflowBehavior.exempted),Qf.map(r,(e=>null===e||void 0===e?void 0:e.id))),t=this._options.overflowBehavior.maxItems-e.size;let i=0;for(let n=0;n<r.length;n++){const o=r[n];o&&(i++,e.has(o.id)||i>=t&&(r[n]=void 0,d[n]=o))}}Cp(r),Cp(d),super.setActions(r,Sy.join(d,a)),l.length>0&&this._sessionDisposables.add(Zk(this.getElement(),"contextmenu",(e=>{var t,n,o,s,r;const a=new oS(Fk(this.getElement()),e),d=this.getItemAction(a.target);if(!d)return;a.preventDefault(),a.stopPropagation();let u,g=!1;if(1===c&&0===(null===(t=this._options)||void 0===t?void 0:t.hiddenItemStrategy)){g=!0;for(let e=0;e<l.length;e++)if(l[e].checked){l[e]=xy({id:d.id,label:d.label,checked:!0,enabled:!1,run(){}});break}}if(!g&&(d instanceof jC||d instanceof HC)){if(!d.hideActions)return;u=d.hideActions.hide}else u=xy({id:"label",label:lf("hide","Hide"),enabled:!1,run(){}});const p=Sy.join([u],l);(null===(n=this._options)||void 0===n?void 0:n.resetMenu)&&!i&&(i=[this._options.resetMenu]),h&&i&&(p.push(new Sy),p.push(xy({id:"resetThisMenu",label:lf("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>a,getActions:()=>p,menuId:null===(o=this._options)||void 0===o?void 0:o.contextMenu,menuActionOptions:{renderShortTitle:!0,...null===(s=this._options)||void 0===s?void 0:s.menuOptions},skipTelemetry:"string"===typeof(null===(r=this._options)||void 0===r?void 0:r.telemetrySource),contextKeyService:this._contextKeyService})})))}};Z7=G7([Y7(2,VC),Y7(3,pC),Y7(4,oZ),Y7(5,oB),Y7(6,UC)],Z7);let Q7=class extends Z7{constructor(e,t,i,n,o,s,r,a){super(e,{resetMenu:t,...i},n,o,s,r,a),this._onDidChangeMenuItems=this._store.add(new Cv);const l=this._store.add(n.createMenu(t,o,{emitEventsForSubmenuChanges:!0})),c=()=>{var t,n,o;const s=[],r=[];!function(e,t,i,n,o,s){EJ(e.getActions(t),i,!1,"string"===typeof n?e=>e===n:n,o,s)}(l,null===i||void 0===i?void 0:i.menuOptions,{primary:s,secondary:r},null===(t=null===i||void 0===i?void 0:i.toolbarOptions)||void 0===t?void 0:t.primaryGroup,null===(n=null===i||void 0===i?void 0:i.toolbarOptions)||void 0===n?void 0:n.shouldInlineSubmenu,null===(o=null===i||void 0===i?void 0:i.toolbarOptions)||void 0===o?void 0:o.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",0===s.length&&0===r.length),super.setActions(s,r)};this._store.add(l.onDidChange((()=>{c(),this._onDidChangeMenuItems.fire(this)}))),c()}setActions(){throw new ev("This toolbar is populated from a menu.")}};Q7=G7([Y7(3,VC),Y7(4,pC),Y7(5,oZ),Y7(6,oB),Y7(7,UC)],Q7);class X7 extends Cy{constructor(e){super(),this._getContext=e}runAction(e,t){return super.runAction(e,this._getContext())}}var J7=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},$7=function(e,t){return function(i,n){t(i,n,e)}};class e9{constructor(e){this.viewModel=e}getId(){return this.viewModel}}let t9=class extends hv{constructor(e,t,i,n){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=n,this._viewModel=y3(this,void 0),this._collapsed=L3(this,(e=>{var t;return null===(t=this._viewModel.read(e))||void 0===t?void 0:t.collapsed.read(e)})),this._contentHeight=y3(this,500),this.height=L3(this,(e=>(this._collapsed.read(e)?0:this._contentHeight.read(e))+this._outerEditorHeight)),this._modifiedContentWidth=y3(this,0),this._modifiedWidth=y3(this,0),this._originalContentWidth=y3(this,0),this._originalWidth=y3(this,0),this.maxScroll=L3(this,(e=>{const t=this._modifiedContentWidth.read(e)-this._modifiedWidth.read(e),i=this._originalContentWidth.read(e)-this._originalWidth.read(e);return t>i?{maxScroll:t,width:this._modifiedWidth.read(e)}:{maxScroll:i,width:this._originalWidth.read(e)}})),this._elements=$L("div.multiDiffEntry",[$L("div.content",{style:{display:"flex",flexDirection:"column",flex:"1",overflow:"hidden"}},[$L("div.header@header",[$L("div.collapse-button@collapseButton"),$L("div.title.show-file-icons@title",[]),$L("div.actions@actions")]),$L("div.editorParent",{style:{flex:"1",display:"flex",flexDirection:"column"}},[$L("div.editorContainer@editor",{style:{flex:"1"}})])])]),this.editor=this._register(this._instantiationService.createInstance(O7,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=i9(this.editor.getModifiedEditor()),this.isOriginalFocused=i9(this.editor.getOriginalEditor()),this.isFocused=L3(this,(e=>this.isModifedFocused.read(e)||this.isOriginalFocused.read(e))),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.title)):void 0,this._dataStore=new dv,this._headerHeight=this._elements.header.clientHeight;const o=new w2(this._elements.collapseButton,{});this._register(N3((e=>{o.element.className="",o.icon=this._collapsed.read(e)?Hb.chevronRight:Hb.chevronDown}))),this._register(o.onDidClick((()=>{var e;null===(e=this._viewModel.get())||void 0===e||e.collapsed.set(!this._collapsed.get(),void 0)}))),this._register(N3((e=>{this._elements.editor.style.display=this._collapsed.read(e)?"none":"block"}))),this.editor.getModifiedEditor().onDidLayoutChange((e=>{const t=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(t,void 0)})),this.editor.getOriginalEditor().onDidLayoutChange((e=>{const t=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(t,void 0)})),this._register(this.editor.onDidContentSizeChange((e=>{u3((t=>{this._contentHeight.set(e.contentHeight,t),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),t),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),t)}))}))),this._register(N3((e=>{const t=this.isFocused.read(e);this._elements.root.classList.toggle("focused",t)}))),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(Q7,this._elements.actions,BC.MultiDiffEditorFileToolbar,{actionRunner:this._register(new X7((()=>{var e,t;return null===(t=null===(e=this._viewModel.get())||void 0===e?void 0:e.diffEditorViewModel)||void 0===t?void 0:t.model.modified.uri}))),menuOptions:{shouldForwardArgs:!0}}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){function t(e){return{...e,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0}}const i=e.viewModel.entry.value;i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange((()=>{var e;this.editor.updateOptions(t(null!==(e=i.options)&&void 0!==e?e:{}))}))),u3((n=>{var o,s;null===(o=this._resourceLabel)||void 0===o||o.setUri(e.viewModel.diffEditorViewModel.model.modified.uri),this._dataStore.clear(),this._viewModel.set(e.viewModel,n),this.editor.setModel(e.viewModel.diffEditorViewModel,n),this.editor.updateOptions(t(null!==(s=i.options)&&void 0!==s?s:{}))}))}render(e,t,i,n){this._elements.root.style.visibility="visible",this._elements.root.style.top="".concat(e.start,"px"),this._elements.root.style.height="".concat(e.length,"px"),this._elements.root.style.width="".concat(t,"px"),this._elements.root.style.position="absolute";const o=Math.max(0,Math.min(e.length-this._headerHeight,n.start-e.start));this._elements.header.style.transform="translateY(".concat(o,"px)"),u3((i=>{this.editor.layout({width:t,height:e.length-this._outerEditorHeight})})),this.editor.getOriginalEditor().setScrollTop(i),this._elements.header.classList.toggle("shadow",o>0||i>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};function i9(e){return P3((t=>{const i=new dv;return i.add(e.onDidFocusEditorWidget((()=>t(!0)))),i.add(e.onDidBlurEditorWidget((()=>t(!1)))),i}),(()=>e.hasWidgetFocus()))}t9=J7([$7(3,my)],t9);class n9{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){var t;let i;if(0===this._unused.size)i=this._create(e),this._itemData.set(i,e);else{const n=[...this._unused.values()];i=null!==(t=n.find((t=>this._itemData.get(t).getId()===e.getId())))&&void 0!==t?t:n[0],this._unused.delete(i),this._itemData.set(i,e),i.setData(e)}return this._used.add(i),{object:i,dispose:()=>{this._used.delete(i),this._unused.size>5?i.dispose():this._unused.add(i)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var o9=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},s9=function(e,t){return function(i,n){t(i,n,e)}};let r9=class extends hv{constructor(e,t,i,n,o,s){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=n,this._parentContextKeyService=o,this._parentInstantiationService=s,this._elements=$L("div",{style:{overflowY:"hidden"}},[$L("div@content",{style:{overflow:"hidden"}}),$L("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new Z3(this._element,void 0)),this._objectPool=this._register(new n9((e=>{const t=this._instantiationService.createInstance(t9,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return t.setData(e),t}))),this._scrollable=this._register(new yP({forceIntegerValues:!1,scheduleAtNextAnimationFrame:e=>eL(Fk(this._element),e),smoothScrollDuration:100})),this._scrollableElement=this._register(new NP(this._elements.root,{vertical:1,horizontal:1,className:"monaco-component",useShadows:!1},this._scrollable)),this.scrollTop=P3(this._scrollableElement.onScroll,(()=>this._scrollableElement.getScrollPosition().scrollTop)),this.scrollLeft=P3(this._scrollableElement.onScroll,(()=>this._scrollableElement.getScrollPosition().scrollLeft)),this._viewItems=x3(this,((e,t)=>{const i=this._viewModel.read(e);if(!i)return[];return i.items.read(e).map((e=>t.add(new a9(e,this._objectPool,this.scrollLeft))))})),this._totalHeight=this._viewItems.map(this,((e,t)=>e.reduce(((e,i)=>e+i.contentHeight.read(t)),0))),this.activeDiffItem=L3(this,(e=>this._viewItems.read(e).find((t=>{var i;return null===(i=t.template.read(e))||void 0===i?void 0:i.isFocused.read(e)})))),this.lastActiveDiffItem=function(e){let t;return L3((i=>(t=e(i,t),t)))}(((e,t)=>{var i;return null!==(i=this.activeDiffItem.read(e))&&void 0!==i?i:t})),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new GK([pC,this._contextKeyService])),this._contextKeyService.createKey(ZB.inMultiDiffEditor.key,!0);const r=this._parentContextKeyService.createKey(ZB.multiDiffEditorAllCollapsed.key,!1);this._register(N3((e=>{const t=this._viewModel.read(e);if(t){const i=t.items.read(e).every((t=>t.collapsed.read(e)));r.set(i)}}))),this._register(N3((e=>{const t=this.lastActiveDiffItem.read(e);h3((i=>{var n;null===(n=this._viewModel.read(e))||void 0===n||n.activeDiffItem.set(null===t||void 0===t?void 0:t.viewModel,i)}))}))),this._register(N3((e=>{const t=this._dimension.read(e);this._sizeObserver.observe(t)}))),this._elements.content.style.position="relative",this._register(N3((e=>{const t=this._sizeObserver.height.read(e);this._elements.root.style.height="".concat(t,"px");const i=this._totalHeight.read(e);this._elements.content.style.height="".concat(i,"px");const n=this._sizeObserver.width.read(e);let o=n;const s=aN(this._viewItems.read(e),(t=>t.maxScroll.read(e).maxScroll));if(s){o=n+s.maxScroll.read(e).maxScroll}this._scrollableElement.setScrollDimensions({width:n,height:t,scrollHeight:i,scrollWidth:o})}))),e.replaceChildren(this._scrollableElement.getDomNode()),this._register(cv((()=>{e.replaceChildren()}))),this._register(this._register(N3((e=>{u3((t=>{this.render(e)}))}))))}render(e){const t=this.scrollTop.read(e);let i=0,n=0,o=0;const s=this._sizeObserver.height.read(e),r=eN.ofStartAndLength(t,s),a=this._sizeObserver.width.read(e);for(const l of this._viewItems.read(e)){const c=l.contentHeight.read(e),d=Math.min(c,s),h=eN.ofStartAndLength(n,d),u=eN.ofStartAndLength(o,c);if(u.isBefore(r))i-=c-d,l.hide();else if(u.isAfter(r))l.hide();else{const e=Math.max(0,Math.min(r.start-u.start,c-d));i-=e;const n=eN.ofStartAndLength(t+i,s);l.render(h,e,a,n)}n+=d,o+=c}this._elements.content.style.transform="translateY(".concat(-(t+i),"px)")}};r9=o9([s9(4,pC),s9(5,my)],r9);class a9 extends hv{constructor(e,t,i){var n,o;super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._lastTemplateData=y3(this,{contentHeight:500,maxScroll:{maxScroll:0,width:0}}),this._templateRef=this._register((o=void 0,"string"===typeof(n=this)?new S3(void 0,n,o):new S3(n,void 0,o))),this.contentHeight=L3(this,(e=>{var t,i,n;return null!==(n=null===(i=null===(t=this._templateRef.read(e))||void 0===t?void 0:t.object.height)||void 0===i?void 0:i.read(e))&&void 0!==n?n:this._lastTemplateData.read(e).contentHeight})),this.maxScroll=L3(this,(e=>{var t,i;return null!==(i=null===(t=this._templateRef.read(e))||void 0===t?void 0:t.object.maxScroll.read(e))&&void 0!==i?i:this._lastTemplateData.read(e).maxScroll})),this.template=L3(this,(e=>{var t;return null===(t=this._templateRef.read(e))||void 0===t?void 0:t.object})),this._isHidden=y3(this,!1),this._register(N3((e=>{var t;const i=this._scrollLeft.read(e);null===(t=this._templateRef.read(e))||void 0===t||t.object.setScrollLeft(i)}))),this._register(N3((e=>{const t=this._templateRef.read(e);if(!t)return;if(!this._isHidden.read(e))return;t.object.isFocused.read(e)||h3((e=>{this._lastTemplateData.set({contentHeight:t.object.height.get(),maxScroll:{maxScroll:0,width:0}},e),t.object.hide(),this._templateRef.set(void 0,e)}))})))}dispose(){this.hide(),super.dispose()}toString(){return"VirtualViewItem(".concat(this.viewModel.entry.value.title,")")}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,n){this._isHidden.set(!1,void 0);let o=this._templateRef.get();o||(o=this._objectPool.getUnusedObj(new e9(this.viewModel)),this._templateRef.set(o,void 0)),o.object.render(e,i,t,n)}}kA("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},lf("multiDiffEditor.headerBackground","The background color of the diff editor's header"));var l9=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},c9=function(e,t){return function(i,n){t(i,n,e)}};let d9=class extends hv{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=y3(this,void 0),this._viewModel=y3(this,void 0),this._widgetImpl=x3(this,((e,t)=>(t6(t9,e),t.add(this._instantiationService.createInstance(t6(r9,e),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))))),this._register(z3(this._widgetImpl))}};function h9(e,t,i){return n3.initialize(i||{}).createInstance(z7,e,t)}function u9(e){return n3.get(by).onCodeEditorAdd((t=>{e(t)}))}function g9(e){return n3.get(by).onDiffEditorAdd((t=>{e(t)}))}function p9(){return n3.get(by).listCodeEditors()}function f9(){return n3.get(by).listDiffEditors()}function m9(e,t,i){return n3.initialize(i||{}).createInstance(H7,e,t)}function v9(e,t){const i=n3.initialize(t||{});return new d9(e,{},i)}function b9(e){if("string"!==typeof e.id||"function"!==typeof e.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Ty.registerCommand(e.id,e.run)}function _9(e){if("string"!==typeof e.id||"string"!==typeof e.label||"function"!==typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const t=Gy.deserialize(e.precondition),i=new dv;if(i.add(Ty.registerCommand(e.id,(function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return ox.runEditorCommand(i,o,t,((t,i,n)=>Promise.resolve(e.run(i,...n))))}))),e.contextMenuGroupId){const n={command:{id:e.id,title:e.label},when:t,group:e.contextMenuGroupId,order:e.contextMenuOrder||0};i.add(zC.appendMenuItem(BC.EditorContext,n))}if(Array.isArray(e.keybindings)){const n=n3.get(oB);if(n instanceof q5){const o=Gy.and(t,Gy.deserialize(e.keybindingContext));i.add(n.addDynamicKeybindings(e.keybindings.map((t=>({keybinding:t,command:e.id,when:o})))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return i}function w9(e){return y9([e])}function y9(e){const t=n3.get(oB);return t instanceof q5?t.addDynamicKeybindings(e.map((e=>({keybinding:e.keybinding,command:e.command,commandArgs:e.commandArgs,when:Gy.deserialize(e.when)})))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),hv.None)}function C9(e,t,i){const n=n3.get(_D),o=n.getLanguageIdByMimeType(t)||t;return j7(n3.get(_y),n,e,o,i)}function S9(e,t){const i=n3.get(_D),n=i.getLanguageIdByMimeType(t)||t||UD;e.setLanguage(i.createById(n))}function k9(e,t,i){if(e){n3.get(n$).changeOne(t,e.uri,i)}}function L9(e){n3.get(n$).changeAll(e,[])}function x9(e){return n3.get(n$).read(e)}function D9(e){return n3.get(n$).onMarkerChanged(e)}function E9(e){return n3.get(_y).getModel(e)}function N9(){return n3.get(_y).getModels()}function T9(e){return n3.get(_y).onModelAdded(e)}function I9(e){return n3.get(_y).onModelRemoved(e)}function A9(e){return n3.get(_y).onModelLanguageChanged((t=>{e({model:t.model,oldLanguage:t.oldLanguageId})}))}function M9(e){return function(e,t,i){return new PT(e,t,i)}(n3.get(_y),n3.get($D),e)}function O9(e,t){const i=n3.get(_D),n=n3.get(q4);return FI.colorizeElement(n,i,e,t).then((()=>{n.registerEditorContainer(e)}))}function R9(e,t,i){const n=n3.get(_D);return n3.get(q4).registerEditorContainer(q_.document.body),FI.colorize(n,e,t,i)}function P9(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return n3.get(q4).registerEditorContainer(q_.document.body),FI.colorizeModelLine(e,t,i)}function F9(e,t){n_.getOrCreate(t);const i=function(e){const t=n_.get(e);return t||{getInitialState:()=>BT,tokenize:(t,i,n)=>VT(e,n)}}(t),n=ow(e),o=[];let s=i.getInitialState();for(let r=0,a=n.length;r<a;r++){const e=n[r],t=i.tokenize(e,!0,s);o[r]=t.tokens,s=t.endState}return o}function B9(e,t){n3.get(q4).defineTheme(e,t)}function V9(e){n3.get(q4).setTheme(e)}function W9(){py.clearAllFontInfos()}function z9(e,t){return Ty.registerCommand({id:e,handler:t})}function H9(e){return n3.get(YJ).registerOpener({open:async t=>("string"===typeof t&&(t=Lb.parse(t)),e.open(t))})}function j9(e){return n3.get(by).registerCodeEditorOpenHandler((async(t,i,n)=>{var o;if(!i)return null;const s=null===(o=t.options)||void 0===o?void 0:o.selection;let r;return s&&"number"===typeof s.endLineNumber&&"number"===typeof s.endColumn?r=s:s&&(r={lineNumber:s.startLineNumber,column:s.startColumn}),await e.openCodeEditor(i,t.resource,r)?i:null}))}function U9(e,t){return"boolean"===typeof e?e:t}function K9(e,t){return"string"===typeof e?e:t}function q9(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function G9(e,t){t=t.replace(/@@/g,"\x01");let i,n=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let s="";if("string"===typeof e[o])s=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?yI(e,"language definition does not contain attribute '"+o+"', used at: "+t):yI(e,"attribute reference '"+o+"' must be a string, used at: "+t);s=e[o].source}return vI(s)?"":"(?:"+s+")"})),n++}while(i&&n<5);t=t.replace(/\x01/g,"@");const o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function Y9(e,t,i,n){let o=-1,s=i,r=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(o=parseInt(r[3]),r[2]&&(o+=100)),s=r[4]);let a,l="~",c=s;if(s&&0!==s.length?/^\w*$/.test(c)?l="==":(r=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],c=r[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){const i=e[c];if(!i)throw yI(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}((function(e){return"string"===typeof e}),i))throw yI(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);const n=q9(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){const t=G9(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return G9(e,"^"+CI(e,c,i,n,o)+"$").test(t)};else if(c.indexOf("$")<0){const t=bI(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{const t=bI(e,c);a=function(i,n,o,s,r){const a=CI(e,t,n,o,s);return"=="===l?i===a:i!==a}}else{const t=q9(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){const s=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;const e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(s||"",e,t,i,n)}}}function Z9(e,t,i){if(i){if("string"===typeof i)return i;if(i.token||""===i.token){if("string"!==typeof i.token)throw yI(e,"a 'token' attribute must be of type string, in rule: "+t);{const n={token:i.token};if(i.token.indexOf("$")>=0&&(n.tokenSubst=!0),"string"===typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw yI(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);n.bracket=-1}if(i.next){if("string"!==typeof i.next)throw yI(e,"the next state must be a string value in rule: "+t);{let o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(e,CI(e,o,"",[],""))))throw yI(e,"the next state '"+i.next+"' is not defined in rule: "+t);n.next=o}}return"number"===typeof i.goBack&&(n.goBack=i.goBack),"string"===typeof i.switchTo&&(n.switchTo=i.switchTo),"string"===typeof i.log&&(n.log=i.log),"string"===typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),n}}if(Array.isArray(i)){const n=[];for(let o=0,s=i.length;o<s;o++)n[o]=Z9(e,t,i[o]);return{group:n}}if(i.cases){const n=[];for(const s in i.cases)if(i.cases.hasOwnProperty(s)){const o=Z9(e,t,i.cases[s]);"@default"===s||"@"===s||""===s?n.push({test:void 0,value:o,name:s}):"@eos"===s?n.push({test:function(e,t,i,n){return n},value:o,name:s}):n.push(Y9(e,t,s,o))}const o=e.defaultToken;return{test:function(e,t,i,s){for(const o of n){if(!o.test||o.test(e,t,i,s))return o.value}return o}}}throw yI(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}d9=l9([c9(2,my)],d9);class Q9{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"===typeof t)i=t;else{if(!(t instanceof RegExp))throw yI(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=G9(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=Z9(e,this.name,t)}}function X9(e,t){if(!t||"object"!==typeof t)throw new Error("Monarch: expecting a language definition object");const i={};i.languageId=e,i.includeLF=U9(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"===typeof t.start?t.start:null,i.ignoreCase=U9(t.ignoreCase,!1),i.unicode=U9(t.unicode,!1),i.tokenPostfix=K9(t.tokenPostfix,"."+i.languageId),i.defaultToken=K9(t.defaultToken,"source"),i.usesEmbedded=!1;const n=t;function o(e,s,r){for(const a of r){let r=a.include;if(r){if("string"!==typeof r)throw yI(i,"an 'include' attribute must be a string at: "+e);if("@"===r[0]&&(r=r.substr(1)),!t.tokenizer[r])throw yI(i,"include target '"+r+"' is not defined at: "+e);o(e+"."+r,s,t.tokenizer[r])}else{const t=new Q9(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"===typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!==typeof a[1])throw yI(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw yI(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"===typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=U9(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}s.push(t)}}}if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!==typeof t.tokenizer)throw yI(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(const r in t.tokenizer)if(t.tokenizer.hasOwnProperty(r)){i.start||(i.start=r);const e=t.tokenizer[r];i.tokenizer[r]=new Array,o("tokenizer."+r,i.tokenizer[r],e)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw yI(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const s=[];for(const r of t.brackets){let e=r;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw yI(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!==typeof e.open||"string"!==typeof e.token||"string"!==typeof e.close)throw yI(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:e.token+i.tokenPostfix,open:bI(i,e.open),close:bI(i,e.close)})}return i.brackets=s,i.noThrow=!0,i}function J9(e){jD.registerLanguage(e)}function $9(){let e=[];return e=e.concat(jD.getLanguages()),e}function e8(e){return n3.get(_D).languageIdCodec.encodeLanguageId(e)}function t8(e,t){return n3.withServices((()=>{const i=n3.get(_D).onDidRequestRichLanguageFeatures((n=>{n===e&&(i.dispose(),t())}));return i}))}function i8(e,t){return n3.withServices((()=>{const i=n3.get(_D).onDidRequestBasicLanguageFeatures((n=>{n===e&&(i.dispose(),t())}));return i}))}function n8(e,t){if(!n3.get(_D).isRegisteredLanguageId(e))throw new Error("Cannot set configuration for unknown language ".concat(e));return n3.get($D).register(e,t,100)}class o8{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if("function"===typeof this._actual.tokenize)return s8.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const n=this._actual.tokenizeEncoded(e,i);return new qb(n.tokens,n.endState)}}class s8{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let n=0;for(let o=0,s=e.length;o<s;o++){const s=e[o];let r=s.startIndex;0===o?r=0:r<n&&(r=n),i[o]=new Ub(r,s.scopes,t),n=r}return i}static adaptTokenize(e,t,i,n){const o=t.tokenize(i,n),s=s8._toClassicTokens(o.tokens,e);let r;return r=o.endState.equals(n)?n:o.endState,new Kb(s,r)}tokenize(e,t,i){return s8.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let s=0,r=0;for(let l=0,c=t.length;l<c;l++){const e=t[l],a=1024|n.match(i,e.scopes);if(s>0&&o[s-1]===a)continue;let c=e.startIndex;0===l?c=0:c<r&&(c=r),o[s++]=c,o[s++]=a,r=c}const a=new Uint32Array(s);for(let l=0;l<s;l++)a[l]=o[l];return a}tokenizeEncoded(e,t,i){const n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens);let s;return s=n.endState.equals(i)?i:n.endState,new qb(o,s)}}function r8(e){return e&&"function"===typeof e.then}function a8(e){const t=n3.get(q4);if(e){const i=[null];for(let t=1,n=e.length;t<n;t++)i[t]=hT.fromHex(e[t]);t.setColorMapOverride(i)}else t.setColorMapOverride(null)}function l8(e,t){return function(e){return"tokenizeEncoded"in e}(t)?new o8(e,t):new s8(e,t,n3.get(_D),n3.get(q4))}function c8(e,t){const i=new i_((async()=>{const i=await Promise.resolve(t.create());return i?"function"===typeof i.getInitialState?l8(e,i):new OI(n3.get(_D),n3.get(q4),e,X9(e,i),n3.get(gD)):null}));return n_.registerFactory(e,i)}function d8(e,t){if(!n3.get(_D).isRegisteredLanguageId(e))throw new Error("Cannot set tokens provider for unknown language ".concat(e));return r8(t)?c8(e,{create:()=>t}):n_.register(e,l8(e,t))}function h8(e,t){return r8(t)?c8(e,{create:()=>t}):n_.register(e,(t=>new OI(n3.get(_D),n3.get(q4),e,X9(e,t),n3.get(gD)))(t))}function u8(e,t){return n3.get(kT).referenceProvider.register(e,t)}function g8(e,t){return n3.get(kT).renameProvider.register(e,t)}function p8(e,t){return n3.get(kT).signatureHelpProvider.register(e,t)}function f8(e,t){return n3.get(kT).hoverProvider.register(e,{provideHover:(e,i,n)=>{const o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new Fb(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new Fb(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})}function m8(e,t){return n3.get(kT).documentSymbolProvider.register(e,t)}function v8(e,t){return n3.get(kT).documentHighlightProvider.register(e,t)}function b8(e,t){return n3.get(kT).linkedEditingRangeProvider.register(e,t)}function _8(e,t){return n3.get(kT).definitionProvider.register(e,t)}function w8(e,t){return n3.get(kT).implementationProvider.register(e,t)}function y8(e,t){return n3.get(kT).typeDefinitionProvider.register(e,t)}function C8(e,t){return n3.get(kT).codeLensProvider.register(e,t)}function S8(e,t,i){return n3.get(kT).codeActionProvider.register(e,{providedCodeActionKinds:null===i||void 0===i?void 0:i.providedCodeActionKinds,documentation:null===i||void 0===i?void 0:i.documentation,provideCodeActions:(e,i,n,o)=>{const s=n3.get(n$).read({resource:e.uri}).filter((e=>Fb.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:s,only:n.only,trigger:n.trigger},o)},resolveCodeAction:t.resolveCodeAction})}function k8(e,t){return n3.get(kT).documentFormattingEditProvider.register(e,t)}function L8(e,t){return n3.get(kT).documentRangeFormattingEditProvider.register(e,t)}function x8(e,t){return n3.get(kT).onTypeFormattingEditProvider.register(e,t)}function D8(e,t){return n3.get(kT).linkProvider.register(e,t)}function E8(e,t){return n3.get(kT).completionProvider.register(e,t)}function N8(e,t){return n3.get(kT).colorProvider.register(e,t)}function T8(e,t){return n3.get(kT).foldingRangeProvider.register(e,t)}function I8(e,t){return n3.get(kT).declarationProvider.register(e,t)}function A8(e,t){return n3.get(kT).selectionRangeProvider.register(e,t)}function M8(e,t){return n3.get(kT).documentSemanticTokensProvider.register(e,t)}function O8(e,t){return n3.get(kT).documentRangeSemanticTokensProvider.register(e,t)}function R8(e,t){return n3.get(kT).inlineCompletionsProvider.register(e,t)}function P8(e,t){return n3.get(kT).inlayHintsProvider.register(e,t)}const F8=vy("IEditorCancelService"),B8=new gC("cancellableOperation",!1,lf("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));CD(F8,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:B8.bindTo(e.get(pC)),tokens:new Jf}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},1);sx(new class extends ox{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:B8})}runEditorCommand(e,t){e.get(F8).cancel(t)}});class V8{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"===typeof e?e.toLowerCase():e._lower}}class W8{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(V8.toKey(e))}has(e){return this._set.has(V8.toKey(e))}}function z8(e,t,i){const n=[],o=new W8,s=e.ordered(i);for(const a of s)n.push(a),a.extensionId&&o.add(a.extensionId);const r=t.ordered(i);for(const a of r){if(a.extensionId){if(o.has(a.extensionId))continue;o.add(a.extensionId)}n.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits:(e,t,i)=>a.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return n}class H8{static setFormatterSelector(e){return{dispose:H8._selectors.unshift(e)}}static async select(e,t,i){if(0===e.length)return;const n=Qf.first(H8._selectors);return n?await n(e,t,i):void 0}}H8._selectors=new Jf,Ty.registerCommand("_executeFormatRangeProvider",(async function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const[o,s,r]=i;Zp(Lb.isUri(o)),Zp(Fb.isIRange(s));const a=e.get(wy),l=e.get(e$),c=e.get(kT),d=await a.createModelReference(o);try{return async function(e,t,i,n,o,s){const r=t.documentRangeFormattingEditProvider.ordered(i);for(const a of r){const t=await Promise.resolve(a.provideDocumentRangeFormattingEdits(i,n,o,s)).catch(Km);if(Sp(t))return await e.computeMoreMinimalEdits(i.uri,t)}}(l,c,d.object.textEditorModel,Fb.lift(s),r,Iv.None)}finally{d.dispose()}})),Ty.registerCommand("_executeFormatDocumentProvider",(async function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const[o,s]=i;Zp(Lb.isUri(o));const r=e.get(wy),a=e.get(e$),l=e.get(kT),c=await r.createModelReference(o);try{return async function(e,t,i,n,o){const s=z8(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,i);for(const r of s){const t=await Promise.resolve(r.provideDocumentFormattingEdits(i,n,o)).catch(Km);if(Sp(t))return await e.computeMoreMinimalEdits(i.uri,t)}}(a,l,c.object.textEditorModel,s,Iv.None)}finally{c.dispose()}})),Ty.registerCommand("_executeFormatOnTypeProvider",(async function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const[o,s,r,a]=i;Zp(Lb.isUri(o)),Zp(Pb.isIPosition(s)),Zp("string"===typeof r);const l=e.get(wy),c=e.get(e$),d=e.get(kT),h=await l.createModelReference(o);try{return function(e,t,i,n,o,s,r){const a=t.onTypeFormattingEditProvider.ordered(i);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(i,n,o,s,r)).catch(Km).then((t=>e.computeMoreMinimalEdits(i.uri,t)))}(c,d,h.object.textEditorModel,Pb.lift(s),r,a,Iv.None)}finally{h.dispose()}})),Hm.wrappingIndent.defaultValue=0,Hm.glyphMargin.defaultValue=!1,Hm.autoIndent.defaultValue=3,Hm.overviewRulerLanes.defaultValue=2,H8.setFormatterSelector(((e,t,i)=>Promise.resolve(e[0])));const j8=K_();j8.editor={create:h9,getEditors:p9,getDiffEditors:f9,onDidCreateEditor:u9,onDidCreateDiffEditor:g9,createDiffEditor:m9,addCommand:b9,addEditorAction:_9,addKeybindingRule:w9,addKeybindingRules:y9,createModel:C9,setModelLanguage:S9,setModelMarkers:k9,getModelMarkers:x9,removeAllMarkers:L9,onDidChangeMarkers:D9,getModels:N9,getModel:E9,onDidCreateModel:T9,onWillDisposeModel:I9,onDidChangeModelLanguage:A9,createWebWorker:M9,colorizeElement:O9,colorize:R9,colorizeModelLine:P9,tokenize:F9,defineTheme:B9,setTheme:V9,remeasureFonts:W9,registerCommand:z9,registerLinkOpener:H9,registerEditorOpener:j9,AccessibilitySupport:o_,ContentWidgetPositionPreference:d_,CursorChangeReason:h_,DefaultEndOfLine:u_,EditorAutoIndentStrategy:p_,EditorOption:f_,EndOfLinePreference:m_,EndOfLineSequence:v_,MinimapPosition:x_,MouseTargetType:D_,OverlayWidgetPositionPreference:E_,OverviewRulerLane:N_,GlyphMarginLane:b_,RenderLineNumbersType:I_,RenderMinimap:A_,ScrollbarVisibility:O_,ScrollType:M_,TextEditorCursorBlinkingStyle:W_,TextEditorCursorStyle:z_,TrackedRangeStickiness:H_,WrappingIndent:j_,InjectedTextCursorStops:w_,PositionAffinity:T_,ShowAiIconMode:P_,ConfigurationChangedEvent:sm,BareFontInfo:hy,FontInfo:uy,TextModelResolvedOptions:FE,FindMatch:BE,ApplyUpdateResult:lm,EditorZoom:cy,createMultiFileDiffEditor:v9,EditorType:FT,EditorOptions:Hm},j8.languages={register:J9,getLanguages:$9,onLanguage:t8,onLanguageEncountered:i8,getEncodedLanguageId:e8,setLanguageConfiguration:n8,setColorMap:a8,registerTokensProviderFactory:c8,setTokensProvider:d8,setMonarchTokensProvider:h8,registerReferenceProvider:u8,registerRenameProvider:g8,registerCompletionItemProvider:E8,registerSignatureHelpProvider:p8,registerHoverProvider:f8,registerDocumentSymbolProvider:m8,registerDocumentHighlightProvider:v8,registerLinkedEditingRangeProvider:b8,registerDefinitionProvider:_8,registerImplementationProvider:w8,registerTypeDefinitionProvider:y8,registerCodeLensProvider:C8,registerCodeActionProvider:S8,registerDocumentFormattingEditProvider:k8,registerDocumentRangeFormattingEditProvider:L8,registerOnTypeFormattingEditProvider:x8,registerLinkProvider:D8,registerColorProvider:N8,registerFoldingRangeProvider:T8,registerDeclarationProvider:I8,registerSelectionRangeProvider:A8,registerDocumentSemanticTokensProvider:M8,registerDocumentRangeSemanticTokensProvider:O8,registerInlineCompletionsProvider:R8,registerInlayHintsProvider:P8,DocumentHighlightKind:g_,CompletionItemKind:a_,CompletionItemTag:l_,CompletionItemInsertTextRule:r_,SymbolKind:B_,SymbolTag:V_,IndentAction:__,CompletionTriggerKind:c_,SignatureHelpTriggerKind:F_,InlayHintKind:y_,InlineCompletionTriggerKind:C_,CodeActionTriggerType:s_,FoldingRangeKind:t_,SelectedSuggestionInfo:Xb};const U8=j8.CancellationTokenSource,K8=j8.Emitter,q8=j8.KeyCode,G8=j8.KeyMod,Y8=j8.Position,Z8=j8.Range,Q8=j8.Selection,X8=j8.SelectionDirection,J8=j8.MarkerSeverity,$8=j8.MarkerTag,eee=j8.Uri,tee=j8.Token,iee=j8.editor,nee=j8.languages,oee=globalThis.MonacoEnvironment;function see(e){return/^\d+$/.test(e)?"".concat(e,"px"):e}function ree(){}((null===oee||void 0===oee?void 0:oee.globalAPI)||"function"===typeof define&&i.amdO)&&(globalThis.monaco=j8),"undefined"!==typeof globalThis.require&&"function"===typeof globalThis.require.config&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var aee=function(){return aee=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},aee.apply(this,arguments)};function lee(e){var i=e.width,n=e.height,s=e.value,r=e.defaultValue,a=e.language,l=e.theme,c=e.options,d=e.overrideServices,h=e.editorWillMount,u=e.editorDidMount,g=e.editorWillUnmount,p=e.onChange,f=e.className,m=e.original,v=e.originalUri,b=e.modifiedUri,_=(0,o.useRef)(null),w=(0,o.useRef)(null),y=(0,o.useRef)(null),C=(0,o.useRef)(null),S=see(i),k=see(n),L=(0,o.useMemo)((function(){return{width:S,height:k}}),[S,k]);return(0,o.useEffect)((function(){_.current&&(h(t),w.current=iee.createDiffEditor(_.current,aee(aee(aee({},f?{extraEditorClassName:f}:{}),c),l?{theme:l}:{}),d),function(){var e=null!=s?s:r,i=null===v||void 0===v?void 0:v(t),n=null===b||void 0===b?void 0:b(t),o=i&&iee.getModel(i),l=n&&iee.getModel(n);o?(o.setValue(m),iee.setModelLanguage(o,a)):o=iee.createModel(e,a,i),l?(o.setValue(e),iee.setModelLanguage(l,a)):l=iee.createModel(e,a,n),w.current.setModel({original:o,modified:l})}(),function(){u(w.current,t);var e=w.current.getModel().modified;y.current=e.onDidChangeContent((function(t){C.current||p(e.getValue(),t)}))}())}),[]),(0,o.useEffect)((function(){w.current&&w.current.updateOptions(aee(aee({},f?{extraEditorClassName:f}:{}),c))}),[f,c]),(0,o.useEffect)((function(){w.current&&w.current.layout()}),[i,n]),(0,o.useEffect)((function(){if(w.current){var e=w.current.getModel(),t=e.original,i=e.modified;iee.setModelLanguage(t,a),iee.setModelLanguage(i,a)}}),[a]),(0,o.useEffect)((function(){if(w.current){var e=w.current.getModel().modified;C.current=!0,w.current.getModifiedEditor().pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:s}]),w.current.getModifiedEditor().pushUndoStop(),C.current=!1}}),[s]),(0,o.useEffect)((function(){iee.setTheme(l)}),[l]),(0,o.useEffect)((function(){if(w.current){var e=w.current.getModel().original;m!==e.getValue()&&e.setValue(m)}}),[m]),(0,o.useEffect)((function(){return function(){if(w.current){g(w.current,t),w.current.dispose();var e=w.current.getModel(),i=e.original,n=e.modified;i&&i.dispose(),n&&n.dispose()}y.current&&y.current.dispose()}}),[]),o.createElement("div",{ref:_,style:L,className:"react-monaco-editor-container"})}lee.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:ree,editorDidMount:ree,editorWillUnmount:ree,onChange:ree,className:null},lee.displayName="MonacoDiffEditor";var cee=function(){return cee=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cee.apply(this,arguments)},dee=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};function hee(e){var i=e.width,n=e.height,s=e.value,r=e.defaultValue,a=e.language,l=e.theme,c=e.options,d=e.overrideServices,h=e.editorWillMount,u=e.editorDidMount,g=e.editorWillUnmount,p=e.onChange,f=e.className,m=e.uri,v=(0,o.useRef)(null),b=(0,o.useRef)(null),_=(0,o.useRef)(null),w=(0,o.useRef)(null),y=see(i),C=see(n),S=(0,o.useMemo)((function(){return{width:y,height:C}}),[y,C]);return(0,o.useEffect)((function(){var e=null!==s?s:r;if(v.current){var i=cee(cee({},c),h(t)||{}),n=null===m||void 0===m?void 0:m(t),o=n&&iee.getModel(n);o?(o.setValue(e),iee.setModelLanguage(o,a)):o=iee.createModel(e,a,n),b.current=iee.create(v.current,cee(cee(cee({model:o},f?{extraEditorClassName:f}:{}),i),l?{theme:l}:{}),d),u(b.current,t),_.current=b.current.onDidChangeModelContent((function(e){w.current||p(b.current.getValue(),e)}))}}),[]),(0,o.useEffect)((function(){if(b.current){if(s===b.current.getValue())return;var e=b.current.getModel();w.current=!0,b.current.pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:s}],void 0),b.current.pushUndoStop(),w.current=!1}}),[s]),(0,o.useEffect)((function(){if(b.current){var e=b.current.getModel();iee.setModelLanguage(e,a)}}),[a]),(0,o.useEffect)((function(){if(b.current){c.model;var e=dee(c,["model"]);b.current.updateOptions(cee(cee({},f?{extraEditorClassName:f}:{}),e))}}),[f,c]),(0,o.useEffect)((function(){b.current&&b.current.layout()}),[i,n]),(0,o.useEffect)((function(){iee.setTheme(l)}),[l]),(0,o.useEffect)((function(){return function(){b.current&&(g(b.current,t),b.current.dispose()),_.current&&_.current.dispose()}}),[]),o.createElement("div",{ref:v,style:S,className:"react-monaco-editor-container"})}hee.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:ree,editorDidMount:ree,editorWillUnmount:ree,onChange:ree,className:null},hee.displayName="MonacoEditor";const uee=()=>(0,Ce.jsx)("div",{className:"PlainLanding-container",children:(0,Ce.jsx)("div",{className:"PlainLanding-text-col",children:(0,Ce.jsx)("h1",{className:"PlainLanding-text",children:"Legal Information and Resources"})})}),gee={headings:{termsOfService:"Terms of Service",dataAndPrivacy:"Data and Privacy",policies:"Policies",communities:"Communities",partnerPrograms:"Partner Programs"},termsOfService:["Terms of Service","Supplemental Terms","Data Processing Addendum","Professional Services Agreement","Marketplace User Agreement"],dataAndPrivacy:["Privacy Notice","Technical and Organisational Measures","Sub-processors","Cookie Policy","CCPA Requests","Email Unsubscribe","Freshmarketer Opt Out"],policies:["Customer Advocacy Consent Policy","Acceptable Use and Conduct Policy","Responsible Disclosure Policy","Policy on Reporting Copyright Infringements","Policy on Reporting Trademark Violations","Business Partner Standards of Conduct"],communities:["Refresh Community Terms of Use","Developer Community Terms of Use","User Network","Event Attendance Agreement"],partnerPrograms:["Developer Terms of Service","Affiliate Partner Agreement","Affiliate Partner Agreement (Individual)","Startup Program Terms"]},pee=()=>(0,Ce.jsx)("div",{className:"linkComponent-main",children:Object.keys(gee.headings).map(((e,t)=>(0,Ce.jsxs)("section",{className:"linkComponent-section",children:[(0,Ce.jsx)("h2",{className:"linkComponent-heading",children:gee.headings[e]}),(0,Ce.jsx)("ul",{children:gee[e].map(((e,t)=>(0,Ce.jsx)("li",{className:"linkComponent-links",children:(0,Ce.jsx)("a",{href:"#",children:e})},t)))})]},t)))});const fee=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(uee,{}),(0,Ce.jsx)(pee,{})]})},mee=()=>{const{title:e,introText:t,sections:i}=vee,n="privacy-policy";return(0,Ce.jsxs)("div",{className:"".concat(n,"-container"),children:[(0,Ce.jsx)("h2",{className:"".concat(n,"-heading"),children:e}),(0,Ce.jsx)("p",{className:"".concat(n,"-paragraph"),children:t}),i.map(((e,t)=>(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)("h3",{className:"".concat(n,"-subheading"),children:e.heading}),(0,Ce.jsx)("p",{className:"".concat(n,"-paragraph"),children:e.content}),e.list&&(0,Ce.jsx)("ul",{className:"".concat(n,"-list"),children:e.list.map(((e,t)=>(0,Ce.jsx)("li",{className:"".concat(n,"-list-item"),children:e},t)))})]},t)))]})};const vee=function(){return(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(uee,{}),(0,Ce.jsx)(mee,{})]})},bee=i.p+"static/media/image.8eaf257c9d55b345fbc5.jpg",_ee=[{url:"/products/s.i.t.e",Data:{LandingContent:{title:"Empower Your Development and Publishing Efforts with S.I.T.E.",minititle:"Next-Level Flexibility and Efficiency for Developers and Publishers",paragraph:"Experience the future of web development and content publishing with S.I.T.E. - a comprehensive platform offering a developer-centric approach, customizable API, intuitive editor, and SEO optimization. Revolutionize your projects with multi-database support, GraphQL/RESTful options, and seamless content management. Explore the power of S.I.T.E. and elevate your digital presence today.",buttonText:"Experience the Future - Get A Demo",imageUrl:bee,imageAlt:"Simplified Interface for Transformation and Enhancement",demoLink:"/contact"},DetailsContent:{heading:"Unlock Innovative Capabilities with S.I.T.E.: A Unified AI-Powered Solution",paragraph:"Enhance user experience and streamline operations with cutting-edge AI capabilities integrated into S.I.T.E. A unified solution offering dynamic self-service, conversational support, and intelligent ticketing.",features:[{title:"DEVELOPER-CENTRIC APPROACH",heading:"API-Driven for Developer Needs",paragraph:"S.I.T.E. adopts an API-driven approach, prioritizing developer requirements. Seamlessly integrate with multiple databases, leverage GraphQL or RESTful support, and utilize JavaScript across the stack for enhanced flexibility and customization.",imageUrl:Gg,imageAlt:"API-Driven Development Image"},{title:"FLEXIBLE CONTENT MANAGEMENT",heading:"Dynamic Content Creation & Management",paragraph:"Effortlessly manage diverse content categories, formats, and flows. Utilize a user-friendly interface, media library, and SEO optimization tools for superior content handling. Customize and enhance your content with unique editing experiences and internationalization features.",imageUrl:Gg,imageAlt:"Flexible Content Management Image"},{title:"MULTI-DATABASE SUPPORT",heading:"Seamless Integration with Multiple Databases",paragraph:"Effortlessly connect with various databases including SQLite, MySQL, Postgres, and MariaDB. Enjoy the flexibility to choose and utilize databases that suit your project needs.",imageUrl:Gg,imageAlt:"Multi-Database Support Image"},{title:"GRAPHQL AND RESTFUL SUPPORT",heading:"Flexible API Consumption",paragraph:"Enable your applications and devices to interact with S.I.T.E. using REST or GraphQL. Provide flexibility and efficiency in consuming data across different platforms and technologies.",imageUrl:Gg,imageAlt:"GraphQL and RESTful Support Image"},{title:"ROBUST SECURITY MEASURES",heading:"Ensuring End-to-End Protection",paragraph:"S.I.T.E. prioritizes security with robust authentication and permission protocols. Implement role-based access control to safeguard endpoints. Utilize JWT authentication for secure API access. Additionally, benefit from built-in security measures to protect against vulnerabilities and threats.",imageUrl:Gg,imageAlt:"Robust Security Measures Image"}]}}},{url:"/products/c.o.r.e",Data:{LandingContent:{title:"Elevate Your Business with C.O.R.E ERP",minititle:"Comprehensive Operations & Resource Management",paragraph:"Experience the transformative power of C.O.R.E - your all-encompassing ERP solution. Optimize resource allocation, streamline operations, and unlock unprecedented efficiency across your organization. Seamlessly integrate modules for finance, HR, supply chain, and more.",buttonText:"Discover C.O.R.E - Request a Demo",imageUrl:bee,imageAlt:"C.O.R.E ERP Portal - Streamlined Operations",demoLink:"/contact"},DetailsContent:{heading:"Unify Operations with C.O.R.E: Your Comprehensive ERP Solution",paragraph:"Transform your enterprise with C.O.R.E, an advanced ERP solution designed to unify operations across various departments. Simplify workflows, streamline processes, and gain actionable insights for strategic decision-making.",features:[{title:"FINANCIAL MANAGEMENT",heading:"Optimized Financial Processes",paragraph:"Efficiently manage finances, automate accounting tasks, and obtain real-time insights into financial performance. Ensure compliance and make informed business decisions.",imageUrl:Gg,imageAlt:"Financial Management in C.O.R.E ERP"},{title:"HUMAN RESOURCE MANAGEMENT",heading:"Empowered HR Operations",paragraph:"Centralize HR data, streamline recruitment, manage employee information, and enhance performance evaluation processes. Empower your workforce and drive productivity.",imageUrl:Gg,imageAlt:"HR Management in C.O.R.E ERP"},{title:"SUPPLY CHAIN MANAGEMENT",heading:"Efficient Supply Chain Operations",paragraph:"Optimize inventory, streamline procurement, manage suppliers, and improve logistics. Ensure a seamless supply chain for enhanced delivery and cost management.",imageUrl:Gg,imageAlt:"Supply Chain Management in C.O.R.E ERP"}]}}},{url:"/products/t.r.a.d.e",Data:{LandingContent:{title:"Transform Transactions with T.R.A.D.E POS",minititle:"Efficient Point of Sale Solutions",paragraph:"Empower your business with T.R.A.D.E - an advanced POS system designed for streamlined transactions and revenue administration. Simplify sales, manage inventory, and enhance customer experiences with a seamless digital exchange platform.",buttonText:"Explore T.R.A.D.E - Get a Demo",imageUrl:bee,imageAlt:"T.R.A.D.E POS System - Enhanced Transactions",demoLink:"/contact"},DetailsContent:{heading:"Enhance Transactions with T.R.A.D.E: Your Digital Exchange Solution",paragraph:"Revolutionize your sales operations with T.R.A.D.E, a comprehensive POS system tailored for efficient transactions and revenue administration. Provide a seamless digital exchange experience and boost sales productivity.",features:[{title:"TRANSACTION MANAGEMENT",heading:"Streamlined Transaction Processes",paragraph:"Simplify sales, manage orders, process payments, and maintain transaction records efficiently. Ensure smooth and secure transactions with an intuitive POS interface.",imageUrl:Gg,imageAlt:"Transaction Management in T.R.A.D.E POS"},{title:"INVENTORY CONTROL",heading:"Efficient Inventory Management",paragraph:"Track stock levels, manage inventory, and streamline replenishment processes. Ensure optimal stock availability and avoid shortages with intelligent inventory control.",imageUrl:Gg,imageAlt:"Inventory Control in T.R.A.D.E POS"},{title:"CUSTOMER EXPERIENCE",heading:"Enhanced Customer Interactions",paragraph:"Provide a seamless checkout experience, manage customer profiles, and personalize interactions. Strengthen customer relationships and drive loyalty.",imageUrl:Gg,imageAlt:"Customer Experience in T.R.A.D.E POS"}]}}},{url:"/products/c.u.e",Data:{LandingContent:{title:"Elevate Customer Relationships with C.U.E CRM",minititle:"Customer Understanding and Engagement",paragraph:"Unlock the power of customer understanding and engagement with C.U.E - an advanced CRM system. Build lasting relationships, gain insights into customer behaviors, and enhance engagement through personalized interactions.",buttonText:"Discover C.U.E - Request a Demo",imageUrl:bee,imageAlt:"C.U.E CRM - Enhanced Customer Relationships",demoLink:"/contact"},DetailsContent:{heading:"Empower Customer Relationships with C.U.E: Your CRM Solution",paragraph:"Revolutionize customer interactions with C.U.E, a comprehensive CRM system focused on understanding customer needs and fostering engagement. Maximize customer satisfaction and drive business growth.",features:[{title:"CUSTOMER DATA MANAGEMENT",heading:"Centralized Customer Data",paragraph:"Consolidate customer information, track interactions, and create comprehensive profiles. Gain a holistic view of customers to deliver personalized experiences.",imageUrl:Gg,imageAlt:"Customer Data Management in C.U.E CRM"},{title:"ENGAGEMENT ANALYTICS",heading:"Insightful Engagement Analysis",paragraph:"Gain insights into customer behaviors, preferences, and engagement patterns. Leverage analytics to optimize interactions and improve customer engagement strategies.",imageUrl:Gg,imageAlt:"Engagement Analytics in C.U.E CRM"},{title:"AUTOMATED WORKFLOWS",heading:"Efficient Automated Processes",paragraph:"Automate routine tasks, streamline workflows, and trigger personalized communications. Enhance efficiency and consistency in customer engagement processes.",imageUrl:Gg,imageAlt:"Automated Workflows in C.U.E CRM"}]}}},{url:"/products/v.o.i.c.e",Data:{LandingContent:{title:"Optimize Operations with vOICE",minititle:"Virtual Operations & Interactive Communication Engine",paragraph:"Experience the power of vOICE - a cutting-edge solution revolutionizing operations through virtual systems and interactive communication. Streamline processes, enhance productivity, and foster seamless communication across your organization.",buttonText:"Explore vOICE - Request a Demo",imageUrl:bee,imageAlt:"vOICE - Virtual Operations and Communication",demoLink:"/contact"},DetailsContent:{heading:"Transform Operations with vOICE: Your Virtual Engine",paragraph:"Empower your organization with vOICE, an interactive communication engine designed to optimize operations. Leverage virtual systems and enhanced communication for efficient workflows and productivity.",features:[{title:"VIRTUAL SYSTEMS",heading:"Efficient Virtual Operations",paragraph:"Implement virtual systems for automating tasks, managing processes, and optimizing resource utilization. Streamline operations and enhance efficiency with virtual assistance.",imageUrl:Gg,imageAlt:"Virtual Systems in vOICE"},{title:"INTERACTIVE COMMUNICATION",heading:"Seamless Communication Channels",paragraph:"Facilitate seamless communication through interactive channels. Enable collaboration, meetings, and information sharing with integrated and user-friendly communication tools.",imageUrl:Gg,imageAlt:"Interactive Communication in vOICE"},{title:"PRODUCTIVITY TOOLS",heading:"Enhanced Productivity Solutions",paragraph:"Leverage productivity tools and integrations to optimize workflows and streamline tasks. Empower teams with efficient tools to maximize output and efficiency.",imageUrl:Gg,imageAlt:"Productivity Tools in vOICE"}]}}},{url:"/services/maas",Data:{LandingContent:{title:"Boost Your Marketing with MaaS",minititle:"Marketing as a Service",paragraph:"Elevate your marketing strategies with MaaS - a comprehensive marketing solution offering expertise, tools, and strategies as a service. Drive engagement, reach wider audiences, and enhance your brand's visibility.",buttonText:"Explore MaaS - Request a Demo",imageUrl:bee,imageAlt:"MaaS - Marketing as a Service",demoLink:"/contact"},DetailsContent:{heading:"Revolutionize Marketing with MaaS",paragraph:"Transform your marketing efforts with MaaS, a service-oriented approach to optimizing campaigns, content creation, and audience engagement. Leverage expert strategies and tools to maximize your marketing potential.",features:[{title:"CAMPAIGN OPTIMIZATION",heading:"Strategic Campaign Enhancement",paragraph:"Optimize marketing campaigns through data-driven strategies and targeted approaches. Enhance campaign effectiveness and ROI with expert guidance.",imageUrl:Gg,imageAlt:"Campaign Optimization in MaaS"},{title:"CONTENT CREATION",heading:"Engaging Content Development",paragraph:"Create compelling content that resonates with your audience. Leverage professional content creators to drive engagement and convey your brand message effectively.",imageUrl:Gg,imageAlt:"Content Creation in MaaS"},{title:"AUDIENCE TARGETING",heading:"Precise Audience Targeting",paragraph:"Reach the right audience through precise targeting strategies. Utilize data insights to tailor marketing efforts and maximize audience engagement.",imageUrl:Gg,imageAlt:"Audience Targeting in MaaS"}]}}},{url:"/services/baas",Data:{LandingContent:{title:"Enhance Your Branding with BaaS",minititle:"Branding as a Service",paragraph:"Elevate your brand with BaaS - a comprehensive branding solution offering strategic insights, creative expertise, and impactful branding services. Strengthen your brand identity, resonate with your audience, and stand out in the market.",buttonText:"Explore BaaS - Request a Demo",imageUrl:bee,imageAlt:"BaaS - Branding as a Service",demoLink:"/contact"},DetailsContent:{heading:"Transform Branding with BaaS",paragraph:"Empower your brand identity with BaaS, a service-oriented approach to crafting and enhancing your brand image. Leverage creative strategies and expert guidance to establish a strong and recognizable brand presence.",features:[{title:"BRAND STRATEGY",heading:"Strategic Brand Development",paragraph:"Define and refine your brand strategy to align with your business goals and resonate with your target audience. Develop a roadmap for consistent and impactful brand messaging.",imageUrl:Gg,imageAlt:"Brand Strategy in BaaS"},{title:"CREATIVE DESIGN",heading:"Compelling Visual Branding",paragraph:"Craft visually appealing brand assets, including logos, visuals, and design elements that convey your brand message effectively. Create a strong visual identity for your brand.",imageUrl:Gg,imageAlt:"Creative Design in BaaS"},{title:"BRAND AUDIT",heading:"Comprehensive Brand Analysis",paragraph:"Conduct a thorough brand audit to assess brand performance and identify areas for improvement. Leverage insights to refine and strengthen your brand positioning.",imageUrl:Gg,imageAlt:"Brand Audit in BaaS"}]}}},{url:"/services/sdaas",Data:{LandingContent:{title:"Accelerate Development with SdaaS",minititle:"Software Development as a Service",paragraph:"Leverage SdaaS for comprehensive software development solutions. Access expert development teams, streamlined processes, and cutting-edge technologies to bring your ideas to life. Accelerate your product journey and stay ahead in the market.",buttonText:"Explore SdaaS - Request a Demo",imageUrl:bee,imageAlt:"SdaaS - Software Development as a Service",demoLink:"/contact"},DetailsContent:{heading:"Innovate with SdaaS: Your Development Partner",paragraph:"Empower your software development initiatives with SdaaS, a service-oriented approach to building robust applications and solutions. Access skilled developers, agile methodologies, and top-notch technologies to drive innovation.",features:[{title:"DEVELOPMENT TEAMS",heading:"Expert Development Teams",paragraph:"Access dedicated development teams equipped with diverse skill sets and experience levels. Collaborate with experts to create scalable and high-quality software solutions.",imageUrl:Gg,imageAlt:"Development Teams in SdaaS"},{title:"AGILE METHODOLOGIES",heading:"Agile Software Development",paragraph:"Embrace agile methodologies to ensure flexibility, efficiency, and adaptability throughout the development lifecycle. Iterate quickly and respond to changing requirements.",imageUrl:Gg,imageAlt:"Agile Methodologies in SdaaS"},{title:"CUTTING-EDGE TECHNOLOGIES",heading:"Innovative Technology Stacks",paragraph:"Leverage modern technologies and frameworks to build scalable and future-ready software solutions. Stay ahead in the competitive landscape with innovative tech stacks.",imageUrl:Gg,imageAlt:"Cutting-edge Technologies in SdaaS"}]}}},{url:"/services/vmaas",Data:{LandingContent:{title:"Secure Your Systems with VMaaS",minititle:"Vulnerability Management as a Service",paragraph:"Stay protected with VMaaS - a comprehensive solution for managing vulnerabilities in your systems. Access proactive monitoring, threat assessments, and expert guidance to safeguard your infrastructure. Ensure robust security and mitigate potential risks.",buttonText:"Explore VMaaS - Request a Demo",imageUrl:bee,imageAlt:"VMaaS - Vulnerability Management as a Service",demoLink:"/contact"},DetailsContent:{heading:"Protect with VMaaS: Your Security Partner",paragraph:"Safeguard your infrastructure with VMaaS, a service-oriented approach to identifying, prioritizing, and mitigating vulnerabilities. Utilize advanced tools and expert insights to fortify your systems against potential threats.",features:[{title:"VULNERABILITY SCANNING",heading:"Continuous Scanning & Detection",paragraph:"Implement continuous scanning and detection mechanisms to identify vulnerabilities across your systems. Receive timely alerts and reports for proactive vulnerability management.",imageUrl:Gg,imageAlt:"Vulnerability Scanning in VMaaS"},{title:"RISK ASSESSMENT",heading:"Comprehensive Risk Analysis",paragraph:"Conduct in-depth risk assessments to prioritize vulnerabilities based on their severity and potential impact. Gain insights for effective risk mitigation strategies.",imageUrl:Gg,imageAlt:"Risk Assessment in VMaaS"},{title:"THREAT MITIGATION",heading:"Effective Threat Mitigation",paragraph:"Implement mitigation strategies to address identified vulnerabilities promptly. Access expert guidance and recommendations for effective threat resolution.",imageUrl:Gg,imageAlt:"Threat Mitigation in VMaaS"}]}}}],wee={mainTitle:"Ignite Your Career with a Transformative Internship at Imaggar Technologies",subheading:"Join Imaggar Technologies Internship Program and unleash your potential:",listItems:[{icon:(0,Ce.jsx)(Jl,{}),heading:"Gain In-Depth Knowledge in AI-Powered Solutions",description:"Immerse yourself in cutting-edge AI technologies. Learn to revolutionize customer support, enhance customer outcomes, and boost agent efficiency using Gen AI-powered tools and techniques."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Hands-On Experience in Advanced Analytics",description:"Acquire practical skills in utilizing Gen AI-powered insights. Drive better outcomes through data-driven decision-making. Understand customer behavior, preferences, and industry trends."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Be a Part of Agent Co-pilot Training",description:"Empower yourself with AI-driven tools to enhance efficiency in query resolution. Streamline support processes and reduce response times. Experience the future of customer service with Agent Co-pilot."},{icon:(0,Ce.jsx)(Jl,{}),heading:"Drive Business Success with Analytics",description:"Utilize Gen AI-powered tools for effective query resolution. Gain actionable insights into customer interactions and optimize business strategies. Be at the forefront of driving business success through analytics."}],applicationFormTitle:"Apply for Imaggar Technologies Internship",formLabels:{firstName:"First Name",lastName:"Last Name",companyName:"Current University/College",email:"Email",phoneNumber:"Phone Number",selectPlaceholder:"Select",submitButton:"Apply Now"},internshipDetails:{duration:"3 Months Training + 1 Month Propagation Period",benefits:"All training costs covered! Experience a paid internship after successful completion."}},yee=()=>{const[e,t]=(0,o.useState)([]),[i,n]=(0,o.useState)(null),[s,r]=(0,o.useState)({firstName:"",lastName:"",companyName:"",email:"",phoneNumber:""});(0,o.useEffect)((()=>{(async()=>{try{const e=await fetch("https://restcountries.com/v2/all");if(!e.ok)throw new Error("Failed to fetch country data");const i=(await e.json()).map((e=>({label:"+".concat(e.callingCodes[0]," (").concat(e.name,")"),value:"+".concat(e.callingCodes[0])})));t(i)}catch(e){console.error("Error fetching country data:",e)}})()}),[]);const a=e=>{r({...s,[e.target.name]:e.target.value})};return(0,Ce.jsx)("div",{className:"contact-main",children:(0,Ce.jsxs)("div",{className:"contact-container",children:[(0,Ce.jsxs)("div",{className:"contact-content",children:[(0,Ce.jsx)("h2",{children:(0,Ce.jsx)("span",{className:"highlight-text",children:wee.mainTitle})}),(0,Ce.jsx)("h4",{children:wee.subheading}),(0,Ce.jsx)("ul",{className:"contact-ul-tag",children:wee.listItems.map(((e,t)=>(0,Ce.jsxs)("li",{className:"list-item",children:[(0,Ce.jsx)("div",{className:"bullet-point",children:(0,Ce.jsx)(Jl,{className:"bullet-icon"})}),(0,Ce.jsxs)("div",{className:"list-content",children:[(0,Ce.jsx)("span",{className:"heading",children:e.heading})," ",(0,Ce.jsx)("br",{}),(0,Ce.jsx)("span",{className:"description",children:e.description})]})]},t)))}),(0,Ce.jsx)("div",{className:"logo-row"})]}),(0,Ce.jsxs)("div",{className:"contact-form",children:[(0,Ce.jsx)("h2",{children:wee.demoRequestTitle}),(0,Ce.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!(await fetch("http://13.48.9.68:8000/internship/apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:s.firstName,lastName:s.lastName,companyName:s.companyName,email:s.email,phoneNumber:s.phoneNumber,country:i?i.label:"",method:"manual"})})).ok)throw new Error("Failed to submit application");console.log("Application submitted successfully!")}catch(t){console.error("Error submitting application:",t)}},children:[(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)("input",{className:"Nameinput FirstName",placeholder:wee.formLabels.firstName,type:"text",id:"firstName",name:"firstName",onChange:a}),(0,Ce.jsx)("div",{className:"space-between"}),(0,Ce.jsx)("input",{className:"Nameinput LastName",placeholder:wee.formLabels.lastName,type:"text",id:"lastName",name:"lastName",onChange:a})]})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:wee.formLabels.companyName,type:"text",id:"companyName",name:"companyName",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:wee.formLabels.companyName,type:"text",id:"companyName",name:"companyName",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsx)("input",{className:"contact-input",placeholder:wee.formLabels.email,type:"email",id:"email",name:"email",onChange:a})}),(0,Ce.jsx)("div",{className:"form-group",children:(0,Ce.jsxs)("div",{className:"form-row",children:[(0,Ce.jsx)(Cg,{className:"country-select contact-input",options:e,value:i,onChange:e=>n(e),placeholder:wee.formLabels.selectPlaceholder,menuPlacement:"auto"}),(0,Ce.jsx)("input",{className:"contact-input phone-input",placeholder:wee.formLabels.phoneNumber,type:"text",id:"phoneNumber",name:"phoneNumber",onChange:a})]})}),(0,Ce.jsx)("button",{className:"contact-submit-button",type:"submit",children:wee.formLabels.submitButton})]})]})]})})},Cee=()=>(0,Ce.jsxs)(fe,{children:[(0,Ce.jsx)(ge,{exact:!0,path:"/",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(Mg,{}),(0,Ce.jsx)(Bg,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/careers",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(Hg,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/careers/job-openings",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(tp,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/careers/internship",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(yee,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/about",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(Zg,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/contact",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(Ug,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/products",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(ap,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/services",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(ap,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/get-started",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(ap,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/jobdescription/*",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(gp,{jobData:Xg}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/PreliminaryRound",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(mp,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/legal",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(fee,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/privacy-notice",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(vee,{}),(0,Ce.jsx)(Fg,{})]})}),(0,Ce.jsx)(ge,{path:"/site-terms",element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(vee,{}),(0,Ce.jsx)(Fg,{})]})}),console.log(_ee),_ee.map((e=>{let{url:t,Data:i}=e;return(0,Ce.jsx)(ge,{path:t,element:(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(Og,{}),(0,Ce.jsx)(lp,{Data:i}),(0,Ce.jsx)(Fg,{})]})},t)})),(0,Ce.jsx)(ge,{path:"*",element:(0,Ce.jsx)(ue,{to:"/"})})]}),See=()=>{const[e,t]=(0,o.useState)({x:0,y:0}),i=e=>{const{clientX:i,clientY:n}=e;t({x:i,y:n});e.target.matches(".clickable")?document.body.style.cursor="pointer":document.body.style.cursor="auto"};return(0,o.useEffect)((()=>(window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)})),[]),(0,Ce.jsx)("div",{className:"custom-cursor",style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px")}})},kee=()=>(0,Ce.jsx)("div",{className:"loading-page",children:(0,Ce.jsxs)("svg",{className:"pl",viewBox:"0 0 200 200",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ce.jsxs)("defs",{children:[(0,Ce.jsxs)("linearGradient",{id:"pl-grad1",x1:"1",y1:"0.5",x2:"0",y2:"0.5",children:[(0,Ce.jsx)("stop",{offset:"0%","stop-color":"#7b31bfff"}),(0,Ce.jsx)("stop",{offset:"100%","stop-color":"#712dbaff"})]}),(0,Ce.jsxs)("linearGradient",{id:"pl-grad2",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Ce.jsx)("stop",{offset:"0%","stop-color":"#8c36d8ff"}),(0,Ce.jsx)("stop",{offset:"100%","stop-color":"#8634d2ff"})]})]}),(0,Ce.jsx)("circle",{className:"pl__ring",cx:"100",cy:"100",r:"82",fill:"none",stroke:"url(#pl-grad1)","stroke-width":"36","stroke-dasharray":"0 257 1 257","stroke-dashoffset":"0.01","stroke-linecap":"round",transform:"rotate(-90,100,100)"}),(0,Ce.jsx)("line",{className:"pl__ball",stroke:"url(#pl-grad2)",x1:"100",y1:"18",x2:"100.01",y2:"182","stroke-width":"36","stroke-dasharray":"1 165","stroke-linecap":"round"})]})});function Lee(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var xee=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Dee=()=>Math.random().toString(36).substring(7).split("").join("."),Eee={INIT:"@@redux/INIT".concat(Dee()),REPLACE:"@@redux/REPLACE".concat(Dee()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Dee())};function Nee(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Tee(e,t,i){if("function"!==typeof e)throw new Error(Lee(2));if("function"===typeof t&&"function"===typeof i||"function"===typeof i&&"function"===typeof arguments[3])throw new Error(Lee(0));if("function"===typeof t&&"undefined"===typeof i&&(i=t,t=void 0),"undefined"!==typeof i){if("function"!==typeof i)throw new Error(Lee(1));return i(Tee)(e,t)}let n=e,o=t,s=new Map,r=s,a=0,l=!1;function c(){r===s&&(r=new Map,s.forEach(((e,t)=>{r.set(t,e)})))}function d(){if(l)throw new Error(Lee(3));return o}function h(e){if("function"!==typeof e)throw new Error(Lee(4));if(l)throw new Error(Lee(5));let t=!0;c();const i=a++;return r.set(i,e),function(){if(t){if(l)throw new Error(Lee(6));t=!1,c(),r.delete(i),s=null}}}function u(e){if(!Nee(e))throw new Error(Lee(7));if("undefined"===typeof e.type)throw new Error(Lee(8));if("string"!==typeof e.type)throw new Error(Lee(17));if(l)throw new Error(Lee(9));try{l=!0,o=n(o,e)}finally{l=!1}return(s=r).forEach((e=>{e()})),e}u({type:Eee.INIT});return{dispatch:u,subscribe:h,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Lee(10));n=e,u({type:Eee.REPLACE})},[xee]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Lee(11));function i(){const e=t;e.next&&e.next(d())}i();return{unsubscribe:e(i)}},[xee](){return this}}}}}const Iee={userData:null},Aee=function(e){const t=Object.keys(e),i={};for(let s=0;s<t.length;s++){const n=t[s];0,"function"===typeof e[n]&&(i[n]=e[n])}const n=Object.keys(i);let o;try{!function(e){Object.keys(e).forEach((t=>{const i=e[t];if("undefined"===typeof i(void 0,{type:Eee.INIT}))throw new Error(Lee(12));if("undefined"===typeof i(void 0,{type:Eee.PROBE_UNKNOWN_ACTION()}))throw new Error(Lee(13))}))}(i)}catch(Pee){o=Pee}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(o)throw o;let s=!1;const r={};for(let o=0;o<n.length;o++){const a=n[o],l=i[a],c=e[a],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Lee(14))}r[a]=d,s=s||d!==c}return s=s||n.length!==Object.keys(e).length,s?r:e}}({user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ci:return{...e,userData:t.payload};case"CLEAR_USER":return{...e,userData:null};default:return e}}}),Mee=Tee(Aee),Oee=()=>{const[e,t]=(0,o.useState)(!0),[i,n]=(0,o.useState)({x:0,y:0}),[s,r]=(0,o.useState)(window.matchMedia("(max-width: 767px)").matches||window.location.search.includes("forceMobileView")),a=e=>{const{clientX:t,clientY:i}=e;n({x:t,y:i})};return(0,o.useEffect)((()=>(window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)})),[]),(0,o.useEffect)((()=>{const e=setTimeout((()=>{t(!1)}),3e3);return()=>clearTimeout(e)}),[]),(0,o.useEffect)((()=>{const e=window.matchMedia("(max-width: 767px)"),t=e=>{r(e.matches)};return r(e.matches),e.addEventListener("change",t),()=>e.removeEventListener("change",t)}),[]),(0,Ce.jsx)(ai,{store:Mee,children:(0,Ce.jsxs)(be,{children:[(0,Ce.jsx)(See,{}),s?(0,Ce.jsx)(xg,{}):(0,Ce.jsx)(Cee,{}),e&&(0,Ce.jsx)(kee,{})]})})},Ree=e=>{e&&e instanceof Function&&i.e(787).then(i.bind(i,787)).then((t=>{let{getCLS:i,getFID:n,getFCP:o,getLCP:s,getTTFB:r}=t;i(e),n(e),o(e),s(e),r(e)}))};r.createRoot(document.getElementById("root")).render((0,Ce.jsx)(o.StrictMode,{children:(0,Ce.jsx)(Oee,{})})),Ree()})()})();
//# sourceMappingURL=main.c36f64e0.js.map